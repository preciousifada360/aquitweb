function ajax_call_for_partial(t,e,i){$(document).ready(function(){"undefined"==typeof i&&(i=""),$(t).click(function(){0==$(this).hasClass("ajaxed")&&($(this).addClass("ajaxed"),overlay_in(),$.ajax({url:e,type:"GET",data:jQuery.param(i),datatype:"js",success:function(){overlay_out()},error:function(){show_ajax_alert("There was an error. Please refresh and try again.")}}))})})}function ajax_call_for_partial_repeat(t,e,i){$(document).ready(function(){"undefined"==typeof i&&(i=""),$(t).click(function(){overlay_in(),$.ajax({url:e,type:"GET",data:jQuery.param(i),datatype:"js",success:function(){overlay_out()},error:function(){show_ajax_alert("There was an error. Please refresh and try again.")}})})})}function ajax_call_no_partial(t,e,i){$(document).ready(function(){"undefined"==typeof i&&(i=""),$(t).click(function(){overlay_in(),$.ajax({url:e,type:"GET",data:jQuery.param(i),datatype:"js",success:function(){overlay_out()},error:function(){show_ajax_alert("There was an error. Please refresh and try again.")}})})})}function ajax_call_auto(t,e){$(document).ready(function(){"undefined"==typeof e&&(e=""),$.ajax({url:t+".js",type:"Get",data:jQuery.param(e),dataype:"js",success:function(){overlay_out()},error:function(){show_ajax_alert("There was an error. Please refresh and try again.")}})})}function run_custom_bar_stats(){$("[data-progress-percentage]").each(function(){percentage=$(this).attr("data-progress-percentage"),$(this).css("width",percentage+"%")}),$("[data-progress-percentage-vertical]").each(function(){percentage=$(this).attr("data-progress-percentage-vertical"),$(this).css("height",percentage+"%")})}function dynamically_change_sizes(){$(".background_image_styles").text("@media (min-width: 1200px) "),window.setTimeout(function(){$(".victory_counter").width()<300?($(".victory_counter").find("#time-elapsed").css("font-size","30px"),$("#time").find(".days").css({"margin-right":"20px","margin-left":"0px"}),$("#time").find(".hrs").css({"margin-right":"20px"})):($(".victory_counter").find("#time-elapsed").css("font-size","40px"),$("#time").find(".days").css({"margin-right":"34px","margin-left":"10px"}),$("#time").find(".days").css({"margin-right":"30px"}))},500)}function insert_count_label(t,e){$(t).find(".count-label").remove(),$(t).css({position:"relative",right:"5px"}).append("<div class='count-label pinked'>"+e+"</div>")}function filter_time_picker(){$(document).on("click",".time-filter-text",function(){$(this).closest(".time-filter-wrapper").find(".time-filters").removeClass("hidden")}),$(document).on("mouseenter",".time-filter-wrapper",function(){$(this).find(".time-filters").removeClass("hidden")}),$(document).on("mouseleave",".time-filter-wrapper",function(){$(this).find(".time-filters").addClass("hidden")})}function update_journal_from_tracker(t){journal_id=$(t).closest("[data-expand-wrapper=true]").attr("data-journal-id"),journal_title=$(t).closest("[data-expand-wrapper=true]").find("[name=journal_title]").val(),journal_body=$(t).closest("[data-expand-wrapper=true]").find("[name=journal_body]").val(),$.ajax({url:Routes.journal_path(journal_id),type:"PATCH",data:{journal:{title:journal_title,body:journal_body},from_tracker_modal:!0},datatype:"js"})}function gup(t,e){e||(e=location.href),t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i="[\\?&]"+t+"=([^&#]*)",n=new RegExp(i),o=n.exec(e);return null==o?null:o[1]}function dismiss_static_banner(t){$.ajax({url:Routes.dismiss_static_banner_path(),type:"post",datatype:"js",data:{banner_type:t}})}function open_intercom(){Intercom("show")}function create_bar_single_metrics(t,e,i,n,o,r){function a(t){return"2"==r?0==parseFloat(t.value)?"None":1==parseFloat(t.value)?"Low":3==parseFloat(t.value)?"Med":5==parseFloat(t.value)?"High":"":"3"==r?0==parseFloat(t.value)?"None":1==parseFloat(t.value)?"Low":2==parseFloat(t.value)?"Med":4==parseFloat(t.value)?"High":"":1==parseFloat(t.value)?"Low":2==parseFloat(t.value)?"Med":3==parseFloat(t.value)?"High":""}var s=[];for(x=0;x<t.length;x++)s.push(x+1);var l={labels:s,datasets:[{fillColor:n,strokeColor:n,highlightFill:n,highlightStroke:n,categoryPercentage:.5,barPercentage:1,data:t}]};"2"==r?(scaleSteps=12,scaleStepWidth=.5):"3"==r?(scaleSteps=10,scaleStepWidth=.5):(scaleSteps=8,scaleStepWidth=.5);var u=document.getElementById(i).getContext("2d");"auto"==o?window.myBar=new Chart(u).Bar(l,{responsive:!0,scaleShowHorizontalLines:!1,scaleFontSize:9,scaleOverride:!0,scaleSteps:scaleSteps,scaleStepWidth:scaleStepWidth,scaleStartValue:0,showTooltips:!0,tooltipTemplate:function(t){return e[parseInt(t.label)-1]},scaleLabel:function(t){return a(t)}}):window.myBar=new Chart(u).Bar(l,{responsive:!0,scaleShowHorizontalLines:!1,scaleFontSize:9,scaleOverride:!0,scaleSteps:scaleSteps,scaleStepWidth:scaleStepWidth,scaleStartValue:0,barDatasetSpacing:10,barValueSpacing:parseInt(o),showTooltips:!0,tooltipTemplate:function(t){return e[parseInt(t.label)-1]},scaleLabel:function(t){return a(t)}})}function create_bar_single_metrics_admin(t,e,i,n,o){function r(t){return"2"==o?1==parseFloat(t.value)?"Low":3==parseFloat(t.value)?"Med":5==parseFloat(t.value)?"High":"":"3"==o?0==parseFloat(t.value)?"None":1==parseFloat(t.value)?"Low":2==parseFloat(t.value)?"Med":4==parseFloat(t.value)?"High":"":1==parseFloat(t.value)?"Low":2==parseFloat(t.value)?"Med":3==parseFloat(t.value)?"High":""}var a=[];for(x=0;x<t.length;x++)a.push(x+1);var s={labels:a,datasets:[{fillColor:i,strokeColor:i,highlightFill:i,highlightStroke:i,data:t}]};"2"==o?(scaleSteps=12,scaleStepWidth=.5):"3"==o?(scaleSteps=10,scaleStepWidth=.5):(scaleSteps=8,scaleStepWidth=.5);var l=document.getElementById(e).getContext("2d");window.myBar=new Chart(l).Bar(s,{responsive:!0,scaleShowHorizontalLines:!1,scaleFontSize:9,scaleOverride:!0,showTooltips:!0,scaleSteps:10,scaleStepWidth:.5,scaleStartValue:0,tooltipTemplate:function(t){return"(Survey #"+t.label+") "+n[parseInt(t.label)-1]+" people - "+t.value},scaleLabel:function(t){return r(t)}})}function create_bar_single_program_progress(t,e,i,n){for(max=0,x=0;x<t.length;x++)max<parseInt(t[x])&&(max=parseInt(t[x]));var o={labels:n,datasets:[{fillColor:i,strokeColor:i,highlightFill:i,highlightStroke:i,categoryPercentage:.5,barPercentage:1,data:t}]};max>10?this_max=parseInt(max/10):this_max=1;var r=document.getElementById(e).getContext("2d");window.myBar=new Chart(r).Bar(o,{responsive:!0,scaleShowHorizontalLines:!1,scaleFontSize:9,barDatasetSpacing:10,scaleOverride:!0,scaleSteps:10,scaleStepWidth:this_max,scaleStartValue:0})}function create_big_bar_chart_admin(t,e,i){for(data_array=[],progress_axis=[],x=0;x<t.length;x++)progress_axis.push(t[x][0]),data_array.push(parseInt(t[x][1]));var n={labels:progress_axis,datasets:[{fillColor:i,strokeColor:i,highlightFill:i,highlightStroke:i,categoryPercentage:.5,barPercentage:1,data:data_array}]};for(max=0,x=0;x<data_array.length;x++)max<parseInt(data_array[x])&&(max=parseInt(data_array[x]));var o=document.getElementById(e).getContext("2d");max<10?(steps=max,stepwidth=1):max<50?(steps=10,stepwidth=5):max<100?(steps=10,stepwidth=10):max<200?(steps=10,stepwidth=20):max<300?(steps=10,stepwidth=30):(steps=parseInt(max/1e3)+1,stepwidth=1e3),window.myBar=new Chart(o).Bar(n,{responsive:!0,scaleShowHorizontalLines:!1,scaleFontSize:10,showTooltips:!0,scaleOverride:!0,scaleSteps:steps,scaleStepWidth:stepwidth,scaleStartValue:0})}function create_big_bar_chart(t,e,i){for(data_array=[],progress_axis=[],x=0;x<t.length;x++)progress_axis.push(t[x][0]),data_array.push(parseInt(t[x][1]));var n={labels:progress_axis,datasets:[{fillColor:i,strokeColor:i,highlightFill:i,highlightStroke:i,categoryPercentage:.5,barPercentage:1,data:data_array}]};for(max=0,x=0;x<data_array.length;x++)max<parseInt(data_array[x])&&(max=parseInt(data_array[x]));var o=document.getElementById(e).getContext("2d");max<10?(steps=max,stepwidth=1):max<50?(steps=10,stepwidth=5):max<100?(steps=10,stepwidth=10):max<200?(steps=10,stepwidth=20):max<300?(steps=10,stepwidth=30):(steps=parseInt(max/1e3)+1,stepwidth=1e3),window.myBar=new Chart(o).Bar(n,{responsive:!0,scaleShowHorizontalLines:!1,scaleFontSize:10,barDatasetSpacing:1,scaleOverride:!0,scaleSteps:steps,scaleStepWidth:stepwidth,scaleStartValue:0})}function create_big_bar_chart_nolabel(t,e,i){for(data_array=[],progress_axis=[],x=0;x<t.length;x++)progress_axis.push(t[x][0]),data_array.push(parseInt(t[x][1]));var n={labels:progress_axis,datasets:[{fillColor:i,strokeColor:i,highlightFill:i,highlightStroke:i,categoryPercentage:.5,barPercentage:1,data:data_array}]};for(max=0,x=0;x<data_array.length;x++)max<parseFloat(data_array[x])&&(max=parseFloat(data_array[x]));var o=document.getElementById(e).getContext("2d");window.myBar=new Chart(o).Bar(n,{responsive:!0,scaleShowHorizontalLines:!1,scaleFontSize:10,barDatasetSpacing:3,scaleOverride:!0,scaleSteps:20,scaleStepWidth:max/20,scaleStartValue:0,showTooltips:!0,barShowLabels:!1,barValueSpacing:0,barStrokeWidth:1,scaleFontSize:0})}function create_big_bar_chart_min_label(t,e,i){for(data_array=[],progress_axis=[],x=0;x<t.length;x++)progress_axis.push(t[x][0]),data_array.push(parseInt(t[x][1]));var n={labels:progress_axis,datasets:[{fillColor:i,strokeColor:i,highlightFill:i,highlightStroke:i,categoryPercentage:.5,barPercentage:1,data:data_array}]},o=document.getElementById(e).getContext("2d");window.myBar=new Chart(o).Bar(n,{responsive:!0,scaleShowHorizontalLines:!1,scaleFontSize:10,scaleStartValue:0,showTooltips:!0,barShowLabels:!1,barValueSpacing:4,scaleFontSize:0})}function create_donut_chart_medium(t,e,n){hash_length=0;for(i in t)t.hasOwnProperty(i)&&hash_length++;colors_for_donut=n,final_array=[],counter=0,empty_check=0;for(var o in t)final_array.push({value:parseInt(t[o]),color:colors_for_donut[counter],label:o}),counter++,empty_check+=parseInt(t[o]);0==empty_check?doughnutData=[{value:1,color:"#b3b3b3"}]:doughnutData=final_array;var r=document.getElementById(e).getContext("2d");window.myDoughnut=new Chart(r).Doughnut(doughnutData,{responsive:!0,segmentStrokeWidth:2,percentageInnerCutout:75,animationEasing:"easeOutQuart",animationSteps:80,animation:!0})}function create_donut_chart_org(t,e,i){for(colors_for_donut=i,console.log(colors_for_donut),console.log(t),final_array=[],counter=0,empty_check=0,x=0;x<t.length;x++)final_array.push({value:parseInt(t[x]),color:colors_for_donut[x]});0==t.length?doughnutData=[{value:1,color:"#b3b3b3"}]:doughnutData=final_array,console.log(doughnutData),console.log(e);var n=document.getElementById(e).getContext("2d");window.myDoughnut=new Chart(n).Doughnut(doughnutData,{responsive:!0,segmentStrokeWidth:2,percentageInnerCutout:75,animationEasing:"easeOutQuart",animationSteps:80,animation:!0})}function create_donut_chart(t,e,i){contents="",colors_for_donut=["#f85f86","#8496c6","#30c0a8","#f0d860"],target_array=[],counter=0,empty_check=0;for(var n in t)target_array.push({value:parseInt(t[n]),color:colors_for_donut[counter],label:n}),contents+='<div class="card-row small-padding medium-text"><div class="pull-left">'+n+'</div><div class="pull-right" style="color:'+colors_for_donut[counter]+'">'+t[n]+"%</div></div>",counter++,empty_check+=parseInt(t[n]);0==empty_check?doughnutData=[{value:1,color:"#b3b3b3"}]:doughnutData=target_array,time_ctx=document.getElementById(e).getContext("2d"),window.myDoughnut=new Chart(time_ctx).Doughnut(doughnutData,{responsive:!0,segmentStrokeWidth:2,percentageInnerCutout:50,animationEasing:"easeOutQuart",animationSteps:80,animation:!0}),$(i).html(contents)}function create_bar_single_age(t,e,i,n){for(max=0,x=0;x<t.length;x++)max<parseInt(t[x])&&(max=parseInt(t[x]));max>50?(scaleSteps=10,scaleStepWidth=10):(scaleSteps=5,scaleStepWidth=10);var o={labels:n,datasets:[{fillColor:i,strokeColor:i,highlightFill:i,highlightStroke:i,categoryPercentage:.5,barPercentage:1,data:t}]},r=document.getElementById(e).getContext("2d");window.myBar=new Chart(r).Bar(o,{responsive:!0,scaleShowHorizontalLines:!1,scaleFontSize:11,barDatasetSpacing:10,scaleOverride:!0,scaleSteps:scaleSteps,scaleStepWidth:scaleStepWidth,barValueSpacing:15,scaleStartValue:0,scaleLabel:function(t){return t.value+"%"}})}function draw_simple_line_graph(t){target_canvas=$("#"+t),color=target_canvas.attr("data-color"),data_points=target_canvas.attr("data-stats").split(",");var e={labels:["January","February","March","April","May","June","July"],datasets:[{fillColor:"white",strokeColor:color,pointColor:color,pointStrokeColor:color,pointHighlightFill:"blue",pointHighlightStroke:"blue",data:data_points}]},i=document.getElementById(t).getContext("2d");window.myLineChart=new Chart(i).Line(e,{display:!1,scaleShowGridLines:!1,scaleGridLineColor:"white",scaleShowHorizontalLines:!1,scaleShowVerticalLines:!1,bezierCurve:!1,responsive:!0,barShowLabels:!1,pointDotRadius:2,scaleFontSize:0,scaleSteps:6,scaleOverride:!0,scaleStepWidth:1,scaleLineWidth:0,drawTicks:!1,zeroLineWidth:0,zeroLineColor:"white",drawBorder:!1})}function create_line_for_survey_summary1(t,e){for(labels=[],x=0;x<t.length;x++)labels.push(x+1);data={labels:labels,datasets:[{fillColor:"transparent",strokeColor:"#25A9D9",pointColor:"#25A9D9",pointStrokeColor:"#25A9D9",pointHighlightFill:"#25A9D9",pointHighlightStroke:"#25A9D9",data:t}]},ctx=document.getElementById(e).getContext("2d"),myLineChart=new Chart(ctx).Line(data,{scaleShowGridLines:!1,scaleShowVerticalLines:!0,responsive:!0,scaleOverride:!0,scaleFontSize:9,scaleSteps:1,scaleStepWidth:100,scaleStartValue:0})}function create_line_for_survey_summary(t,e){dates=e,$("#survey-summary-chart").highcharts({chart:{type:"spline",marginBottom:"50"},tooltip:{formatter:function(){var t=this.point.index,e=dates[t];return'<div class="metrics-tooltip">'+e+'<br /><span style="color: #25A9D9"><b>'+this.y+"</b></span></div>"},useHTML:!0,borderRadius:2,borderColor:"#E0E0E0",backgroundColor:"white"},legend:{enabled:!1},title:{text:"Well Being Survey",align:"center",verticalAlign:"bottom",margin:40,floating:!0,style:{color:"#ada9a9",fontSize:"12px",fontWeight:"normal",fontStyle:"none",textTransform:"none"}},credits:!1,xAxis:{gridLineWidth:0,gridLineDashStyle:"shortdash",min:1,tickInterval:1,startOnTick:!0,labels:{style:{color:"#adadad"}}},yAxis:{title:{text:""},gridLineWidth:0,gridLineDashStyle:"shortdash",max:100,tickInterval:100,labels:{style:{color:"#adadad"},formatter:function(){return this.value}}},plotOptions:{series:{pointStart:1,animation:{duration:1e3}}},series:[{data:t,color:"#25A9D9"}]})}function create_bar_for_tracker(t,e,i){var n=t,o=e.length,r=0,a=[];for(r;o>r;r++)a.push({name:e[r],color:"#0a446b",y:n[r]?n[r]:0});Highcharts.setOptions({lang:{thousandsSep:","}}),Highcharts.chart(i,{chart:{type:"column",spacing:30},credits:!1,title:{margin:20,text:"\u275dRate Your Day\u275e Overview",style:{color:"#9b9999",fontWeight:"bold"}},xAxis:{type:"category",reversed:!0,labels:{style:{color:"#adadad",fontSize:"1.5rem",fontWeight:"bold"}}},yAxis:{min:0,labels:{format:"{value} Days",style:{color:"#adadad"}},title:{text:""}},legend:{enabled:!1},tooltip:{formatter:function(){return suffix=1!==this.y?" Days":" Day",Highcharts.numberFormat(this.y,0,",",",")+suffix},backgroundColor:"white",borderWidth:0,shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0,minPointLength:5}},series:[{name:"\u275dRate Your Day\u275e Overview",data:a}]})}function number_format(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function sum_array(t){var e,i=0;return $(t).each(function(){e=$(this)[0],e=e||0,i+=parseInt(e)}),i}function update_points(t){$(".navbar-points").animate({padding:"1px 18px"},300,"swing",function(){var e,i=parseInt($(".navbar-points").html().replace(/,/g,"")),n=t,o=i;e=n-i>100?5:1;var r=setInterval(function(){o>=n?(clearInterval(r),$(".navbar-points").animate({padding:"1px 6px"},300)):(o+=e,$(".navbar-points").html(number_format(o)))},70)})}function add_points(t,e){$(".navbar-points").animate({padding:"1px 18px"},300,"swing",function(){current_points=parseInt($(".navbar-points").html().replace(",","")),ending_points=current_points+parseInt(t),new_points=current_points;var i;i=ending_points-current_points>100?10:1;var n=setInterval(function(){new_points>=ending_points?(clearInterval(n),$(".navbar-points").animate({padding:"1px 6px"},300)):(new_points+=i,$(".navbar-points").html(number_format(new_points)))},20);$("[data-user-id-for-points="+e+"]").html(number_format(ending_points))})}function validate_form(){function t(){$(document).scrollTop()>$(".validate_error").first().offset().top-200&&$("body, html").animate({scrollTop:$(".validate_error").first().offset().top-200},0)}$("[fortify_validate]").each(function(){var e=$(this),i=$(this).parent(),n=$(this).closest("form").find("input[type=submit]"),o=$(this).attr("fortify_validate");e.on("focus change",function(){i.find(".validate_error").remove(),$(this).removeClass("red-border"),i.find(".custompicker").removeClass("red-border")}),$(this).is("select")?n.click(function(n){i.find(".validate_error").remove(),""==e.val()&&(n.preventDefault(),i.append('<div class="validate_error"></div>'),e.addClass("red-border"),i.find(".custompicker").addClass("red-border"),i.find(".validate_error").html('<div class="redded small-text mar-top-10 mar-lef5">'+o+".</div>"),t())}):$(this).is("input")?n.click(function(n){i.find(".validate_error").remove(),""==e.val()&&(n.preventDefault(),e.after('<div class="validate_error"></div>'),i.find(".validate_error").html('<div class="redded small-text mar-lef5">'+o+".</div>"),e.addClass("red-border"),t())}):$(this).is("textarea")&&n.click(function(n){i.find(".validate_error").remove(),""==e.val()&&(n.preventDefault(),e.after('<div class="validate_error"></div>'),i.find(".validate_error").html('<div class="redded small-text mar-top-15 mar-lef5">'+o+".</div>"),e.addClass("red-border"),t())})})}function removeTags(t){var e;do e=t,t=t.replace(/script/g,"");while(t!==e);return t.replace(/</g,"&lt;")}function simpleFormat2(t){simpleFormatRE1=/\r\n?/g,simpleFormatRE2=/\n\n+/g,simpleFormatRE3=/([^\n]\n)(?=[^\n])/g;var e=t;return e=e.replace(simpleFormatRE1,"\n"),e=e.replace(simpleFormatRE2,"</p>\n\n<p>"),e=e.replace(simpleFormatRE3,"$1<br/>"),e="<p>"+e+"</p>"}function activate_helpers(){$(".fortify-helper").hover(function(){$(this).find(".fortify-helper-content").removeClass("hidden")},function(){$(this).find(".fortify-helper-content").addClass("hidden")})}function launch_in_new_window(t){return url=$(t).attr("data-url"),screen_w=window.screen.availWidth-100,screen_h=window.screen.availHeight-100,screen_w<screen_h?(w=screen_w,h=.7*screen_w):(h=screen_h,w=1.3*screen_h),title="Live Webinar",window.open(url,title,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+w+", height="+h+", top=0, left=0")}function emailIsValid(t){return checkEmailFormat(t)}function checkEmailFormat(t){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)}function disable_form(t){$(t).closest("form").on("submit",function(){$(t).find("input[type=submit]").replaceWith("<div class='mar-bot10 mar-top10'>submitting..</div>")})}function handleChangeEmail(t){console.log("helo"),email=t.value,emailIsValid(email)?($(t).parent().find("#email-error").html(""),$(t).removeClass("error")):($(t).parent().find("#email-error").html("Invalid email format."),$(t).addClass("error"))}function load_inventory_charts(){$(".inventory-item").each(function(){parseInt($(this).find(".inventory-item-progress-bar").attr("data-max-inv-count"))>1&&$(this).find(".inventory-item-progress-bar").animate({width:$(this).find(".inventory-item-progress-bar").attr("data-width")+"%"},1e3,"easeOutQuart")})}function language_control_init(){$(".language-controls").unbind(),window.setTimeout(function(){$(".language-controls").each(function(){langid=$(this).data("lang-controls"),$(this).hasClass("closed")?$(this).closest(".create_lesson_form").find("[data-lang="+langid+"]").slideUp("fast"):$(this).closest(".create_lesson_form").find("[data-lang="+langid+"]").slideDown("fast")})},200),$(".language-controls").click(function(){langid=$(this).data("lang-controls"),$(this).hasClass("closed")?($(this).removeClass("closed"),$(this).closest(".create_lesson_form").find("[data-lang="+langid+"]").slideDown("fast")):($(this).closest(".create_lesson_form").find("[data-lang="+langid+"]").slideUp("fast"),$(this).addClass("closed"))})}function pick_language(t){$.each(t,function(){$(".questions_cocoon").each(function(){var e=0;$(this).find(".question_language_details").each(function(){$(this).find(".language_selector").find(".pending").each(function(){$(this).val(t[e]),$(this).closest(".language-cocoon").find(".language-label").html($(this).find("option:selected").text()),$(this).closest(".language-cocoon").find(".language-row").attr("data-lang",$(this).find("option:selected").val()),e++}),e=0}),$(this).find(".answers_cocoon").each(function(){$(this).find(".language_selector").children("select").each(function(){$(this).val(t[e]),$(this).closest(".language-cocoon").find(".language-label").html($(this).find("option:selected").text()),$(this).closest(".language-cocoon").find(".language-row").attr("data-lang",$(this).find("option:selected").val()),e++}),e=0})})})}function pick_threshold_language(t){$.each(t,function(){$(".thresholds_cocoon").each(function(){var e=0;$(this).find(".threshold_language_details").each(function(){$(this).find(".language_selector").find(".pending").each(function(){$(this).val(t[e]),$(this).closest(".language-cocoon").find(".language-label").html($(this).find("option:selected").text()),$(this).closest(".language-cocoon").find(".language-row").attr("data-lang",$(this).find("option:selected").val()),e++}),e=0})})})}function load_lifestyle_slider(){}function check_new_message(){$(".message-incoming").addClass("hidden"),new_message_count=0,$(".message-people-holder").each(function(){folder_type=$(this).attr("data-holder-type"),folder_count=0,$(this).find(".message_count").each(function(){"0"!=$(this).html()&&(isNaN(parseInt($(this).html()))===!1&&(folder_count+=parseInt($(this).html())),$(this).closest(".readornot").removeClass("hidden"))}),folder_count>0?($(".message-folder[data-folder="+folder_type+"]").find(".readornot").removeClass("hidden").find(".message_count").html(folder_count),new_message_count+=folder_count):$(".message-folder[data-folder="+folder_type+"]").find(".readornot").addClass("hidden").find(".message_count").html("0")}),new_message_count>0&&($(".message-incoming").removeClass("hidden"),$(".message-incoming").html(new_message_count)),$("#message_page").find(".message_count").each(function(){"0"!=$(this).html()&&(isNaN(parseInt($(this).html()))===!1&&(new_message_count+=parseInt($(this).html())),$(this).closest(".readornot").removeClass("hidden"),$(".message-incoming").removeClass("hidden"),$(".message-incoming").html(new_message_count))}),$("#message_page .message-people-holder").each(function(){this_folder=$(this),this_folder.find(".message-person").each(function(){$(this).find(".message_count").html()>0&&$(this).prependTo(this_folder)})})}function draw_graph(t){for(t=$(t),is_empty=$(t).attr("data-empty"),chart_type=$(t).attr("data-chart-type"),data_points=$(t).attr("data-data-points").split(","),max_point=$(t).attr("data-chart-max-point"),label_headers=$(t).attr("data-label-headers").split(","),label_results=$(t).attr("data-label-results").split(","),color=$(t).attr("data-color"),top_label=$(t).attr("data-chart-label-top"),bottom_label=$(t).attr("data-chart-label-bottom"),thresholds=$(t).attr("data-thresholds"),canvas_id=$(t).attr("id"),bar_type=$(t).attr("data-bar-type"),t=document.getElementById(canvas_id),canvas_w=1e3,canvas_h=500,x_offset=70,y_offset=100,bar_width=100,display_points=[],x=0;x<data_points.length;x++)new_val=canvas_h*((max_point-data_points[x])/max_point),new_val<12&&(new_val=12),new_val>canvas_h-15&&(new_val=canvas_h-15),display_points.push(new_val);highest_display_point=Math.min.apply(null,display_points.filter(Boolean)),data_point_count=Math.max(data_points.length,5),x_distance=canvas_w/data_point_count,t.width=canvas_w+2*x_offset,t.height=canvas_h+2*y_offset;var e=t.getContext("2d");for(x=0;x<=max_point;x++)e.beginPath(),line_y=canvas_h*(x/max_point)+y_offset,e.moveTo(x_offset,line_y),e.lineTo(canvas_w+x_offset,line_y),1!=x&&3!=x&&5!=x||e.setLineDash([3,15]),e.strokeStyle="#E2E0E0",0!=x&&6!=x||(e.strokeStyle="#b5b0b0"),e.lineWidth=3,e.stroke(),e.setLineDash([]),"line"==chart_type?(rect_height=60,0==x?(rect_width=150+15*top_label.length,e.globalAlpha=1,e.fillStyle="white",e.rect((canvas_w+2*x_offset)/2-rect_width/2,line_y-rect_height/2,rect_width,rect_height),e.fill(),e.fillStyle="#766f6f",e.font="38px Arial",e.textAlign="center",e.fillText(top_label,canvas_w/2+x_offset,line_y+5),e.globalAlpha=.8):x==max_point&&(rect_width=150+15*bottom_label.length,e.globalAlpha=1,e.fillStyle="white",e.rect((canvas_w+2*x_offset)/2-rect_width/2,line_y-rect_height/2,rect_width,rect_height),e.fill(),e.fillStyle="#766f6f",e.font="38px Arial",e.textAlign="center",e.fillText(bottom_label,canvas_w/2+x_offset,line_y+10),e.globalAlpha=.8)):"bar"==chart_type&&(e.fillStyle="#b3b3b3",e.font="20px Arial",e.textAlign="right","3"==bar_type?2==x?e.fillText("High",x_offset-6,line_y+5):4==x?e.fillText("Med",x_offset-6,line_y+5):5==x?e.fillText("Low",x_offset-6,line_y+5):6==x&&e.fillText("None",x_offset-6,line_y+5):"2"==bar_type&&(1==x?e.fillText("High",x_offset-6,line_y+5):3==x?e.fillText("Med",x_offset-6,line_y+5):5==x&&e.fillText("Low",x_offset-6,line_y+5)));if(e.closePath(),"true"!=is_empty){if("bar"==chart_type){for(e.globalAlpha=.8,e.beginPath(),x=0;x<display_points.length;x++)x_ax=x*x_distance+x_distance/2+x_offset,1==is_good_browser()?(my_gradient=e.createLinearGradient((canvas_w+2*x_offset)/2,parseInt(display_points[x]),(canvas_w+2*x_offset)/2,canvas_h+y_offset),my_gradient.addColorStop(0,color),my_gradient.addColorStop(1,"#ffffff")):my_gradient=color,e.fillStyle=my_gradient,parseFloat(data_points[x])<=.3&&(e.fillStyle=color),e.fillRect(x_ax-bar_width/2,display_points[x]+y_offset,bar_width,canvas_h-display_points[x]-3),e.fillStyle="gray",e.font="24px Arial",e.textAlign="center",e.fillText(x+1,x_ax,canvas_h+y_offset+50),e.fillStyle=my_gradient;for(e.font="24px Arial",dots_range_x=[],dots_range_y=[],x=0;x<display_points.length;x++)e.beginPath(),x_ax=x*x_distance+x_distance/2+x_offset,dots_range_x.push(x_ax),dots_range_y.push(display_points[x]+y_offset)}else if("line"==chart_type){for(1==is_good_browser()?(my_gradient=e.createLinearGradient((canvas_w+2*x_offset)/2,parseInt(highest_display_point),(canvas_w+2*x_offset)/2,canvas_h+y_offset-20),my_gradient.addColorStop(0,color),my_gradient.addColorStop(1,"#ffffff")):my_gradient=color,e.fillStyle=my_gradient,e.globalAlpha=.8,e.fillStyle=my_gradient,e.beginPath(),e.moveTo(x_distance/2+x_offset,canvas_h+y_offset-20),final_dot_x=canvas_w+x_offset-x_distance/2,x=0;x<display_points.length;x++)x_ax=x*x_distance+x_distance/2+x_offset,e.lineWidth=5,e.lineTo(x_ax,display_points[x]+y_offset),e.fillStyle="gray",e.font="20px Arial",e.textAlign="center",e.fillText(x+1,x_ax,canvas_h+y_offset+50),e.fillStyle=my_gradient,final_dot_x=x_ax;for(e.font="24px Arial",e.lineTo(final_dot_x,canvas_h+y_offset-20),e.closePath(),0==is_good_browser()&&"line"==chart_type&&(e.fillStyle="transparent"),e.fill(),e.beginPath(),x=0;x<display_points.length;x++)x_ax=x*x_distance+x_distance/2+x_offset,e.lineTo(x_ax,display_points[x]+y_offset),e.strokeStyle=color,e.lineWidth=2;for(e.stroke(),dots_range_x=[],dots_range_y=[],x=0;x<display_points.length;x++)e.beginPath(),x_ax=x*x_distance+x_distance/2+x_offset,e.arc(x_ax,display_points[x]+y_offset,12,0,2*Math.PI),e.fillStyle=color,e.fill(),dots_range_x.push(x_ax),dots_range_y.push(display_points[x]+y_offset)}$(t).attr("dots_x",dots_range_x),$(t).attr("dots_y",dots_range_y),bind_tooltip()}}function bind_tooltip(){$("canvas").unbind(),$("canvas").each(function(){$(this).mousemove(function(t){for(x_coords=$(this).attr("dots_x").split(","),y_coords=$(this).attr("dots_y").split(","),label_headers=$(this).attr("data-label-headers").split(","),label_results=$(this).attr("data-label-results").split(","),chart_color=$(this).attr("data-color"),dots_array=[],x=0;x<x_coords.length;x++)dots_array.push([x_coords[x],y_coords[x]]);draw(t,$(this),dots_array,label_headers,label_results,chart_color)})})}function draw(t,e,i,n,o,r,a){for(bar_width=100,canvasOffset=$(e).offset(),offsetX=canvasOffset.left,offsetY=canvasOffset.top,void 0===a&&(a=getMousePos(e,t)),posx=a.x,posy=a.y,draw_graph($(e)),tooltip_w=380,tooltip_h=80,x=0;x<i.length;x++)"bar"==$(e).attr("data-chart-type")?is_in_range=posx<parseInt(i[x][0])+bar_width/2&&posx>parseInt(i[x][0])-bar_width/2&&posy>parseInt(i[x][1]):"line"==$(e).attr("data-chart-type")&&(is_in_range=posx<parseInt(i[x][0])+x_distance/2&&posx>parseInt(i[x][0])-x_distance/2&&posy>parseInt(i[x][1])-10),is_in_range&&(posx=parseInt(i[x][0]),posy=parseInt(i[x][1]),ctx=$(e)[0].getContext("2d"),ctx.beginPath(),ctx.strokeStyle="#cecaca",posx-tooltip_w/2<0?posx=tooltip_w/2+10:posx+tooltip_w/2>1070&&(posx=1070-tooltip_w/2),ctx.lineTo(posx+tooltip_w/2,posy-tooltip_h-20),ctx.stroke(),ctx.lineTo(posx+tooltip_w/2,posy-20),ctx.stroke(),ctx.lineTo(parseInt(i[x][0])+10,parseInt(i[x][1])-20),ctx.stroke(),ctx.lineTo(parseInt(i[x][0]),parseInt(i[x][1])-10),ctx.stroke(),ctx.lineTo(parseInt(i[x][0])-10,parseInt(i[x][1])-20),ctx.stroke(),ctx.lineTo(posx-tooltip_w/2,posy-20),ctx.stroke(),ctx.lineTo(posx-tooltip_w/2,posy-tooltip_h-20),ctx.stroke(),ctx.shadowBlur=2,ctx.shadowColor="#cecaca",ctx.shadowOffsetY=5,ctx.stroke(),ctx.closePath(),ctx.strokeStyle="#E2E0E0",ctx.stroke(),ctx.fillStyle="white",ctx.globalAlpha=1,ctx.fill(),ctx.shadowBlur=0,ctx.shadowOffsetY=0,ctx.fillStyle="gray",ctx.textAlign="center",ctx.font="24px Arial",ctx.fillText(n[x],posx,posy-tooltip_h+15),ctx.fillStyle=r,n[x].includes("No Data")?label_results_rounded="No Data":"bar"==$(e).attr("data-chart-type")?"3"==$(e).attr("data-bar-type")?parseFloat(o[x])>=4?label_results_rounded="High":parseFloat(o[x])>=2?label_results_rounded="Med":parseFloat(o[x])>=1?label_results_rounded="Low":label_results_rounded="None":"2"==$(e).attr("data-bar-type")&&(parseFloat(o[x])>4?label_results_rounded="High":parseFloat(o[x])>2?label_results_rounded="Med":parseFloat(o[x])>0?label_results_rounded="Low":label_results_rounded="None"):"line"==$(e).attr("data-chart-type")&&(threshold_labels=$(e).attr("data-thresholds").split(","),parseFloat(o[x])>4?label_results_rounded=threshold_labels[2]:parseFloat(o[x])>2?label_results_rounded=threshold_labels[1]:label_results_rounded=threshold_labels[0]),ctx.font="28px Arial",ctx.fillText(label_results_rounded,posx,posy-tooltip_h+45),ctx.globalAlpha=.8)}function getMousePos(t,e){return rect=t[0].getBoundingClientRect(),{x:(e.clientX-rect.left)/(rect.right-rect.left)*t[0].width,y:(e.clientY-rect.top)/(rect.bottom-rect.top)*t[0].height}}function is_good_browser(){return!(!/chrome/.test(navigator.userAgent.toLowerCase())&&!/firefox/.test(navigator.userAgent.toLowerCase()))}function show_ajax_notification(t){$(document).ready(function(){$(".ajax-notifications").removeClass("hidden").append("<p class='notice fade in alert alert-info alert-dismissible mar-bot6'><button class='close' type='button' data-dismiss='alert'><span>&times;</span></button><span class='ajax-notification-content'>"+t+"</span></p>");var e=$(".alert-dismissible").find(".close");$("body, html").animate({scrollTop:0},100),window.setTimeout(function(){e.click()},1e4)})}function show_ajax_alert(t){$(document).ready(function(){$(".ajax-notifications").removeClass("hidden").append("<p class='notice fade in alert alert-danger alert-dismissible mar-bot6'><button class='close' type='button' data-dismiss='alert'><span>&times;</span></button><span class='ajax-notification-content'>"+t+"</span></p>"),$("body, html").animate({scrollTop:0},100)})}function remove_ajax_notification(){$(".ajax-notifications").find("p").remove()}function overlay_in(){$("div#transition-overlay").fadeIn()}function overlay_out(){$("div#transition-overlay").fadeOut()}function call_premium_modal(){$(".modal").modal("hide"),overlay_in(),$.get(Routes.premium_path())}function call_coach_pay_modal(){$(".modal").modal("hide"),overlay_in(),$.get(Routes.premium_path(),{subscription_type:"coach"})}function call_group_pay_modal(t){$(".modal").modal("hide"),overlay_in(),$.get(Routes.premium_path(),{subscription_type:"group",group_id:t})}function premium_modal_on_link(t){t.preventDefault(),call_premium_modal()}function handleChangeDocument(t){preview=$(t).closest(".nested-form-fields").find(".student-id-preview")[0],t.files.length>0&&($(t).closest(".nested-form-fields").find(".student-id-preview").removeClass("hidden"),
window.limesmart.previewImageAsBackground(t,preview))}function check_for_more_than_three(){wrapper=$("#student-verification"),wrapper.find(".nested-form-fields:visible").length>=3?wrapper.find(".add_fields").addClass("hidden"):wrapper.find(".add_fields").removeClass("hidden")}function submenu(){function t(t,e){var i="#"+t;e.closest(".sub-menu").find(".sub-menu-panels").children("div").each(function(){$(this).addClass("hidden")}),$(i).removeClass("hidden")}if($(".sub-menu").find(".sub-menu-tabs .menu-li").on("click",function(){$(this).closest("ul").find("li").removeClass("active"),$(this).closest("ul").find(".menu-li").removeClass("active"),$(this).addClass("active"),$(this).closest("li").addClass("active"),response_filter=$(this).data("filter"),t(response_filter,$(this))}),$(window).width()<600&&$(".sub-menu-title span").length>0){var e=$(".sub-menu-title span").html();if(e.length>20){var i=e.substring(0,20);i+="..."}$(".sub-menu-title span").css("font-size","18px").html(i)}}function secondary_menu(){$(".secondary_menu").hide(),$(".secondary_menu_hover").click(function(){$(this).find(".secondary_menu").show()}),$(".secondary_menu_hover").hover(function(){$(this).find(".secondary_menu").show()},function(){$(this).find(".secondary_menu").hide()}),$(".secondary_menu").hover(function(){$(this).show()},function(){$(this).hide()})}function submenu_bottom(){function t(t,e){var i="#"+t;e.closest(".sub-menu-bottom").find(".sub-menu-bottom-panels").children("div").addClass("hidden"),e.closest(".sub-menu-bottom").find(i).removeClass("hidden")}$(".sub-menu-bottom").find(".sub-menu-bottom-tabs li").on("click",function(){$(this).closest("ul").find("li").removeClass("active"),$(this).addClass("active"),response_filter=$(this).data("filter"),t(response_filter,$(this))})}function submenu_bottom_dropdown(){$(".sub-menu-bottom-dropdown").each(function(){var t=$(this);$(this).find("header select").on("change",function(){t.css("border","solid green 2px"),response_filter=$(this).val(),target_id="#submenu-bottom-item-"+response_filter,t.find(".sub-menu-bottom-panels").children("div").addClass("hidden"),t.find(target_id).removeClass("hidden")})})}function hide_divs(){$(".sub-menu-bottom-dropdown").each(function(){$(this).find(".sub-menu-bottom-panels").children("div").addClass("hidden"),$(this).find(".sub-menu-bottom-panels").children("div").first().removeClass("hidden")})}function expander(){$(".faq-table").find(".card-row").unbind(),$(".faq-table").find(".card-row").on("click",function(){this_body=$(this).find(".faq-body"),this_body.toggleClass("opened"),$(this).find(".expander").toggleClass("rotated")})}function custom_expander(t,e){"hide"==e&&$(t).find(".expandable").slideUp(0),$(t).find(".expander").unbind(),$(t).unbind(),$(t).each(function(){$(this).click(function(){$(this).find(".expander .fa").toggleClass("rotated"),$(this).find(".expander .fa").hasClass("rotated")?$(this).find(".expandable").slideDown():$(this).find(".expandable").slideUp()})})}function initClock(){$("#time .te").each(function(){last_setback=Number($(this).attr("data-last-setback")),milliseconds_last_setback=1e3*last_setback,startDateTime=new Date(milliseconds_last_setback),startStamp=startDateTime.getTime(),$(this).attr("data-startstamp",startStamp),local_time_in_zone=Number($(this).attr("data-localtime")),milliseconds_local_time_in_zone=1e3*local_time_in_zone,newDate=new Date(milliseconds_local_time_in_zone),newStamp=newDate.getTime(),$(this).attr("data-newstamp",newStamp)})}function updateClock(){"undefined"!=typeof tracker_interval&&clearInterval(tracker_interval),tracker_interval=setInterval(function(){$(".te").each(function(){newStamp=parseInt($(this).attr("data-newstamp"))+1e3,$(this).attr("data-newstamp",newStamp),startStamp=parseInt($(this).attr("data-startstamp"));var t=Math.round((newStamp-startStamp)/1e3),e=Math.floor(t/86400);t-=24*e*60*60;var i=Math.floor(t/3600);t-=60*i*60;var n=Math.floor(t/60);t-=60*n;var o=t;100>e&&(e=10>e?"00"+e.toString():"0"+e.toString()),10>i&&(i="0"+i.toString()),10>n&&(n="0"+n.toString()),10>o&&(o="0"+o.toString()),$(this).html(e+":"+i+":"+n+":"+o)})},1e3)}window.limesmart={},window.limesmart.previewImageAsBackground=function(t,e){if(t.files.length>0){var i=new FileReader;i.readAsDataURL(t.files[0]),i.onload=function(t){e.style.backgroundImage="url("+t.target.result+")"}}else console.error(t,"does not have an image to set as background")},window.limesmart.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=!!t&&"length"in t&&t.length,i=pt.type(t);return"function"===i||pt.isWindow(t)?!1:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(pt.isFunction(e))return pt.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return pt.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(kt.test(e))return pt.filter(e,t,i);e=pt.filter(e,t)}return pt.grep(t,function(t){return pt.inArray(t,e)>-1!==i})}function o(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function r(t){var e={};return pt.each(t.match(Mt)||[],function(t,i){e[i]=!0}),e}function a(){nt.addEventListener?(nt.removeEventListener("DOMContentLoaded",s),t.removeEventListener("load",s)):(nt.detachEvent("onreadystatechange",s),t.detachEvent("onload",s))}function s(){(nt.addEventListener||"load"===t.event.type||"complete"===nt.readyState)&&(a(),pt.ready())}function l(t,e,i){if(void 0===i&&1===t.nodeType){var n="data-"+e.replace(Ot,"-$1").toLowerCase();if(i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Lt.test(i)?pt.parseJSON(i):i}catch(o){}pt.data(t,e,i)}else i=void 0}return i}function u(t){var e;for(e in t)if(("data"!==e||!pt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function c(t,e,i,n){if(Pt(t)){var o,r,a=pt.expando,s=t.nodeType,l=s?pt.cache:t,u=s?t[a]:t[a]&&a;if(u&&l[u]&&(n||l[u].data)||void 0!==i||"string"!=typeof e)return u||(u=s?t[a]=it.pop()||pt.guid++:a),l[u]||(l[u]=s?{}:{toJSON:pt.noop}),"object"!=typeof e&&"function"!=typeof e||(n?l[u]=pt.extend(l[u],e):l[u].data=pt.extend(l[u].data,e)),r=l[u],n||(r.data||(r.data={}),r=r.data),void 0!==i&&(r[pt.camelCase(e)]=i),"string"==typeof e?(o=r[e],null==o&&(o=r[pt.camelCase(e)])):o=r,o}}function h(t,e,i){if(Pt(t)){var n,o,r=t.nodeType,a=r?pt.cache:t,s=r?t[pt.expando]:pt.expando;if(a[s]){if(e&&(n=i?a[s]:a[s].data)){pt.isArray(e)?e=e.concat(pt.map(e,pt.camelCase)):e in n?e=[e]:(e=pt.camelCase(e),e=e in n?[e]:e.split(" ")),o=e.length;for(;o--;)delete n[e[o]];if(i?!u(n):!pt.isEmptyObject(n))return}(i||(delete a[s].data,u(a[s])))&&(r?pt.cleanData([t],!0):ht.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0)}}}function d(t,e,i,n){var o,r=1,a=20,s=n?function(){return n.cur()}:function(){return pt.css(t,e,"")},l=s(),u=i&&i[3]||(pt.cssNumber[e]?"":"px"),c=(pt.cssNumber[e]||"px"!==u&&+l)&&Rt.exec(pt.css(t,e));if(c&&c[3]!==u){u=u||c[3],i=i||[],c=+l||1;do r=r||".5",c/=r,pt.style(t,e,c+u);while(r!==(r=s()/l)&&1!==r&&--a)}return i&&(c=+c||+l||0,o=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=c,n.end=o)),o}function p(t){var e=qt.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function f(t,e){var i,n,o=0,r="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):void 0;if(!r)for(r=[],i=t.childNodes||t;null!=(n=i[o]);o++)!e||pt.nodeName(n,e)?r.push(n):pt.merge(r,f(n,e));return void 0===e||e&&pt.nodeName(t,e)?pt.merge([t],r):r}function m(t,e){for(var i,n=0;null!=(i=t[n]);n++)pt._data(i,"globalEval",!e||pt._data(e[n],"globalEval"))}function g(t){Bt.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e,i,n,o){for(var r,a,s,l,u,c,h,d=t.length,v=p(e),y=[],_=0;d>_;_++)if(a=t[_],a||0===a)if("object"===pt.type(a))pt.merge(y,a.nodeType?[a]:a);else if(Ut.test(a)){for(l=l||v.appendChild(e.createElement("div")),u=(jt.exec(a)||["",""])[1].toLowerCase(),h=Vt[u]||Vt._default,l.innerHTML=h[1]+pt.htmlPrefilter(a)+h[2],r=h[0];r--;)l=l.lastChild;if(!ht.leadingWhitespace&&Wt.test(a)&&y.push(e.createTextNode(Wt.exec(a)[0])),!ht.tbody)for(a="table"!==u||Yt.test(a)?"<table>"!==h[1]||Yt.test(a)?0:l:l.firstChild,r=a&&a.childNodes.length;r--;)pt.nodeName(c=a.childNodes[r],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(pt.merge(y,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else y.push(e.createTextNode(a));for(l&&v.removeChild(l),ht.appendChecked||pt.grep(f(y,"input"),g),_=0;a=y[_++];)if(n&&pt.inArray(a,n)>-1)o&&o.push(a);else if(s=pt.contains(a.ownerDocument,a),l=f(v.appendChild(a),"script"),s&&m(l),i)for(r=0;a=l[r++];)Ht.test(a.type||"")&&i.push(a);return l=null,v}function y(){return!0}function _(){return!1}function b(){try{return nt.activeElement}catch(t){}}function x(t,e,i,n,o,r){var a,s;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(s in e)x(t,s,i,n,e[s],r);return t}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),o===!1)o=_;else if(!o)return t;return 1===r&&(a=o,o=function(t){return pt().off(t),a.apply(this,arguments)},o.guid=a.guid||(a.guid=pt.guid++)),t.each(function(){pt.event.add(this,e,o,n,i)})}function w(t,e){return pt.nodeName(t,"table")&&pt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function k(t){return t.type=(null!==pt.find.attr(t,"type"))+"/"+t.type,t}function C(t){var e=oe.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function S(t,e){if(1===e.nodeType&&pt.hasData(t)){var i,n,o,r=pt._data(t),a=pt._data(e,r),s=r.events;if(s){delete a.handle,a.events={};for(i in s)for(n=0,o=s[i].length;o>n;n++)pt.event.add(e,i,s[i][n])}a.data&&(a.data=pt.extend({},a.data))}}function T(t,e){var i,n,o;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!ht.noCloneEvent&&e[pt.expando]){o=pt._data(e);for(n in o.events)pt.removeEvent(e,n,o.handle);e.removeAttribute(pt.expando)}"script"===i&&e.text!==t.text?(k(e).text=t.text,C(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),ht.html5Clone&&t.innerHTML&&!pt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&Bt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}}function A(t,e,i,n){e=rt.apply([],e);var o,r,a,s,l,u,c=0,h=t.length,d=h-1,p=e[0],m=pt.isFunction(p);if(m||h>1&&"string"==typeof p&&!ht.checkClone&&ne.test(p))return t.each(function(o){var r=t.eq(o);m&&(e[0]=p.call(this,o,r.html())),A(r,e,i,n)});if(h&&(u=v(e,t[0].ownerDocument,!1,t,n),o=u.firstChild,1===u.childNodes.length&&(u=o),o||n)){for(s=pt.map(f(u,"script"),k),a=s.length;h>c;c++)r=u,c!==d&&(r=pt.clone(r,!0,!0),a&&pt.merge(s,f(r,"script"))),i.call(t[c],r,c);if(a)for(l=s[s.length-1].ownerDocument,pt.map(s,C),c=0;a>c;c++)r=s[c],Ht.test(r.type||"")&&!pt._data(r,"globalEval")&&pt.contains(l,r)&&(r.src?pt._evalUrl&&pt._evalUrl(r.src):pt.globalEval((r.text||r.textContent||r.innerHTML||"").replace(re,"")));u=o=null}return t}function E(t,e,i){for(var n,o=e?pt.filter(e,t):t,r=0;null!=(n=o[r]);r++)i||1!==n.nodeType||pt.cleanData(f(n)),n.parentNode&&(i&&pt.contains(n.ownerDocument,n)&&m(f(n,"script")),n.parentNode.removeChild(n));return t}function M(t,e){var i=pt(e.createElement(t)).appendTo(e.body),n=pt.css(i[0],"display");return i.detach(),n}function D(t){var e=nt,i=ue[t];return i||(i=M(t,e),"none"!==i&&i||(le=(le||pt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(le[0].contentWindow||le[0].contentDocument).document,e.write(),e.close(),i=M(t,e),le.detach()),ue[t]=i),i}function I(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function P(t){if(t in Ce)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=ke.length;i--;)if(t=ke[i]+e,t in Ce)return t}function L(t,e){for(var i,n,o,r=[],a=0,s=t.length;s>a;a++)n=t[a],n.style&&(r[a]=pt._data(n,"olddisplay"),i=n.style.display,e?(r[a]||"none"!==i||(n.style.display=""),""===n.style.display&&$t(n)&&(r[a]=pt._data(n,"olddisplay",D(n.nodeName)))):(o=$t(n),(i&&"none"!==i||!o)&&pt._data(n,"olddisplay",o?i:pt.css(n,"display"))));for(a=0;s>a;a++)n=t[a],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[a]||"":"none"));return t}function O(t,e,i){var n=be.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function z(t,e,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,a=0;4>r;r+=2)"margin"===i&&(a+=pt.css(t,i+Nt[r],!0,o)),n?("content"===i&&(a-=pt.css(t,"padding"+Nt[r],!0,o)),"margin"!==i&&(a-=pt.css(t,"border"+Nt[r]+"Width",!0,o))):(a+=pt.css(t,"padding"+Nt[r],!0,o),"padding"!==i&&(a+=pt.css(t,"border"+Nt[r]+"Width",!0,o)));return a}function R(e,i,n){var o=!0,r="width"===i?e.offsetWidth:e.offsetHeight,a=fe(e),s=ht.boxSizing&&"border-box"===pt.css(e,"boxSizing",!1,a);if(nt.msFullscreenElement&&t.top!==t&&e.getClientRects().length&&(r=Math.round(100*e.getBoundingClientRect()[i])),0>=r||null==r){if(r=me(e,i,a),(0>r||null==r)&&(r=e.style[i]),he.test(r))return r;o=s&&(ht.boxSizingReliable()||r===e.style[i]),r=parseFloat(r)||0}return r+z(e,i,n||(s?"border":"content"),o,a)+"px"}function N(t,e,i,n,o){return new N.prototype.init(t,e,i,n,o)}function $(){return t.setTimeout(function(){Se=void 0}),Se=pt.now()}function F(t,e){var i,n={height:t},o=0;for(e=e?1:0;4>o;o+=2-e)i=Nt[o],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function B(t,e,i){for(var n,o=(W.tweeners[e]||[]).concat(W.tweeners["*"]),r=0,a=o.length;a>r;r++)if(n=o[r].call(i,e,t))return n}function j(t,e,i){var n,o,r,a,s,l,u,c,h=this,d={},p=t.style,f=t.nodeType&&$t(t),m=pt._data(t,"fxshow");i.queue||(s=pt._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,pt.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],u=pt.css(t,"display"),c="none"===u?pt._data(t,"olddisplay")||D(t.nodeName):u,"inline"===c&&"none"===pt.css(t,"float")&&(ht.inlineBlockNeedsLayout&&"inline"!==D(t.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",ht.shrinkWrapBlocks()||h.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in e)if(o=e[n],Ae.exec(o)){if(delete e[n],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[n])continue;f=!0}d[n]=m&&m[n]||pt.style(t,n)}else u=void 0;if(pt.isEmptyObject(d))"inline"===("none"===u?D(t.nodeName):u)&&(p.display=u);else{m?"hidden"in m&&(f=m.hidden):m=pt._data(t,"fxshow",{}),r&&(m.hidden=!f),f?pt(t).show():h.done(function(){pt(t).hide()}),h.done(function(){var e;pt._removeData(t,"fxshow");for(e in d)pt.style(t,e,d[e])});for(n in d)a=B(f?m[n]:0,n,h),n in m||(m[n]=a.start,f&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function H(t,e){var i,n,o,r,a;for(i in t)if(n=pt.camelCase(i),o=e[n],r=t[i],pt.isArray(r)&&(o=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),a=pt.cssHooks[n],a&&"expand"in a){r=a.expand(r),delete t[n];for(i in r)i in t||(t[i]=r[i],e[i]=o)}else e[n]=o}function W(t,e,i){var n,o,r=0,a=W.prefilters.length,s=pt.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Se||$(),i=Math.max(0,u.startTime+u.duration-e),n=i/u.duration||0,r=1-n,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(r);return s.notifyWith(t,[u,r,i]),1>r&&l?i:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:pt.extend({},e),opts:pt.extend(!0,{specialEasing:{},easing:pt.easing._default},i),originalProperties:e,originalOptions:i,startTime:Se||$(),duration:i.duration,tweens:[],createTween:function(e,i){var n=pt.Tween(t,u.opts,e,i,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var i=0,n=e?u.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)u.tweens[i].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(H(c,u.opts.specialEasing);a>r;r++)if(n=W.prefilters[r].call(u,t,c,u.opts))return pt.isFunction(n.stop)&&(pt._queueHooks(u.elem,u.opts.queue).stop=pt.proxy(n.stop,n)),n;return pt.map(c,B,u),pt.isFunction(u.opts.start)&&u.opts.start.call(t,u),pt.fx.timer(pt.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function q(t){return pt.attr(t,"class")||""}function V(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,r=e.toLowerCase().match(Mt)||[];if(pt.isFunction(i))for(;n=r[o++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function U(t,e,i,n){function o(s){var l;return r[s]=!0,pt.each(t[s]||[],function(t,s){var u=s(e,i,n);return"string"!=typeof u||a||r[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),o(u),!1)}),l}var r={},a=t===Ke;return o(e.dataTypes[0])||!r["*"]&&o("*")}function Y(t,e){var i,n,o=pt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&pt.extend(!0,t,i),t}function G(t,e,i){for(var n,o,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in i)r=l[0];else{for(a in i){if(!l[0]||t.converters[a+" "+l[0]]){r=a;break}n||(n=a)}r=r||n}return r?(r!==l[0]&&l.unshift(r),i[r]):void 0}function X(t,e,i,n){var o,r,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(r=c.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=u[l+" "+r]||u["* "+r],!a)for(o in u)if(s=o.split(" "),s[1]===r&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[o]:u[o]!==!0&&(r=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function Z(t){return t.style&&t.style.display||pt.css(t,"display")}function K(t){for(;t&&1===t.nodeType;){if("none"===Z(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function J(t,e,i,n){var o;if(pt.isArray(e))pt.each(e,function(e,o){i||ii.test(t)?n(t,o):J(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,i,n)});else if(i||"object"!==pt.type(e))n(t,e);else for(o in e)J(t+"["+o+"]",e[o],i,n)}function Q(){try{return new t.XMLHttpRequest}catch(e){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function et(t){return pt.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var it=[],nt=t.document,ot=it.slice,rt=it.concat,at=it.push,st=it.indexOf,lt={},ut=lt.toString,ct=lt.hasOwnProperty,ht={},dt="1.12.1",pt=function(t,e){return new pt.fn.init(t,e)},ft=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,gt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};pt.fn=pt.prototype={jquery:dt,constructor:pt,selector:"",length:0,toArray:function(){return ot.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:ot.call(this)},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return pt.each(this,t)},map:function(t){return this.pushStack(pt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:at,sort:it.sort,splice:it.splice},pt.extend=pt.fn.extend=function(){var t,e,i,n,o,r,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||pt.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(o=arguments[s]))for(n in o)t=a[n],i=o[n],a!==i&&(u&&i&&(pt.isPlainObject(i)||(e=pt.isArray(i)))?(e?(e=!1,r=t&&pt.isArray(t)?t:[]):r=t&&pt.isPlainObject(t)?t:{},a[n]=pt.extend(u,r,i)):void 0!==i&&(a[n]=i));return a},pt.extend({expando:"jQuery"+(dt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===pt.type(t)},isArray:Array.isArray||function(t){return"array"===pt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!pt.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==pt.type(t)||t.nodeType||pt.isWindow(t))return!1;try{if(t.constructor&&!ct.call(t,"constructor")&&!ct.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(!ht.ownFirst)for(e in t)return ct.call(t,e);for(e in t);return void 0===e||ct.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ut.call(t)]||"object":typeof t},globalEval:function(e){e&&pt.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(mt,"ms-").replace(gt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,o=0;if(i(t))for(n=t.length;n>o&&e.call(t[o],o,t[o])!==!1;o++);else for(o in t)if(e.call(t[o],o,t[o])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ft,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?pt.merge(n,"string"==typeof t?[t]:t):at.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(st)return st.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;i>n;)t[o++]=e[n++];if(i!==i)for(;void 0!==e[n];)t[o++]=e[n++];return t.length=o,t},grep:function(t,e,i){for(var n,o=[],r=0,a=t.length,s=!i;a>r;r++)n=!e(t[r],r),n!==s&&o.push(t[r]);return o},map:function(t,e,n){var o,r,a=0,s=[];if(i(t))for(o=t.length;o>a;a++)r=e(t[a],a,n),null!=r&&s.push(r);else for(a in t)r=e(t[a],a,n),null!=r&&s.push(r);return rt.apply([],s)},guid:1,proxy:function(t,e){var i,n,o;return"string"==typeof e&&(o=t[e],e=t,t=o),pt.isFunction(t)?(i=ot.call(arguments,2),n=function(){return t.apply(e||this,i.concat(ot.call(arguments)))},n.guid=t.guid=t.guid||pt.guid++,n):void 0},now:function(){return+new Date},support:ht}),"function"==typeof Symbol&&(pt.fn[Symbol.iterator]=it[Symbol.iterator]),pt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var yt=function(t){function e(t,e,i,n){var o,r,a,s,l,u,h,p,f=e&&e.ownerDocument,m=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return i;if(!n&&((e?e.ownerDocument||e:B)!==P&&I(e),e=e||P,O)){if(11!==m&&(u=vt.exec(t)))if(o=u[1]){if(9===m){if(!(a=e.getElementById(o)))return i;if(a.id===o)return i.push(a),i}else if(f&&(a=f.getElementById(o))&&$(e,a)&&a.id===o)return i.push(a),i}else{if(u[2])return J.apply(i,e.getElementsByTagName(t)),i;if((o=u[3])&&x.getElementsByClassName&&e.getElementsByClassName)return J.apply(i,e.getElementsByClassName(o)),i}if(x.qsa&&!V[t+" "]&&(!z||!z.test(t))){if(1!==m)f=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(_t,"\\$&"):e.setAttribute("id",s=F),h=S(t),r=h.length,l=dt.test(s)?"#"+s:"[id='"+s+"']";r--;)h[r]=l+" "+d(h[r]);p=h.join(","),f=yt.test(t)&&c(e.parentNode)||e}if(p)try{return J.apply(i,f.querySelectorAll(p)),i}catch(g){}finally{s===F&&e.removeAttribute("id")}}}return A(t.replace(st,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>w.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[F]=!0,t}function o(t){var e=P.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var i=t.split("|"),n=i.length;n--;)w.attrHandle[i[n]]=e}function a(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function s(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function u(t){return n(function(e){return e=+e,n(function(i,n){for(var o,r=t([],i.length,e),a=r.length;a--;)i[o=r[a]]&&(i[o]=!(n[o]=i[o]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function d(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,o=i&&"parentNode"===n,r=H++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r)}:function(e,i,a){var s,l,u,c=[j,r];if(a){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,a))return!0}else for(;e=e[n];)if(1===e.nodeType||o){if(u=e[F]||(e[F]={}),l=u[e.uniqueID]||(u[e.uniqueID]={}),(s=l[n])&&s[0]===j&&s[1]===r)return c[2]=s[2];if(l[n]=c,c[2]=t(e,i,a))return!0}}}function f(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function m(t,i,n){for(var o=0,r=i.length;r>o;o++)e(t,i[o],n);return n}function g(t,e,i,n,o){for(var r,a=[],s=0,l=t.length,u=null!=e;l>s;s++)(r=t[s])&&(i&&!i(r,n,o)||(a.push(r),u&&e.push(s)));return a}function v(t,e,i,o,r,a){return o&&!o[F]&&(o=v(o)),r&&!r[F]&&(r=v(r,a)),n(function(n,a,s,l){var u,c,h,d=[],p=[],f=a.length,v=n||m(e||"*",s.nodeType?[s]:s,[]),y=!t||!n&&e?v:g(v,d,t,s,l),_=i?r||(n?t:f||o)?[]:a:y;if(i&&i(y,_,s,l),o)for(u=g(_,p),o(u,[],s,l),c=u.length;c--;)(h=u[c])&&(_[p[c]]=!(y[p[c]]=h));if(n){if(r||t){if(r){for(u=[],c=_.length;c--;)(h=_[c])&&u.push(y[c]=h);r(null,_=[],u,l)}for(c=_.length;c--;)(h=_[c])&&(u=r?tt(n,h):d[c])>-1&&(n[u]=!(a[u]=h))}}else _=g(_===a?_.splice(f,_.length):_),r?r(null,a,_,l):J.apply(a,_)})}function y(t){for(var e,i,n,o=t.length,r=w.relative[t[0].type],a=r||w.relative[" "],s=r?1:0,l=p(function(t){return t===e},a,!0),u=p(function(t){return tt(e,t)>-1},a,!0),c=[function(t,i,n){var o=!r&&(n||i!==E)||((e=i).nodeType?l(t,i,n):u(t,i,n));return e=null,o}];o>s;s++)if(i=w.relative[t[s].type])c=[p(f(c),i)];else{if(i=w.filter[t[s].type].apply(null,t[s].matches),i[F]){for(n=++s;o>n&&!w.relative[t[n].type];n++);return v(s>1&&f(c),s>1&&d(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),i,n>s&&y(t.slice(s,n)),o>n&&y(t=t.slice(n)),o>n&&d(t))}c.push(i)}return f(c)}function _(t,i){var o=i.length>0,r=t.length>0,a=function(n,a,s,l,u){var c,h,d,p=0,f="0",m=n&&[],v=[],y=E,_=n||r&&w.find.TAG("*",u),b=j+=null==y?1:Math.random()||.1,x=_.length;for(u&&(E=a===P||a||u);f!==x&&null!=(c=_[f]);f++){if(r&&c){for(h=0,a||c.ownerDocument===P||(I(c),s=!O);d=t[h++];)if(d(c,a||P,s)){l.push(c);break}u&&(j=b)}o&&((c=!d&&c)&&p--,n&&m.push(c))}if(p+=f,o&&f!==p){for(h=0;d=i[h++];)d(m,v,a,s);if(n){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=Z.call(l));v=g(v)}J.apply(l,v),u&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(l)}return u&&(j=b,E=y),m};return o?n(a):a}var b,x,w,k,C,S,T,A,E,M,D,I,P,L,O,z,R,N,$,F="sizzle"+1*new Date,B=t.document,j=0,H=0,W=i(),q=i(),V=i(),U=function(t,e){return t===e&&(D=!0),0},Y=1<<31,G={}.hasOwnProperty,X=[],Z=X.pop,K=X.push,J=X.push,Q=X.slice,tt=function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",rt=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(it+"+","g"),st=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ut=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ct=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ht=new RegExp(rt),dt=new RegExp("^"+nt+"$"),pt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,_t=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),xt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},wt=function(){I()};try{J.apply(X=Q.call(B.childNodes),B.childNodes),X[B.childNodes.length].nodeType}catch(kt){J={apply:X.length?function(t,e){K.apply(t,Q.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}x=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},I=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:B;return n!==P&&9===n.nodeType&&n.documentElement?(P=n,L=P.documentElement,O=!C(P),(i=P.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",wt,!1):i.attachEvent&&i.attachEvent("onunload",wt)),x.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=o(function(t){return t.appendChild(P.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=gt.test(P.getElementsByClassName),x.getById=o(function(t){return L.appendChild(t).id=F,!P.getElementsByName||!P.getElementsByName(F).length}),x.getById?(w.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&O){var i=e.getElementById(t);return i?[i]:[]}},w.filter.ID=function(t){var e=t.replace(bt,xt);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var e=t.replace(bt,xt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),w.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},w.find.CLASS=x.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&O?e.getElementsByClassName(t):void 0},R=[],z=[],(x.qsa=gt.test(P.querySelectorAll))&&(o(function(t){L.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&z.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||z.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+F+"-]").length||z.push("~="),t.querySelectorAll(":checked").length||z.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||z.push(".#.+[+~]")}),o(function(t){var e=P.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&z.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||z.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),z.push(",.*:")})),(x.matchesSelector=gt.test(N=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&o(function(t){x.disconnectedMatch=N.call(t,"div"),N.call(t,"[s!='']:x"),R.push("!=",rt)}),z=z.length&&new RegExp(z.join("|")),R=R.length&&new RegExp(R.join("|")),e=gt.test(L.compareDocumentPosition),$=e||gt.test(L.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return D=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,
1&i||!x.sortDetached&&e.compareDocumentPosition(t)===i?t===P||t.ownerDocument===B&&$(B,t)?-1:e===P||e.ownerDocument===B&&$(B,e)?1:M?tt(M,t)-tt(M,e):0:4&i?-1:1)}:function(t,e){if(t===e)return D=!0,0;var i,n=0,o=t.parentNode,r=e.parentNode,s=[t],l=[e];if(!o||!r)return t===P?-1:e===P?1:o?-1:r?1:M?tt(M,t)-tt(M,e):0;if(o===r)return a(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;s[n]===l[n];)n++;return n?a(s[n],l[n]):s[n]===B?-1:l[n]===B?1:0},P):P},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==P&&I(t),i=i.replace(ct,"='$1']"),x.matchesSelector&&O&&!V[i+" "]&&(!R||!R.test(i))&&(!z||!z.test(i)))try{var n=N.call(t,i);if(n||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(o){}return e(i,P,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==P&&I(t),$(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==P&&I(t);var i=w.attrHandle[e.toLowerCase()],n=i&&G.call(w.attrHandle,e.toLowerCase())?i(t,e,!O):void 0;return void 0!==n?n:x.attributes||!O?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,o=0;if(D=!x.detectDuplicates,M=!x.sortStable&&t.slice(0),t.sort(U),D){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return M=null,t},k=e.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=k(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=k(e);return i},w=e.selectors={cacheLength:50,createPseudo:n,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ht.test(i)&&(e=S(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(o){var r=e.attr(o,t);return null==r?"!="===i:i?(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(at," ")+" ").indexOf(n)>-1:"|="===i?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,o){var r="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var u,c,h,d,p,f,m=r!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,_=!1;if(g){if(r){for(;m;){for(d=e;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(d=g,h=d[F]||(d[F]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[t]||[],p=u[0]===j&&u[1],_=p&&u[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(_=p=0)||f.pop();)if(1===d.nodeType&&++_&&d===e){c[t]=[j,p,_];break}}else if(y&&(d=e,h=d[F]||(d[F]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[t]||[],p=u[0]===j&&u[1],_=p),_===!1)for(;(d=++p&&d&&d[m]||(_=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++_||(y&&(h=d[F]||(d[F]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),c[t]=[j,_]),d!==e)););return _-=o,_===n||_%n===0&&_/n>=0}}},PSEUDO:function(t,i){var o,r=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[F]?r(i):r.length>1?(o=[t,t,"",i],w.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,o=r(t,i),a=o.length;a--;)n=tt(t,o[a]),t[n]=!(e[n]=o[a])}):function(t){return r(t,0,o)}):r}},pseudos:{not:n(function(t){var e=[],i=[],o=T(t.replace(st,"$1"));return o[F]?n(function(t,e,i,n){for(var r,a=o(t,null,n,[]),s=t.length;s--;)(r=a[s])&&(t[s]=!(e[s]=r))}):function(t,n,r){return e[0]=t,o(e,null,r,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(bt,xt),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:n(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,xt).toLowerCase(),function(e){var i;do if(i=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,i){return[0>i?i+e:i]}),even:u(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:u(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:u(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:u(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},w.pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=l(b);return h.prototype=w.filters=w.pseudos,w.setFilters=new h,S=e.tokenize=function(t,i){var n,o,r,a,s,l,u,c=q[t+" "];if(c)return i?0:c.slice(0);for(s=t,l=[],u=w.preFilter;s;){n&&!(o=lt.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),n=!1,(o=ut.exec(s))&&(n=o.shift(),r.push({value:n,type:o[0].replace(st," ")}),s=s.slice(n.length));for(a in w.filter)!(o=pt[a].exec(s))||u[a]&&!(o=u[a](o))||(n=o.shift(),r.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return i?s.length:s?e.error(t):q(t,l).slice(0)},T=e.compile=function(t,e){var i,n=[],o=[],r=V[t+" "];if(!r){for(e||(e=S(t)),i=e.length;i--;)r=y(e[i]),r[F]?n.push(r):o.push(r);r=V(t,_(o,n)),r.selector=t}return r},A=e.select=function(t,e,i,n){var o,r,a,s,l,u="function"==typeof t&&t,h=!n&&S(t=u.selector||t);if(i=i||[],1===h.length){if(r=h[0]=h[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&x.getById&&9===e.nodeType&&O&&w.relative[r[1].type]){if(e=(w.find.ID(a.matches[0].replace(bt,xt),e)||[])[0],!e)return i;u&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=pt.needsContext.test(t)?0:r.length;o--&&(a=r[o],!w.relative[s=a.type]);)if((l=w.find[s])&&(n=l(a.matches[0].replace(bt,xt),yt.test(r[0].type)&&c(e.parentNode)||e))){if(r.splice(o,1),t=n.length&&d(r),!t)return J.apply(i,n),i;break}}return(u||T(t,h))(n,e,!O,i,!e||yt.test(t)&&c(e.parentNode)||e),i},x.sortStable=F.split("").sort(U).join("")===F,x.detectDuplicates=!!D,I(),x.sortDetached=o(function(t){return 1&t.compareDocumentPosition(P.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);pt.find=yt,pt.expr=yt.selectors,pt.expr[":"]=pt.expr.pseudos,pt.uniqueSort=pt.unique=yt.uniqueSort,pt.text=yt.getText,pt.isXMLDoc=yt.isXML,pt.contains=yt.contains;var _t=function(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&pt(t).is(i))break;n.push(t)}return n},bt=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},xt=pt.expr.match.needsContext,wt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,kt=/^.[^:#\[\.,]*$/;pt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?pt.find.matchesSelector(n,t)?[n]:[]:pt.find.matches(t,pt.grep(e,function(t){return 1===t.nodeType}))},pt.fn.extend({find:function(t){var e,i=[],n=this,o=n.length;if("string"!=typeof t)return this.pushStack(pt(t).filter(function(){for(e=0;o>e;e++)if(pt.contains(n[e],this))return!0}));for(e=0;o>e;e++)pt.find(t,n[e],i);return i=this.pushStack(o>1?pt.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&xt.test(t)?pt(t):t||[],!1).length}});var Ct,St=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Tt=pt.fn.init=function(t,e,i){var n,o;if(!t)return this;if(i=i||Ct,"string"==typeof t){if(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:St.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:nt,!0)),wt.test(n[1])&&pt.isPlainObject(e))for(n in e)pt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if(o=nt.getElementById(n[2]),o&&o.parentNode){if(o.id!==n[2])return Ct.find(t);this.length=1,this[0]=o}return this.context=nt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):pt.isFunction(t)?"undefined"!=typeof i.ready?i.ready(t):t(pt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),pt.makeArray(t,this))};Tt.prototype=pt.fn,Ct=pt(nt);var At=/^(?:parents|prev(?:Until|All))/,Et={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({has:function(t){var e,i=pt(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(pt.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,n=0,o=this.length,r=[],a=xt.test(t)||"string"!=typeof t?pt(t,e||this.context):0;o>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&pt.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?pt.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?pt.inArray(this[0],pt(t)):pt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(pt.uniqueSort(pt.merge(this.get(),pt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return _t(t,"parentNode")},parentsUntil:function(t,e,i){return _t(t,"parentNode",i)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return _t(t,"nextSibling")},prevAll:function(t){return _t(t,"previousSibling")},nextUntil:function(t,e,i){return _t(t,"nextSibling",i)},prevUntil:function(t,e,i){return _t(t,"previousSibling",i)},siblings:function(t){return bt((t.parentNode||{}).firstChild,t)},children:function(t){return bt(t.firstChild)},contents:function(t){return pt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:pt.merge([],t.childNodes)}},function(t,e){pt.fn[t]=function(i,n){var o=pt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=pt.filter(n,o)),this.length>1&&(Et[t]||(o=pt.uniqueSort(o)),At.test(t)&&(o=o.reverse())),this.pushStack(o)}});var Mt=/\S+/g;pt.Callbacks=function(t){t="string"==typeof t?r(t):pt.extend({},t);var e,i,n,o,a=[],s=[],l=-1,u=function(){for(o=t.once,n=e=!0;s.length;l=-1)for(i=s.shift();++l<a.length;)a[l].apply(i[0],i[1])===!1&&t.stopOnFalse&&(l=a.length,i=!1);t.memory||(i=!1),e=!1,o&&(a=i?[]:"")},c={add:function(){return a&&(i&&!e&&(l=a.length-1,s.push(i)),function n(e){pt.each(e,function(e,i){pt.isFunction(i)?t.unique&&c.has(i)||a.push(i):i&&i.length&&"string"!==pt.type(i)&&n(i)})}(arguments),i&&!e&&u()),this},remove:function(){return pt.each(arguments,function(t,e){for(var i;(i=pt.inArray(e,a,i))>-1;)a.splice(i,1),l>=i&&l--}),this},has:function(t){return t?pt.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=i="",this},disabled:function(){return!a},lock:function(){return o=!0,i||c.disable(),this},locked:function(){return!!o},fireWith:function(t,i){return o||(i=i||[],i=[t,i.slice?i.slice():i],s.push(i),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},pt.extend({Deferred:function(t){var e=[["resolve","done",pt.Callbacks("once memory"),"resolved"],["reject","fail",pt.Callbacks("once memory"),"rejected"],["notify","progress",pt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return pt.Deferred(function(i){pt.each(e,function(e,r){var a=pt.isFunction(t[e])&&t[e];o[r[1]](function(){var t=a&&a.apply(this,arguments);t&&pt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[r[0]+"With"](this===n?i.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?pt.extend(t,n):n}},o={};return n.pipe=n.then,pt.each(e,function(t,r){var a=r[2],s=r[3];n[r[1]]=a.add,s&&a.add(function(){i=s},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=a.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,r=ot.call(arguments),a=r.length,s=1!==a||t&&pt.isFunction(t.promise)?a:0,l=1===s?t:pt.Deferred(),u=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?ot.call(arguments):o,n===e?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(a>1)for(e=new Array(a),i=new Array(a),n=new Array(a);a>o;o++)r[o]&&pt.isFunction(r[o].promise)?r[o].promise().progress(u(o,i,e)).done(u(o,n,r)).fail(l.reject):--s;return s||l.resolveWith(n,r),l.promise()}});var Dt;pt.fn.ready=function(t){return pt.ready.promise().done(t),this},pt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?pt.readyWait++:pt.ready(!0)},ready:function(t){(t===!0?--pt.readyWait:pt.isReady)||(pt.isReady=!0,t!==!0&&--pt.readyWait>0||(Dt.resolveWith(nt,[pt]),pt.fn.triggerHandler&&(pt(nt).triggerHandler("ready"),pt(nt).off("ready"))))}}),pt.ready.promise=function(e){if(!Dt)if(Dt=pt.Deferred(),"complete"===nt.readyState||"loading"!==nt.readyState&&!nt.documentElement.doScroll)t.setTimeout(pt.ready);else if(nt.addEventListener)nt.addEventListener("DOMContentLoaded",s),t.addEventListener("load",s);else{nt.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var i=!1;try{i=null==t.frameElement&&nt.documentElement}catch(n){}i&&i.doScroll&&!function o(){if(!pt.isReady){try{i.doScroll("left")}catch(e){return t.setTimeout(o,50)}a(),pt.ready()}}()}return Dt.promise(e)},pt.ready.promise();var It;for(It in pt(ht))break;ht.ownFirst="0"===It,ht.inlineBlockNeedsLayout=!1,pt(function(){var t,e,i,n;i=nt.getElementsByTagName("body")[0],i&&i.style&&(e=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ht.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(n))}),function(){var t=nt.createElement("div");ht.deleteExpando=!0;try{delete t.test}catch(e){ht.deleteExpando=!1}t=null}();var Pt=function(t){var e=pt.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return 1!==i&&9!==i?!1:!e||e!==!0&&t.getAttribute("classid")===e},Lt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ot=/([A-Z])/g;pt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?pt.cache[t[pt.expando]]:t[pt.expando],!!t&&!u(t)},data:function(t,e,i){return c(t,e,i)},removeData:function(t,e){return h(t,e)},_data:function(t,e,i){return c(t,e,i,!0)},_removeData:function(t,e){return h(t,e,!0)}}),pt.fn.extend({data:function(t,e){var i,n,o,r=this[0],a=r&&r.attributes;if(void 0===t){if(this.length&&(o=pt.data(r),1===r.nodeType&&!pt._data(r,"parsedAttrs"))){for(i=a.length;i--;)a[i]&&(n=a[i].name,0===n.indexOf("data-")&&(n=pt.camelCase(n.slice(5)),l(r,n,o[n])));pt._data(r,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){pt.data(this,t)}):arguments.length>1?this.each(function(){pt.data(this,t,e)}):r?l(r,t,pt.data(r,t)):void 0},removeData:function(t){return this.each(function(){pt.removeData(this,t)})}}),pt.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=pt._data(t,e),i&&(!n||pt.isArray(i)?n=pt._data(t,e,pt.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=pt.queue(t,e),n=i.length,o=i.shift(),r=pt._queueHooks(t,e),a=function(){pt.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete r.stop,o.call(t,a,r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return pt._data(t,i)||pt._data(t,i,{empty:pt.Callbacks("once memory").add(function(){pt._removeData(t,e+"queue"),pt._removeData(t,i)})})}}),pt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?pt.queue(this[0],t):void 0===e?this:this.each(function(){var i=pt.queue(this,t,e);pt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&pt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){pt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=pt.Deferred(),r=this,a=this.length,s=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)i=pt._data(r[a],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(s));return s(),o.promise(e)}}),function(){var t;ht.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,i,n;return i=nt.getElementsByTagName("body")[0],i&&i.style?(e=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(nt.createElement("div")).style.width="5px",t=3!==e.offsetWidth),i.removeChild(n),t):void 0}}();var zt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Rt=new RegExp("^(?:([+-])=|)("+zt+")([a-z%]*)$","i"),Nt=["Top","Right","Bottom","Left"],$t=function(t,e){return t=e||t,"none"===pt.css(t,"display")||!pt.contains(t.ownerDocument,t)},Ft=function(t,e,i,n,o,r,a){var s=0,l=t.length,u=null==i;if("object"===pt.type(i)){o=!0;for(s in i)Ft(t,e,s,i[s],!0,r,a)}else if(void 0!==n&&(o=!0,pt.isFunction(n)||(a=!0),u&&(a?(e.call(t,n),e=null):(u=e,e=function(t,e,i){return u.call(pt(t),i)})),e))for(;l>s;s++)e(t[s],i,a?n:n.call(t[s],s,e(t[s],i)));return o?t:u?e.call(t):l?e(t[0],i):r},Bt=/^(?:checkbox|radio)$/i,jt=/<([\w:-]+)/,Ht=/^$|\/(?:java|ecma)script/i,Wt=/^\s+/,qt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var t=nt.createElement("div"),e=nt.createDocumentFragment(),i=nt.createElement("input");t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ht.leadingWhitespace=3===t.firstChild.nodeType,ht.tbody=!t.getElementsByTagName("tbody").length,ht.htmlSerialize=!!t.getElementsByTagName("link").length,ht.html5Clone="<:nav></:nav>"!==nt.createElement("nav").cloneNode(!0).outerHTML,i.type="checkbox",i.checked=!0,e.appendChild(i),ht.appendChecked=i.checked,t.innerHTML="<textarea>x</textarea>",ht.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),i=nt.createElement("input"),i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),ht.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.noCloneEvent=!!t.addEventListener,t[pt.expando]=1,ht.attributes=!t.getAttribute(pt.expando)}();var Vt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ht.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Vt.optgroup=Vt.option,Vt.tbody=Vt.tfoot=Vt.colgroup=Vt.caption=Vt.thead,Vt.th=Vt.td;var Ut=/<|&#?\w+;/,Yt=/<tbody/i;!function(){var e,i,n=nt.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})i="on"+e,(ht[e]=i in t)||(n.setAttribute(i,"t"),ht[e]=n.attributes[i].expando===!1);n=null}();var Gt=/^(?:input|select|textarea)$/i,Xt=/^key/,Zt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Kt=/^(?:focusinfocus|focusoutblur)$/,Jt=/^([^.]*)(?:\.(.+)|)/;pt.event={global:{},add:function(t,e,i,n,o){var r,a,s,l,u,c,h,d,p,f,m,g=pt._data(t);if(g){for(i.handler&&(l=i,i=l.handler,o=l.selector),i.guid||(i.guid=pt.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(t){return"undefined"==typeof pt||t&&pt.event.triggered===t.type?void 0:pt.event.dispatch.apply(c.elem,arguments)},c.elem=t),e=(e||"").match(Mt)||[""],s=e.length;s--;)r=Jt.exec(e[s])||[],p=m=r[1],f=(r[2]||"").split(".").sort(),p&&(u=pt.event.special[p]||{},p=(o?u.delegateType:u.bindType)||p,u=pt.event.special[p]||{},h=pt.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&pt.expr.match.needsContext.test(o),namespace:f.join(".")},l),(d=a[p])||(d=a[p]=[],d.delegateCount=0,u.setup&&u.setup.call(t,n,f,c)!==!1||(t.addEventListener?t.addEventListener(p,c,!1):t.attachEvent&&t.attachEvent("on"+p,c))),u.add&&(u.add.call(t,h),h.handler.guid||(h.handler.guid=i.guid)),o?d.splice(d.delegateCount++,0,h):d.push(h),pt.event.global[p]=!0);t=null}},remove:function(t,e,i,n,o){var r,a,s,l,u,c,h,d,p,f,m,g=pt.hasData(t)&&pt._data(t);if(g&&(c=g.events)){for(e=(e||"").match(Mt)||[""],u=e.length;u--;)if(s=Jt.exec(e[u])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p){for(h=pt.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,d=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=d.length;r--;)a=d[r],!o&&m!==a.origType||i&&i.guid!==a.guid||s&&!s.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(d.splice(r,1),a.selector&&d.delegateCount--,h.remove&&h.remove.call(t,a));l&&!d.length&&(h.teardown&&h.teardown.call(t,f,g.handle)!==!1||pt.removeEvent(t,p,g.handle),delete c[p])}else for(p in c)pt.event.remove(t,p+e[u],i,n,!0);pt.isEmptyObject(c)&&(delete g.handle,pt._removeData(t,"events"))}},trigger:function(e,i,n,o){var r,a,s,l,u,c,h,d=[n||nt],p=ct.call(e,"type")?e.type:e,f=ct.call(e,"namespace")?e.namespace.split("."):[];if(s=c=n=n||nt,3!==n.nodeType&&8!==n.nodeType&&!Kt.test(p+pt.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),a=p.indexOf(":")<0&&"on"+p,e=e[pt.expando]?e:new pt.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:pt.makeArray(i,[e]),u=pt.event.special[p]||{},o||!u.trigger||u.trigger.apply(n,i)!==!1)){if(!o&&!u.noBubble&&!pt.isWindow(n)){for(l=u.delegateType||p,Kt.test(l+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),c=s;c===(n.ownerDocument||nt)&&d.push(c.defaultView||c.parentWindow||t)}for(h=0;(s=d[h++])&&!e.isPropagationStopped();)e.type=h>1?l:u.bindType||p,r=(pt._data(s,"events")||{})[e.type]&&pt._data(s,"handle"),r&&r.apply(s,i),r=a&&s[a],r&&r.apply&&Pt(s)&&(e.result=r.apply(s,i),e.result===!1&&e.preventDefault());if(e.type=p,!o&&!e.isDefaultPrevented()&&(!u._default||u._default.apply(d.pop(),i)===!1)&&Pt(n)&&a&&n[p]&&!pt.isWindow(n)){c=n[a],c&&(n[a]=null),pt.event.triggered=p;try{n[p]()}catch(m){}pt.event.triggered=void 0,c&&(n[a]=c)}return e.result}},dispatch:function(t){t=pt.event.fix(t);var e,i,n,o,r,a=[],s=ot.call(arguments),l=(pt._data(this,"events")||{})[t.type]||[],u=pt.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(a=pt.event.handlers.call(this,t,l),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(r.namespace)||(t.handleObj=r,t.data=r.data,n=((pt.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,o,r,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(n=[],i=0;s>i;i++)r=e[i],o=r.selector+" ",void 0===n[o]&&(n[o]=r.needsContext?pt(o,this).index(l)>-1:pt.find(o,this,null,[l]).length),n[o]&&n.push(r);n.length&&a.push({elem:l,handlers:n})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[pt.expando])return t;var e,i,n,o=t.type,r=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Zt.test(o)?this.mouseHooks:Xt.test(o)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,t=new pt.Event(r),e=n.length;e--;)i=n[e],t[i]=r[i];return t.target||(t.target=r.srcElement||nt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,o,r=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||nt,o=n.documentElement,i=n.body,t.pageX=e.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==b()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===b()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return pt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return pt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i){var n=pt.extend(new pt.Event,i,{type:t,isSimulated:!0});pt.event.trigger(n,null,e),n.isDefaultPrevented()&&i.preventDefault()}},pt.removeEvent=nt.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)}:function(t,e,i){var n="on"+e;t.detachEvent&&("undefined"==typeof t[n]&&(t[n]=null),t.detachEvent(n,i))},pt.Event=function(t,e){return this instanceof pt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?y:_):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||pt.now(),void(this[pt.expando]=!0)):new pt.Event(t,e)},pt.Event.prototype={constructor:pt.Event,isDefaultPrevented:_,isPropagationStopped:_,isImmediatePropagationStopped:_,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=y,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=y,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=y,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},pt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){pt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,r=t.handleObj;return o&&(o===n||pt.contains(n,o))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),ht.submit||(pt.event.special.submit={setup:function(){return pt.nodeName(this,"form")?!1:void pt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=pt.nodeName(e,"input")||pt.nodeName(e,"button")?pt.prop(e,"form"):void 0;i&&!pt._data(i,"submit")&&(pt.event.add(i,"submit._submit",function(t){t._submitBubble=!0}),pt._data(i,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&pt.event.simulate("submit",this.parentNode,t))},teardown:function(){return pt.nodeName(this,"form")?!1:void pt.event.remove(this,"._submit")}}),ht.change||(pt.event.special.change={setup:function(){return Gt.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(pt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),pt.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),pt.event.simulate("change",this,t)})),!1):void pt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Gt.test(e.nodeName)&&!pt._data(e,"change")&&(pt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||pt.event.simulate("change",this.parentNode,t)}),pt._data(e,"change",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return pt.event.remove(this,"._change"),!Gt.test(this.nodeName)}}),ht.focusin||pt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){pt.event.simulate(e,t.target,pt.event.fix(t))};pt.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=pt._data(n,e);o||n.addEventListener(t,i,!0),pt._data(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=pt._data(n,e)-1;o?pt._data(n,e,o):(n.removeEventListener(t,i,!0),pt._removeData(n,e))}}}),pt.fn.extend({on:function(t,e,i,n){return x(this,t,e,i,n)},one:function(t,e,i,n){return x(this,t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,pt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return e!==!1&&"function"!=typeof e||(i=e,e=void 0),i===!1&&(i=_),this.each(function(){pt.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){pt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?pt.event.trigger(t,e,i,!0):void 0}});var Qt=/ jQuery\d+="(?:null|\d+)"/g,te=new RegExp("<(?:"+qt+")[\\s/>]","i"),ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ie=/<script|<style|<link/i,ne=/checked\s*(?:[^=]|=\s*.checked.)/i,oe=/^true\/(.*)/,re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ae=p(nt),se=ae.appendChild(nt.createElement("div"));
pt.extend({htmlPrefilter:function(t){return t.replace(ee,"<$1></$2>")},clone:function(t,e,i){var n,o,r,a,s,l=pt.contains(t.ownerDocument,t);if(ht.html5Clone||pt.isXMLDoc(t)||!te.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(se.innerHTML=t.outerHTML,se.removeChild(r=se.firstChild)),!(ht.noCloneEvent&&ht.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(n=f(r),s=f(t),a=0;null!=(o=s[a]);++a)n[a]&&T(o,n[a]);if(e)if(i)for(s=s||f(t),n=n||f(r),a=0;null!=(o=s[a]);a++)S(o,n[a]);else S(t,r);return n=f(r,"script"),n.length>0&&m(n,!l&&f(t,"script")),n=s=o=null,r},cleanData:function(t,e){for(var i,n,o,r,a=0,s=pt.expando,l=pt.cache,u=ht.attributes,c=pt.event.special;null!=(i=t[a]);a++)if((e||Pt(i))&&(o=i[s],r=o&&l[o])){if(r.events)for(n in r.events)c[n]?pt.event.remove(i,n):pt.removeEvent(i,n,r.handle);l[o]&&(delete l[o],u||"undefined"==typeof i.removeAttribute?i[s]=void 0:i.removeAttribute(s),it.push(o))}}}),pt.fn.extend({domManip:A,detach:function(t){return E(this,t,!0)},remove:function(t){return E(this,t)},text:function(t){return Ft(this,function(t){return void 0===t?pt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||nt).createTextNode(t))},null,t,arguments.length)},append:function(){return A(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=w(this,t);e.appendChild(t)}})},prepend:function(){return A(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=w(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return A(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return A(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&pt.cleanData(f(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&pt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return pt.clone(this,t,e)})},html:function(t){return Ft(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Qt,""):void 0;if("string"==typeof t&&!ie.test(t)&&(ht.htmlSerialize||!te.test(t))&&(ht.leadingWhitespace||!Wt.test(t))&&!Vt[(jt.exec(t)||["",""])[1].toLowerCase()]){t=pt.htmlPrefilter(t);try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(pt.cleanData(f(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return A(this,arguments,function(e){var i=this.parentNode;pt.inArray(this,t)<0&&(pt.cleanData(f(this)),i&&i.replaceChild(e,this))},t)}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){pt.fn[t]=function(t){for(var i,n=0,o=[],r=pt(t),a=r.length-1;a>=n;n++)i=n===a?this:this.clone(!0),pt(r[n])[e](i),at.apply(o,i.get());return this.pushStack(o)}});var le,ue={HTML:"block",BODY:"block"},ce=/^margin/,he=new RegExp("^("+zt+")(?!px)[a-z%]+$","i"),de=function(t,e,i,n){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];o=i.apply(t,n||[]);for(r in e)t.style[r]=a[r];return o},pe=nt.documentElement;!function(){function e(){var e,c,h=nt.documentElement;h.appendChild(l),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=o=s=!1,n=a=!0,t.getComputedStyle&&(c=t.getComputedStyle(u),i="1%"!==(c||{}).top,s="2px"===(c||{}).marginLeft,o="4px"===(c||{width:"4px"}).width,u.style.marginRight="50%",n="4px"===(c||{marginRight:"4px"}).marginRight,e=u.appendChild(nt.createElement("div")),e.style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",u.style.width="1px",a=!parseFloat((t.getComputedStyle(e)||{}).marginRight),u.removeChild(e)),u.style.display="none",r=0===u.getClientRects().length,r&&(u.style.display="",u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=u.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",r=0===e[0].offsetHeight,r&&(e[0].style.display="",e[1].style.display="none",r=0===e[0].offsetHeight)),h.removeChild(l)}var i,n,o,r,a,s,l=nt.createElement("div"),u=nt.createElement("div");u.style&&(u.style.cssText="float:left;opacity:.5",ht.opacity="0.5"===u.style.opacity,ht.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",ht.clearCloneStyle="content-box"===u.style.backgroundClip,l=nt.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.innerHTML="",l.appendChild(u),ht.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,pt.extend(ht,{reliableHiddenOffsets:function(){return null==i&&e(),r},boxSizingReliable:function(){return null==i&&e(),o},pixelMarginRight:function(){return null==i&&e(),n},pixelPosition:function(){return null==i&&e(),i},reliableMarginRight:function(){return null==i&&e(),a},reliableMarginLeft:function(){return null==i&&e(),s}}))}();var fe,me,ge=/^(top|right|bottom|left)$/;t.getComputedStyle?(fe=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},me=function(t,e,i){var n,o,r,a,s=t.style;return i=i||fe(t),a=i?i.getPropertyValue(e)||i[e]:void 0,""!==a&&void 0!==a||pt.contains(t.ownerDocument,t)||(a=pt.style(t,e)),i&&!ht.pixelMarginRight()&&he.test(a)&&ce.test(e)&&(n=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=o,s.maxWidth=r),void 0===a?a:a+""}):pe.currentStyle&&(fe=function(t){return t.currentStyle},me=function(t,e,i){var n,o,r,a,s=t.style;return i=i||fe(t),a=i?i[e]:void 0,null==a&&s&&s[e]&&(a=s[e]),he.test(a)&&!ge.test(e)&&(n=s.left,o=t.runtimeStyle,r=o&&o.left,r&&(o.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=n,r&&(o.left=r)),void 0===a?a:a+""||"auto"});var ve=/alpha\([^)]*\)/i,ye=/opacity\s*=\s*([^)]*)/i,_e=/^(none|table(?!-c[ea]).+)/,be=new RegExp("^("+zt+")(.*)$","i"),xe={position:"absolute",visibility:"hidden",display:"block"},we={letterSpacing:"0",fontWeight:"400"},ke=["Webkit","O","Moz","ms"],Ce=nt.createElement("div").style;pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=me(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ht.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=pt.camelCase(e),l=t.style;if(e=pt.cssProps[s]||(pt.cssProps[s]=P(s)||s),a=pt.cssHooks[e]||pt.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(o=a.get(t,!1,n))?o:l[e];if(r=typeof i,"string"===r&&(o=Rt.exec(i))&&o[1]&&(i=d(t,e,o),r="number"),null!=i&&i===i&&("number"===r&&(i+=o&&o[3]||(pt.cssNumber[s]?"":"px")),ht.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),!(a&&"set"in a&&void 0===(i=a.set(t,i,n)))))try{l[e]=i}catch(u){}}},css:function(t,e,i,n){var o,r,a,s=pt.camelCase(e);return e=pt.cssProps[s]||(pt.cssProps[s]=P(s)||s),a=pt.cssHooks[e]||pt.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,i)),void 0===r&&(r=me(t,e,n)),"normal"===r&&e in we&&(r=we[e]),""===i||i?(o=parseFloat(r),i===!0||isFinite(o)?o||0:r):r}}),pt.each(["height","width"],function(t,e){pt.cssHooks[e]={get:function(t,i,n){return i?_e.test(pt.css(t,"display"))&&0===t.offsetWidth?de(t,xe,function(){return R(t,e,n)}):R(t,e,n):void 0},set:function(t,i,n){var o=n&&fe(t);return O(t,i,n?z(t,e,n,ht.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,o),o):0)}}}),ht.opacity||(pt.cssHooks.opacity={get:function(t,e){return ye.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,o=pt.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===pt.trim(r.replace(ve,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=ve.test(r)?r.replace(ve,o):r+" "+o)}}),pt.cssHooks.marginRight=I(ht.reliableMarginRight,function(t,e){return e?de(t,{display:"inline-block"},me,[t,"marginRight"]):void 0}),pt.cssHooks.marginLeft=I(ht.reliableMarginLeft,function(t,e){return e?(parseFloat(me(t,"marginLeft"))||(pt.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-de(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px":void 0}),pt.each({margin:"",padding:"",border:"Width"},function(t,e){pt.cssHooks[t+e]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];4>n;n++)o[t+Nt[n]+e]=r[n]||r[n-2]||r[0];return o}},ce.test(t)||(pt.cssHooks[t+e].set=O)}),pt.fn.extend({css:function(t,e){return Ft(this,function(t,e,i){var n,o,r={},a=0;if(pt.isArray(e)){for(n=fe(t),o=e.length;o>a;a++)r[e[a]]=pt.css(t,e[a],!1,n);return r}return void 0!==i?pt.style(t,e,i):pt.css(t,e)},t,e,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){$t(this)?pt(this).show():pt(this).hide()})}}),pt.Tween=N,N.prototype={constructor:N,init:function(t,e,i,n,o,r){this.elem=t,this.prop=i,this.easing=o||pt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(pt.cssNumber[i]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,i=N.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=pt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[pt.cssProps[t.prop]]&&!pt.cssHooks[t.prop]?t.elem[t.prop]=t.now:pt.style(t.elem,t.prop,t.now+t.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},pt.fx=N.prototype.init,pt.fx.step={};var Se,Te,Ae=/^(?:toggle|show|hide)$/,Ee=/queueHooks$/;pt.Animation=pt.extend(W,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return d(i.elem,t,Rt.exec(e),i),i}]},tweener:function(t,e){pt.isFunction(t)?(e=t,t=["*"]):t=t.match(Mt);for(var i,n=0,o=t.length;o>n;n++)i=t[n],W.tweeners[i]=W.tweeners[i]||[],W.tweeners[i].unshift(e)},prefilters:[j],prefilter:function(t,e){e?W.prefilters.unshift(t):W.prefilters.push(t)}}),pt.speed=function(t,e,i){var n=t&&"object"==typeof t?pt.extend({},t):{complete:i||!i&&e||pt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!pt.isFunction(e)&&e};return n.duration=pt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in pt.fx.speeds?pt.fx.speeds[n.duration]:pt.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){pt.isFunction(n.old)&&n.old.call(this),n.queue&&pt.dequeue(this,n.queue)},n},pt.fn.extend({fadeTo:function(t,e,i,n){return this.filter($t).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=pt.isEmptyObject(t),r=pt.speed(e,i,n),a=function(){var e=W(this,pt.extend({},t),r);(o||pt._data(this,"finish"))&&e.stop(!0)};return a.finish=a,o||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=pt.timers,a=pt._data(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&Ee.test(o)&&n(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(i),e=!1,r.splice(o,1));!e&&i||pt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=pt._data(this),n=i[t+"queue"],o=i[t+"queueHooks"],r=pt.timers,a=n?n.length:0;for(i.finish=!0,pt.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;a>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),pt.each(["toggle","show","hide"],function(t,e){var i=pt.fn[e];pt.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(F(e,!0),t,n,o)}}),pt.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){pt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),pt.timers=[],pt.fx.tick=function(){var t,e=pt.timers,i=0;for(Se=pt.now();i<e.length;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||pt.fx.stop(),Se=void 0},pt.fx.timer=function(t){pt.timers.push(t),t()?pt.fx.start():pt.timers.pop()},pt.fx.interval=13,pt.fx.start=function(){Te||(Te=t.setInterval(pt.fx.tick,pt.fx.interval))},pt.fx.stop=function(){t.clearInterval(Te),Te=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fn.delay=function(e,i){return e=pt.fx?pt.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var o=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(o)}})},function(){var t,e=nt.createElement("input"),i=nt.createElement("div"),n=nt.createElement("select"),o=n.appendChild(nt.createElement("option"));i=nt.createElement("div"),i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=i.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),i.appendChild(e),t=i.getElementsByTagName("a")[0],t.style.cssText="top:1px",ht.getSetAttribute="t"!==i.className,ht.style=/top/.test(t.getAttribute("style")),ht.hrefNormalized="/a"===t.getAttribute("href"),ht.checkOn=!!e.value,ht.optSelected=o.selected,ht.enctype=!!nt.createElement("form").enctype,n.disabled=!0,ht.optDisabled=!o.disabled,e=nt.createElement("input"),e.setAttribute("value",""),ht.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ht.radioValue="t"===e.value}();var Me=/\r/g;pt.fn.extend({val:function(t){var e,i,n,o=this[0];{if(arguments.length)return n=pt.isFunction(t),this.each(function(i){var o;1===this.nodeType&&(o=n?t.call(this,i,pt(this).val()):t,null==o?o="":"number"==typeof o?o+="":pt.isArray(o)&&(o=pt.map(o,function(t){return null==t?"":t+""})),e=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return e=pt.valHooks[o.type]||pt.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(Me,""):null==i?"":i)}}}),pt.extend({valHooks:{option:{get:function(t){var e=pt.find.attr(t,"value");return null!=e?e:pt.trim(pt.text(t))}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,r="select-one"===t.type||0>o,a=r?null:[],s=r?o+1:n.length,l=0>o?s:r?o:0;s>l;l++)if(i=n[l],(i.selected||l===o)&&(ht.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!pt.nodeName(i.parentNode,"optgroup"))){if(e=pt(i).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var i,n,o=t.options,r=pt.makeArray(e),a=o.length;a--;)if(n=o[a],pt.inArray(pt.valHooks.option.get(n),r)>=0)try{n.selected=i=!0}catch(s){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),o}}}}),pt.each(["radio","checkbox"],function(){pt.valHooks[this]={set:function(t,e){return pt.isArray(e)?t.checked=pt.inArray(pt(t).val(),e)>-1:void 0}},ht.checkOn||(pt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var De,Ie,Pe=pt.expr.attrHandle,Le=/^(?:checked|selected)$/i,Oe=ht.getSetAttribute,ze=ht.input;pt.fn.extend({attr:function(t,e){return Ft(this,pt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){pt.removeAttr(this,t)})}}),pt.extend({attr:function(t,e,i){var n,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof t.getAttribute?pt.prop(t,e,i):(1===r&&pt.isXMLDoc(t)||(e=e.toLowerCase(),o=pt.attrHooks[e]||(pt.expr.match.bool.test(e)?Ie:De)),void 0!==i?null===i?void pt.removeAttr(t,e):o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:(t.setAttribute(e,i+""),i):o&&"get"in o&&null!==(n=o.get(t,e))?n:(n=pt.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!ht.radioValue&&"radio"===e&&pt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,o=0,r=e&&e.match(Mt);if(r&&1===t.nodeType)for(;i=r[o++];)n=pt.propFix[i]||i,pt.expr.match.bool.test(i)?ze&&Oe||!Le.test(i)?t[n]=!1:t[pt.camelCase("default-"+i)]=t[n]=!1:pt.attr(t,i,""),t.removeAttribute(Oe?i:n)}}),Ie={set:function(t,e,i){return e===!1?pt.removeAttr(t,i):ze&&Oe||!Le.test(i)?t.setAttribute(!Oe&&pt.propFix[i]||i,i):t[pt.camelCase("default-"+i)]=t[i]=!0,i}},pt.each(pt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=Pe[e]||pt.find.attr;ze&&Oe||!Le.test(e)?Pe[e]=function(t,e,n){var o,r;return n||(r=Pe[e],Pe[e]=o,o=null!=i(t,e,n)?e.toLowerCase():null,Pe[e]=r),o}:Pe[e]=function(t,e,i){return i?void 0:t[pt.camelCase("default-"+e)]?e.toLowerCase():null}}),ze&&Oe||(pt.attrHooks.value={set:function(t,e,i){return pt.nodeName(t,"input")?void(t.defaultValue=e):De&&De.set(t,e,i)}}),Oe||(De={set:function(t,e,i){var n=t.getAttributeNode(i);return n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i)?e:void 0}},Pe.id=Pe.name=Pe.coords=function(t,e,i){var n;return i?void 0:(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},pt.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);return i&&i.specified?i.value:void 0},set:De.set},pt.attrHooks.contenteditable={set:function(t,e,i){De.set(t,""===e?!1:e,i)}},pt.each(["width","height"],function(t,e){pt.attrHooks[e]={set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}}})),ht.style||(pt.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Re=/^(?:input|select|textarea|button|object)$/i,Ne=/^(?:a|area)$/i;pt.fn.extend({prop:function(t,e){return Ft(this,pt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=pt.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),pt.extend({prop:function(t,e,i){var n,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&pt.isXMLDoc(t)||(e=pt.propFix[e]||e,o=pt.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=pt.find.attr(t,"tabindex");return e?parseInt(e,10):Re.test(t.nodeName)||Ne.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ht.hrefNormalized||pt.each(["href","src"],function(t,e){pt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ht.optSelected||(pt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),pt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pt.propFix[this.toLowerCase()]=this}),ht.enctype||(pt.propFix.enctype="encoding");var $e=/[\t\r\n\f]/g;pt.fn.extend({addClass:function(t){var e,i,n,o,r,a,s,l=0;if(pt.isFunction(t))return this.each(function(e){pt(this).addClass(t.call(this,e,q(this)))});if("string"==typeof t&&t)for(e=t.match(Mt)||[];i=this[l++];)if(o=q(i),n=1===i.nodeType&&(" "+o+" ").replace($e," ")){for(a=0;r=e[a++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");s=pt.trim(n),o!==s&&pt.attr(i,"class",s)}return this},removeClass:function(t){var e,i,n,o,r,a,s,l=0;if(pt.isFunction(t))return this.each(function(e){pt(this).removeClass(t.call(this,e,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Mt)||[];i=this[l++];)if(o=q(i),n=1===i.nodeType&&(" "+o+" ").replace($e," ")){for(a=0;r=e[a++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");s=pt.trim(n),o!==s&&pt.attr(i,"class",s)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):pt.isFunction(t)?this.each(function(i){pt(this).toggleClass(t.call(this,i,q(this),e),e)}):this.each(function(){var e,n,o,r;if("string"===i)for(n=0,o=pt(this),r=t.match(Mt)||[];e=r[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==i||(e=q(this),e&&pt._data(this,"__className__",e),pt.attr(this,"class",e||t===!1?"":pt._data(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+q(i)+" ").replace($e," ").indexOf(e)>-1)return!0;return!1}}),pt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){pt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),pt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Fe=t.location,Be=pt.now(),je=/\?/,He=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;pt.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var i,n=null,o=pt.trim(e+"");return o&&!pt.trim(o.replace(He,function(t,e,o,r){return i&&e&&(n=0),0===n?t:(i=o||e,n+=!r-!o,"")}))?Function("return "+o)():pt.error("Invalid JSON: "+e)},pt.parseXML=function(e){var i,n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(n=new t.DOMParser,i=n.parseFromString(e,"text/xml")):(i=new t.ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(e))}catch(o){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+e),i};var We=/#.*$/,qe=/([?&])_=[^&]*/,Ve=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ue=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ye=/^(?:GET|HEAD)$/,Ge=/^\/\//,Xe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ze={},Ke={},Je="*/".concat("*"),Qe=Fe.href,ti=Xe.exec(Qe.toLowerCase())||[];pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Qe,type:"GET",isLocal:Ue.test(ti[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pt.parseJSON,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Y(Y(t,pt.ajaxSettings),e):Y(pt.ajaxSettings,t)},ajaxPrefilter:V(Ze),ajaxTransport:V(Ke),ajax:function(e,i){function n(e,i,n,o){var r,h,y,_,x,k=i;2!==b&&(b=2,l&&t.clearTimeout(l),c=void 0,s=o||"",w.readyState=e>0?4:0,r=e>=200&&300>e||304===e,n&&(_=G(d,w,n)),_=X(d,_,w,r),r?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(pt.lastModified[a]=x),x=w.getResponseHeader("etag"),x&&(pt.etag[a]=x)),204===e||"HEAD"===d.type?k="nocontent":304===e?k="notmodified":(k=_.state,h=_.data,y=_.error,r=!y)):(y=k,!e&&k||(k="error",0>e&&(e=0))),w.status=e,w.statusText=(i||k)+"",r?m.resolveWith(p,[h,k,w]):m.rejectWith(p,[w,k,y]),w.statusCode(v),v=void 0,u&&f.trigger(r?"ajaxSuccess":"ajaxError",[w,d,r?h:y]),g.fireWith(p,[w,k]),u&&(f.trigger("ajaxComplete",[w,d]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var o,r,a,s,l,u,c,h,d=pt.ajaxSetup({},i),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?pt(p):pt.event,m=pt.Deferred(),g=pt.Callbacks("once memory"),v=d.statusCode||{},y={},_={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!h)for(h={};e=Ve.exec(s);)h[e[1].toLowerCase()]=e[2];e=h[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return b||(t=_[i]=_[i]||t,y[t]=e),this},overrideMimeType:function(t){return b||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)v[e]=[v[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||x;return c&&c.abort(e),n(0,e),this}};if(m.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||Qe)+"").replace(We,"").replace(Ge,ti[1]+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=pt.trim(d.dataType||"*").toLowerCase().match(Mt)||[""],null==d.crossDomain&&(o=Xe.exec(d.url.toLowerCase()),d.crossDomain=!(!o||o[1]===ti[1]&&o[2]===ti[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(ti[3]||("http:"===ti[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=pt.param(d.data,d.traditional)),U(Ze,d,i,w),2===b)return w;u=pt.event&&d.global,u&&0===pt.active++&&pt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ye.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(je.test(a)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=qe.test(a)?a.replace(qe,"$1_="+Be++):a+(je.test(a)?"&":"?")+"_="+Be++)),d.ifModified&&(pt.lastModified[a]&&w.setRequestHeader("If-Modified-Since",pt.lastModified[a]),pt.etag[a]&&w.setRequestHeader("If-None-Match",pt.etag[a])),(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Je+"; q=0.01":""):d.accepts["*"]);for(r in d.headers)w.setRequestHeader(r,d.headers[r]);if(d.beforeSend&&(d.beforeSend.call(p,w,d)===!1||2===b))return w.abort();x="abort";for(r in{success:1,error:1,complete:1})w[r](d[r]);if(c=U(Ke,d,i,w)){if(w.readyState=1,u&&f.trigger("ajaxSend",[w,d]),2===b)return w;d.async&&d.timeout>0&&(l=t.setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,c.send(y,n)}catch(k){if(!(2>b))throw k;n(-1,k)}}else n(-1,"No Transport");return w},getJSON:function(t,e,i){return pt.get(t,e,i,"json")},getScript:function(t,e){return pt.get(t,void 0,e,"script")}}),pt.each(["get","post"],function(t,e){pt[e]=function(t,i,n,o){return pt.isFunction(i)&&(o=o||n,n=i,i=void 0),pt.ajax(pt.extend({url:t,type:e,dataType:o,data:i,success:n},pt.isPlainObject(t)&&t))}}),pt._evalUrl=function(t){return pt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},pt.fn.extend({wrapAll:function(t){if(pt.isFunction(t))return this.each(function(e){pt(this).wrapAll(t.call(this,e))});if(this[0]){var e=pt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return pt.isFunction(t)?this.each(function(e){pt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=pt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=pt.isFunction(t);return this.each(function(i){pt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){pt.nodeName(this,"body")||pt(this).replaceWith(this.childNodes)}).end()}}),pt.expr.filters.hidden=function(t){return ht.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:K(t)},pt.expr.filters.visible=function(t){return!pt.expr.filters.hidden(t)};var ei=/%20/g,ii=/\[\]$/,ni=/\r?\n/g,oi=/^(?:submit|button|image|reset|file)$/i,ri=/^(?:input|select|textarea|keygen)/i;pt.param=function(t,e){var i,n=[],o=function(t,e){e=pt.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=pt.ajaxSettings&&pt.ajaxSettings.traditional),pt.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,function(){o(this.name,this.value)});else for(i in t)J(i,t[i],e,o);return n.join("&").replace(ei,"+")},pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&ri.test(this.nodeName)&&!oi.test(t)&&(this.checked||!Bt.test(t))}).map(function(t,e){var i=pt(this).val();return null==i?null:pt.isArray(i)?pt.map(i,function(t){return{name:e.name,value:t.replace(ni,"\r\n")}}):{name:e.name,value:i.replace(ni,"\r\n")}}).get()}}),pt.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return this.isLocal?tt():nt.documentMode>8?Q():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Q()||tt()}:Q;var ai=0,si={},li=pt.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in si)si[t](void 0,!0)}),ht.cors=!!li&&"withCredentials"in li,li=ht.ajax=!!li,li&&pt.ajaxTransport(function(e){if(!e.crossDomain||ht.cors){var i;return{send:function(n,o){var r,a=e.xhr(),s=++ai;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&a.setRequestHeader(r,n[r]+"");a.send(e.hasContent&&e.data||null),i=function(t,n){var r,l,u;if(i&&(n||4===a.readyState))if(delete si[s],i=void 0,a.onreadystatechange=pt.noop,n)4!==a.readyState&&a.abort();else{u={},r=a.status,"string"==typeof a.responseText&&(u.text=a.responseText);try{l=a.statusText}catch(c){l=""}r||!e.isLocal||e.crossDomain?1223===r&&(r=204):r=u.text?200:404}u&&o(r,l,u,a.getAllResponseHeaders())},e.async?4===a.readyState?t.setTimeout(i):a.onreadystatechange=si[s]=i:i()},abort:function(){i&&i(void 0,!0)}}}}),pt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),pt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=nt.head||pt("head")[0]||nt.documentElement;return{send:function(n,o){e=nt.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||o(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var ui=[],ci=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ui.pop()||pt.expando+"_"+Be++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",function(e,i,n){var o,r,a,s=e.jsonp!==!1&&(ci.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ci.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=pt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(ci,"$1"+o):e.jsonp!==!1&&(e.url+=(je.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||pt.error(o+" was not called"),a[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){a=arguments},n.always(function(){void 0===r?pt(t).removeProp(o):t[o]=r,e[o]&&(e.jsonpCallback=i.jsonpCallback,ui.push(o)),a&&pt.isFunction(r)&&r(a[0]),a=r=void 0}),"script"):void 0}),ht.createHTMLDocument=function(){if(!nt.implementation.createHTMLDocument)return!1;var t=nt.implementation.createHTMLDocument("");return t.body.innerHTML="<form></form><form></form>",2===t.body.childNodes.length}(),pt.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||(ht.createHTMLDocument?nt.implementation.createHTMLDocument(""):nt);var n=wt.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=v([t],e,o),
o&&o.length&&pt(o).remove(),pt.merge([],n.childNodes))};var hi=pt.fn.load;pt.fn.load=function(t,e,i){if("string"!=typeof t&&hi)return hi.apply(this,arguments);var n,o,r,a=this,s=t.indexOf(" ");return s>-1&&(n=pt.trim(t.slice(s,t.length)),t=t.slice(0,s)),pt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&pt.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,a.html(n?pt("<div>").append(pt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){a.each(function(){i.apply(a,r||[t.responseText,e,t])})}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){pt.fn[e]=function(t){return this.on(e,t)}}),pt.expr.filters.animated=function(t){return pt.grep(pt.timers,function(e){return t===e.elem}).length},pt.offset={setOffset:function(t,e,i){var n,o,r,a,s,l,u,c=pt.css(t,"position"),h=pt(t),d={};"static"===c&&(t.style.position="relative"),s=h.offset(),r=pt.css(t,"top"),l=pt.css(t,"left"),u=("absolute"===c||"fixed"===c)&&pt.inArray("auto",[r,l])>-1,u?(n=h.position(),a=n.top,o=n.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),pt.isFunction(e)&&(e=e.call(t,i,pt.extend({},s))),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+o),"using"in e?e.using.call(t,d):h.css(d)}},pt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){pt.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},o=this[0],r=o&&o.ownerDocument;if(r)return e=r.documentElement,pt.contains(e,o)?("undefined"!=typeof o.getBoundingClientRect&&(n=o.getBoundingClientRect()),i=et(r),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===pt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),pt.nodeName(t[0],"html")||(i=t.offset()),i.top+=pt.css(t[0],"borderTopWidth",!0),i.left+=pt.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-pt.css(n,"marginTop",!0),left:e.left-i.left-pt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!pt.nodeName(t,"html")&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||pe})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i=/Y/.test(e);pt.fn[t]=function(n){return Ft(this,function(t,n,o){var r=et(t);return void 0===o?r?e in r?r[e]:r.document.documentElement[n]:t[n]:void(r?r.scrollTo(i?pt(r).scrollLeft():o,i?o:pt(r).scrollTop()):t[n]=o)},t,n,arguments.length,null)}}),pt.each(["top","left"],function(t,e){pt.cssHooks[e]=I(ht.pixelPosition,function(t,i){return i?(i=me(t,e),he.test(i)?pt(t).position()[e]+"px":i):void 0})}),pt.each({Height:"height",Width:"width"},function(t,e){pt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){pt.fn[n]=function(n,o){var r=arguments.length&&(i||"boolean"!=typeof n),a=i||(n===!0||o===!0?"margin":"border");return Ft(this,function(e,i,n){var o;return pt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===n?pt.css(e,i,a):pt.style(e,i,n,a)},e,r?n:void 0,r,null)}})}),pt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),pt.fn.size=function(){return this.length},pt.fn.andSelf=pt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pt});var di=t.jQuery,pi=t.$;return pt.noConflict=function(e){return t.$===pt&&(t.$=pi),e&&t.jQuery===pt&&(t.jQuery=di),pt},e||(t.jQuery=t.$=pt),pt}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,n){var o,r,a,s=e.nodeName.toLowerCase();return"area"===s?(o=e.parentNode,r=o.name,e.href&&r&&"map"===o.nodeName.toLowerCase()?(a=t("img[usemap='#"+r+"']")[0],!!a&&i(a)):!1):(/^(input|select|textarea|button|object)$/.test(s)?!e.disabled:"a"===s?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),n="absolute"===i,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=t(this);return n&&"static"===e.css("position")?!1:o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&r.length?r:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var n=t.attr(i,"tabindex"),o=isNaN(n);return(o||n>=0)&&e(i,!o)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function n(e,i,n,r){return t.each(o,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var o="Width"===i?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(r,n(this,e)+"px")})},t.fn["outer"+i]=function(e,o){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(r,n(this,e,!0,o)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,n,o=t(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0}}),t.ui.plugin={add:function(e,i,n){var o,r=t.ui[e].prototype;for(o in n)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([i,n[o]])},call:function(t,e,i,n){var o,r=t.plugins[e];if(r&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<r.length;o++)t.options[r[o][0]]&&r[o][1].apply(t.element,i)}}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e=0,i=Array.prototype.slice;return t.cleanData=function(e){return function(i){var n,o,r;for(r=0;null!=(o=i[r]);r++)try{n=t._data(o,"events"),n&&n.remove&&t(o).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var o,r,a,s,l={},u=e.split(".")[0];return e=e.split(".")[1],o=u+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[u]=t[u]||{},r=t[u][e],a=t[u][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new a(t,e)},t.extend(a,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),s=new i,s.options=t.widget.extend({},s.options),t.each(n,function(e,n){return t.isFunction(n)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},o=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,r=this._superApply;return this._super=t,this._superApply=o,e=n.apply(this,arguments),this._super=i,this._superApply=r,e}}()):void(l[e]=n)}),a.prototype=t.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix||e:e},l,{constructor:a,namespace:u,widgetName:e,widgetFullName:o}),r?(t.each(r._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete r._childConstructors):i._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var n,o,r=i.call(arguments,1),a=0,s=r.length;s>a;a++)for(n in r[a])o=r[a][n],r[a].hasOwnProperty(n)&&void 0!==o&&(t.isPlainObject(o)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],o):t.widget.extend({},o):e[n]=o);return e},t.widget.bridge=function(e,n){var o=n.prototype.widgetFullName||e;t.fn[e]=function(r){var a="string"==typeof r,s=i.call(arguments,1),l=this;return a?this.each(function(){var i,n=t.data(this,o);return"instance"===r?(l=n,!1):n?t.isFunction(n[r])&&"_"!==r.charAt(0)?(i=n[r].apply(n,s),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):(s.length&&(r=t.widget.extend.apply(null,[r].concat(s))),this.each(function(){var e=t.data(this,o);e?(e.option(r||{}),e._init&&e._init()):t.data(this,o,new n(r,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,o,r,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},n=e.split("."),e=n.shift(),n.length){for(o=a[e]=t.widget.extend({},this.options[e]),r=0;r<n.length-1;r++)o[n[r]]=o[n[r]]||{},o=o[n[r]];if(e=n.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var o,r=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=o=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),t.each(n,function(n,a){function s(){return e||r.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?r[a]:a).apply(r,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+r.eventNamespace,c=l[2];c?o.delegate(c,u,s):i.bind(u,s)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var o,r,a=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(o in r)o in i||(i[o]=r[o]);return this.element.trigger(i,n),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,o,r){"string"==typeof o&&(o={effect:o});var a,s=o?o===!0||"number"==typeof o?i:o.effect||i:e;o=o||{},"number"==typeof o&&(o={duration:o}),a=!t.isEmptyObject(o),o.complete=r,o.delay&&n.delay(o.delay),a&&t.effects&&t.effects.effect[s]?n[e](o):s!==e&&n[s]?n[s](o.duration,o.easing,r):n.queue(function(i){t(this)[e](),r&&r.call(n[0]),i()})}}),t.widget}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],t):t(jQuery)}(function(t){return t.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,o=this.headers.index(e.target),r=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(o+1)%n];break;case i.LEFT:case i.UP:r=this.headers[(o-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[n-1]}r&&(t(e.target).attr("tabIndex",-1),t(r).attr("tabIndex",0),r.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,n=i.heightStyle,o=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),n=e.next(),o=n.uniqueId().attr("id");e.attr("aria-controls",o),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(e=o.height(),this.element.siblings(":visible").each(function(){var i=t(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===n&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,n=this.active,o=t(e.currentTarget),r=o[0]===n[0],a=r&&i.collapsible,s=a?t():o.next(),l=n.next(),u={oldHeader:n,oldPanel:l,newHeader:a?t():o,newPanel:s};e.preventDefault(),r&&!i.collapsible||this._trigger("beforeActivate",e,u)===!1||(i.active=a?!1:this.headers.index(o),this.active=r?t():o,this._toggle(u),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),r||(o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&o.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),o.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var n,o,r,a=this,s=0,l=t.css("box-sizing"),u=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},h=u&&c.down||c,d=function(){a._toggleComplete(i)};return"number"==typeof h&&(r=h),"string"==typeof h&&(o=h),o=o||h.easing||c.easing,r=r||h.duration||c.duration,e.length?t.length?(n=t.show().outerHeight(),e.animate(this.hideProps,{duration:r,easing:o,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:r,easing:o,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===l&&(s+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(n-e.outerHeight()-s),s=0)}})):e.animate(this.hideProps,r,o,d):t.animate(this.showProps,r,o,d)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){return function(){function e(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,r,a=Math.max,s=Math.abs,l=Math.round,u=/left|center|right/,c=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==o)return o;var e,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=n.children()[0];return t("body").append(n),e=r.offsetWidth,n.css("overflow","scroll"),i=r.offsetWidth,e===i&&(i=n[0].clientWidth),n.remove(),o=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),o="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,r="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:r?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),o=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:o,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||o?i.width():i.outerWidth(),height:n||o?i.height():i.outerHeight()}}},t.fn.position=function(o){if(!o||!o.of)return f.apply(this,arguments);o=t.extend({},o);var p,m,g,v,y,_,b=t(o.of),x=t.position.getWithinInfo(o.within),w=t.position.getScrollInfo(x),k=(o.collision||"flip").split(" "),C={};return _=n(b),b[0].preventDefault&&(o.at="left top"),m=_.width,g=_.height,v=_.offset,y=t.extend({},v),t.each(["my","at"],function(){var t,e,i=(o[this]||"").split(" ");1===i.length&&(i=u.test(i[0])?i.concat(["center"]):c.test(i[0])?["center"].concat(i):["center","center"]),i[0]=u.test(i[0])?i[0]:"center",i[1]=c.test(i[1])?i[1]:"center",t=h.exec(i[0]),e=h.exec(i[1]),C[this]=[t?t[0]:0,e?e[0]:0],o[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===o.at[0]?y.left+=m:"center"===o.at[0]&&(y.left+=m/2),"bottom"===o.at[1]?y.top+=g:"center"===o.at[1]&&(y.top+=g/2),p=e(C.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var n,u,c=t(this),h=c.outerWidth(),d=c.outerHeight(),f=i(this,"marginLeft"),_=i(this,"marginTop"),S=h+f+i(this,"marginRight")+w.width,T=d+_+i(this,"marginBottom")+w.height,A=t.extend({},y),E=e(C.my,c.outerWidth(),c.outerHeight());"right"===o.my[0]?A.left-=h:"center"===o.my[0]&&(A.left-=h/2),"bottom"===o.my[1]?A.top-=d:"center"===o.my[1]&&(A.top-=d/2),A.left+=E[0],A.top+=E[1],r||(A.left=l(A.left),A.top=l(A.top)),n={marginLeft:f,marginTop:_},t.each(["left","top"],function(e,i){t.ui.position[k[e]]&&t.ui.position[k[e]][i](A,{targetWidth:m,targetHeight:g,elemWidth:h,elemHeight:d,collisionPosition:n,collisionWidth:S,collisionHeight:T,offset:[p[0]+E[0],p[1]+E[1]],my:o.my,at:o.at,within:x,elem:c})}),o.using&&(u=function(t){var e=v.left-A.left,i=e+m-h,n=v.top-A.top,r=n+g-d,l={target:{element:b,left:v.left,top:v.top,width:m,height:g},element:{element:c,left:A.left,top:A.top,width:h,height:d},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":n>0?"bottom":"middle"};h>m&&s(e+i)<m&&(l.horizontal="center"),d>g&&s(n+r)<g&&(l.vertical="middle"),a(s(e),s(i))>a(s(n),s(r))?l.important="horizontal":l.important="vertical",o.using.call(this,t,l)}),c.offset(t.extend(A,{using:u}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollLeft:n.offset.left,r=n.width,s=t.left-e.collisionPosition.marginLeft,l=o-s,u=s+e.collisionWidth-r-o;e.collisionWidth>r?l>0&&0>=u?(i=t.left+l+e.collisionWidth-r-o,t.left+=l-i):u>0&&0>=l?t.left=o:l>u?t.left=o+r-e.collisionWidth:t.left=o:l>0?t.left+=l:u>0?t.left-=u:t.left=a(t.left-s,t.left)},top:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollTop:n.offset.top,r=e.within.height,s=t.top-e.collisionPosition.marginTop,l=o-s,u=s+e.collisionHeight-r-o;e.collisionHeight>r?l>0&&0>=u?(i=t.top+l+e.collisionHeight-r-o,t.top+=l-i):u>0&&0>=l?t.top=o:l>u?t.top=o+r-e.collisionHeight:t.top=o:l>0?t.top+=l:u>0?t.top-=u:t.top=a(t.top-s,t.top)}},flip:{left:function(t,e){var i,n,o=e.within,r=o.offset.left+o.scrollLeft,a=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,u=t.left-e.collisionPosition.marginLeft,c=u-l,h=u+e.collisionWidth-a-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-a-r,(0>i||i<s(c))&&(t.left+=d+p+f)):h>0&&(n=t.left-e.collisionPosition.marginLeft+d+p+f-l,(n>0||s(n)<h)&&(t.left+=d+p+f))},top:function(t,e){var i,n,o=e.within,r=o.offset.top+o.scrollTop,a=o.height,l=o.isWindow?o.scrollTop:o.offset.top,u=t.top-e.collisionPosition.marginTop,c=u-l,h=u+e.collisionHeight-a-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>c?(n=t.top+p+f+m+e.collisionHeight-a-r,(0>n||n<s(c))&&(t.top+=p+f+m)):h>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-l,(i>0||s(i)<h)&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,o,a,s=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(s?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in n)e.style[a]=n[a];e.appendChild(l),i=s||document.documentElement,i.insertBefore(e,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",o=t(l).offset().left,r=o>10&&11>o,e.innerHTML="",i.removeChild(e)}()}(),t.ui.position}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position"],t):t(jQuery)}(function(t){return t.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var i,n,o,r,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,n=this.previousFilter||"",o=String.fromCharCode(e.keyCode),r=!1,clearTimeout(this.filterTimer),o===n?r=!0:o=n+o,i=this._filterMenuItems(o),i=r&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(o=String.fromCharCode(e.keyCode),i=this._filterMenuItems(o)),i.length?(this.focus(e,i),this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){
var e,i,n=this,o=this.options.icons.submenu,r=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),r.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.parent(),n=t("<span>").addClass("ui-menu-icon ui-icon "+o).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",i.attr("id"))}),e=r.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);n._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,o,r,a,s;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,o=e.offset().top-this.activeMenu.offset().top-i-n,r=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=e.outerHeight(),0>o?this.activeMenu.scrollTop(r+o):o+s>a&&this.activeMenu.scrollTop(r+o-a+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[e]()),this.focus(i,n)},nextPage:function(e){var i,n,o;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n-o<0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,n,o;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+o>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(t.trim(t(this).text()))})}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position","./menu"],t):t(jQuery)}(function(t){return t.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,n,o=this.element[0].nodeName.toLowerCase(),r="textarea"===o,a="input"===o;this.isMultiLine=r?!0:a?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[r||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var r=t.ui.keyCode;switch(o.keyCode){case r.PAGE_UP:e=!0,this._move("previousPage",o);break;case r.PAGE_DOWN:e=!0,this._move("nextPage",o);break;case r.UP:e=!0,this._keyEvent("previous",o);break;case r.DOWN:e=!0,this._keyEvent("next",o);break;case r.ENTER:this.menu.active&&(e=!0,o.preventDefault(),this.menu.select(o));break;case r.TAB:this.menu.active&&this.menu.select(o);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(o),o.preventDefault());break;default:i=!0,this._searchTimeout(o)}},keypress:function(n){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||n.preventDefault());if(!i){var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:this._move("previousPage",n);break;case o.PAGE_DOWN:this._move("nextPage",n);break;case o.UP:this._keyEvent("previous",n);break;case o.DOWN:this._keyEvent("next",n)}}},input:function(t){return n?(n=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(n){n.target===e.element[0]||n.target===i||t.contains(i,n.target)||e.close()})})},menufocus:function(e,i){var n,o;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(o=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:o})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(o.value),n=i.item.attr("aria-label")||o.value,void(n&&t.trim(n).length&&(this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))))},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,o){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){o(t)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),n=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||i||n)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").text(i.label).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],t):t(jQuery)}(function(t){var e,i="ui-button ui-widget ui-state-default ui-corner-all",n="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",o=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},r=function(e){var i=e.name,n=e.form,o=t([]);return i&&(i=i.replace(/'/g,"\\'"),o=n?t(n).find("[name='"+i+"'][type=radio]"):t("[name='"+i+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),o};return t.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,o),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var n=this,a=this.options,s="checkbox"===this.type||"radio"===this.type,l=s?"":"ui-state-active";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(i).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){a.disabled||this===e&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){a.disabled||t(this).removeClass(l)}).bind("click"+this.eventNamespace,function(t){a.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),s&&this.element.bind("change"+this.eventNamespace,function(){n.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return a.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled)return!1;t(this).addClass("ui-state-active"),n.buttonElement.attr("aria-pressed","true");var e=n.element[0];r(e).not(e).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return a.disabled?!1:(t(this).addClass("ui-state-active"),e=this,void n.document.one("mouseup",function(){e=null}))}).bind("mouseup"+this.eventNamespace,function(){return a.disabled?!1:void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return a.disabled?!1:void(e.keyCode!==t.ui.keyCode.SPACE&&e.keyCode!==t.ui.keyCode.ENTER||t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(i+" ui-state-active "+n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?r(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(n),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),o=this.options.icons,r=o.primary&&o.secondary,a=[];o.primary||o.secondary?(this.options.text&&a.push("ui-button-text-icon"+(r?"s":o.primary?"-primary":"-secondary")),o.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+o.primary+"'></span>"),o.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+o.secondary+"'></span>"),this.options.text||(a.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):a.push("ui-button-text-only"),e.addClass(a.join(" "))}}),t.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),n=i.filter(":ui-button");i.not(":ui-button").button(),n.button("refresh"),this.buttons=i.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),t.ui.button}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core"],t):t(jQuery)}(function(t){function e(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",o)}function o(){t.datepicker._isDisabledDatepicker(a.inline?a.dpDiv.parent()[0]:a.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function r(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}t.extend(t.ui,{datepicker:{version:"1.11.4"}});var a;return t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,o,r;n=e.nodeName.toLowerCase(),o="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),r=this._newInst(t(e),o),r.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,r):o&&this._inlineDatepicker(e,r)},_newInst:function(e,i){var o=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:o,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,o,r,a=this._get(i,"appendText"),s=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[s?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),"focus"!==n&&"both"!==n||e.focus(this._showDatepicker),"button"!==n&&"both"!==n||(o=this._get(i,"buttonText"),r=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:r,alt:o,title:o}):t("<button type='button'></button>").addClass(this._triggerClass).html(r?t("<img/>").attr({src:r,alt:o,title:o}):o)),e[s?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,o,r=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,n=0,o=0;o<t.length;o++)t[o].length>i&&(i=t[o].length,n=o);return n},r.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),t.input.attr("size",this._formatDate(t,r).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,o,a){var s,l,u,c,h,d=this._dialogInst;return d||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),r(d.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(l=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,u/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(o.append.remove(),o.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||n.removeClass(this.markerClassName).empty(),a===o&&(a=null))},_enableDatepicker:function(e){var i,n,o=t(e),r=t.data(e,"datepicker");o.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||(n=o.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,o=t(e),r=t.data(e,"datepicker");o.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||(n=o.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var o,a,s,l,u=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):u?"all"===i?t.extend({},u.settings):this._get(u,i):null:(o=i||{},"string"==typeof i&&(o={},o[i]=n),void(u&&(this._curInst===u&&this._hideDatepicker(),a=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(u,"min"),l=this._getMinMaxDate(u,"max"),r(u.settings,o),null!==s&&void 0!==o.dateFormat&&void 0===o.minDate&&(u.settings.minDate=this._formatDate(u,s)),null!==l&&void 0!==o.dateFormat&&void 0===o.maxDate&&(u.settings.maxDate=this._formatDate(u,l)),"disabled"in o&&(o.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),u),this._autoSize(u),this._setDate(u,a),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,o,r=t.datepicker._getInst(e.target),a=!0,s=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return o=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",r.dpDiv),o[0]&&t.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,o[0]),i=t.datepicker._get(r,"onSelect"),i?(n=t.datepicker._formatDate(r),i.apply(r.input?r.input[0]:null,[n,r])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;
break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,o=t.datepicker._getInst(e.target);return t.datepicker._get(o,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(o,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(o){}return!0},_showDatepicker:function(i){if(i=i.target||i,"input"!==i.nodeName.toLowerCase()&&(i=t("input",i.parentNode)[0]),!t.datepicker._isDisabledDatepicker(i)&&t.datepicker._lastInput!==i){var n,o,a,s,l,u,c;n=t.datepicker._getInst(i),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),o=t.datepicker._get(n,"beforeShow"),a=o?o.apply(i,[i,n]):{},a!==!1&&(r(n.settings,a),n.lastVal=null,t.datepicker._lastInput=i,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(i.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(i),t.datepicker._pos[1]+=i.offsetHeight),s=!1,t(i).parents().each(function(){return s|="fixed"===t(this).css("position"),!s}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),l=t.datepicker._checkOffset(n,l,s),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),n.inline||(u=t.datepicker._get(n,"showAnim"),c=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",e(t(i))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[u]?n.dpDiv.show(u,t.datepicker._get(n,"showOptions"),c):n.dpDiv[u||"show"](u?c:null),t.datepicker._shouldFocusInput(n)&&n.input.focus(),t.datepicker._curInst=n))}},_updateDatepicker:function(e){this.maxRows=4,a=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,n=this._getNumberOfMonths(e),r=n[1],s=17,l=e.dpDiv.find("."+this._dayOverClass+" a");l.length>0&&o.apply(l.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",s*r+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var o=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?o-a:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+s?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+o>l&&l>o?Math.abs(i.left+o-l):0),i.top-=Math.min(i.top,i.top+r>u&&u>r?Math.abs(r+s):0),i},_findPos:function(e){for(var i,n=this._getInst(e),o=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[o?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,o,r,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),n=this._get(a,"duration"),o=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),n,o):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,o),i||o(),this._datepickerShowing=!1,r=this._get(a,"onClose"),r&&r.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id===t.datepicker._mainDivId||0!==i.parents("#"+t.datepicker._mainDivId).length||i.hasClass(t.datepicker.markerClassName)||i.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!i.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===n)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var o=t(e),r=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(r,i+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(e){var i,n=t(e),o=this._getInst(n[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(i=new Date,o.selectedDay=i.getDate(),o.drawMonth=o.selectedMonth=i.getMonth(),o.drawYear=o.selectedYear=i.getFullYear()),this._notifyChange(o),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var o=t(e),r=this._getInst(o[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(o)},_selectDay:function(e,i,n,o){var r,a=t(e);t(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(r=this._getInst(a[0]),r.selectedDay=r.currentDay=t("a",o).html(),r.selectedMonth=r.currentMonth=i,r.selectedYear=r.currentYear=n,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,o=t(e),r=this._getInst(o[0]);i=null!=i?i:this._formatDate(r),r.input&&r.input.val(i),this._updateAlternate(r),n=this._get(r,"onSelect"),n?n.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,o,r=this._get(e,"altField");r&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),o=this.formatDate(i,n,this._getFormatConfig(e)),t(r).each(function(){t(this).val(o)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var o,r,a,s,l=0,u=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,d=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,_=!1,b=function(t){var i=o+1<e.length&&e.charAt(o+1)===t;return i&&o++,i},x=function(t){var e=b(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,o="y"===t?n:1,r=new RegExp("^\\d{"+o+","+n+"}"),a=i.substring(l).match(r);if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},w=function(e,n,o){var r=-1,a=t.map(b(e)?o:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var n=e[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(r=e[0],l+=n.length,!1):void 0}),-1!==r)return r+1;throw"Unknown name at position "+l},k=function(){if(i.charAt(l)!==e.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;o<e.length;o++)if(_)"'"!==e.charAt(o)||b("'")?k():_=!1;else switch(e.charAt(o)){case"d":v=x("d");break;case"D":w("D",h,d);break;case"o":y=x("o");break;case"m":g=x("m");break;case"M":g=w("M",p,f);break;case"y":m=x("y");break;case"@":s=new Date(x("@")),m=s.getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"!":s=new Date((x("!")-this._ticksTo1970)/1e4),m=s.getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"'":b("'")?k():_=!0;break;default:k()}if(l<i.length&&(a=i.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=m?0:-100)),y>-1)for(g=1,v=y;;){if(r=this._getDaysInMonth(m,g-1),r>=v)break;g++,v-=r}if(s=this._daylightSavingAdjust(new Date(m,g-1,v)),s.getFullYear()!==m||s.getMonth()+1!==g||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var n,o=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,s=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},u=function(t,e,i){var n=""+e;if(l(t))for(;n.length<i;)n="0"+n;return n},c=function(t,e,i,n){return l(t)?n[e]:i[e]},h="",d=!1;if(e)for(n=0;n<t.length;n++)if(d)"'"!==t.charAt(n)||l("'")?h+=t.charAt(n):d=!1;else switch(t.charAt(n)){case"d":h+=u("d",e.getDate(),2);break;case"D":h+=c("D",e.getDay(),o,r);break;case"o":h+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=u("m",e.getMonth()+1,2);break;case"M":h+=c("M",e.getMonth(),a,s);break;case"y":h+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=t.charAt(n)}return h},_possibleChars:function(t){var e,i="",n=!1,o=function(i){var n=e+1<t.length&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;e<t.length;e++)if(n)"'"!==t.charAt(e)||o("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":o("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,o=this._getDefaultDate(t),r=o,a=this._getFormatConfig(t);try{r=this.parseDate(i,n,a)||o}catch(s){n=e?"":n}t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),t.currentDay=n?r.getDate():0,t.currentMonth=n?r.getMonth():0,t.currentYear=n?r.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var o=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},r=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(n){}for(var o=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=o.getFullYear(),a=o.getMonth(),s=o.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=l.exec(i);u;){switch(u[2]||"d"){case"d":case"D":s+=parseInt(u[1],10);break;case"w":case"W":s+=7*parseInt(u[1],10);break;case"m":case"M":a+=parseInt(u[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,a));break;case"y":case"Y":r+=parseInt(u[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,a))}u=l.exec(i)}return new Date(r,a,s)},a=null==i||""===i?n:"string"==typeof i?r(i):"number"==typeof i?isNaN(i)?n:o(i):new Date(i.getTime());return a=a&&"Invalid Date"===a.toString()?n:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,o=t.selectedMonth,r=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),o===t.selectedMonth&&r===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,o,r,a,s,l,u,c,h,d,p,f,m,g,v,y,_,b,x,w,k,C,S,T,A,E,M,D,I,P,L,O,z,R,N,$,F,B=new Date,j=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth(),B.getDate())),H=this._get(t,"isRTL"),W=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),V=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),Y=this._get(t,"showCurrentAtPos"),G=this._get(t,"stepMonths"),X=1!==U[0]||1!==U[1],Z=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Q=t.drawMonth-Y,tt=t.drawYear;if(0>Q&&(Q+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=K&&K>e?K:e;this._daylightSavingAdjust(new Date(tt,Q,1))>e;)Q--,0>Q&&(Q=11,tt--);for(t.drawMonth=Q,t.drawYear=tt,i=this._get(t,"prevText"),i=V?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Q-G,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>",o=this._get(t,"nextText"),o=V?this.formatDate(o,this._daylightSavingAdjust(new Date(tt,Q+G,1)),this._getFormatConfig(t)):o,r=this._canAdjustMonth(t,1,tt,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+o+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+o+"</span></a>",a=this._get(t,"currentText"),s=this._get(t,"gotoCurrent")&&t.currentDay?Z:j,a=V?this.formatDate(a,s,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?l:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(H?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),_=this._getDefaultDate(t),b="",w=0;w<U[0];w++){for(k="",this.maxRows=4,C=0;C<U[1];C++){if(S=this._daylightSavingAdjust(new Date(tt,Q,t.selectedDay)),T=" ui-corner-all",A="",X){if(A+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:A+=" ui-datepicker-group-first",T=" ui-corner-"+(H?"right":"left");break;case U[1]-1:A+=" ui-datepicker-group-last",T=" ui-corner-"+(H?"left":"right");break;default:A+=" ui-datepicker-group-middle",T=""}A+="'>"}for(A+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===w?H?r:n:"")+(/all|right/.test(T)&&0===w?H?n:r:"")+this._generateMonthYearHeader(t,Q,tt,K,J,w>0||C>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",E=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",x=0;7>x;x++)M=(x+c)%7,E+="<th scope='col'"+((x+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[M]+"'>"+p[M]+"</span></th>";for(A+=E+"</tr></thead><tbody>",D=this._getDaysInMonth(tt,Q),tt===t.selectedYear&&Q===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,D)),I=(this._getFirstDayOfMonth(tt,Q)-c+7)%7,P=Math.ceil((I+D)/7),L=X&&this.maxRows>P?this.maxRows:P,this.maxRows=L,O=this._daylightSavingAdjust(new Date(tt,Q,1-I)),z=0;L>z;z++){for(A+="<tr>",R=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(O)+"</td>":"",x=0;7>x;x++)N=g?g.apply(t.input?t.input[0]:null,[O]):[!0,""],$=O.getMonth()!==Q,F=$&&!y||!N[0]||K&&K>O||J&&O>J,R+="<td class='"+((x+c+6)%7>=5?" ui-datepicker-week-end":"")+($?" ui-datepicker-other-month":"")+(O.getTime()===S.getTime()&&Q===t.selectedMonth&&t._keyEvent||_.getTime()===O.getTime()&&_.getTime()===S.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+($&&!v?"":" "+N[1]+(O.getTime()===Z.getTime()?" "+this._currentClass:"")+(O.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+($&&!v||!N[2]?"":" title='"+N[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+O.getMonth()+"' data-year='"+O.getFullYear()+"'")+">"+($&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+O.getDate()+"</span>":"<a class='ui-state-default"+(O.getTime()===j.getTime()?" ui-state-highlight":"")+(O.getTime()===Z.getTime()?" ui-state-active":"")+($?" ui-priority-secondary":"")+"' href='#'>"+O.getDate()+"</a>")+"</td>",O.setDate(O.getDate()+1),O=this._daylightSavingAdjust(O);A+=R+"</tr>"}Q++,Q>11&&(Q=0,tt++),A+="</tbody></table>"+(X?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=A}b+=k}return b+=u,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,i,n,o,r,a,s){var l,u,c,h,d,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",b="";if(r||!g)b+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=n&&n.getFullYear()===i,u=o&&o.getFullYear()===i,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=n.getMonth())&&(!u||c<=o.getMonth())&&(b+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+s[c]+"</option>");b+="</select>"}if(y||(_+=b+(!r&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",r||!v)_+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(h[0]),m=Math.max(f,p(h[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=o?Math.min(m,o.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",_+=t.yearshtml,t.yearshtml=null}return _+=this._get(t,"yearSuffix"),y&&(_+=(!r&&g&&v?"":"&#xa0;")+b),_+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),o=t.drawMonth+("M"===i?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(n,o))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,o,r)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),o=i&&i>e?i:e;return n&&o>n?n:o},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var o=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(i,n+(0>e?e:o[0]*o[1]),1));return 0>e&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var i,n,o=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),a=null,s=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),a=parseInt(i[0],10),s=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=n),i[1].match(/[+\-].*/)&&(s+=n)),(!o||e.getTime()>=o.getTime())&&(!r||e.getTime()<=r.getTime())&&(!a||e.getFullYear()>=a)&&(!s||e.getFullYear()<=s)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var o=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),o,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.4",t.datepicker}),function(t){"function"==typeof define&&define.amd?define(["jquery","./widget"],t):t(jQuery)}(function(t){var e=!1;return t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,o=1===i.which,r="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return o&&!r&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(i){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&t.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),e=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],t):t(jQuery)}(function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(n){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),o=n?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),
"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,o=this.options,r=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,t(r).width()-this.helperProportions.width-this.margins.left,(t(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),i=t(o.containment),n=i[0],void(n&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,o,r,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=t.pageX,u=t.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(u=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(u=i[3]+this.offset.click.top)),a.grid&&(o=a.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,u=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-a.grid[1]:o+a.grid[1]:o,r=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-a.grid[0]:r+a.grid[0]:r),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var o=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,o))})},stop:function(e,i,n){var o=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,o))})},drag:function(e,i,n){t.each(n.sortables,function(){var o=!1,r=this;r.positionAbs=n.positionAbs,r.helperProportions=n.helperProportions,r.offset.click=n.offset.click,r._intersectsWith(r.containerCache)&&(o=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==r&&this._intersectsWith(this.containerCache)&&t.contains(r.element[0],this.element[0])&&(o=!1),o})),o?(r.isOver||(r.isOver=1,n._parent=i.helper.parent(),r.currentItem=i.helper.appendTo(r.element).data("ui-sortable-item",!0),r.options._helper=r.options.helper,r.options.helper=function(){return i.helper[0]},e.target=r.currentItem[0],r._mouseCapture(e,!0),r._mouseStart(e,!0,!0),r.offset.click.top=n.offset.click.top,r.offset.click.left=n.offset.click.left,r.offset.parent.left-=n.offset.parent.left-r.offset.parent.left,r.offset.parent.top-=n.offset.parent.top-r.offset.parent.top,n._trigger("toSortable",e),n.dropped=r.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,r.fromOutside=n),r.currentItem&&(r._mouseDrag(e),i.position=r.position)):r.isOver&&(r.isOver=0,r.cancelHelperRemoval=!0,r.options._revert=r.options.revert,r.options.revert=!1,r._trigger("out",e,r._uiHash(r)),r._mouseStop(e,!0),r.options.revert=r.options._revert,r.options.helper=r.options._helper,r.placeholder&&r.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var o=t("body"),r=n.options;o.css("cursor")&&(r._cursor=o.css("cursor")),o.css("cursor",r.cursor)},stop:function(e,i,n){var o=n.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var o=t(i.helper),r=n.options;o.css("opacity")&&(r._opacity=o.css("opacity")),o.css("opacity",r.opacity)},stop:function(e,i,n){var o=n.options;o._opacity&&t(i.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,n){var o=n.options,r=!1,a=n.scrollParentNotHidden[0],s=n.document[0];a!==s&&"HTML"!==a.tagName?(o.axis&&"x"===o.axis||(n.overflowOffset.top+a.offsetHeight-e.pageY<o.scrollSensitivity?a.scrollTop=r=a.scrollTop+o.scrollSpeed:e.pageY-n.overflowOffset.top<o.scrollSensitivity&&(a.scrollTop=r=a.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(n.overflowOffset.left+a.offsetWidth-e.pageX<o.scrollSensitivity?a.scrollLeft=r=a.scrollLeft+o.scrollSpeed:e.pageX-n.overflowOffset.left<o.scrollSensitivity&&(a.scrollLeft=r=a.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(s).scrollTop()<o.scrollSensitivity?r=t(s).scrollTop(t(s).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(s).scrollTop())<o.scrollSensitivity&&(r=t(s).scrollTop(t(s).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(s).scrollLeft()<o.scrollSensitivity?r=t(s).scrollLeft(t(s).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(s).scrollLeft())<o.scrollSensitivity&&(r=t(s).scrollLeft(t(s).scrollLeft()+o.scrollSpeed)))),r!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var o=n.options;n.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var e=t(this),i=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,n){var o,r,a,s,l,u,c,h,d,p,f=n.options,m=f.snapTolerance,g=i.offset.left,v=g+n.helperProportions.width,y=i.offset.top,_=y+n.helperProportions.height;for(d=n.snapElements.length-1;d>=0;d--)l=n.snapElements[d].left-n.margins.left,u=l+n.snapElements[d].width,c=n.snapElements[d].top-n.margins.top,h=c+n.snapElements[d].height,l-m>v||g>u+m||c-m>_||y>h+m||!t.contains(n.snapElements[d].item.ownerDocument,n.snapElements[d].item)?(n.snapElements[d].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(o=Math.abs(c-_)<=m,r=Math.abs(h-y)<=m,a=Math.abs(l-v)<=m,s=Math.abs(u-g)<=m,o&&(i.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:h,left:0}).top),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u}).left)),p=o||r||a||s,"outer"!==f.snapMode&&(o=Math.abs(c-y)<=m,r=Math.abs(h-_)<=m,a=Math.abs(l-g)<=m,s=Math.abs(u-v)<=m,o&&(i.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:h-n.helperProportions.height,left:0}).top),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u-n.helperProportions.width}).left)),!n.snapElements[d].snapping&&(o||r||a||s||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=o||r||a||s||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var o,r=n.options,a=t.makeArray(t(r.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(o=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",o+e)}),this.css("zIndex",o+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var o=t(i.helper),r=n.options;o.css("zIndex")&&(r._zIndex=o.css("zIndex")),o.css("zIndex",r.zIndex)},stop:function(e,i,n){var o=n.options;o._zIndex&&t(i.helper).css("zIndex",o._zIndex)}}),t.ui.draggable}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],t):t(jQuery)}(function(t){return t.widget("ui.resizable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return e[n]>0?!0:(e[n]=1,o=e[n]>0,e[n]=0,o)},_create:function(){var e,i,n,o,r,a=this,s=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)n=t.trim(e[i]),r="ui-resizable-"+n,o=t("<div class='ui-resizable-handle "+r+"'></div>"),o.css({zIndex:s.zIndex}),"se"===n&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(o);this._renderAxis=function(e){var i,n,o,r;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=t(this.handles[i],this.element),r=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(o,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),s.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(t(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){s.disabled||a.resizing||(t(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,o=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(e){var i,n,o,r=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),r.containment&&(i+=t(r.containment).scrollLeft()||0,n+=t(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),a.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,o=this.originalMousePosition,r=this.axis,a=e.pageX-o.left||0,s=e.pageY-o.top||0,l=this._change[r];return this._updatePrevProperties(),l?(i=l.apply(this,[e,a,s]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,n,o,r,a,s,l,u=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),o=n&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,r=n?0:c.sizeDiff.width,a={width:c.helper.width()-r,height:c.helper.height()-o},s=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(t.extend(a,{top:l,left:s})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,o,r,a=this.options;r={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=r.minHeight*this.aspectRatio,n=r.minWidth/this.aspectRatio,i=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,e>r.minWidth&&(r.minWidth=e),n>r.minHeight&&(r.minHeight=n),i<r.maxWidth&&(r.maxWidth=i),o<r.maxHeight&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,r=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,s=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,u=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return r&&(t.width=e.minWidth),a&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),r&&u&&(t.left=s-e.minWidth),n&&u&&(t.left=s-e.maxWidth),a&&c&&(t.top=l-e.minHeight),o&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],o=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseInt(n[e],10)||0,i[e]+=parseInt(o[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,o=this.originalPosition;return{top:o.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,o=i._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),a=r&&i._hasScroll(o[0],"left")?0:i.sizeDiff.height,s=r?0:i.sizeDiff.width,l={width:i.size.width-s,height:i.size.height-a},u=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,c&&u?{top:c,left:u}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};o&&o.length&&t(o[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,o,r,a,s,l=t(this).resizable("instance"),u=l.options,c=l.element,h=u.containment,d=h instanceof t?h.get(0):/parent/.test(h)?c.parent().get(0):h;d&&(l.containerElement=t(d),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){i[t]=l._num(e.css("padding"+n))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=l.containerOffset,o=l.containerSize.height,r=l.containerSize.width,a=l._hasScroll(d,"left")?d.scrollWidth:r,s=l._hasScroll(d)?d.scrollHeight:o,l.parentData={element:d,left:n.left,top:n.top,width:a,height:s}))},resize:function(e){var i,n,o,r,a=t(this).resizable("instance"),s=a.options,l=a.containerOffset,u=a.position,c=a._aspectRatio||e.shiftKey,h={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),u.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-h.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=s.helper?l.left:0),u.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?l.top:0),o=a.containerElement.get(0)===a.element.parent().get(0),r=/relative|absolute/.test(a.containerElement.css("position")),o&&r?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-h.left:a.offset.left-l.left)),n=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-h.top:a.offset.top-l.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),n+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-n,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,o=e.containerPosition,r=e.containerElement,a=t(e.helper),s=a.offset(),l=a.outerWidth()-e.sizeDiff.width,u=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(r.css("position"))&&t(this).css({left:s.left-o.left-n.left,width:l,height:u}),e._helper&&!i.animate&&/static/.test(r.css("position"))&&t(this).css({left:s.left-o.left-n.left,width:l,height:u})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,i){var n=t(this).resizable("instance"),o=n.options,r=n.originalSize,a=n.originalPosition,s={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-a.top||0,left:n.position.left-a.left||0};t(o.alsoResize).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),o={},r=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(r,function(t,e){var i=(n[e]||0)+(s[e]||0);i&&i>=0&&(o[e]=i||null)}),e.css(o)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,o=i.size,r=i.originalSize,a=i.originalPosition,s=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,u=l[0]||1,c=l[1]||1,h=Math.round((o.width-r.width)/u)*u,d=Math.round((o.height-r.height)/c)*c,p=r.width+h,f=r.height+d,m=n.maxWidth&&n.maxWidth<p,g=n.maxHeight&&n.maxHeight<f,v=n.minWidth&&n.minWidth>p,y=n.minHeight&&n.minHeight>f;n.grid=l,v&&(p+=u),y&&(f+=c),m&&(p-=u),g&&(f-=c),/^(se|s|e)$/.test(s)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(s)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(s)?(i.size.width=p,i.size.height=f,i.position.left=a.left-h):((0>=f-c||0>=p-u)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-d):(f=c-e.height,i.size.height=f,i.position.top=a.top+r.height-f),p-u>0?(i.size.width=p,i.position.left=a.left-h):(p=u-e.width,i.size.width=p,i.position.left=a.left+r.width-p))}}),t.ui.resizable}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./button","./draggable","./mouse","./position","./resizable"],t):t(jQuery)}(function(t){return t.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),
this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i,n=this;if(this._isOpen&&this._trigger("beforeClose",e)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&t(i).blur()}catch(o){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var n=!1,o=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),r=Math.max.apply(null,o);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),n=!0),n&&!i&&this._trigger("focus",e),n},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),o=i.filter(":last");e.target!==o[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){o.focus()}),e.preventDefault()):(this._delay(function(){n.focus()}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(i,function(i,n){var o,r;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),o=n.click,n.click=function(){o.apply(e.element[0],arguments)},r={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,t("<button></button>",n).button(r).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,o){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(o))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(o,r){var a=r.offset.left-i.document.scrollLeft(),s=r.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:i.window},t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",o,e(r))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,o=n.resizable,r=this.uiDialog.css("position"),a="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:a,start:function(n,o){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(o))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(o,r){var a=i.uiDialog.offset(),s=a.left-i.document.scrollLeft(),l=a.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:i.window},t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",o,e(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,o={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(n=!0),t in i.resizableRelatedOptions&&(o[t]=e)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(t,e){var i,n,o=this.uiDialog;"dialogClass"===t&&o.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=o.is(":data(ui-draggable)"),i&&!e&&o.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(n=o.is(":data(ui-resizable)"),n&&!e&&o.resizable("destroy"),n&&"string"==typeof e&&o.resizable("option","handles",e),n||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./mouse","./draggable"],t):t(jQuery)}(function(t){return t.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,o=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(o=!0,!1):void 0}),o?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,n,o){if(!i.offset)return!1;var r=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,s=r+e.helperProportions.width,l=a+e.helperProportions.height,u=i.offset.left,c=i.offset.top,h=u+i.proportions().width,d=c+i.proportions().height;switch(n){case"fit":return r>=u&&h>=s&&a>=c&&d>=l;case"intersect":return u<r+e.helperProportions.width/2&&s-e.helperProportions.width/2<h&&c<a+e.helperProportions.height/2&&l-e.helperProportions.height/2<d;case"pointer":return t(o.pageY,c,i.proportions().height)&&t(o.pageX,u,i.proportions().width);case"touch":return(a>=c&&d>=a||l>=c&&d>=l||c>a&&l>d)&&(r>=u&&h>=r||s>=u&&h>=s||u>r&&s>h);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,o,r=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,s=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||e&&!r[n].accept.call(r[n].element[0],e.currentItem||e.element))){for(o=0;o<s.length;o++)if(s[o]===r[n].element[0]){r[n].proportions().height=0;continue t}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===a&&r[n]._activate.call(r[n],i),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,o,r,a=t.ui.intersect(e,this,this.options.tolerance,i),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(o=this.options.scope,r=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===o}),r.length&&(n=t(r[0]).droppable("instance"),n.greedyChild="isover"===s)),n&&"isover"===s&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,i),n&&"isout"===s&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.ui.droppable}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e="ui-effects-",i=t;return t.effects={effect:{}},function(t,e){function i(t,e,i){var n=h[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:n.max<t?n.max:t)}function n(e){var i=u(),n=i._rgba=[];return e=e.toLowerCase(),f(l,function(t,o){var r,a=o.re.exec(e),s=a&&o.parse(a),l=o.space||"rgba";return s?(r=i[l](s),i[c[l].cache]=r[c[l].cache],n=i._rgba=r._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&t.extend(n,r.transparent),i):r[e]}function o(t,e,i){return i=(i+1)%1,1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}var r,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],u=t.Color=function(e,i,n,o){return new t.Color.fn.parse(e,i,n,o)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=u.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),u.fn=t.extend(u.prototype,{parse:function(o,a,s,l){if(o===e)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=t(o).css(a),a=e);var h=this,d=t.type(o),p=this._rgba=[];return a!==e&&(o=[o,a,s,l],d="array"),"string"===d?this.parse(n(o)||r._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(o[e.idx],e)}),this):"object"===d?(o instanceof u?f(c,function(t,e){o[e.cache]&&(h[e.cache]=o[e.cache].slice())}):f(c,function(e,n){var r=n.cache;f(n.props,function(t,e){if(!h[r]&&n.to){if("alpha"===t||null==o[t])return;h[r]=n.to(h._rgba)}h[r][e.idx]=i(o[t],e,!0)}),h[r]&&t.inArray(null,h[r].slice(0,3))<0&&(h[r][3]=1,n.from&&(h._rgba=n.from(h[r])))}),this):void 0},is:function(t){var e=u(t),i=!0,n=this;return f(c,function(t,o){var r,a=e[o.cache];return a&&(r=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(t,e){return null!=a[e.idx]?i=a[e.idx]===r[e.idx]:void 0})),i}),i},_space:function(){var t=[],e=this;return f(c,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=u(t),o=n._space(),r=c[o],a=0===this.alpha()?u("transparent"):this,s=a[r.cache]||r.to(a._rgba),l=s.slice();return n=n[r.cache],f(r.props,function(t,o){var r=o.idx,a=s[r],u=n[r],c=h[o.type]||{};null!==u&&(null===a?l[r]=u:(c.mod&&(u-a>c.mod/2?a+=c.mod:a-u>c.mod/2&&(a-=c.mod)),l[r]=i((u-a)*e+a,o)))}),this[o](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),o=u(e)._rgba;return u(t.map(i,function(t,e){return(1-n)*o[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,o=t[1]/255,r=t[2]/255,a=t[3],s=Math.max(n,o,r),l=Math.min(n,o,r),u=s-l,c=s+l,h=.5*c;return e=l===s?0:n===s?60*(o-r)/u+360:o===s?60*(r-n)/u+120:60*(n-o)/u+240,i=0===u?0:.5>=h?u/c:u/(2-c),[Math.round(e)%360,i,h,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],r=t[3],a=.5>=n?n*(1+i):n+i-n*i,s=2*n-a;return[Math.round(255*o(s,a,e+1/3)),Math.round(255*o(s,a,e)),Math.round(255*o(s,a,e-1/3)),r]},f(c,function(n,o){var r=o.props,a=o.cache,l=o.to,c=o.from;u.fn[n]=function(n){if(l&&!this[a]&&(this[a]=l(this._rgba)),n===e)return this[a].slice();var o,s=t.type(n),h="array"===s||"object"===s?n:arguments,d=this[a].slice();return f(r,function(t,e){var n=h["object"===s?t:e.idx];null==n&&(n=d[e.idx]),d[e.idx]=i(n,e)}),c?(o=u(c(d)),o[a]=d,o):u(d)},f(r,function(e,i){u.fn[e]||(u.fn[e]=function(o){var r,a=t.type(o),l="alpha"===e?this._hsla?"hsla":"rgba":n,u=this[l](),c=u[i.idx];return"undefined"===a?c:("function"===a&&(o=o.call(this,c),a=t.type(o)),null==o&&i.empty?this:("string"===a&&(r=s.exec(o),r&&(o=c+parseFloat(r[2])*("+"===r[1]?1:-1))),u[i.idx]=o,this[l](u)))})})}),u.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,o){var r,a,s="";if("transparent"!==o&&("string"!==t.type(o)||(r=n(o)))){if(o=u(r||o),!d.rgba&&1!==o._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===s||"transparent"===s)&&a&&a.style;)try{s=t.css(a,"backgroundColor"),a=a.parentNode}catch(l){}o=o.blend(s&&"transparent"!==s?s:"_default")}o=o.toRgbaString()}try{e.style[i]=o}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=u(e.elem,i),e.end=u(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},u.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},r=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(i),function(){function e(e){var i,n,o=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(o&&o.length&&o[0]&&o[o[0]])for(n=o.length;n--;)i=o[n],"string"==typeof o[i]&&(r[t.camelCase(i)]=o[i]);else for(i in o)"string"==typeof o[i]&&(r[i]=o[i]);return r}function n(e,i){var n,o,a={};for(n in i)o=i[n],e[n]!==o&&(r[n]||!t.fx.step[n]&&isNaN(parseFloat(o))||(a[n]=o));return a}var o=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(i.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(i,r,a,s){var l=t.speed(r,a,s);return this.queue(function(){var r,a=t(this),s=a.attr("class")||"",u=l.children?a.find("*").addBack():a;u=u.map(function(){var i=t(this);return{el:i,start:e(this)}}),r=function(){t.each(o,function(t,e){i[e]&&a[e+"Class"](i[e])})},r(),u=u.map(function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this}),a.attr("class",s),u=u.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,u.get()).done(function(){r(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,n,o,r){return n?t.effects.animateClass.call(this,{add:i},n,o,r):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,o,r){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,o,r):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,n,o,r,a){return"boolean"==typeof n||void 0===n?o?t.effects.animateClass.call(this,n?{add:i}:{remove:i},o,r,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},n,o,r)}}(t.fn.toggleClass),switchClass:function(e,i,n,o,r){return t.effects.animateClass.call(this,{add:i,remove:e},n,o,r)}})}(),function(){function i(e,i,n,o){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(o=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(o=n,n=i,i={}),t.isFunction(n)&&(o=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=o||i.complete,e}function n(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"==typeof e&&!e.effect:!0}t.extend(t.effects,{version:"1.11.4",save:function(t,i){for(var n=0;n<i.length;n++)null!==i[n]&&t.data(e+i[n],t[0].style[i[n]])},restore:function(t,i){var n,o;for(o=0;o<i.length;o++)null!==i[o]&&(n=t.data(e+i[o]),void 0===n&&(n=""),t.css(i[o],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:e.width(),height:e.height()},r=document.activeElement;try{r.id}catch(a){r=document.body}return e.wrap(n),(e[0]===r||t.contains(e[0],r))&&t(r).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(o),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,o){return o=o||{},t.each(i,function(t,i){var r=e.cssUnit(i);r[0]>0&&(o[i]=r[0]*n+r[1])}),o}}),t.fn.extend({effect:function(){function e(e){function i(){t.isFunction(r)&&r.call(o[0]),t.isFunction(e)&&e()}var o=t(this),r=n.complete,s=n.mode;(o.is(":hidden")?"hide"===s:"show"===s)?(o[s](),i()):a.call(o[0],n,i)}var n=i.apply(this,arguments),o=n.mode,r=n.queue,a=t.effects.effect[n.effect];return t.fx.off||!a?o?this[o](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):r===!1?this.each(e):this.queue(r||"fx",e)},show:function(t){return function(e){if(n(e))return t.apply(this,arguments);var o=i.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}}(t.fn.show),hide:function(t){return function(e){if(n(e))return t.apply(this,arguments);var o=i.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(t.fn.hide),toggle:function(t){return function(e){if(n(e)||"boolean"==typeof e)return t.apply(this,arguments);var o=i.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}(),t.effects}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.blind=function(e,i){var n,o,r,a=t(this),s=/up|down|vertical/,l=/up|left|vertical|horizontal/,u=["position","top","bottom","left","right","height","width"],c=t.effects.setMode(a,e.mode||"hide"),h=e.direction||"up",d=s.test(h),p=d?"height":"width",f=d?"top":"left",m=l.test(h),g={},v="show"===c;a.parent().is(".ui-effects-wrapper")?t.effects.save(a.parent(),u):t.effects.save(a,u),a.show(),n=t.effects.createWrapper(a).css({overflow:"hidden"}),o=n[p](),r=parseFloat(n.css(f))||0,g[p]=v?o:0,m||(a.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[f]=v?r:o+r),v&&(n.css(p,0),m||n.css(f,r+o)),n.animate(g,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===c&&a.hide(),t.effects.restore(a,u),t.effects.removeWrapper(a),i()}})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.bounce=function(e,i){var n,o,r,a=t(this),s=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(a,e.mode||"effect"),u="hide"===l,c="show"===l,h=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(c||u?1:0),m=e.duration/f,g=e.easing,v="up"===h||"down"===h?"top":"left",y="up"===h||"left"===h,_=a.queue(),b=_.length;for((c||u)&&s.push("opacity"),t.effects.save(a,s),a.show(),t.effects.createWrapper(a),d||(d=a["top"===v?"outerHeight":"outerWidth"]()/3),c&&(r={opacity:1},r[v]=0,a.css("opacity",0).css(v,y?2*-d:2*d).animate(r,m,g)),u&&(d/=Math.pow(2,p-1)),r={},r[v]=0,n=0;p>n;n++)o={},o[v]=(y?"-=":"+=")+d,a.animate(o,m,g).animate(r,m,g),d=u?2*d:d/2;u&&(o={opacity:0},o[v]=(y?"-=":"+=")+d,a.animate(o,m,g)),a.queue(function(){u&&a.hide(),t.effects.restore(a,s),t.effects.removeWrapper(a),i()}),b>1&&_.splice.apply(_,[1,0].concat(_.splice(b,f+1))),a.dequeue()}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.clip=function(e,i){var n,o,r,a=t(this),s=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(a,e.mode||"hide"),u="show"===l,c=e.direction||"vertical",h="vertical"===c,d=h?"height":"width",p=h?"top":"left",f={};t.effects.save(a,s),a.show(),n=t.effects.createWrapper(a).css({overflow:"hidden"}),o="IMG"===a[0].tagName?n:a,r=o[d](),u&&(o.css(d,0),o.css(p,r/2)),f[d]=u?r:0,f[p]=u?0:r/2,o.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){u||a.hide(),t.effects.restore(a,s),t.effects.removeWrapper(a),i()}})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.drop=function(e,i){var n,o=t(this),r=["position","top","bottom","left","right","opacity","height","width"],a=t.effects.setMode(o,e.mode||"hide"),s="show"===a,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",h={opacity:s?1:0};t.effects.save(o,r),o.show(),t.effects.createWrapper(o),n=e.distance||o["top"===u?"outerHeight":"outerWidth"](!0)/2,s&&o.css("opacity",0).css(u,"pos"===c?-n:n),h[u]=(s?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+n,o.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){
return t.effects.effect.explode=function(e,i){function n(){_.push(this),_.length===h*d&&o()}function o(){p.css({visibility:"visible"}),t(_).remove(),m||p.hide(),i()}var r,a,s,l,u,c,h=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=h,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),y=Math.ceil(p.outerHeight()/h),_=[];for(r=0;h>r;r++)for(l=g.top+r*y,c=r-(h-1)/2,a=0;d>a;a++)s=g.left+a*v,u=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-r*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:s+(m?u*v:0),top:l+(m?c*y:0),opacity:m?0:1}).animate({left:s+(m?0:u*v),top:l+(m?0:c*y),opacity:m?1:0},e.duration||500,e.easing,n)}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.fade=function(e,i){var n=t(this),o=t.effects.setMode(n,e.mode||"toggle");n.animate({opacity:o},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.fold=function(e,i){var n,o,r=t(this),a=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(r,e.mode||"hide"),l="show"===s,u="hide"===s,c=e.size||15,h=/([0-9]+)%/.exec(c),d=!!e.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],m=e.duration/2,g={},v={};t.effects.save(r,a),r.show(),n=t.effects.createWrapper(r).css({overflow:"hidden"}),o=p?[n.width(),n.height()]:[n.height(),n.width()],h&&(c=parseInt(h[1],10)/100*o[u?0:1]),l&&n.css(d?{height:0,width:c}:{height:c,width:0}),g[f[0]]=l?o[0]:c,v[f[1]]=l?o[1]:0,n.animate(g,m,e.easing).animate(v,m,e.easing,function(){u&&r.hide(),t.effects.restore(r,a),t.effects.removeWrapper(r),i()})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.highlight=function(e,i){var n=t(this),o=["backgroundImage","backgroundColor","opacity"],r=t.effects.setMode(n,e.mode||"show"),a={backgroundColor:n.css("backgroundColor")};"hide"===r&&(a.opacity=0),t.effects.save(n,o),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===r&&n.hide(),t.effects.restore(n,o),i()}})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.size=function(e,i){var n,o,r,a=t(this),s=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],u=["width","height","overflow"],c=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(a,e.mode||"effect"),f=e.restore||"effect"!==p,m=e.scale||"both",g=e.origin||["middle","center"],v=a.css("position"),y=f?s:l,_={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&a.show(),n={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===e.mode&&"show"===p?(a.from=e.to||_,a.to=e.from||n):(a.from=e.from||("show"===p?_:n),a.to=e.to||("hide"===p?_:n)),r={from:{y:a.from.height/n.height,x:a.from.width/n.width},to:{y:a.to.height/n.height,x:a.to.width/n.width}},"box"!==m&&"both"!==m||(r.from.y!==r.to.y&&(y=y.concat(h),a.from=t.effects.setTransition(a,h,r.from.y,a.from),a.to=t.effects.setTransition(a,h,r.to.y,a.to)),r.from.x!==r.to.x&&(y=y.concat(d),a.from=t.effects.setTransition(a,d,r.from.x,a.from),a.to=t.effects.setTransition(a,d,r.to.x,a.to))),"content"!==m&&"both"!==m||r.from.y!==r.to.y&&(y=y.concat(c).concat(u),a.from=t.effects.setTransition(a,c,r.from.y,a.from),a.to=t.effects.setTransition(a,c,r.to.y,a.to)),t.effects.save(a,y),a.show(),t.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),g&&(o=t.effects.getBaseline(g,n),a.from.top=(n.outerHeight-a.outerHeight())*o.y,a.from.left=(n.outerWidth-a.outerWidth())*o.x,a.to.top=(n.outerHeight-a.to.outerHeight)*o.y,a.to.left=(n.outerWidth-a.to.outerWidth)*o.x),a.css(a.from),"content"!==m&&"both"!==m||(h=h.concat(["marginTop","marginBottom"]).concat(c),d=d.concat(["marginLeft","marginRight"]),u=s.concat(h).concat(d),a.find("*[width]").each(function(){var i=t(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,u),i.from={height:n.height*r.from.y,width:n.width*r.from.x,outerHeight:n.outerHeight*r.from.y,outerWidth:n.outerWidth*r.from.x},i.to={height:n.height*r.to.y,width:n.width*r.to.x,outerHeight:n.height*r.to.y,outerWidth:n.width*r.to.x},r.from.y!==r.to.y&&(i.from=t.effects.setTransition(i,h,r.from.y,i.from),i.to=t.effects.setTransition(i,h,r.to.y,i.to)),r.from.x!==r.to.x&&(i.from=t.effects.setTransition(i,d,r.from.x,i.from),i.to=t.effects.setTransition(i,d,r.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,u)})})),a.animate(a.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===p&&a.hide(),t.effects.restore(a,y),f||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):t.each(["top","left"],function(t,e){a.css(e,function(e,i){var n=parseInt(i,10),o=t?a.to.left:a.to.top;return"auto"===i?o+"px":n+o+"px"})})),t.effects.removeWrapper(a),i()}})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-size"],t):t(jQuery)}(function(t){return t.effects.effect.scale=function(e,i){var n=t(this),o=t.extend(!0,{},e),r=t.effects.setMode(n,e.mode||"effect"),a=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===r?0:100),s=e.direction||"both",l=e.origin,u={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},c={y:"horizontal"!==s?a/100:1,x:"vertical"!==s?a/100:1};o.effect="size",o.queue=!1,o.complete=i,"effect"!==r&&(o.origin=l||["middle","center"],o.restore=!0),o.from=e.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:u),o.to={height:u.height*c.y,width:u.width*c.x,outerHeight:u.outerHeight*c.y,outerWidth:u.outerWidth*c.x},o.fade&&("show"===r&&(o.from.opacity=0,o.to.opacity=1),"hide"===r&&(o.from.opacity=1,o.to.opacity=0)),n.effect(o)}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-scale"],t):t(jQuery)}(function(t){return t.effects.effect.puff=function(e,i){var n=t(this),o=t.effects.setMode(n,e.mode||"hide"),r="hide"===o,a=parseInt(e.percent,10)||150,s=a/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:o,complete:i,percent:r?a:100,from:r?l:{height:l.height*s,width:l.width*s,outerHeight:l.outerHeight*s,outerWidth:l.outerWidth*s}}),n.effect(e)}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.pulsate=function(e,i){var n,o=t(this),r=t.effects.setMode(o,e.mode||"show"),a="show"===r,s="hide"===r,l=a||"hide"===r,u=2*(e.times||5)+(l?1:0),c=e.duration/u,h=0,d=o.queue(),p=d.length;for(!a&&o.is(":visible")||(o.css("opacity",0).show(),h=1),n=1;u>n;n++)o.animate({opacity:h},c,e.easing),h=1-h;o.animate({opacity:h},c,e.easing),o.queue(function(){s&&o.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,u+1))),o.dequeue()}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.shake=function(e,i){var n,o=t(this),r=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(o,e.mode||"effect"),s=e.direction||"left",l=e.distance||20,u=e.times||3,c=2*u+1,h=Math.round(e.duration/c),d="up"===s||"down"===s?"top":"left",p="up"===s||"left"===s,f={},m={},g={},v=o.queue(),y=v.length;for(t.effects.save(o,r),o.show(),t.effects.createWrapper(o),f[d]=(p?"-=":"+=")+l,m[d]=(p?"+=":"-=")+2*l,g[d]=(p?"-=":"+=")+2*l,o.animate(f,h,e.easing),n=1;u>n;n++)o.animate(m,h,e.easing).animate(g,h,e.easing);o.animate(m,h,e.easing).animate(f,h/2,e.easing).queue(function(){"hide"===a&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,c+1))),o.dequeue()}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.slide=function(e,i){var n,o=t(this),r=["position","top","bottom","left","right","width","height"],a=t.effects.setMode(o,e.mode||"show"),s="show"===a,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,h={};t.effects.save(o,r),o.show(),n=e.distance||o["top"===u?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(o).css({overflow:"hidden"}),s&&o.css(u,c?isNaN(n)?"-"+n:-n:n),h[u]=(s?c?"+=":"-=":c?"-=":"+=")+n,o.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.transfer=function(e,i){var n=t(this),o=t(e.to),r="fixed"===o.css("position"),a=t("body"),s=r?a.scrollTop():0,l=r?a.scrollLeft():0,u=o.offset(),c={top:u.top-s,left:u.left-l,height:o.innerHeight(),width:o.innerWidth()},h=n.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:h.top-s,left:h.left-l,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),i()})}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],t):t(jQuery)}(function(t){return t.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],t):t(jQuery)}(function(t){return t.widget("ui.selectable",t.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,o=t.data(this,"selectable-item");return o?(n=!e.metaKey&&!e.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),o.unselecting=!n,o.selecting=n,o.selected=n,n?i._trigger("selecting",e,{selecting:o.element}):i._trigger("unselecting",e,{unselecting:o.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,o=this.options,r=this.opos[0],a=this.opos[1],s=e.pageX,l=e.pageY;return r>s&&(i=s,s=r,r=i),a>l&&(i=l,l=a,a=i),this.helper.css({left:r,top:a,width:s-r,height:l-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),u=!1;i&&i.element!==n.element[0]&&("touch"===o.tolerance?u=!(i.left>s||i.right<r||i.top>l||i.bottom<a):"fit"===o.tolerance&&(u=i.left>r&&i.right<s&&i.top>a&&i.bottom<l),u?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position","./menu"],t):t(jQuery)}(function(t){return t.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this;this.label=t("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),t("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=t("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var n=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&n.index!==e.focusIndex&&(e._trigger("focus",t,{item:n}),e.isOpen||e._select(n,t)),e.focusIndex=n.index,e.button.attr("aria-activedescendant",e.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(e,i){var n=this,o="";t.each(i,function(i,r){r.optgroup!==o&&(t("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(r.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:r.optgroup}).appendTo(e),o=r.optgroup),n._renderItemData(e,r)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var n=t("<li>");return i.disabled&&n.addClass("ui-state-disabled"),this._setText(n,i.label),n.appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,n,o=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),o+=":not(.ui-state-disabled)"),n="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](o).eq(-1):i[t+"All"](o).eq(0),n.length&&this.menuInstance.focus(e,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){"icons"===t&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"disabled"===t&&(this.menuInstance.option("disabled",e),this.button.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===t&&this._resizeButton()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;t||(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var i=[];e.each(function(e,n){var o=t(n),r=o.parent("optgroup");i.push({element:o,index:e,value:o.val(),label:o.text(),optgroup:r.attr("label")||"",disabled:r.prop("disabled")||o.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],t):t(jQuery)}(function(t){return t.widget("ui.slider",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",a=[];for(i=n.values&&n.values.length||1,o.length>i&&(o.slice(i).remove(),o=o.slice(0,i)),e=o.length;i>e;e++)a.push(r);this.handles=o.add(t(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,o,r,a,s,l,u,c=this,h=this.options;return h.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-c.values(e));(o>i||o===i&&(e===c._lastChangedValue||c.values(e)===h.min))&&(o=i,r=t(this),a=e)}),s=this._start(e,a),s===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,r.addClass("ui-state-active").focus(),l=r.offset(),u=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:e.pageX-l.left-r.width()/2,top:e.pageY-l.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,o,r;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),o=this._valueMax()-this._valueMin(),r=this._valueMin()+n*o,this._trimAlignValue(r)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,o,r;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>n||1===e&&n>i)&&(i=n),i!==this.values(e)&&(o=this.values(),o[e]=i,r=this._trigger("slide",t,{handle:this.handles[e],value:i,values:o}),n=this.values(e?0:1),r!==!1&&this.values(e,i))):i!==this.value()&&(r=this._trigger("slide",t,{handle:this.handles[e],value:i}),r!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,o,r;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,o=arguments[0],r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(o[r]),this._change(null,r);this._refreshValue()},_setOption:function(e,i){var n,o=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(o=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!i),this._super(e,i),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;o>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,n=Math.floor(+(t-e).toFixed(this._precision())/i)*i;t=n+e,this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var e,i,n,o,r,a=this.options.range,s=this.options,l=this,u=this._animateOff?!1:s.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[u?"animate":"css"](c,s.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[u?"animate":"css"]({
left:i+"%"},s.animate),1===n&&l.range[u?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:s.animate})):(0===n&&l.range.stop(1,1)[u?"animate":"css"]({bottom:i+"%"},s.animate),1===n&&l.range[u?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:s.animate}))),e=i}):(n=this.value(),o=this._valueMin(),r=this._valueMax(),i=r!==o?(n-o)/(r-o)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[u?"animate":"css"](c,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:i+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:i+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:s.animate}))},_handleEvents:{keydown:function(e){var i,n,o,r,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),i=this._start(e,a),i===!1))return}switch(r=this.options.step,n=o=this.options.values&&this.options.values.length?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:o=this._valueMin();break;case t.ui.keyCode.END:o=this._valueMax();break;case t.ui.keyCode.PAGE_UP:o=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;o=this._trimAlignValue(n+r);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;o=this._trimAlignValue(n-r)}this._slide(e,a,o)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],t):t(jQuery)}(function(t){return t.widget("ui.sortable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,o=!1,r=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,r.widgetName+"-item")===r?(n=t(this),!1):void 0}),t.data(e.target,r.widgetName+"-item")===r&&(n=t(e.target)),n&&(!this.options.handle||i||(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(o=!0)}),o))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,n){var o,r,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(r)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,o,r,a=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),s!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],o=n.item[0],r=this._intersectsWithPointer(n),r&&n.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==o&&!t.contains(this.placeholder[0],o)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],o):!0)){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,o=this.placeholder.offset(),r=this.options.axis,a={};r&&"x"!==r||(a.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(a.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,r=t.left,a=r+t.width,s=t.top,l=s+t.height,u=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||n+u>s&&l>n+u,d="y"===this.options.axis||e+c>r&&a>e+c,p=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:r<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&s<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=e&&i,o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return n?this.floating?r&&"right"===r||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){s.push(this)}var n,o,r,a,s=[],l=[],u=this._connectWith();if(u&&e)for(n=u.length-1;n>=0;n--)for(r=t(u[n],this.document[0]),o=r.length-1;o>=0;o--)a=t.data(r[o],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,o,r,a,s,l,u,c=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(o=t(d[i],this.document[0]),n=o.length-1;n>=0;n--)r=t.data(o[n],this.widgetFullName),r&&r!==this&&!r.options.disabled&&(h.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(i=h.length-1;i>=0;i--)for(a=h[i][1],s=h[i][0],n=0,u=s.length;u>n;n++)l=t(s[n]),l.data(this.widgetName+"-item",a),c.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,o,r;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=o.outerWidth(),n.height=o.outerHeight()),r=o.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===n?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(o)):"tr"===n?e._createTrPlaceholder(e.currentItem,o):"img"===n&&o.attr("src",e.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(t,o){i&&!n.forcePlaceholderSize||(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each(function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,n,o,r,a,s,l,u,c,h,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(o=1e4,r=null,c=d.floating||this._isFloating(this.currentItem),a=c?"left":"top",s=c?"width":"height",h=c?"clientX":"clientY",n=this.items.length-1;n>=0;n--)t.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[a],u=!1,e[h]-l>this.items[n][s]/2&&(u=!0),Math.abs(e[h]-l)<o&&(o=Math.abs(e[h]-l),r=this.items[n],this.direction=u?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],i=t(o.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*n}},_generatePosition:function(e){var i,n,o=this.options,r=e.pageX,a=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/o.grid[1])*o.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,n=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-o.grid[0]:n+o.grid[0]:n)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1;var n,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&o.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||o.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(o.push(function(t){this._trigger("remove",t,this._uiHash())}),o.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||o.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(o.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<o.length;n++)o[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./button"],t):t(jQuery)}(function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}return t.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,n){var o=i.attr(n);void 0!==o&&o.length&&(e[n]=o)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return e=null!==n.min?n.min:0,i=t-e,i=Math.round(i/n.step)*n.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&t<n.min?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:e(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){
var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void e(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],t):t(jQuery)}(function(t){return t.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,n;e=e.cloneNode(!1),i=e.href.replace(t,""),n=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(o){}try{n=decodeURIComponent(n)}catch(o){}return e.hash.length>1&&i===n}}(),_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each(function(i,o){return t(o).attr("aria-controls")===n?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),o=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:o=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n===this.options.active?!1:n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,o),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function n(){return e>o&&(e=0),0>e&&(e=o),e}for(var o=this.tabs.length-1;-1!==t.inArray(n(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,n=this.anchors,o=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,n){var o,r,a,s=t(n).uniqueId().attr("id"),l=t(n).closest("li"),u=l.attr("aria-controls");e._isLocal(n)?(o=n.hash,a=o.substring(1),r=e.element.find(e._sanitizeSelector(o))):(a=l.attr("aria-controls")||t({}).uniqueId()[0].id,o="#"+a,r=e.element.find(o),r.length||(r=e._createPanel(a),r.insertAfter(e.panels[i-1]||e.tablist)),r.attr("aria-live","polite")),r.length&&(e.panels=e.panels.add(r)),u&&l.data("ui-tabs-aria-controls",u),l.attr({"aria-controls":a,"aria-labelledby":s}),r.attr("aria-labelledby",s)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(o.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,n=0;i=this.tabs[n];n++)e===!0||-1!==t.inArray(n,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,o=t(e.currentTarget),r=o.closest("li"),a=r[0]===n[0],s=a&&i.collapsible,l=s?t():this._getPanelForTab(r),u=n.length?this._getPanelForTab(n):t(),c={oldTab:n,oldPanel:u,newTab:s?t():r,newPanel:l};e.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=s?!1:this.tabs.index(r),this.active=a?t():r,this.xhr&&this.xhr.abort(),u.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(r),e),this._toggle(e,c))},_toggle:function(e,i){function n(){r.running=!1,r._trigger("activate",e,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&r.options.show?r._show(a,r.options.show,n):(a.show(),n())}var r=this,a=i.newPanel,s=i.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),o()),s.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&s.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setupDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setupDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,o=this.tabs.eq(e),r=o.find(".ui-tabs-anchor"),a=this._getPanelForTab(o),s={tab:o,panel:a},l=function(t,e){"abort"===e&&n.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr};this._isLocal(r[0])||(this.xhr=t.ajax(this._ajaxSettings(r,i,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,o){setTimeout(function(){a.html(t),n._trigger("load",i,s),l(o,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,i,n){var o=this;return{url:e.attr("href"),beforeSend:function(e,r){return o._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:r},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position"],t):t(jQuery)}(function(t){return t.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),o=t.inArray(i,n);-1!==o&&n.splice(o,1),e.removeData("ui-tooltip-id"),n=t.trim(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,i){var n=this;return"disabled"===e?(this[i?"_disable":"_enable"](),void(this.options[e]=i)):(this._super(e,i),void("content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e.element)})))},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var o=t.Event("blur");o.target=o.currentTarget=n.element[0],e.close(o,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._registerCloseHandlers(e,n),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,o=this,r=e?e.type:null;return"string"==typeof n?this._open(e,t,n):(i=n.call(t[0],function(i){o._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=r),this._open(e,t,i))})}),void(i&&this._open(e,t,i)))},_open:function(e,i,n){function o(t){u.of=t,a.is(":hidden")||a.position(u)}var r,a,s,l,u=t.extend({},this.options.position);if(n){if(r=this._find(i))return void r.tooltip.find(".ui-tooltip-content").html(n);i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),r=this._tooltip(i),a=r.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(l=n.clone(),l.removeAttr("id").find("[id]").removeAttr("id")):l=n,t("<div>").html(l).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:o}),o(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){a.is(":visible")&&(o(u.of),clearInterval(s))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,i){var n={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var n=t.Event(e);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(n.mouseleave="close"),e&&"focusin"!==e.type||(n.focusout="close"),this._on(!0,i,n)},close:function(e){var i,n=this,o=t(e?e.currentTarget:this.element),r=this._find(o);return r?(i=r.tooltip,void(r.closing||(clearInterval(this.delayedShow),o.data("ui-tooltip-title")&&!o.attr("title")&&o.attr("title",o.data("ui-tooltip-title")),this._removeDescribedBy(o),r.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(t(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),r.closing=!0,this._trigger("close",e,{tooltip:i}),r.hiding||(r.closing=!1)))):void o.removeData("ui-tooltip-open")},_tooltip:function(e){var i=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=i.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var o=t.Event("blur"),r=n.element;o.target=o.currentTarget=r[0],e.close(o,!0),t("#"+i).remove(),r.data("ui-tooltip-title")&&(r.attr("title")||r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var o=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var o=t(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var a=t("#"===r?[]:r);e&&e.preventDefault(),a.length||(a=o.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.button"),r="object"==typeof e&&e;o||n.data("bs.button",o=new i(this,r)),"toggle"==e?o.toggle():e&&o.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.7",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",r=n.data();e+="Text",null==r.resetText&&n.data("resetText",n[o]()),setTimeout(t.proxy(function(){n[o](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i).prop(i,!1))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target).closest(".btn");e.call(n,"toggle"),t(i.target).is('input[type="radio"], input[type="checkbox"]')||(i.preventDefault(),n.is("input,button")?n.trigger("focus"):n.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.carousel"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),a="string"==typeof e?e:r.slide;o||n.data("bs.carousel",o=new i(this,r)),"number"==typeof e?o.to(e):a?o[a]():r.interval&&o.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),n="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(n&&!this.options.wrap)return e;var o="prev"==t?-1:1,r=(i+o)%this.$items.length;return this.$items.eq(r)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,n){var o=this.$element.find(".item.active"),r=n||this.getItemForDirection(e,o),a=this.interval,s="next"==e?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var u=r[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(r)]);h&&h.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,o.addClass(s),r.addClass(s),o.one("bsTransitionEnd",function(){r.removeClass([e,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(d)),a&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var o=function(i){var n,o=t(this),r=t(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var a=t.extend({},r.data(),o.data()),s=o.attr("data-slide-to");s&&(a.interval=!1),e.call(r,a),s&&r.data("bs.carousel").to(s),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),o=i.data("bs.collapse"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!o&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),o||i.data("bs.collapse",o=new n(this,r)),"string"==typeof e&&o[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.7",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"),e&&e.transitioning))){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),e||o.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[a](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION):o.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var o=t(n);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o=t(this);o.attr("data-target")||n.preventDefault();var r=e(o),a=r.data("bs.collapse"),s=a?"toggle":o.data();i.call(r,s)})}(jQuery),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function i(i){i&&3===i.which||(t(o).remove(),t(r).each(function(){var n=t(this),o=e(n),r={relatedTarget:this};o.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(o[0],i.target)||(o.trigger(i=t.Event("hide.bs.dropdown",r)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),o.removeClass("open").trigger(t.Event("hidden.bs.dropdown",r)))))}))}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new a(this)),"string"==typeof e&&n[e].call(i)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7",a.prototype.toggle=function(n){var o=t(this);if(!o.is(".disabled, :disabled")){var r=e(o),a=r.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var s={relatedTarget:this};if(r.trigger(n=t.Event("show.bs.dropdown",s)),n.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=t(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var o=e(n),a=o.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&o.find(r).trigger("focus"),n.trigger("click");var s=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+s);if(l.length){var u=l.index(i.target);38==i.which&&u>0&&u--,40==i.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,a.prototype.toggle).on("keydown.bs.dropdown.data-api",r,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,n){return this.each(function(){var o=t(this),r=o.data("bs.modal"),a=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e);r||o.data("bs.modal",r=new i(this,a)),"string"==typeof e?r[e](n):a.show&&r.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),
this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});o?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),o=n.attr("href"),r=t(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),a=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},r.data(),n.data());n.is("a")&&i.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(r,a,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof e&&o[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=i.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),e.trigger(a),!a.isDefaultPrevented()&&!r.isDefaultPrevented()){var s=t(n);this.activate(e.closest("li"),i),this.activate(s,s.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(e,n,o){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var a=n.find("> .active"),s=o&&t.support.transition&&(a.length&&a.hasClass("fade")||!!n.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",r).emulateTransitionEnd(i.TRANSITION_DURATION):r(),a.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var o=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.affix"),r="object"==typeof e&&e;o||n.data("bs.affix",o=new i(this,r)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.7",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var o=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return i>o?"top":!1;if("bottom"==this.affixed)return null!=i?o+this.unpin<=r.top?!1:"bottom":t-n>=o+a?!1:"bottom";var s=null==this.affixed,l=s?o:r.top,u=s?a:e;return null!=i&&i>=o?"top":null!=n&&l+u>=t-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,o=n.top,r=n.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(r=o=n),"function"==typeof o&&(o=n.top(this.$element)),"function"==typeof r&&(r=n.bottom(this.$element));var s=this.getState(a,e,o,r);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=t.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-e-r})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),+function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),o=n.data("bs.scrollspy"),r="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new e(this,r)),"string"==typeof i&&o[i]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[i]().top+n,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return a!=(t=r[r.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=r[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tooltip"),r="object"==typeof e&&e;!o&&/destroy|hide/.test(e)||(o||n.data("bs.tooltip",o=new i(this,r)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),r=o.length;r--;){var a=o[r];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var o=this,r=this.tip(),a=this.getUID(this.type);this.setContent(),r.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&r.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),h=r[0].offsetWidth,d=r[0].offsetHeight;if(u){var p=s,f=this.getPosition(this.$viewport);s="bottom"==s&&c.bottom+d>f.bottom?"top":"top"==s&&c.top-d<f.top?"bottom":"right"==s&&c.right+h>f.width?"left":"left"==s&&c.left-h<f.left?"right":s,r.removeClass(p).addClass(s)}var m=this.getCalculatedOffset(s,c,h,d);this.applyPlacement(m,s);var g=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",g).emulateTransitionEnd(i.TRANSITION_DURATION):g()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),o=n[0].offsetWidth,r=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top+=a,e.left+=s,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,u=n[0].offsetHeight;"top"==i&&u!=r&&(e.top=e.top+r-u);var c=this.getViewportAdjustedDelta(i,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var h=/top|bottom/.test(i),d=h?2*c.left-o+l:2*c.top-r+u,p=h?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(d,n[0][p],h)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=o.hoverState&&r.detach(),o.$element&&o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,r=t(this.$tip),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=window.SVGElement&&i instanceof window.SVGElement,a=n?{top:0,left:0}:r?null:e.offset(),s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,s,l,a)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-r-a.scroll,l=e.top+r-a.scroll+n;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var u=e.left-r,c=e.left+r+i;u<a.left?o.left=a.left-u:c>a.right&&(o.left=a.left+a.width-c)}return o},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.popover"),r="object"==typeof e&&e;!o&&/destroy|hide/.test(e)||(o||n.data("bs.popover",o=new i(this,r)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.7",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=i.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(e,i,n){var o=t.Event(i);return e.trigger(o,n),o.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&t.data("remote")!==!1},handleRemote:function(n){var o,r,a,s,l,u;if(i.fire(n,"ajax:before")){if(s=n.data("with-credentials")||null,l=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){o=n.data("ujs:submit-button-formmethod")||n.attr("method"),r=n.data("ujs:submit-button-formaction")||n.attr("action"),a=t(n[0]).serializeArray();var c=n.data("ujs:submit-button");c&&(a.push(c),n.data("ujs:submit-button",null)),n.data("ujs:submit-button-formmethod",null),n.data("ujs:submit-button-formaction",null)}else n.is(i.inputChangeSelector)?(o=n.data("method"),r=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(o=n.data("method")||"get",r=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):(o=n.data("method"),r=i.href(n),a=n.data("params")||null);return u={type:o||"GET",data:a,dataType:l,beforeSend:function(t,o){return o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),i.fire(n,"ajax:beforeSend",[t,o])?void n.trigger("ajax:send",t):!1},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:i.isCrossDomain(r)},s&&(u.xhrFields={withCredentials:s}),r&&(u.url=r),i.ajax(u)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var i=document.createElement("a");try{return i.href=t,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||e.protocol+"//"+e.host==i.protocol+"//"+i.host)}catch(n){return!0}},handleMethod:function(n){var o=i.href(n),r=n.data("method"),a=n.attr("target"),s=i.csrfToken(),l=i.csrfParam(),u=t('<form method="post" action="'+o+'"></form>'),c='<input name="_method" value="'+r+'" type="hidden" />';l===e||s===e||i.isCrossDomain(o)||(c+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&u.attr("target",a),u.hide().append(c).appendTo("body"),u.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each(function(){i.disableFormElement(t(this))})},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",n=t.data("disable-with"),n!==e&&(t.data("ujs:enable-with",t[i]()),t[i](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each(function(){i.enableFormElement(t(this))})},enableFormElement:function(t){var i=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[i](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),o=!1;if(!n)return!0;if(i.fire(t,"confirm")){try{o=i.confirm(n)}catch(r){(console.error||console.log).call(console,r.stack||r)}e=i.fire(t,"confirm:complete",[o])}return o&&e},blankInputs:function(e,i,n){var o,r,a,s,l=t(),u=i||"input,textarea",c=e.find(u),h={};return c.each(function(){o=t(this),o.is("input[type=radio]")?(s=o.attr("name"),h[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(a=e.find('input[type=radio][name="'+s+'"]'),l=l.add(a)),h[s]=s)):(r=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val(),r===n&&(l=l.add(o)))}),l.length?l:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");n!==e&&(t.data("ujs:enable-with",t.html()),t.html(n)),t.bind("click.railsDisable",function(t){return i.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(t(this))}),n.delegate(i.linkClickSelector,"click.rails",function(e){var n=t(this),o=n.data("method"),r=n.data("params"),a=e.metaKey||e.ctrlKey;if(!i.allowAction(n))return i.stopEverything(e);if(!a&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(a&&(!o||"GET"===o)&&!r)return!0;var s=i.handleRemote(n);return s===!1?i.enableElement(n):s.fail(function(){i.enableElement(n)}),!1}return o?(i.handleMethod(n),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var o=i.handleRemote(n);return o===!1?i.enableFormElement(n):o.fail(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var o,r,a=t(this),s=i.isRemote(a);if(!i.allowAction(a))return i.stopEverything(n);if(a.attr("novalidate")===e)if(a.data("ujs:formnovalidate-button")===e){if(o=i.blankInputs(a,i.requiredInputSelector,!1),o&&i.fire(a,"ajax:aborted:required",[o]))return i.stopEverything(n)}else a.data("ujs:formnovalidate-button",e);if(s){if(r=i.nonBlankInputs(a,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(a)},13);var l=i.fire(a,"ajax:aborted:file",[r]);return l||setTimeout(function(){i.enableFormElements(a)},13),l}return i.handleRemote(a),!1}setTimeout(function(){i.disableFormElements(a)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var o=n.attr("name"),r=o?{name:o,value:n.val()}:null,a=n.closest("form");0===a.length&&(a=t("#"+n.attr("form"))),a.data("ujs:submit-button",r),a.data("ujs:formnovalidate-button",n.attr("formnovalidate")),a.data("ujs:submit-button-formaction",n.attr("formaction")),a.data("ujs:submit-button-formmethod",n.attr("formmethod"))}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(e){this===e.target&&i.disableFormElements(t(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this===e.target&&i.enableFormElements(t(this))}),t(function(){i.refreshCSRFTokens()}))}(jQuery),function(t,e){var i=/[<>&\r\n"']/gm,n={"<":"lt;",">":"gt;","&":"amp;","\r":"#13;","\n":"#10;",'"':"quot;","'":"#39;"};t.extend({fileDownload:function(o,r){function a(){if(-1!=document.cookie.indexOf(p.cookieName+"="+p.cookieValue)){y.onSuccess(o);var e=p.cookieName+"=; path="+p.cookiePath+"; expires="+new Date(0).toUTCString()+";";return p.cookieDomain&&(e+=" domain="+p.cookieDomain+";"),document.cookie=e,void l(!1)}if(b||_)try{var i=b?b.document:s(_);if(i&&null!=i.body&&i.body.innerHTML.length){var n=!0;if(w&&w.length){var r=t(i.body).contents().first();try{r.length&&r[0]===w[0]&&(n=!1)}catch(u){if(!u||-2146828218!=u.number)throw u;n=!0}}if(n)return void setTimeout(function(){y.onFail(i.body.innerHTML,o),l(!0)},100)}}catch(c){return y.onFail("",o),void l(!0)}setTimeout(a,p.checkInterval)}function s(t){var e=t[0].contentWindow||t[0].contentDocument;return e.document&&(e=e.document),e}function l(t){setTimeout(function(){b&&(h&&b.close(),c&&b.focus&&(b.focus(),t&&b.close()))},0)}function u(t){return t.replace(i,function(t){return"&"+n[t]})}var c,h,d,p=t.extend({preparingMessageHtml:null,failMessageHtml:null,androidPostUnsupportedMessageHtml:"Unfortunately your Android browser doesn't support this type of file download. Please try again with a different browser.",dialogOptions:{modal:!0},prepareCallback:function(){},successCallback:function(){},failCallback:function(){},httpMethod:"GET",data:null,checkInterval:100,cookieName:"fileDownload",cookieValue:"true",cookiePath:"/",cookieDomain:null,popupWindowTitle:"Initiating file download...",encodeHTMLEntities:!0},r),f=new t.Deferred,m=(navigator.userAgent||navigator.vendor||e.opera).toLowerCase();/ip(ad|hone|od)/.test(m)?c=!0:-1!==m.indexOf("android")?h=!0:d=/avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|playbook|silk|iemobile|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(m)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(m.substr(0,4));
var g=p.httpMethod.toUpperCase();if(h&&"GET"!==g&&p.androidPostUnsupportedMessageHtml)return t().dialog?t("<div>").html(p.androidPostUnsupportedMessageHtml).dialog(p.dialogOptions):alert(p.androidPostUnsupportedMessageHtml),f.reject();var v=null,y={onPrepare:function(e){p.preparingMessageHtml?v=t("<div>").html(p.preparingMessageHtml).dialog(p.dialogOptions):p.prepareCallback&&p.prepareCallback(e)},onSuccess:function(t){v&&v.dialog("close"),p.successCallback(t),f.resolve(t)},onFail:function(e,i){v&&v.dialog("close"),p.failMessageHtml&&t("<div>").html(p.failMessageHtml).dialog(p.dialogOptions),p.failCallback(e,i),f.reject(e,i)}};y.onPrepare(o),null!==p.data&&"string"!=typeof p.data&&(p.data=t.param(p.data));var _,b,x,w;if("GET"===g){if(null!==p.data){var k=o.indexOf("?");-1!==k?"&"!==o.substring(o.length-1)&&(o+="&"):o+="?",o+=p.data}c||h?(b=e.open(o),b.document.title=p.popupWindowTitle,e.focus()):d?e.location(o):_=t("<iframe>").hide().prop("src",o).appendTo("body")}else{var C="";null!==p.data&&t.each(p.data.replace(/\+/g," ").split("&"),function(){var t=this.split("="),e=p.encodeHTMLEntities?u(decodeURIComponent(t[0])):decodeURIComponent(t[0]);if(e){var i=p.encodeHTMLEntities?u(decodeURIComponent(t[1])):decodeURIComponent(t[1]);C+='<input type="hidden" name="'+e+'" value="'+i+'" />'}}),d?(w=t("<form>").appendTo("body"),w.hide().prop("method",p.httpMethod).prop("action",o).html(C)):(c?(b=e.open("about:blank"),b.document.title=p.popupWindowTitle,x=b.document,e.focus()):(_=t("<iframe style='display: none' src='about:blank'></iframe>").appendTo("body"),x=s(_)),x.write("<html><head></head><body><form method='"+p.httpMethod+"' action='"+o+"'>"+C+"</form>"+p.popupWindowTitle+"</body></html>"),w=t(x).find("form")),w.submit()}setTimeout(a,p.checkInterval);var S=f.promise();return S.abort=function(){l(),_.remove()},S}})}(jQuery,this),function(){var t,e,i,n,o,r,a,s={}.hasOwnProperty,l=[].slice;a="undefined"!=typeof exports&&null!==exports?exports:this,e=function(t){this.message=t},e.prototype=new Error,r={prefix:"",default_url_options:{}},t={GROUP:1,CAT:2,SYMBOL:3,OR:4,STAR:5,LITERAL:6,SLASH:7,DOT:8},i=["anchor","trailing_slash","host","port","protocol"],n={default_serializer:function(t,e){var i,n,o,r,a,l,u;if(null==e&&(e=null),null==t)return"";if(!e&&"object"!==this.get_object_type(t))throw new Error("Url parameters should be a javascript hash");switch(u=[],this.get_object_type(t)){case"array":for(n=o=0,a=t.length;a>o;n=++o)i=t[n],u.push(this.default_serializer(i,e+"[]"));break;case"object":for(r in t)s.call(t,r)&&(l=t[r],null==l&&null!=e&&(l=""),null!=l&&(null!=e&&(r=e+"["+r+"]"),u.push(this.default_serializer(l,r))));break;default:null!=t&&u.push(encodeURIComponent(e.toString())+"="+encodeURIComponent(t.toString()))}return u.length?u.join("&"):""},custom_serializer:null,serialize:function(t){return null!=this.custom_serializer&&"function"===this.get_object_type(this.custom_serializer)?this.custom_serializer(t):this.default_serializer(t)},clean_path:function(t){var e;return t=t.split("://"),e=t.length-1,t[e]=t[e].replace(/\/+/g,"/"),t.join("://")},extract_options:function(t,e){var i;return i=e[e.length-1],e.length>t&&void 0===i||null!=i&&"object"===this.get_object_type(i)&&!this.looks_like_serialized_model(i)?e.pop()||{}:{}},looks_like_serialized_model:function(t){return"id"in t||"to_param"in t},path_identifier:function(t){var e;return 0===t?"0":t?(e=t,"object"===this.get_object_type(t)&&(e="to_param"in t?t.to_param:"id"in t?t.id:t,"function"===this.get_object_type(e)&&(e=e.call(t))),e.toString()):""},clone:function(t){var e,i,n;if(null==t||"object"!==this.get_object_type(t))return t;i=t.constructor();for(n in t)s.call(t,n)&&(e=t[n],i[n]=e);return i},merge:function(){var t,e;return e=1<=arguments.length?l.call(arguments,0):[],t=function(t,e){return e(t),t},(null!=e?e.length:void 0)>0?t({},function(t){var i,n,o,r,a,s;for(r=[],i=0,o=e.length;o>i;i++)s=e[i],r.push(function(){var e;e=[];for(n in s)a=s[n],e.push(t[n]=a);return e}());return r}):void 0},normalize_options:function(t,e,n,o){var a,l,u,c,h,d,p,f;if(h=this.extract_options(e.length,o),o.length>e.length)throw new Error("Too many parameters provided for path");h=this.merge(r.default_url_options,t,h),d={},p={},d.url_parameters=p;for(u in h)s.call(h,u)&&(f=h[u],this.indexOf(i,u)>=0?d[u]=f:p[u]=f);for(a=l=0,c=e.length;c>l;a=++l)f=e[a],a<o.length&&(p[f]=o[a]);return d},build_route:function(t,e,i,o,r,a){var s,l,u,c,h;return a=Array.prototype.slice.call(a),s=this.normalize_options(o,t,e,a),l=s.url_parameters,u=""+this.get_prefix()+this.visit(i,l),c=n.clean_path(u),s.trailing_slash===!0&&(c=c.replace(/(.*?)[\/]?$/,"$1/")),(h=this.serialize(l)).length&&(c+="?"+h),c+=s.anchor?"#"+s.anchor:"",r&&(c=this.route_url(s)+c),c},visit:function(i,n,o){var r,a,s,l,u,c;switch(null==o&&(o=!1),u=i[0],r=i[1],s=i[2],u){case t.GROUP:return this.visit(r,n,!0);case t.STAR:return this.visit_globbing(r,n,!0);case t.LITERAL:case t.SLASH:case t.DOT:return r;case t.CAT:return a=this.visit(r,n,o),l=this.visit(s,n,o),o&&(this.is_optional_node(r[0])&&!a||this.is_optional_node(s[0])&&!l)?"":""+a+l;case t.SYMBOL:if(c=n[r],null!=c)return delete n[r],this.path_identifier(c);if(o)return"";throw new e("Route parameter missing: "+r);default:throw new Error("Unknown Rails node type")}},is_optional_node:function(e){return this.indexOf([t.STAR,t.SYMBOL,t.CAT],e)>=0},build_path_spec:function(e,i){var n,o,r;switch(null==i&&(i=!1),r=e[0],n=e[1],o=e[2],r){case t.GROUP:return"("+this.build_path_spec(n)+")";case t.CAT:return""+this.build_path_spec(n)+this.build_path_spec(o);case t.STAR:return this.build_path_spec(n,!0);case t.SYMBOL:return i===!0?""+("*"===n[0]?"":"*")+n:":"+n;case t.SLASH:case t.DOT:case t.LITERAL:return n;default:throw new Error("Unknown Rails node type")}},visit_globbing:function(t,e,i){var n,o,r,a;return r=t[0],n=t[1],o=t[2],n.replace(/^\*/i,"")!==n&&(t[1]=n=n.replace(/^\*/i,"")),a=e[n],null==a?this.visit(t,e,i):(e[n]=function(){switch(this.get_object_type(a)){case"array":return a.join("/");default:return a}}.call(this),this.visit(t,e,i))},get_prefix:function(){var t;return t=r.prefix,""!==t&&(t=t.match("/$")?t:t+"/"),t},route:function(t,e,i,o,r){var a;return a=function(){return n.build_route(t,e,i,o,r,arguments)},a.required_params=t,a.toString=function(){return n.build_path_spec(i)},a},route_url:function(t){var e,i,o;return"string"==typeof t?t:(o=t.protocol||n.current_protocol(),e=t.host||window.location.hostname,i=t.port||(t.host?void 0:n.current_port()),i=i?":"+i:"",o+"://"+e+i)},has_location:function(){return"undefined"!=typeof window&&"undefined"!=typeof window.location},current_host:function(){return this.has_location()?window.location.hostname:null},current_protocol:function(){return this.has_location()&&""!==window.location.protocol?window.location.protocol.replace(/:$/,""):"http"},current_port:function(){return this.has_location()&&""!==window.location.port?window.location.port:""},_classToTypeCache:null,_classToType:function(){var t,e,i,n;if(null!=this._classToTypeCache)return this._classToTypeCache;for(this._classToTypeCache={},n="Boolean Number String Function Array Date RegExp Object Error".split(" "),t=0,e=n.length;e>t;t++)i=n[t],this._classToTypeCache["[object "+i+"]"]=i.toLowerCase();return this._classToTypeCache},get_object_type:function(t){return a.jQuery&&null!=a.jQuery.type?a.jQuery.type(t):null==t?""+t:"object"==typeof t||"function"==typeof t?this._classToType()[Object.prototype.toString.call(t)]||"object":typeof t},indexOf:function(t,e){return Array.prototype.indexOf?t.indexOf(e):this.indexOfImplementation(t,e)},indexOfImplementation:function(t,e){var i,n,o,r,a;for(a=-1,n=o=0,r=t.length;r>o;n=++o)i=t[n],i===e&&(a=n);return a}},o=function(){var t;return t=function(e,i){var n,o;return o=i?i.split("."):[],o.length?(n=o.shift(),e[n]=e[n]||{},t(e[n],o.join("."))):void 0},t(a,"Routes"),a.Routes={about_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"about",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),accept_billing_invites_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"accept_billing_invites",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),accept_user_invitation_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"invitation",!1],[2,[7,"/",!1],[2,[6,"accept",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),activate_billing_api_v1_registrations_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"registrations",!1],[2,[7,"/",!1],[2,[6,"activate_billing",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),activate_coach_billing_api_v1_registrations_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"registrations",!1],[2,[7,"/",!1],[2,[6,"activate_coach_billing",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),activities_webview_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"activities_webview",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),add_admin_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"companies",!1],[2,[7,"/",!1],[2,[6,"add_admin",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),add_ally_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"create",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),add_allyee_relationships_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[6,"add_allyee",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),add_meditation_meditations_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"meditations",!1],[2,[7,"/",!1],[2,[6,"add_meditation",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),add_organization_user_organization_users_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"organization_users",!1],[2,[7,"/",!1],[2,[6,"add_organization_user",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),additional_details_choices_api_v1_tours_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"tours",!1],[2,[7,"/",!1],[2,[6,"additional_details_choices",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),additional_details_struggles_tours_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"tours",!1],[2,[7,"/",!1],[2,[6,"additional-details-struggles",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),additional_details_tours_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"tours",!1],[2,[7,"/",!1],[2,[6,"additional-details",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),affiliate_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"affiliates",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),affiliate_url_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"affiliate_urls",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),affiliate_urls_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"affiliate_urls",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),affiliates_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"affiliates",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),ally_confirmation_path:n.route(["user_id"],["format"],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"confirmation",!1],[2,[7,"/",!1],[2,[3,"user_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),ally_confirmation_api_v1_ally_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"ally_confirmation",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),ally_metrics_survey_path:n.route(["ally_user_id"],["format"],[2,[7,"/",!1],[2,[6,"ally_metrics_survey",!1],[2,[7,"/",!1],[2,[3,"ally_user_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),ally_note_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"ally_notes",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),ally_notes_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"ally_notes",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),ally_tracker_path:n.route(["ally_user_id"],["format"],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"tracker",!1],[2,[7,"/",!1],[2,[3,"ally_user_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),ally_video_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"ally_video",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),allyee_invites_api_v1_relationships_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[6,"allyee_invites",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),analytics_organization_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"organizations",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"analytics",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),answer_additional_details_api_v1_tours_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"tours",!1],[2,[7,"/",!1],[2,[6,"answer_additional_details",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"organization_user",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_ally_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_ally_relationship_note_path:n.route(["relationship_id","id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"relationship_id",!1],[2,[7,"/",!1],[2,[6,"notes",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]]]],{}),api_v1_ally_relationship_notes_path:n.route(["relationship_id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"relationship_id",!1],[2,[7,"/",!1],[2,[6,"notes",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),api_v1_ally_relationship_responses_path:n.route(["relationship_id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"relationship_id",!1],[2,[7,"/",!1],[2,[6,"responses",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),api_v1_ally_relationships_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_chat_room_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_chat_rooms_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_comment_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_comment_downvote_path:n.route(["comment_id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"comment_id",!1],[2,[7,"/",!1],[2,[6,"downvote",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_comment_flag_path:n.route(["comment_id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"comment_id",!1],[2,[7,"/",!1],[2,[6,"flag",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_comment_unflag_path:n.route(["comment_id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"comment_id",!1],[2,[7,"/",!1],[2,[6,"unflag",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_comment_upvote_path:n.route(["comment_id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"comment_id",!1],[2,[7,"/",!1],[2,[6,"upvote",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_comments_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_course_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"courses",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_courses_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"courses",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_custom_freedom_plan_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"custom_freedom_plans",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_custom_freedom_plans_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"custom_freedom_plans",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_forum_categories_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"forum_categories",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_forum_category_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"forum_categories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_forum_subcategories_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"forum_subcategories",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_forum_subcategory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"forum_subcategories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_forum_subcategory_follow_path:n.route(["forum_subcategory_id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"forum_subcategories",!1],[2,[7,"/",!1],[2,[3,"forum_subcategory_id",!1],[2,[7,"/",!1],[2,[6,"follow",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_forum_subcategory_unfollow_path:n.route(["forum_subcategory_id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"forum_subcategories",!1],[2,[7,"/",!1],[2,[3,"forum_subcategory_id",!1],[2,[7,"/",!1],[2,[6,"unfollow",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_freedom_plan_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"freedom_plans",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_freedom_plans_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"freedom_plans",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_group_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_group_leader_group_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"group_leader",!1],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_group_leader_groups_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"group_leader",!1],[2,[7,"/",!1],[2,[6,"groups",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_groups_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"groups",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_intercom_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"intercom",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_intercom_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"intercom",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_inventories_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"inventories",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_inventory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"inventories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_journal_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"journals",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_journals_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"journals",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_lesson_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_lessons_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_lifestyle_inventories_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"lifestyle_inventories",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_lifestyle_inventory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"lifestyle_inventories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_message_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"messages",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_messages_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"messages",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_notification_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"notifications",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_notifications_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"notifications",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_organization_user_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"organization_users",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_organization_users_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"organization_users",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_post_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"posts",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_post_follow_path:n.route(["post_id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"posts",!1],[2,[7,"/",!1],[2,[3,"post_id",!1],[2,[7,"/",!1],[2,[6,"follow",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_post_like_path:n.route(["post_id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"posts",!1],[2,[7,"/",!1],[2,[3,"post_id",!1],[2,[7,"/",!1],[2,[6,"like",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_post_unfollow_path:n.route(["post_id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"posts",!1],[2,[7,"/",!1],[2,[3,"post_id",!1],[2,[7,"/",!1],[2,[6,"unfollow",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_post_unlike_path:n.route(["post_id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"posts",!1],[2,[7,"/",!1],[2,[3,"post_id",!1],[2,[7,"/",!1],[2,[6,"unlike",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_posts_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"posts",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_privacy_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"privacy",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_recovery_chat_room_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_recovery_chat_rooms_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_recovery_client_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"clients",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_recovery_clients_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"clients",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_recovery_communities_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"communities",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_recovery_community_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"communities",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_recovery_lifestyle_inventories_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"lifestyle_inventories",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_recovery_lifestyle_inventory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"lifestyle_inventories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_recovery_organization_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"organizations",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_recovery_organization_user_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"organization_users",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_recovery_organization_users_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"organization_users",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_recovery_organizations_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"organizations",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_recovery_profile_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"profile",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_recovery_sync_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"sync",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_recovery_sync_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"sync",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_recovery_teletherapies_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"teletherapies",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_recovery_teletherapy_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"teletherapies",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_registration_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"registrations",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_registrations_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"registrations",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_relationship_check_ally_notifications_path:n.route(["relationship_id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"relationship_id",!1],[2,[7,"/",!1],[2,[6,"check_ally_notifications",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),api_v1_relationships_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_response_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"responses",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_responses_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"responses",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_session_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"sessions",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_sessions_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"sessions",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_share_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"shares",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_shares_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"shares",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_shares_resources_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"shares",!1],[2,[7,"/",!1],[2,[6,"resources",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_so_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"sos",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),
api_v1_sos_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"sos",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_surveys_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_terms_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"terms",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_tour_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"tours",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_tours_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"tours",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_tracker_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_trackers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),api_v1_user_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"update",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_webinar_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"webinars",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),api_v1_webinars_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"webinars",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),apply_for_coach_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"coach",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),apply_for_therapist_directory_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"apply_for_therapist_directory",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),apply_for_user_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"apply_for_user_path",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),apply_subscription_coupon_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"apply_subscription_coupon",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),approve_lead_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"leads",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"approve",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),approve_leads_adult_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"leads_adults",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"approve",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),approve_therapist_directory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"therapist_directories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"approve",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),approved_leads_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"leads",!1],[2,[7,"/",!1],[2,[6,"approved",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),approved_leads_adults_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"leads_adults",!1],[2,[7,"/",!1],[2,[6,"approved",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),assets_library_course_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"assets_library_courses",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),assets_library_courses_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"assets_library_courses",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),assign_coach_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"relationship",!1],[2,[7,"/",!1],[2,[6,"assign_coach",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),authenticated_root_path:n.route([],[],[7,"/",!1],{}),awards_webview_api_v1_ally_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"awards_webview",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),awards_webview_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"awards_webview",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),badge_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"badges",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),badge_groups_mass_unassign_path:n.route(["badge_id"],["format"],[2,[7,"/",!1],[2,[6,"badges",!1],[2,[7,"/",!1],[2,[3,"badge_id",!1],[2,[7,"/",!1],[2,[6,"mass_unassign_groups",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),badges_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"badges",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),badges_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"badges",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),banner_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"banners",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),banners_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"banners",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),billing_invites_api_v1_relationships_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[6,"billing_invites",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),billing_update_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"billing",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),bootsy_path:n.route([],[],[2,[7,"/",!1],[6,"bootsy",!1]],{}),bootsy_image_gallery_images_path:n.route(["image_gallery_id"],["format"],[2,[2,[2,[7,"/",!1],[6,"bootsy",!1]],[7,"/",!1]],[2,[6,"image_galleries",!1],[2,[7,"/",!1],[2,[3,"image_gallery_id",!1],[2,[7,"/",!1],[2,[6,"images",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),bootsy_image_gallery_image_path:n.route(["image_gallery_id","id"],["format"],[2,[2,[2,[7,"/",!1],[6,"bootsy",!1]],[7,"/",!1]],[2,[6,"image_galleries",!1],[2,[7,"/",!1],[2,[3,"image_gallery_id",!1],[2,[7,"/",!1],[2,[6,"images",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),bootsy_images_path:n.route([],["format"],[2,[2,[2,[7,"/",!1],[6,"bootsy",!1]],[7,"/",!1]],[2,[6,"images",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),bootsy_image_path:n.route(["id"],["format"],[2,[2,[2,[7,"/",!1],[6,"bootsy",!1]],[7,"/",!1]],[2,[6,"images",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),bug_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"bugs",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),bugs_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"bugs",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),bulk_action_moderation_comments_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[6,"bulk_action",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),bulk_action_moderation_posts_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[2,[7,"/",!1],[2,[6,"posts",!1],[2,[7,"/",!1],[2,[6,"bulk_action",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),bulk_action_moderation_shares_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[2,[7,"/",!1],[2,[6,"shares",!1],[2,[7,"/",!1],[2,[6,"bulk_action",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),bypass_tour_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"bypass_tour",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),bypass_tour_affiliates_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"affiliates",!1],[2,[7,"/",!1],[2,[6,"bypass_tour",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),cancel_base_path:n.route(["user_id"],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"cancel_base",!1],[2,[7,"/",!1],[2,[3,"user_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),cancel_coach_path:n.route(["user_id"],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"cancel_coach",!1],[2,[7,"/",!1],[2,[3,"user_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),cancel_ghost_subscription_relationships_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[6,"cancel_ghost_subscription",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),cancel_group_path:n.route(["user_id"],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"cancel_group",!1],[2,[7,"/",!1],[2,[3,"user_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),cancel_user_registration_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"cancel",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),candeo_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"candeo",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),change_date_range_path:n.route(["user_id"],["format"],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"change_date_range",!1],[2,[7,"/",!1],[2,[3,"user_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),change_group_path:n.route(["id","change_group_from"],["format"],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[3,"change_group_from",!1],[2,[7,"/",!1],[2,[6,"change_group",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),change_location_api_v1_recovery_organization_user_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"organization_users",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"change_location",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),change_password_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"password",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),chat_room_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),chat_rooms_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),chatable_users_index_api_v1_recovery_chat_rooms_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[6,"chatable_users_index",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),check_activity_api_v1_ally_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"check_activity",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),check_allyee_relationships_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[6,"check_allyee",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),check_user_organization_users_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"organization_users",!1],[2,[7,"/",!1],[2,[6,"check_user",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),coach_confirmation_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"coach",!1],[2,[7,"/",!1],[2,[6,"confirmation",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),coach_information_api_v1_relationships_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[6,"coach_information",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),coach_users_employee_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"employees",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"coach_users",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),comment_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),comment_comment_created_for_webinar_path:n.route(["comment_id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"comment_id",!1],[2,[7,"/",!1],[2,[6,"comment_created_for_webinar",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),comment_comment_edited_for_webinar_path:n.route(["comment_id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"comment_id",!1],[2,[7,"/",!1],[2,[6,"comment_edited_for_webinar",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),comment_flag_path:n.route(["comment_id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"comment_id",!1],[2,[7,"/",!1],[2,[6,"flag",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),comment_like_path:n.route(["comment_id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"comment_id",!1],[2,[7,"/",!1],[2,[6,"like",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),comments_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),comments_api_v1_lesson_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),community_organization_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"organizations",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"community",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),companies_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"companies",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),companies_sign_up_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"companies",!1],[2,[7,"/",!1],[2,[6,"signup",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),companies_signup_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"companies",!1],[2,[7,"/",!1],[2,[6,"signup",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),company_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"companies",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),company_age_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"company",!1],[2,[7,"/",!1],[2,[6,"ages",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),company_ages_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"company",!1],[2,[7,"/",!1],[2,[6,"ages",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),company_gender_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"company",!1],[2,[7,"/",!1],[2,[6,"genders",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),company_genders_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"company",!1],[2,[7,"/",!1],[2,[6,"genders",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),company_gray_label_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"company",!1],[2,[7,"/",!1],[2,[6,"gray_labels",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),company_gray_labels_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"company",!1],[2,[7,"/",!1],[2,[6,"gray_labels",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),company_religion_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"company",!1],[2,[7,"/",!1],[2,[6,"religions",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),company_religions_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"company",!1],[2,[7,"/",!1],[2,[6,"religions",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),company_users_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"company",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),complete_free_response_api_v1_lesson_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"complete_free_response",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),complete_inventory_api_v1_lesson_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"complete_inventory",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),complete_survey_api_v1_surveys_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[6,"complete_survey",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),complete_video_api_v1_lesson_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"complete_video",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),confirmation_leads_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"leads",!1],[2,[7,"/",!1],[2,[6,"confirmation",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),confirmation_leads_adults_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"leads_adults",!1],[2,[7,"/",!1],[2,[6,"confirmation",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),coupon_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"coupons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),coupons_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"coupons",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),course_update_sort_library_course_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"courses",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"update_sort",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),create_chat_api_v1_recovery_chat_rooms_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[6,"create_chat",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),create_community_organization_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"organizations",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"create_community",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),create_custom_chat_rooms_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[6,"create_custom",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),create_presigned_url_api_v1_chat_rooms_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[6,"create_presigned_url",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),create_response_freedom_plan_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"freedom_plan",!1],[2,[7,"/",!1],[2,[6,"create_response",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),create_signin_api_v1_sessions_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"sessions",!1],[2,[7,"/",!1],[2,[6,"create_signin",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),current_lesson_library_course_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"courses",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"current_lesson",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),daily_discussion_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"daily_discussions",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),daily_discussions_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"daily_discussions",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),daily_motivation_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"daily_motivations",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),daily_motivations_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"daily_motivations",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),dashboard_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"dashboard",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),dashboard_item_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"dashboard_items",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),dashboard_items_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"dashboard_items",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),deactivate_account_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"deactivate_account",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),deactivate_billing_api_v1_registrations_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"registrations",!1],[2,[7,"/",!1],[2,[6,"deactivate_billing",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),deactivate_coach_billing_api_v1_registrations_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"registrations",!1],[2,[7,"/",!1],[2,[6,"deactivate_coach_billing",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),deactivate_user_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"deactivate_user_path",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),delete_device_id_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"delete_device_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),delete_mobile_ids_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"delete_mobile_ids",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),delete_registration_id_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"delete_registration_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),delete_user_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"delete_user_path",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),delete_user_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"delete_user",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),delete_video_message_api_v1_chat_rooms_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[6,"delete_video_message",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),demo_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"demo",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),demo_leads_adults_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"leads_adults",!1],[2,[7,"/",!1],[2,[6,"demo",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),denied_leads_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"leads",!1],[2,[7,"/",!1],[2,[6,"denied",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),denied_leads_adults_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"leads_adults",!1],[2,[7,"/",!1],[2,[6,"denied",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),deny_lead_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"leads",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"deny",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),deny_leads_adult_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"leads_adults",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"deny",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),deny_therapist_directory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"therapist_directories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"deny",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),destroy_admin_affiliate_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"affiliates",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"destroy_admin",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),destroy_recovery_comment_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"destroy_recovery",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),destroy_user_session_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"sign_out",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),dismiss_inventories_tool_tip_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"dismiss_inventories_tool_tip",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),dismiss_lead_banner_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"dismiss_lead_banner",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),dismiss_static_banner_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"dismiss_static_banner",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),donate_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"donate",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),donate_confirmation_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"donate",!1],[2,[7,"/",!1],[2,[6,"confirmation",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),edit_affiliate_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"affiliates",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_affiliate_url_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"affiliate_urls",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_ally_note_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"ally_notes",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_api_v1_ally_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),edit_api_v1_ally_relationship_note_path:n.route(["relationship_id","id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"relationship_id",!1],[2,[7,"/",!1],[2,[6,"notes",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]]]]]],{}),edit_api_v1_chat_room_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_comment_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_course_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"courses",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_custom_freedom_plan_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"custom_freedom_plans",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_forum_category_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"forum_categories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_forum_subcategory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"forum_subcategories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_freedom_plan_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"freedom_plans",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_group_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_group_leader_group_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"group_leader",!1],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),edit_api_v1_intercom_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"intercom",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_inventory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"inventories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_journal_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"journals",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_lesson_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_lifestyle_inventory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"lifestyle_inventories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_message_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"messages",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_notification_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"notifications",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_organization_user_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"organization_users",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_post_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"posts",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_recovery_chat_room_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),edit_api_v1_recovery_client_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"clients",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),
edit_api_v1_recovery_community_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"communities",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),edit_api_v1_recovery_lifestyle_inventory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"lifestyle_inventories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),edit_api_v1_recovery_organization_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"organizations",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),edit_api_v1_recovery_organization_user_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"organization_users",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),edit_api_v1_recovery_sync_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"sync",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),edit_api_v1_recovery_teletherapy_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"teletherapies",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),edit_api_v1_registration_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"registrations",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_response_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"responses",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_share_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"shares",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_so_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"sos",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_tour_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"tours",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_tracker_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_user_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_api_v1_webinar_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"webinars",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),edit_assets_library_course_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"assets_library_courses",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_badge_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"badges",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_banner_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"banners",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_bug_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"bugs",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_chat_room_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_comment_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_company_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"companies",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_company_age_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"company",!1],[2,[7,"/",!1],[2,[6,"ages",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_company_gender_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"company",!1],[2,[7,"/",!1],[2,[6,"genders",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_company_gray_label_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"company",!1],[2,[7,"/",!1],[2,[6,"gray_labels",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_company_religion_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"company",!1],[2,[7,"/",!1],[2,[6,"religions",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_coupon_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"coupons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_daily_discussion_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"daily_discussions",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_daily_motivation_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"daily_motivations",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_dashboard_item_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"dashboard_items",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_employee_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"employees",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_faq_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"faqs",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_fortify_variable_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"fortify_variables",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_forum_category_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"categories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_forum_comment_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_forum_post_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_forum_subcategory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"subcategories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_freedom_plan_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"freedom_plan",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_goal_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"goals",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_group_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_group_suggestion_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"group_suggestions",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_journal_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"journals",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_language_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"languages",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_library_category_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"categories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_library_course_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"courses",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_library_external_content_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"external_contents",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_library_lesson_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_library_lesson_activity_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson_activities",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_library_lesson_form_datum_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson_form_data",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_library_lesson_inventory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_library_lesson_presentation_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_library_lesson_qaction_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_library_lesson_quick_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_library_lesson_quiz_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_library_lesson_strategy_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_library_lesson_video_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_library_lesson_view_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library_lesson_views",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_library_survey_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_lifestyle_inventory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"lifestyle_inventories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_meditation_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"meditations",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_message_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"messages",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_metric_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"metrics",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_mode_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"edit_mode",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),edit_moderation_comment_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_moderation_post_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[2,[7,"/",!1],[2,[6,"posts",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_moderation_share_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[2,[7,"/",!1],[2,[6,"shares",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_organization_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"organizations",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_organization_user_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"organization_users",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_professional_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"professionals",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_resources_recovery_comment_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"recovery_comments",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_resources_share_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"shares",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),edit_so_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"sos",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_student_lead_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"student_leads",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_support_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"supports",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_survey_question_category_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"survey_question_categories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_teletherapy_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"teletherapies",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_therapist_directory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"therapist_directories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_tracker_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_user_password_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"password",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),edit_user_registration_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),edit_webinar_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"webinars",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),employee_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"employees",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),employee_cancel_coach_as_admin_or_coach_path:n.route(["employee_id","id"],["format"],[2,[7,"/",!1],[2,[6,"employees",!1],[2,[7,"/",!1],[2,[3,"employee_id",!1],[2,[7,"/",!1],[2,[6,"cancel_coach_as_admin_or_coach",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),employee_cancel_group_as_admin_or_group_leader_path:n.route(["employee_id","id"],["format"],[2,[7,"/",!1],[2,[6,"employees",!1],[2,[7,"/",!1],[2,[3,"employee_id",!1],[2,[7,"/",!1],[2,[6,"cancel_group_as_admin_or_group_leader",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),employee_update_my_attributes_path:n.route(["employee_id"],["format"],[2,[7,"/",!1],[2,[6,"employees",!1],[2,[7,"/",!1],[2,[3,"employee_id",!1],[2,[7,"/",!1],[2,[6,"update_my_attributes",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),employees_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"employees",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),faq_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"faqs",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),faqs_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"faqs",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),fetch_words_language_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"languages",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"fetch_words",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),financial_aid_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"financial_aid",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),finish_tours_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"tours",!1],[2,[7,"/",!1],[2,[6,"finish",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),follow_resources_user_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"follow",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),fortify_variable_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"fortify_variables",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),fortify_variables_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"fortify_variables",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),forum_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),forum_categories_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"categories",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),forum_category_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"categories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),forum_comment_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),forum_comments_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),forum_following_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"posts_following",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),forum_following_recovery_subcategory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"subcategories_following_recovery",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),forum_following_subcategory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"subcategories_following",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),forum_post_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),forum_post_comments_path:n.route(["post_id"],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[3,"post_id",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),forum_post_flag_path:n.route(["post_id"],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[3,"post_id",!1],[2,[7,"/",!1],[2,[6,"flag",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),forum_post_like_path:n.route(["post_id"],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[3,"post_id",!1],[2,[7,"/",!1],[2,[6,"like",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),forum_post_ratings_path:n.route(["post_id"],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[3,"post_id",!1],[2,[7,"/",!1],[2,[6,"ratings",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),forum_post_recovery_show_path:n.route(["post_id"],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[3,"post_id",!1],[2,[7,"/",!1],[2,[6,"recovery_show",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),forum_posts_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),forum_recovery_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"recovery_index",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),forum_subcategories_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"subcategories",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),forum_subcategories_get_viewables_for_dropdown_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"subcategories",!1],[2,[7,"/",!1],[2,[6,"get_viewables_for_dropdown",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),forum_subcategory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"subcategories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),freedom_plan_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"freedom_plan",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),freedom_plan_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"freedom_plan",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),get_awards_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"get_awards",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),get_charts_organization_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"organizations",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"get_charts",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),get_counter_start_date_api_v1_trackers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"get_counter_start_date",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),get_date_api_v1_surveys_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[6,"get_date",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),get_device_id_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"get_device_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),get_index_assets_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"get_index_assets",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),get_intercom_mobile_hash_key_api_v1_intercom_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"intercom",!1],[2,[7,"/",!1],[2,[6,"get_intercom_mobile_hash_key",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),get_last_setback_api_v1_trackers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"get_last_setback",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),get_meditation_url_api_v1_sos_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"sos",!1],[2,[7,"/",!1],[2,[6,"get_meditation_url",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),get_my_group_info_api_v1_groups_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[6,"get_my_group_info",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),get_presigned_url_api_v1_chat_rooms_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[6,"get_presigned_url",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),get_registration_id_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"get_registration_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),get_tracker_options_api_v1_trackers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"get_tracker_options",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),get_users_group_suggestions_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"group_suggestions",!1],[2,[7,"/",!1],[2,[6,"get_users",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),gift_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"gift",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),gift_confirmation_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"gift",!1],[2,[7,"/",!1],[2,[6,"confirmation",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),goal_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"goals",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),goals_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"goals",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),group_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),group_launch_api_v1_group_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"group_launch",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),group_launch_group_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"group_launch",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),group_suggestion_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"group_suggestions",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),group_suggestions_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"group_suggestions",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),group_users_group_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"group_users",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),groupleaders_users_employee_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"employees",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"groupleaders_users",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),groups_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"groups",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),groups_mass_assign_group_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"mass_assign_groups",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),groups_mass_unassign_group_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"mass_unassign_groups",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),groups_none_groups_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[6,"groups_none",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),home_organization_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"organizations",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"home",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),ignore_billing_invites_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"ignore_billing_invites",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),impersonate_employee_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"employees",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"impersonate",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),index_v2_api_v1_comments_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[6,"index_v2",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),info_group_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"group_info",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),inventory_stats_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"inventory_stats",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),inventory_stats_body_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"inventory_stats_body",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),invited_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"invited",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),invoices_path:n.route(["plan_code"],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"invoices",!1],[2,[7,"/",!1],[2,[3,"plan_code",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),is_ally_expired_api_v1_ally_relationships_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[6,"is_ally_expired",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),is_ally_expired_with_training_age_api_v1_ally_relationships_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[6,"is_ally_expired_with_training_age",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),join_group_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"join",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),jong_test_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"jong_test",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),jong_test_broadcast_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"jong_test_broadcast",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),
jordan_android_test_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"jordan_android_test",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),jordan_one_signal_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"jordan_one_signal",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),journal_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"journals",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),journals_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"journals",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),language_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"languages",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),languages_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"languages",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),leads_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"leads",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),leads_adults_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"leads_adults",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),leave_chat_api_v1_chat_room_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"leave_chat",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),leave_chat_chat_rooms_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[6,"leave_chat",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),legacy_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"legacy",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),library_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),library_admin_answers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"admin_answers",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),library_admin_answers_show_path:n.route(["lesson_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"admin_answers_show",!1],[2,[7,"/",!1],[2,[3,"lesson_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_attachment_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"attachments",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_aws_url_callback_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"aws_url_callback",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_categories_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"categories",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),library_category_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"categories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_course_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"courses",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_course_lesson_graph_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"courses",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"lesson_graph",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_course_lessons_path:n.route(["course_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"courses",!1],[2,[7,"/",!1],[2,[3,"course_id",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_course_stats_graph_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"courses",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"course_stats",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_course_user_graph_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"courses",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"user_graph",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_courses_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"courses",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),library_courses_mass_assign_path:n.route(["course_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"courses",!1],[2,[7,"/",!1],[2,[3,"course_id",!1],[2,[7,"/",!1],[2,[6,"mass_assign_groups",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_courses_mass_unassign_path:n.route(["course_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"courses",!1],[2,[7,"/",!1],[2,[3,"course_id",!1],[2,[7,"/",!1],[2,[6,"mass_unassign_groups",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_create_lesson_category_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"create_lesson_category",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),library_delete_lesson_category_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"delete_lesson_category",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_edit_lesson_category_path:n.route(["category_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"edit_lesson_category",!1],[2,[7,"/",!1],[2,[3,"category_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_external_content_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"external_contents",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_external_contents_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"external_contents",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),library_finish_course_path:n.route(["lesson_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"lesson_id",!1],[2,[7,"/",!1],[2,[6,"finish_course",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_get_responses_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"get_responses",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_inventory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"inventory",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_lesson_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_lesson_activities_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson_activities",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),library_lesson_activity_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson_activities",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_lesson_answer_response_path:n.route(["lesson_id","id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"lesson_id",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"responses",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),library_lesson_comments_path:n.route(["lesson_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson_comments",!1],[2,[7,"/",!1],[2,[3,"lesson_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_lesson_form_data_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson_form_data",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),library_lesson_form_datum_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson_form_data",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_lesson_inventories_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),library_lesson_inventory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_lesson_inventory_comments_path:n.route(["inventory_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"inventory_id",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_inventory_ratings_path:n.route(["inventory_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"inventory_id",!1],[2,[7,"/",!1],[2,[6,"ratings",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_lesson_graph_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"lesson_graph",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_presentation_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_lesson_presentation_comments_path:n.route(["presentation_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"presentation_id",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_presentation_ratings_path:n.route(["presentation_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"presentation_id",!1],[2,[7,"/",!1],[2,[6,"ratings",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_presentations_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),library_lesson_qaction_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_lesson_qaction_comments_path:n.route(["qaction_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"qaction_id",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_qaction_ratings_path:n.route(["qaction_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"qaction_id",!1],[2,[7,"/",!1],[2,[6,"ratings",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_qactions_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),library_lesson_quick_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_lesson_quick_comments_path:n.route(["quick_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"quick_id",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_quick_ratings_path:n.route(["quick_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"quick_id",!1],[2,[7,"/",!1],[2,[6,"ratings",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_quicks_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),library_lesson_quiz_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_lesson_quiz_comments_path:n.route(["quiz_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"quiz_id",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_quiz_ratings_path:n.route(["quiz_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"quiz_id",!1],[2,[7,"/",!1],[2,[6,"ratings",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_quizzes_path:n.route(["lesson_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"lesson_id",!1],[2,[7,"/",!1],[2,[6,"quizzes",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_show_lesson_category_path:n.route(["lesson_id","category_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"lesson_id",!1],[2,[7,"/",!1],[2,[6,"show_lesson_category",!1],[2,[7,"/",!1],[2,[3,"category_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),library_lesson_stats_graph_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"lesson_stats",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_strategies_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),library_lesson_strategy_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_lesson_strategy_comments_path:n.route(["strategy_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"strategy_id",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_strategy_ratings_path:n.route(["strategy_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"strategy_id",!1],[2,[7,"/",!1],[2,[6,"ratings",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_update_activity_path:n.route(["lesson_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"lesson_id",!1],[2,[7,"/",!1],[2,[6,"update_activity",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_user_graph_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"user_graph",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_video_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_lesson_video_comments_path:n.route(["video_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"video_id",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_video_player_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"video_player",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_video_ratings_path:n.route(["video_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[3,"video_id",!1],[2,[7,"/",!1],[2,[6,"ratings",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lesson_videos_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),library_lesson_view_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library_lesson_views",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),library_lesson_views_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library_lesson_views",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),library_lessons_mass_assign_path:n.route(["lesson_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"lesson_id",!1],[2,[7,"/",!1],[2,[6,"mass_assign",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_lessons_mass_unassign_path:n.route(["lesson_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"lesson_id",!1],[2,[7,"/",!1],[2,[6,"mass_unassign",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),library_subtitle_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"subtitles",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_survey_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_survey_survey_answer_response_path:n.route(["survey_id","id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[3,"survey_id",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"responses",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),library_surveys_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),library_take_inventory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"take_inventory",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_update_lesson_category_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"update_lesson_category",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),library_video_cues_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"videos",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"cues",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),lifestyle_inventories_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"lifestyle_inventories",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),lifestyle_inventory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"lifestyle_inventories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),lifestyle_metrics_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"metrics",!1],[2,[7,"/",!1],[2,[6,"lifestyle",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),listview_api_v1_lifestyle_inventories_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"lifestyle_inventories",!1],[2,[7,"/",!1],[2,[6,"listview",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),load_invoices_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"load_invoices",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),load_item_dashboard_items_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"dashboard_items",!1],[2,[7,"/",!1],[2,[6,"load_item",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),load_more_messages_chat_room_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"load_more_messages",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),load_user_activity_relationships_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[6,"load_user_activity",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),load_user_activity_trackers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"load_user_activity",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),login_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"login",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),logout_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"logout",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),lookup_coupons_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"coupons",!1],[2,[7,"/",!1],[2,[6,"lookup",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),manage_subscription_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"manage_subscription",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),manage_subscription_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"manage_subscription",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),manually_confirm_employee_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"employees",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"manually_confirm",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),manually_update_password_employee_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"employees",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"manually_update_password",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),marketing_video_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"marketing_video",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),mass_unassign_forum_category_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"categories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"mass_unassign_groups",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),mass_unassign_forum_subcategory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"subcategories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"mass_unassign_groups",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),meditation_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"meditations",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),meditation_sos_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"sos",!1],[2,[7,"/",!1],[2,[6,"meditation",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),meditations_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"meditations",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),meeting_now_api_v1_group_leader_groups_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"group_leader",!1],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[6,"meeting_now",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),members_organization_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"organizations",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"members",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),message_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"messages",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),message_allies_api_v1_sos_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"sos",!1],[2,[7,"/",!1],[2,[6,"message_allies",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),message_allies_sos_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"sos",!1],[2,[7,"/",!1],[2,[6,"message_allies",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),message_group_api_v1_sos_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"sos",!1],[2,[7,"/",!1],[2,[6,"message_group",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),message_group_sos_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"sos",!1],[2,[7,"/",!1],[2,[6,"message_group",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),messages_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"messages",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),messages_api_v1_chat_room_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"messages",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),messages_read_messages_api_v1_chat_room_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"messages",!1],[2,[7,"/",!1],[2,[6,"read_messages",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),messages_unread_messages_api_v1_chat_room_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"messages",!1],[2,[7,"/",!1],[2,[6,"unread_messages",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),metric_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"metrics",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),metrics_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"metrics",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),migrate_data_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"migrate_data",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),migrate_user_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"migrate_user",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),migration_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"migration",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),moderation_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),moderation_comment_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),moderation_comment_approve_path:n.route(["comment_id"],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"comment_id",!1],[2,[7,"/",!1],[2,[6,"approve",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),moderation_comment_delete_comment_path:n.route(["comment_id"],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"comment_id",!1],[2,[7,"/",!1],[2,[6,"delete_comment",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),moderation_comments_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),moderation_post_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[2,[7,"/",!1],[2,[6,"posts",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),moderation_post_approve_path:n.route(["post_id"],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[2,[7,"/",!1],[2,[6,"posts",!1],[2,[7,"/",!1],[2,[3,"post_id",!1],[2,[7,"/",!1],[2,[6,"approve",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),moderation_post_delete_post_path:n.route(["post_id"],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[2,[7,"/",!1],[2,[6,"posts",!1],[2,[7,"/",!1],[2,[3,"post_id",!1],[2,[7,"/",!1],[2,[6,"delete_post",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),moderation_posts_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[2,[7,"/",!1],[2,[6,"posts",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),moderation_share_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[2,[7,"/",!1],[2,[6,"shares",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),moderation_shares_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[2,[7,"/",!1],[2,[6,"shares",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),monthly_affiliate_path:n.route(["id","date"],["format"],[2,[7,"/",!1],[2,[6,"affiliates",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"monthly",!1],[2,[7,"/",!1],[2,[3,"date",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),my_chatable_users_api_v1_chat_rooms_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[6,"my_chatable_users",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),my_clients_api_v1_recovery_teletherapies_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"teletherapies",!1],[2,[7,"/",!1],[2,[6,"my_clients",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),new_affiliate_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"affiliates",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_affiliate_url_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"affiliate_urls",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_ally_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_ally_note_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"ally_notes",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_allyee_modal_billing_relationships_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[6,"new_allyee_modal_billing",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_allyee_modal_relationships_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[6,"new_allyee_modal",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_api_v1_ally_relationship_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),new_api_v1_ally_relationship_note_path:n.route(["relationship_id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"relationship_id",!1],[2,[7,"/",!1],[2,[6,"notes",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]]]],{}),new_api_v1_chat_room_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_comment_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_course_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"courses",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_custom_freedom_plan_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"custom_freedom_plans",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_forum_category_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"forum_categories",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_forum_subcategory_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"forum_subcategories",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_freedom_plan_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"freedom_plans",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_group_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_group_leader_group_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"group_leader",!1],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),new_api_v1_intercom_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"intercom",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_inventory_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"inventories",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_journal_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"journals",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_lesson_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_lifestyle_inventory_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"lifestyle_inventories",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),
new_api_v1_message_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"messages",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_notification_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"notifications",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_organization_user_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"organization_users",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_post_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"posts",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_recovery_chat_room_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),new_api_v1_recovery_client_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"clients",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),new_api_v1_recovery_community_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"communities",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),new_api_v1_recovery_lifestyle_inventory_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"lifestyle_inventories",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),new_api_v1_recovery_organization_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"organizations",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),new_api_v1_recovery_organization_user_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"organization_users",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),new_api_v1_recovery_sync_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"sync",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),new_api_v1_recovery_teletherapy_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"teletherapies",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),new_api_v1_registration_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"registrations",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_relationship_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_response_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"responses",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_share_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"shares",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_so_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"sos",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_tour_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"tours",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_tracker_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_user_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_api_v1_webinar_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"webinars",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),new_assets_library_course_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"assets_library_courses",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_badge_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"badges",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_banner_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"banners",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_bug_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"bugs",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_chat_room_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_coach_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"coach",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_comment_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_company_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"companies",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_company_age_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"company",!1],[2,[7,"/",!1],[2,[6,"ages",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_company_gender_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"company",!1],[2,[7,"/",!1],[2,[6,"genders",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_company_gray_label_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"company",!1],[2,[7,"/",!1],[2,[6,"gray_labels",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_company_religion_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"company",!1],[2,[7,"/",!1],[2,[6,"religions",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_coupon_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"coupons",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_daily_discussion_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"daily_discussions",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_daily_motivation_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"daily_motivations",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_dashboard_item_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"dashboard_items",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_employee_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"employees",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_faq_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"faqs",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_fortify_variable_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"fortify_variables",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_forum_category_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"categories",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_forum_comment_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_forum_post_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_forum_subcategory_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"subcategories",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_freedom_plan_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"freedom_plan",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_goal_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"goals",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_group_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_group_suggestion_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"group_suggestions",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_journal_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"journals",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_language_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"languages",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_lead_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"leads",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_leads_adult_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"leads_adults",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_library_category_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"categories",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_library_course_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"courses",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_library_external_content_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"external_contents",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_library_lesson_activity_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson_activities",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_library_lesson_form_datum_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson_form_data",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_library_lesson_inventory_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_library_lesson_presentation_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_library_lesson_qaction_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_library_lesson_quick_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_library_lesson_quiz_path:n.route(["lesson_id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"lesson_id",!1],[2,[7,"/",!1],[2,[6,"quizzes",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),new_library_lesson_strategy_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_library_lesson_video_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lesson",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_library_lesson_view_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library_lesson_views",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_library_survey_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_lifestyle_inventory_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"lifestyle_inventories",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_meditation_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"meditations",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_message_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"messages",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_metric_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"metrics",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_migration_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"new_migration",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),new_moderation_comment_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_moderation_post_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[2,[7,"/",!1],[2,[6,"posts",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_moderation_share_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"moderation",!1],[2,[7,"/",!1],[2,[6,"shares",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_organization_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"organizations",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_organization_user_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"organization_users",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_professional_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"professionals",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_relationship_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_resources_recovery_comment_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"recovery_comments",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_response_freedom_plan_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"freedom_plan",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"new_response",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_so_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"sos",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_student_lead_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"student_leads",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_support_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"supports",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_survey_question_category_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"survey_question_categories",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_teletherapy_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"teletherapies",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_therapist_directory_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"therapist_directories",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_tracker_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_user_confirmation_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"confirmation",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_user_invitation_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"invitation",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_user_password_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"password",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),new_user_registration_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"sign_up",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_user_session_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"sign_in",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),new_webinar_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"webinars",!1],[2,[7,"/",!1],[2,[6,"new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),next_up_api_v1_lessons_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[6,"next_up",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),notification_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"notifications",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),notification_count_api_v1_ally_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"notification_count",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),notifications_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"notifications",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),notify_subcategory_followers_api_v1_recovery_communities_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"communities",!1],[2,[7,"/",!1],[2,[6,"notify_subcategory_followers",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),organization_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"organizations",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),organization_user_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"organization_users",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),organization_users_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"organization_users",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),organizations_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"organizations",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),pause_coupon_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"coupons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"pause",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),paypal_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"paypal",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),paypal_success_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"paypal_success",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),pending_leads_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"leads",!1],[2,[7,"/",!1],[2,[6,"pending",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),pending_leads_adults_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"leads_adults",!1],[2,[7,"/",!1],[2,[6,"pending",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),play_video_api_v1_message_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"messages",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"play_video",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),play_video_message_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"messages",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"play_video",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),postable_categories_api_v1_forum_categories_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"forum_categories",!1],[2,[7,"/",!1],[2,[6,"postable_categories",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),premium_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"premium",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),privacy_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"privacy",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),professional_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"professionals",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),professional_tours_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"tours",!1],[2,[7,"/",!1],[2,[6,"professional",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),professionals_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"professionals",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),professionals_show1_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"professionals",!1],[2,[7,"/",!1],[2,[6,"show1",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),profile_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),profile_actions_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile_actions",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),profile_avatars_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"avatars",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),profile_awards_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile_awards",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),profile_dashboard_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile_dashboard",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),profile_dismiss_banner_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"dismiss_banner",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),profile_freedomplan_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile_freedomplan",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),profile_get_dashboard_charts_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"get_dashboard_charts",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),profile_journal_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile_journal",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),profile_migrate_existing_user_data_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"migrate_existing_user_data",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),profile_progress_categories_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile_progress_categories",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),profile_quickquestions_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile_quickquestions",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),profile_show_messagebar_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"show_messagebar",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),profile_sidebar_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile_sidebar",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),profile_tours_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"tours",!1],[2,[7,"/",!1],[2,[6,"profile",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),profile_update_pic_tours_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"tours",!1],[2,[7,"/",!1],[2,[6,"profile_update_pic",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),program_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"program",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),program_api_v1_recovery_organizations_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"organizations",!1],[2,[7,"/",!1],[2,[6,"program",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),program_categories_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"program_categories",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),ranking_webview_api_v1_ally_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"ranking_webview",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),ranking_webview_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"ranking_webview",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),read_api_v1_notifications_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"notifications",!1],[2,[7,"/",!1],[2,[6,"read",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),read_messages_chat_room_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"read",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),record_start_webinar_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"webinars",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"record_start",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),record_stop_webinar_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"webinars",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"record_stop",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),recovery_show_forum_subcategory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"forum",!1],[2,[7,"/",!1],[2,[6,"subcategories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"recovery_show",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),recurly_callback_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"recurly",!1],[2,[7,"/",!1],[2,[6,"callback",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),reinvite_employee_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"employees",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"reinvite",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),reject_api_v1_surveys_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[6,"reject",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),relationships_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"relationships",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),relink_library_survey_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"relink",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),relink_responses_library_survey_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"relink_responses",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),remove_user_invitation_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"invitation",!1],[2,[7,"/",!1],[2,[6,"remove",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),reset_battle_tracker_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"reset_battle_tracker",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),reset_battle_tracker_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"reset_battle_tracker",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),reset_password_api_v1_sessions_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"sessions",!1],[2,[7,"/",!1],[2,[6,"reset_password",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),reset_program_progess_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"reset_program_progess",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),reset_program_progess_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"reset_program_progess",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),reset_tracker_and_awards_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"reset_tracker_and_awards",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),resolved_supports_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"supports",!1],[2,[7,"/",!1],[2,[6,"resolved",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),resources_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),resources_books_search_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"books_search",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),resources_by_type_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"by_type",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),resources_mass_assign_path:n.route(["resource_id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[3,"resource_id",!1],[2,[7,"/",!1],[2,[6,"mass_assign_groups",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),resources_mass_unassign_path:n.route(["resource_id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[3,"resource_id",!1],[2,[7,"/",!1],[2,[6,"mass_unassign_groups",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),resources_popular_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"popular",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),resources_recovery_comment_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"recovery_comments",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),resources_recovery_comments_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"recovery_comments",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),resources_share_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"shares",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),resources_share_comments_path:n.route(["share_id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"shares",!1],[2,[7,"/",!1],[2,[3,"share_id",!1],[2,[7,"/",!1],[2,[6,"comments",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),resources_share_flag_path:n.route(["share_id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"shares",!1],[2,[7,"/",!1],[2,[3,"share_id",!1],[2,[7,"/",!1],[2,[6,"flag",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),resources_share_get_comments_path:n.route(["share_id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"shares",!1],[2,[7,"/",!1],[2,[3,"share_id",!1],[2,[7,"/",!1],[2,[6,"get_comments",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),resources_share_like_path:n.route(["share_id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"shares",!1],[2,[7,"/",!1],[2,[3,"share_id",!1],[2,[7,"/",!1],[2,[6,"like",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),resources_shares_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"shares",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),resources_user_path:n.route(["user_id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[3,"user_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),resources_users_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"users",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),responses_api_v1_recovery_lifestyle_inventories_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"lifestyle_inventories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"lifestyle_responses",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),
responses_lifestyle_inventories_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"lifestyle_inventories",!1],[2,[7,"/",!1],[2,[6,"lifestyle_responses",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),responses_webview_api_v1_surveys_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[6,"responses_webview",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),results_api_v1_surveys_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[6,"results",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),results_details_webview_api_v1_surveys_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[6,"results_details_webview",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),results_details_webview_new_api_v1_surveys_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[6,"results_details_webview_new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),results_details_webview_new_v3_api_v1_surveys_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[6,"results_details_webview_new_v3",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),results_webview_api_v1_surveys_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[6,"results_webview",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),results_webview_new_api_v1_surveys_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[6,"results_webview_new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),results_webview_new_v3_api_v1_surveys_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[6,"results_webview_new_v3",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),results_webview_new_v4_api_v1_surveys_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[6,"results_webview_new_v4",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),root_path:n.route([],[],[7,"/",!1],{}),send_message_api_v1_chat_rooms_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[6,"send_message",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),send_message_api_v1_recovery_chat_rooms_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[6,"send_message",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),send_message_group_suggestion_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"group_suggestions",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"send_messages",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),send_support_email_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"send_support_email",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),set_admin_affiliate_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"affiliates",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"set_admin",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),set_avatar_api_v1_registrations_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"registrations",!1],[2,[7,"/",!1],[2,[6,"set_avatar",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),set_device_id_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"set_device_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),set_notification_preferences_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"set_notification_preferences",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),set_registration_id_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"set_registration_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),set_role_path:n.route(["role"],["format"],[2,[7,"/",!1],[2,[6,"set_role",!1],[2,[7,"/",!1],[2,[3,"role",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),set_role_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"set_role",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),set_role_patch_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"set_role_patch",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),set_username_api_v1_registrations_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"registrations",!1],[2,[7,"/",!1],[2,[6,"set_username",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),setback_device_api_v1_trackers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"setback_device",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),setback_location_api_v1_trackers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"setback_location",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),setback_mood_api_v1_trackers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"setback_mood",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),setback_time_api_v1_trackers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"setback_time",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),setback_trends_api_v1_trackers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"setback_trends",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),settings_affiliate_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"affiliates",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"settings",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),show_dashboard_items_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"show_dashboard_items",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),show_info_api_v1_ally_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"show_info",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),show_info_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"show_info",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),show_item_organization_user_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"organization_users",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"show_item",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),show_item_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"show_item",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),show_lesson_category_api_v1_lesson_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"show_lesson_category",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),show_points_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"show_points",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),show_progress_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"show_progress",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),show_user_api_v1_recovery_chat_rooms_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[6,"show_user",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),show_users_api_v1_recovery_chat_rooms_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[6,"show_users",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),show_webview_api_v1_inventory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"inventories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"show_webview",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),sign_up_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"sign-up",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),sign_up_from_trial_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"sign_up_from_trial",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),signup_objects_api_v1_registrations_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"registrations",!1],[2,[7,"/",!1],[2,[6,"signup_objects",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),slide_tour_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"tours",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"slide",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),so_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"sos",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),sobriety_details_tours_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"tours",!1],[2,[7,"/",!1],[2,[6,"sobriety_details",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),sos_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"sos",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),sos_options_api_v1_sos_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"sos",!1],[2,[7,"/",!1],[2,[6,"sos_options",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),speaker_users_employee_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"employees",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"speaker_users",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),student_lead_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"student_leads",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),student_leads_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"student_leads",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),student_pricing_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"student-pricing",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),submit_additional_info_tour_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"tours",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"additional-details",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),submit_sobriety_date_api_v1_tours_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"tours",!1],[2,[7,"/",!1],[2,[6,"submit_sobriety_date",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),submit_sobriety_details_tours_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"tours",!1],[2,[7,"/",!1],[2,[6,"submit_sobriety_details",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),support_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"supports",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),supports_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"supports",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),survey_api_v1_recovery_sync_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"sync",!1],[2,[7,"/",!1],[2,[6,"survey",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),survey_question_categories_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"survey_question_categories",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),survey_question_category_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"survey_question_categories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),survey_responses_metrics_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"metrics",!1],[2,[7,"/",!1],[2,[6,"survey_responses",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),surveys_metrics_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"metrics",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),surveys_webview_api_v1_ally_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"surveys_webview",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),switch_training_viewable_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"switch_training_viewable",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),switch_training_viewable_api_v1_ally_relationships_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[6,"switch_training_viewable",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),sync_intercom_data_employees_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"employees",!1],[2,[7,"/",!1],[2,[6,"sync_intercom_data",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),take_api_v1_lifestyle_inventories_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"lifestyle_inventories",!1],[2,[7,"/",!1],[2,[6,"take",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),take_library_surveys_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[6,"take",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),take_lifestyle_inventories_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"lifestyle_inventories",!1],[2,[7,"/",!1],[2,[6,"take",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),taken_inventories_api_v1_lessons_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[6,"taken_inventories",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),taken_inventory_api_v1_lesson_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"taken_inventory",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),taken_inventory_webview_api_v1_lesson_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"taken_inventory_webview",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),taken_survey_count_api_v1_surveys_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"surveys",!1],[2,[7,"/",!1],[2,[6,"taken_survey_count",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),teen_api_v1_registrations_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"registrations",!1],[2,[7,"/",!1],[2,[6,"teen",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),teletherapies_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"teletherapies",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),teletherapy_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"teletherapies",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),temp_set_my_group_time_to_now_api_v1_groups_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[6,"temp_set_my_group_time_to_now",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),terms_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"terms",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),test2_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"test2",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),test3_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"test3",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),testimonials_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"testimonials",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),therapist_directories_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"therapist_directories",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),therapist_directory_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"therapist_directories",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),three_ways_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"three_ways",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),toggle_notification_notifications_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"notifications",!1],[2,[7,"/",!1],[2,[6,"toggle_notification",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),token_login_path:n.route(["auth_token"],["format"],[2,[7,"/",!1],[2,[6,"token_login",!1],[2,[7,"/",!1],[2,[3,"auth_token",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),tours_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"tours",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),tracker_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),tracker_charts_api_v1_ally_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"tracker_charts",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),tracker_charts_api_v1_trackers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"tracker_charts",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),tracker_charts_new_api_v1_trackers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"tracker_charts_new",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),tracker_modal_trackers_path:n.route(["date"],["format"],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"tracker_modal",!1],[2,[7,"/",!1],[2,[3,"date",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),tracker_start_date_api_v1_trackers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"tracker_start_date",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),trackers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"trackers",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),trackers_api_v1_ally_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"ally",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),trigger_survey_api_v1_recovery_sync_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"sync",!1],[2,[7,"/",!1],[2,[6,"trigger_survey",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),unfollow_resources_user_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"resources",!1],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"unfollow",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),unread_counts_api_v1_notifications_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"notifications",!1],[2,[7,"/",!1],[2,[6,"unread_counts",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),unread_messages_api_v1_messages_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"messages",!1],[2,[7,"/",!1],[2,[6,"unread_messages",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),unsubscribe_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"unsubscribe",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),update_api_v1_recovery_clients_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"clients",!1],[2,[7,"/",!1],[2,[6,"update",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),update_base_subscription_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"update_base_subscription",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),update_chat_api_v1_recovery_chat_rooms_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[6,"update_chat",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),update_clients_therapist_api_v1_recovery_organization_user_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"recovery",!1],[2,[7,"/",!1],[2,[6,"organization_users",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"update_clients_therapist",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]]]],{}),update_count_webinar_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"webinars",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"update_count",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),update_custom_chat_rooms_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[6,"update_custom",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),update_dashboard_items_dashboard_items_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"dashboard_items",!1],[2,[7,"/",!1],[2,[6,"update_dashboard_items",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),update_dashboard_items_sort_dashboard_items_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"dashboard_items",!1],[2,[7,"/",!1],[2,[6,"update_dashboard_items_sort",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),update_lesson_sort_library_lessons_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"library",!1],[2,[7,"/",!1],[2,[6,"lessons",!1],[2,[7,"/",!1],[2,[6,"update_lesson_sort",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),update_pic_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"update_pic",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),update_professional_role_tours_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"tours",!1],[2,[7,"/",!1],[2,[6,"update_professional_role",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),update_profile_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"update",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),update_settings_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"update_relationship_settings",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),update_sort_daily_discussions_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"daily_discussions",!1],[2,[7,"/",!1],[2,[6,"update_sort",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),update_sort_freedom_plan_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"freedom_plan",!1],[2,[7,"/",!1],[2,[6,"update_sort",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),update_subscription_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"update_subscription",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),update_unsubscribe_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"profile",!1],[2,[7,"/",!1],[2,[6,"update_unsubscribe",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),update_user_group_group_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"groups",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"user_groups",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),update_word_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"word",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),user_admin_edit_employee_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"employees",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"user_admin_view_edit",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),user_admin_view_employee_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"employees",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"user_admin_view",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),user_ally_billing_confirmation_api_v1_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"user_ally_billing_confirmation",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),user_ally_confirmation_path:n.route(["ally_id"],["format"],[2,[7,"/",!1],[2,[6,"user_ally_confirmation",!1],[2,[7,"/",!1],[2,[3,"ally_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),user_ally_confirmation_api_v1_relationship_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"relationships",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"user_ally_confirmation",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),user_confirmation_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"confirmation",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),user_invitation_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"invitation",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),user_password_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"password",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),user_registration_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),user_responses_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"responses",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),user_session_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"sign_in",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),users_billing_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"billing",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),users_create_account_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"create_account",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),users_create_trial_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"create_trial",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),users_new_allies_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"new_allies",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),users_new_annual_plan_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"new_annual_plan",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),users_new_one_time_plan_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"new_one_time_plan",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),users_new_professionals_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"new_professionals",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),users_new_student_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"new_student",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),users_new_trial_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"new_trial",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),users_sign_up_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"sign_up",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),users_tiers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"tiers",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),version_check_api_v1_user_index_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"user",!1],[2,[7,"/",!1],[2,[6,"version_check",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),victory_activity_api_v1_trackers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"victory_activity",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),victory_mood_api_v1_trackers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"victory_mood",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),victory_rate_api_v1_trackers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"victory_rate",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),victory_trends_api_v1_trackers_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"trackers",!1],[2,[7,"/",!1],[2,[6,"victory_trends",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),video_categories_index_api_v1_courses_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"courses",!1],[2,[7,"/",!1],[2,[6,"video_categories_index",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),videos_api_v1_chat_room_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"chat_rooms",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"videos",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]]],{}),view_all_notifications_notifications_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"notifications",!1],[2,[7,"/",!1],[2,[6,"view_all_notifications",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),view_image_support_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"supports",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"view_image",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),webinar_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"webinars",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),webinar_callback_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"webinars_callback",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),webinar_live_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"webinars_live",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),webinars_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"webinars",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),welcome_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"welcome",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{}),welcome_submit_tour_path:n.route(["id"],["format"],[2,[7,"/",!1],[2,[6,"tours",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"welcome",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],{}),welcome_tours_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"tours",!1],[2,[7,"/",!1],[2,[6,"welcome",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),why_statement_api_v1_sos_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"v1",!1],[2,[7,"/",!1],[2,[6,"sos",!1],[2,[7,"/",!1],[2,[6,"why_statement",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],{}),why_statement_sos_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"sos",!1],[2,[7,"/",!1],[2,[6,"why_statement",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],{}),youth_path:n.route([],["format"],[2,[7,"/",!1],[2,[6,"youth",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],{})
},a.Routes.options=r,a.Routes.default_serializer=function(t,e){return n.default_serializer(t,e)},a.Routes},"function"==typeof define&&define.amd?define([],function(){return o()}):o()}.call(this),function(){(function(){(function(){this.Turbolinks={supported:function(){return null!=window.history.pushState&&null!=window.requestAnimationFrame}(),visit:function(e,i){return t.controller.visit(e,i)},clearCache:function(){return t.controller.clearCache()}}}).call(this)}).call(this);var t=this.Turbolinks;(function(){(function(){var e,i;t.copyObject=function(t){var e,i,n;i={};for(e in t)n=t[e],i[e]=n;return i},t.closest=function(t,i){return e.call(t,i)},e=function(){var t,e;return t=document.documentElement,null!=(e=t.closest)?e:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&i.call(e,t))return e;e=e.parentNode}}}(),t.defer=function(t){return setTimeout(t,1)},t.dispatch=function(t,e){var i,n,o,r,a;return r=null!=e?e:{},a=r.target,i=r.cancelable,n=r.data,o=document.createEvent("Events"),o.initEvent(t,!0,i===!0),o.data=null!=n?n:{},(null!=a?a:document).dispatchEvent(o),o},t.match=function(t,e){return i.call(t,e)},i=function(){var t,e,i,n;return t=document.documentElement,null!=(e=null!=(i=null!=(n=t.matchesSelector)?n:t.webkitMatchesSelector)?i:t.msMatchesSelector)?e:t.mozMatchesSelector}(),t.uuid=function(){var t,e,i;for(i="",t=e=1;36>=e;t=++e)i+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return i}}).call(this),function(){t.Location=function(){function t(t){var e,i;null==t&&(t=""),i=document.createElement("a"),i.href=t.toString(),this.absoluteURL=i.href,e=i.hash.length,2>e?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=i.hash.slice(1))}var e,i,n,o;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.absoluteURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=i(t),this.isEqualTo(t)||o(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},i=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return n(t,"/")?t:t+"/"},o=function(t,e){return t.slice(0,e.length)===e},n=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.HttpRequest=function(){function i(i,n,o){this.delegate=i,this.requestCanceled=e(this.requestCanceled,this),this.requestTimedOut=e(this.requestTimedOut,this),this.requestFailed=e(this.requestFailed,this),this.requestLoaded=e(this.requestLoaded,this),this.requestProgressed=e(this.requestProgressed,this),this.url=t.Location.wrap(n).requestURL,this.referrer=t.Location.wrap(o).absoluteURL,this.createXHR()}return i.NETWORK_FAILURE=0,i.TIMEOUT_FAILURE=-1,i.timeout=60,i.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},i.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},i.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},i.prototype.requestLoaded=function(){return this.endRequest(function(t){return function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader("Turbolinks-Location")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}}(this))},i.prototype.requestFailed=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}}(this))},i.prototype.requestTimedOut=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}}(this))},i.prototype.requestCanceled=function(){return this.endRequest()},i.prototype.notifyApplicationBeforeRequestStart=function(){return t.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},i.prototype.notifyApplicationAfterRequestEnd=function(){return t.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},i.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},i.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},i.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},i.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},i}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ProgressBar=function(){function t(){this.trickle=e(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var i;return i=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+i+"ms ease-out, opacity "+i/2+"ms "+i/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(t){return function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}}(this))):void 0},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*i)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,i)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame(function(t){return function(){return t.progressElement.style.width=10+90*t.value+"%"}}(this))},t.prototype.createStylesheetElement=function(){var t;return t=document.createElement("style"),t.type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return t=document.createElement("div"),t.className="turbolinks-progress-bar",t},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.BrowserAdapter=function(){function i(i){this.controller=i,this.showProgressBar=e(this.showProgressBar,this),this.progressBar=new t.ProgressBar}var n,o,r,a;return a=t.HttpRequest,n=a.NETWORK_FAILURE,r=a.TIMEOUT_FAILURE,o=500,i.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},i.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},i.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},i.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},i.prototype.visitRequestCompleted=function(t){return t.loadResponse()},i.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case r:return this.reload();default:return t.loadResponse()}},i.prototype.visitRequestFinished=function(){return this.hideProgressBar()},i.prototype.visitCompleted=function(t){return t.followRedirect()},i.prototype.pageInvalidated=function(){return this.reload()},i.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,o)},i.prototype.showProgressBar=function(){return this.progressBar.show()},i.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},i.prototype.reload=function(){return window.location.reload()},i}()}.call(this),function(){var e,i=function(t,e){return function(){return t.apply(e,arguments)}};e=!1,addEventListener("load",function(){return t.defer(function(){return e=!0})},!1),t.History=function(){function n(t){this.delegate=t,this.onPopState=i(this.onPopState,this)}return n.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),this.started=!0)},n.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),this.started=!1):void 0},n.prototype.push=function(e,i){return e=t.Location.wrap(e),this.update("push",e,i)},n.prototype.replace=function(e,i){return e=t.Location.wrap(e),this.update("replace",e,i)},n.prototype.onPopState=function(e){var i,n,o,r;return this.shouldHandlePopState()&&(r=null!=(n=e.state)?n.turbolinks:void 0)?(i=t.Location.wrap(window.location),o=r.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(i,o)):void 0},n.prototype.shouldHandlePopState=function(){return e===!0},n.prototype.update=function(t,e,i){var n;return n={turbolinks:{restorationIdentifier:i}},history[t+"State"](n,null,e)},n}()}.call(this),function(){t.Snapshot=function(){function e(t){var e,i;i=t.head,e=t.body,this.head=null!=i?i:document.createElement("head"),this.body=null!=e?e:document.createElement("body")}return e.wrap=function(t){return t instanceof this?t:this.fromHTML(t)},e.fromHTML=function(t){var e;return e=document.createElement("html"),e.innerHTML=t,this.fromElement(e)},e.fromElement=function(t){return new this({head:t.querySelector("head"),body:t.querySelector("body")})},e.prototype.clone=function(){return new e({head:this.head.cloneNode(!0),body:this.body.cloneNode(!0)})},e.prototype.getRootLocation=function(){var e,i;return i=null!=(e=this.getSetting("root"))?e:"/",new t.Location(i)},e.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},e.prototype.hasAnchor=function(t){try{return null!=this.body.querySelector("[id='"+t+"']")}catch(e){}},e.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},e.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},e.prototype.getSetting=function(t){var e,i;return i=this.head.querySelectorAll("meta[name='turbolinks-"+t+"']"),e=i[i.length-1],null!=e?e.getAttribute("content"):void 0},e}()}.call(this),function(){var e=[].slice;t.Renderer=function(){function t(){}var i;return t.render=function(){var t,i,n,o;return n=arguments[0],i=arguments[1],t=3<=arguments.length?e.call(arguments,2):[],o=function(t,e,i){i.prototype=t.prototype;var n=new i,o=t.apply(n,e);return Object(o)===o?o:n}(this,t,function(){}),o.delegate=n,o.render(i),o},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:(e=document.createElement("script"),e.textContent=t.textContent,i(e,t),e)},i=function(t,e){var i,n,o,r,a,s,l;for(r=e.attributes,s=[],i=0,n=r.length;n>i;i++)a=r[i],o=a.name,l=a.value,s.push(t.setAttribute(o,l));return s},t}()}.call(this),function(){t.HeadDetails=function(){function t(t){var e,i,r,a,s,l,u;for(this.element=t,this.elements={},u=this.element.childNodes,a=0,l=u.length;l>a;a++)r=u[a],r.nodeType===Node.ELEMENT_NODE&&(s=r.outerHTML,i=null!=(e=this.elements)[s]?e[s]:e[s]={type:o(r),tracked:n(r),elements:[]},i.elements.push(r))}var e,i,n,o;return t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t,e;return function(){var i,n;i=this.elements,n=[];for(t in i)e=i[t].tracked,e&&n.push(t);return n}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var i,n,o,r,a,s;o=this.elements,a=[];for(n in o)r=o[n],s=r.type,i=r.elements,s!==t||e.hasElementWithKey(n)||a.push(i[0]);return a},t.prototype.getProvisionalElements=function(){var t,e,i,n,o,r,a;i=[],n=this.elements;for(e in n)o=n[e],a=o.type,r=o.tracked,t=o.elements,null!=a||r?t.length>1&&i.push.apply(i,t.slice(1)):i.push.apply(i,t);return i},o=function(t){return e(t)?"script":i(t)?"stylesheet":void 0},n=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){var e;return e=t.tagName.toLowerCase(),"script"===e},i=function(t){var e;return e=t.tagName.toLowerCase(),"style"===e||"link"===e&&"stylesheet"===t.getAttribute("rel")},t}()}.call(this),function(){var e=function(t,e){function n(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t.SnapshotRenderer=function(i){function n(e,i){this.currentSnapshot=e,this.newSnapshot=i,this.currentHeadDetails=new t.HeadDetails(this.currentSnapshot.head),this.newHeadDetails=new t.HeadDetails(this.newSnapshot.head),this.newBody=this.newSnapshot.body}return e(n,i),n.prototype.render=function(t){return this.trackedElementsAreIdentical()?(this.mergeHead(),this.renderView(function(e){return function(){return e.replaceBody(),e.focusFirstAutofocusableElement(),t()}}(this))):this.invalidateView()},n.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},n.prototype.replaceBody=function(){return this.activateBodyScriptElements(),this.importBodyPermanentElements(),this.assignNewBody()},n.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},n.prototype.copyNewHeadStylesheetElements=function(){var t,e,i,n,o;for(n=this.getNewHeadStylesheetElements(),o=[],e=0,i=n.length;i>e;e++)t=n[e],o.push(document.head.appendChild(t));return o},n.prototype.copyNewHeadScriptElements=function(){var t,e,i,n,o;for(n=this.getNewHeadScriptElements(),o=[],e=0,i=n.length;i>e;e++)t=n[e],o.push(document.head.appendChild(this.createScriptElement(t)));return o},n.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,i,n,o;for(n=this.getCurrentHeadProvisionalElements(),o=[],e=0,i=n.length;i>e;e++)t=n[e],o.push(document.head.removeChild(t));return o},n.prototype.copyNewHeadProvisionalElements=function(){var t,e,i,n,o;for(n=this.getNewHeadProvisionalElements(),o=[],e=0,i=n.length;i>e;e++)t=n[e],o.push(document.head.appendChild(t));return o},n.prototype.importBodyPermanentElements=function(){var t,e,i,n,o,r;for(n=this.getNewBodyPermanentElements(),r=[],e=0,i=n.length;i>e;e++)o=n[e],(t=this.findCurrentBodyPermanentElement(o))?r.push(o.parentNode.replaceChild(t,o)):r.push(void 0);return r},n.prototype.activateBodyScriptElements=function(){var t,e,i,n,o,r;for(n=this.getNewBodyScriptElements(),r=[],e=0,i=n.length;i>e;e++)o=n[e],t=this.createScriptElement(o),r.push(o.parentNode.replaceChild(t,o));return r},n.prototype.assignNewBody=function(){return document.body=this.newBody},n.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.findFirstAutofocusableElement())?t.focus():void 0},n.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},n.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},n.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},n.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},n.prototype.getNewBodyPermanentElements=function(){return this.newBody.querySelectorAll("[id][data-turbolinks-permanent]")},n.prototype.findCurrentBodyPermanentElement=function(t){return document.body.querySelector("#"+t.id+"[data-turbolinks-permanent]")},n.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},n.prototype.findFirstAutofocusableElement=function(){return document.body.querySelector("[autofocus]")},n}(t.Renderer)}.call(this),function(){var e=function(t,e){function n(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t.ErrorRenderer=function(t){function i(t){this.html=t}return e(i,t),i.prototype.render=function(t){return this.renderView(function(e){return function(){return e.replaceDocumentHTML(),e.activateBodyScriptElements(),t()}}(this))},i.prototype.replaceDocumentHTML=function(){return document.documentElement.innerHTML=this.html},i.prototype.activateBodyScriptElements=function(){var t,e,i,n,o,r;for(n=this.getScriptElements(),r=[],e=0,i=n.length;i>e;e++)o=n[e],t=this.createScriptElement(o),r.push(o.parentNode.replaceChild(t,o));return r},i.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},i}(t.Renderer)}.call(this),function(){t.View=function(){function e(t){this.delegate=t,this.element=document.documentElement}return e.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},e.prototype.getSnapshot=function(){return t.Snapshot.fromElement(this.element)},e.prototype.render=function(t,e){var i,n,o;return o=t.snapshot,i=t.error,n=t.isPreview,this.markAsPreview(n),null!=o?this.renderSnapshot(o,e):this.renderError(i,e)},e.prototype.markAsPreview=function(t){return t?this.element.setAttribute("data-turbolinks-preview",""):this.element.removeAttribute("data-turbolinks-preview")},e.prototype.renderSnapshot=function(e,i){return t.SnapshotRenderer.render(this.delegate,i,this.getSnapshot(),t.Snapshot.wrap(e))},e.prototype.renderError=function(e,i){return t.ErrorRenderer.render(this.delegate,i,e)},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ScrollManager=function(){function t(t){this.delegate=t,this.onScroll=e(this.onScroll,this)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},t.prototype.scrollToElement=function(t){return t.scrollIntoView()},t.prototype.scrollToPosition=function(t){var e,i;return e=t.x,i=t.y,window.scrollTo(e,i)},t.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},t.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},t}()}.call(this),function(){t.SnapshotCache=function(){function e(t){this.size=t,this.keys=[],this.snapshots={}}var i;return e.prototype.has=function(t){var e;return e=i(t),e in this.snapshots},e.prototype.get=function(t){var e;return this.has(t)?(e=this.read(t),this.touch(t),e):void 0},e.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},e.prototype.read=function(t){var e;return e=i(t),this.snapshots[e]},e.prototype.write=function(t,e){var n;return n=i(t),this.snapshots[n]=e},e.prototype.touch=function(t){var e,n;return n=i(t),e=this.keys.indexOf(n),e>-1&&this.keys.splice(e,1),this.keys.unshift(n),this.trim()},e.prototype.trim=function(){var t,e,i,n,o;for(n=this.keys.splice(this.size),o=[],t=0,i=n.length;i>t;t++)e=n[t],o.push(delete this.snapshots[e]);return o},i=function(e){return t.Location.wrap(e).toCacheKey()},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Visit=function(){function i(i,n,o){this.controller=i,this.action=o,this.performScroll=e(this.performScroll,this),this.identifier=t.uuid(),this.location=t.Location.wrap(n),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var n;return i.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},i.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},i.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},i.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},i.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},i.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new t.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},i.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},i.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},i.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var i;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),"function"==typeof(i=this.adapter).visitRendered&&i.visitRendered(this),t?void 0:this.complete()})):void 0},i.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},i.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},i.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},i.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},i.prototype.requestCompletedWithResponse=function(e,i){return this.response=e,null!=i&&(this.redirectedToLocation=t.Location.wrap(i)),this.adapter.visitRequestCompleted(this)},i.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},i.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},i.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},i.prototype.scrollToRestoredPosition=function(){var t,e;return t=null!=(e=this.restorationData)?e.scrollPosition:void 0,null!=t?(this.controller.scrollToPosition(t),!0):void 0},i.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},i.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},i.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},i.prototype.getTimingMetrics=function(){return t.copyObject(this.timingMetrics)},n=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},i.prototype.shouldIssueRequest=function(){return"restore"===this.action?!this.hasCachedSnapshot():!0},i.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},i.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame(function(e){return function(){return e.frame=null,t.call(e)}}(this))},i.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},i}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Controller=function(){function i(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new t.History(this),this.view=new t.View(this),this.scrollManager=new t.ScrollManager(this),this.restorationData={},this.clearCache()}return i.prototype.start=function(){return t.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},i.prototype.disable=function(){return this.enabled=!1},i.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},i.prototype.clearCache=function(){return this.cache=new t.SnapshotCache(10)},i.prototype.visit=function(e,i){var n,o;return null==i&&(i={}),e=t.Location.wrap(e),this.applicationAllowsVisitingLocation(e)?this.locationIsVisitable(e)?(n=null!=(o=i.action)?o:"advance",this.adapter.visitProposedToLocationWithAction(e,n)):window.location=e:void 0},i.prototype.startVisitToLocationWithAction=function(e,i,n){var o;return t.supported?(o=this.getRestorationDataForIdentifier(n),this.startVisit(e,i,{restorationData:o})):window.location=e},i.prototype.startHistory=function(){return this.location=t.Location.wrap(window.location),this.restorationIdentifier=t.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},i.prototype.stopHistory=function(){return this.history.stop()},i.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(e,i){return this.restorationIdentifier=i,this.location=t.Location.wrap(e),this.history.push(this.location,this.restorationIdentifier)},i.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(e,i){return this.restorationIdentifier=i,this.location=t.Location.wrap(e),this.history.replace(this.location,this.restorationIdentifier)},i.prototype.historyPoppedToLocationWithRestorationIdentifier=function(e,i){var n;return this.restorationIdentifier=i,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(e,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=t.Location.wrap(e)):this.adapter.pageInvalidated()},i.prototype.getCachedSnapshotForLocation=function(t){var e;return e=this.cache.get(t),e?e.clone():void 0},i.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},i.prototype.cacheSnapshot=function(){var t;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),t=this.view.getSnapshot(),this.cache.put(this.lastRenderedLocation,t.clone())):void 0},i.prototype.scrollToAnchor=function(t){var e;return(e=document.getElementById(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},i.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},i.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},i.prototype.scrollPositionChanged=function(t){var e;return e=this.getCurrentRestorationData(),e.scrollPosition=t},i.prototype.render=function(t,e){return this.view.render(t,e)},i.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},i.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},i.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},i.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},i.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},i.prototype.clickBubbled=function(t){var e,i,n;return this.enabled&&this.clickEventIsSignificant(t)&&(i=this.getVisitableLinkForNode(t.target))&&(n=this.getVisitableLocationForLink(i))&&this.applicationAllowsFollowingLinkToLocation(i,n)?(t.preventDefault(),e=this.getActionForLink(i),this.visit(n,{action:e})):void 0},i.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){var i;return i=this.notifyApplicationAfterClickingLinkToLocation(t,e),!i.defaultPrevented},i.prototype.applicationAllowsVisitingLocation=function(t){var e;return e=this.notifyApplicationBeforeVisitingLocation(t),!e.defaultPrevented},i.prototype.notifyApplicationAfterClickingLinkToLocation=function(e,i){return t.dispatch("turbolinks:click",{target:e,data:{url:i.absoluteURL},cancelable:!0})},i.prototype.notifyApplicationBeforeVisitingLocation=function(e){return t.dispatch("turbolinks:before-visit",{data:{url:e.absoluteURL},cancelable:!0})},i.prototype.notifyApplicationAfterVisitingLocation=function(e){return t.dispatch("turbolinks:visit",{data:{url:e.absoluteURL}})},i.prototype.notifyApplicationBeforeCachingSnapshot=function(){return t.dispatch("turbolinks:before-cache")},i.prototype.notifyApplicationBeforeRender=function(e){return t.dispatch("turbolinks:before-render",{data:{newBody:e}})},i.prototype.notifyApplicationAfterRender=function(){return t.dispatch("turbolinks:render")},i.prototype.notifyApplicationAfterPageLoad=function(e){return null==e&&(e={}),t.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:e}})},i.prototype.startVisit=function(t,e,i){
var n;return null!=(n=this.currentVisit)&&n.cancel(),this.currentVisit=this.createVisit(t,e,i),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},i.prototype.createVisit=function(e,i,n){var o,r,a,s,l;return r=null!=n?n:{},s=r.restorationIdentifier,a=r.restorationData,o=r.historyChanged,l=new t.Visit(this,e,i),l.restorationIdentifier=null!=s?s:t.uuid(),l.restorationData=t.copyObject(a),l.historyChanged=o,l.referrer=this.location,l},i.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},i.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},i.prototype.getVisitableLinkForNode=function(e){return this.nodeIsVisitable(e)?t.closest(e,"a[href]:not([target])"):void 0},i.prototype.getVisitableLocationForLink=function(e){var i;return i=new t.Location(e.getAttribute("href")),this.locationIsVisitable(i)?i:void 0},i.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},i.prototype.nodeIsVisitable=function(e){var i;return(i=t.closest(e,"[data-turbolinks]"))?"false"!==i.getAttribute("data-turbolinks"):!0},i.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},i.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},i.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},i}()}.call(this),function(){var e,i,n;t.start=function(){return i()?(null==t.controller&&(t.controller=e()),t.controller.start()):void 0},i=function(){return null==window.Turbolinks&&(window.Turbolinks=t),n()},e=function(){var e;return e=new t.Controller,e.adapter=new t.BrowserAdapter(e),e},n=function(){return window.Turbolinks===t},n()&&t.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}.call(this),function(){var t,e,i,n,o;t=Turbolinks.defer,e=Turbolinks.dispatch,i=function(t,e){return document.addEventListener(t,e,!1)},o=function(t){var n,o,r;return n=t.from,r=t.to,o=function(t){return t=e(r,{target:t.target,cancelable:t.cancelable,data:t.data}),t.defaultPrevented?t.preventDefault():void 0},i(n,o)},o({from:"turbolinks:click",to:"page:before-change"}),o({from:"turbolinks:request-start",to:"page:fetch"}),o({from:"turbolinks:request-end",to:"page:receive"}),o({from:"turbolinks:before-cache",to:"page:before-unload"}),o({from:"turbolinks:render",to:"page:update"}),o({from:"turbolinks:load",to:"page:change"}),o({from:"turbolinks:load",to:"page:update"}),n=!1,i("DOMContentLoaded",function(){return t(function(){return n=!0})}),i("turbolinks:load",function(){return n?e("page:load"):void 0}),"function"==typeof jQuery&&jQuery(document).on("ajaxSuccess",function(t,i){return jQuery.trim(i.responseText).length>0?e("page:update"):void 0})}.call(this),function(t){window.NestedFormEvents=function(){this.addFields=t.proxy(this.addFields,this),this.removeFields=t.proxy(this.removeFields,this)},NestedFormEvents.prototype={addFields:function(e){var i=e.currentTarget,n=t(i).data("association"),o=t("#"+t(i).data("blueprint-id")),r=o.data("blueprint"),a=(t(i).closest(".fields").closestChild("input, textarea, select").eq(0).attr("name")||"").replace(/\[[a-z_]+\]$/,""),s=r.match(new RegExp("\\[([a-z_]+)\\]\\[new_"+n+"\\]"));if(s&&(a=a.replace(new RegExp("\\["+s[1]+"\\]\\[(new_)?\\d+\\]$"),"")),a)for(var l=a.match(/[a-z_]+_attributes(?=\]\[(new_)?\d+\])/g)||[],u=a.match(/[0-9]+/g)||[],c=0;c<l.length;c++)u[c]&&(r=r.replace(new RegExp("(_"+l[c]+")_.+?_","g"),"$1_"+u[c]+"_"),r=r.replace(new RegExp("(\\["+l[c]+"\\])\\[.+?\\]","g"),"$1["+u[c]+"]"));var h=new RegExp("new_"+n,"g"),d=this.newId();r=t.trim(r.replace(h,d));var p=this.insertFields(r,n,i);return p.trigger({type:"nested:fieldAdded",field:p}).trigger({type:"nested:fieldAdded:"+n,field:p}),!1},newId:function(){return(new Date).getTime()},insertFields:function(e,i,n){var o=t(n).data("target");return o?t(e).appendTo(t(o)):t(e).insertBefore(n)},removeFields:function(e){var i=t(e.currentTarget),n=i.data("association"),o=i.prev("input[type=hidden]");o.val("1");var r=i.closest(".fields");return r.hide(),r.trigger({type:"nested:fieldRemoved",field:r}).trigger({type:"nested:fieldRemoved:"+n,field:r}),!1}},window.nestedFormEvents=new NestedFormEvents,t(document).delegate("form a.add_nested_fields","click",nestedFormEvents.addFields).delegate("form a.remove_nested_fields","click",nestedFormEvents.removeFields)}(jQuery),function(t){t.fn.closestChild=function(e){if(e&&""!=e){var i=[];for(i.push(this);i.length>0;)for(var n=i.shift(),o=n.children(),r=0;r<o.length;++r){var a=t(o[r]);if(a.is(e))return a;i.push(a)}}return t()}}(jQuery),function(t){"use strict";var e={i18n:{ar:{months:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0634\u0628\u0627\u0637","\u0622\u0630\u0627\u0631","\u0646\u064a\u0633\u0627\u0646","\u0645\u0627\u064a\u0648","\u062d\u0632\u064a\u0631\u0627\u0646","\u062a\u0645\u0648\u0632","\u0622\u0628","\u0623\u064a\u0644\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u0623\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],dayOfWeek:["\u0646","\u062b","\u0639","\u062e","\u062c","\u0633","\u062d"]},ro:{months:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],dayOfWeek:["l","ma","mi","j","v","s","d"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeek:["Sen","Sel","Rab","Kam","Jum","Sab","Min"]},bg:{months:["\u042f\u043d\u0443\u0430\u0440\u0438","\u0424\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0438\u043b","\u041c\u0430\u0439","\u042e\u043d\u0438","\u042e\u043b\u0438","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438","\u041e\u043a\u0442\u043e\u043c\u0432\u0440\u0438","\u041d\u043e\u0435\u043c\u0432\u0440\u0438","\u0414\u0435\u043a\u0435\u043c\u0432\u0440\u0438"],dayOfWeek:["\u041d\u0434","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"]},fa:{months:["\u0641\u0631\u0648\u0631\u062f\u06cc\u0646","\u0627\u0631\u062f\u06cc\u0628\u0647\u0634\u062a","\u062e\u0631\u062f\u0627\u062f","\u062a\u06cc\u0631","\u0645\u0631\u062f\u0627\u062f","\u0634\u0647\u0631\u06cc\u0648\u0631","\u0645\u0647\u0631","\u0622\u0628\u0627\u0646","\u0622\u0630\u0631","\u062f\u06cc","\u0628\u0647\u0645\u0646","\u0627\u0633\u0641\u0646\u062f"],dayOfWeek:["\u06cc\u06a9\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647 \u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067e\u0646\u062c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"]},ru:{months:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],dayOfWeek:["\u0412\u0441\u043a","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"]},uk:{months:["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"],dayOfWeek:["\u041d\u0434\u043b","\u041f\u043d\u0434","\u0412\u0442\u0440","\u0421\u0440\u0434","\u0427\u0442\u0432","\u041f\u0442\u043d","\u0421\u0431\u0442"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"]},el:{months:["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"],dayOfWeek:["\u039a\u03c5\u03c1","\u0394\u03b5\u03c5","\u03a4\u03c1\u03b9","\u03a4\u03b5\u03c4","\u03a0\u03b5\u03bc","\u03a0\u03b1\u03c1","\u03a3\u03b1\u03b2"]},de:{months:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So","Mo","Di","Mi","Do","Fr","Sa"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"],dayOfWeek:["Paz","Pts","Sal","\xc7ar","Per","Cum","Cts"]},fr:{months:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"]},th:{months:["\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21","\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c","\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21","\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19","\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21","\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19","\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21","\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21","\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19","\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21","\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19","\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21"],dayOfWeek:["\u0e2d\u0e32.","\u0e08.","\u0e2d.","\u0e1e.","\u0e1e\u0e24.","\u0e28.","\u0e2a."]},pl:{months:["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017adziernik","listopad","grudzie\u0144"],dayOfWeek:["nd","pn","wt","\u015br","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayOfWeek:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["S\xf6n","M\xe5n","Tis","Ons","Tor","Fre","L\xf6r"]},kr:{months:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],dayOfWeek:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeek:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeek:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeek:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"]},ja:{months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]},vi:{months:["Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"],dayOfWeek:["CN","T2","T3","T4","T5","T6","T7"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeek:["Ned","Pon","Tor","Sre","\u010cet","Pet","Sob"]},cs:{months:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec"],dayOfWeek:["Ne","Po","\xdat","St","\u010ct","P\xe1","So"]},hu:{months:["Janu\xe1r","Febru\xe1r","M\xe1rcius","\xc1prilis","M\xe1jus","J\xfanius","J\xfalius","Augusztus","Szeptember","Okt\xf3ber","November","December"],dayOfWeek:["Va","H\xe9","Ke","Sze","Cs","P\xe9","Szo"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeek:["B","Be","\xc7a","\xc7","Ca","C","\u015e"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeek:["Ned","Pon","Uto","Sri","\u010cet","Pet","Sub"]},ca:{months:["Gener","Febrer","Mar\xe7","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeek:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},et:{months:["Jaanuar","Veebruar","M\xe4rts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeek:["P","E","T","K","N","R","L"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeek:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes\xe4kuu","Hein\xe4kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeek:["Su","Ma","Ti","Ke","To","Pe","La"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeek:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"]},hr:{months:["Sije\u010danj","Velja\u010da","O\u017eujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeek:["Ned","Pon","Uto","Sri","\u010cet","Pet","Sub"]},ko:{months:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],dayOfWeek:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"]},lt:{months:["Sausio","Vasario","Kovo","Baland\u017eio","Gegu\u017e\u0117s","Bir\u017eelio","Liepos","Rugpj\u016b\u010dio","Rugs\u0117jo","Spalio","Lapkri\u010dio","Gruod\u017eio"],dayOfWeek:["Sek","Pir","Ant","Tre","Ket","Pen","\u0160e\u0161"]},lv:{months:["Janv\u0101ris","Febru\u0101ris","Marts","Apr\u012blis ","Maijs","J\u016bnijs","J\u016blijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeek:["Sv","Pr","Ot","Tr","Ct","Pk","St"]},mk:{months:["\u0458\u0430\u043d\u0443\u0430\u0440\u0438","\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0458","\u0458\u0443\u043d\u0438","\u0458\u0443\u043b\u0438","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438","\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438","\u043d\u043e\u0435\u043c\u0432\u0440\u0438","\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438"],dayOfWeek:["\u043d\u0435\u0434","\u043f\u043e\u043d","\u0432\u0442\u043e","\u0441\u0440\u0435","\u0447\u0435\u0442","\u043f\u0435\u0442","\u0441\u0430\u0431"]},mn:{months:["1-\u0440 \u0441\u0430\u0440","2-\u0440 \u0441\u0430\u0440","3-\u0440 \u0441\u0430\u0440","4-\u0440 \u0441\u0430\u0440","5-\u0440 \u0441\u0430\u0440","6-\u0440 \u0441\u0430\u0440","7-\u0440 \u0441\u0430\u0440","8-\u0440 \u0441\u0430\u0440","9-\u0440 \u0441\u0430\u0440","10-\u0440 \u0441\u0430\u0440","11-\u0440 \u0441\u0430\u0440","12-\u0440 \u0441\u0430\u0440"],dayOfWeek:["\u0414\u0430\u0432","\u041c\u044f\u0433","\u041b\u0445\u0430","\u041f\u04af\u0440","\u0411\u0441\u043d","\u0411\u044f\u043c","\u041d\u044f\u043c"]},"pt-BR":{months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"]},sk:{months:["Janu\xe1r","Febru\xe1r","Marec","Apr\xedl","M\xe1j","J\xfan","J\xfal","August","September","Okt\xf3ber","November","December"],dayOfWeek:["Ne","Po","Ut","St","\u0160t","Pi","So"]},sq:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeek:["Ned","Pon","Uto","Sre","\u010det","Pet","Sub"]},sr:{months:["\u0458\u0430\u043d\u0443\u0430\u0440","\u0444\u0435\u0431\u0440\u0443\u0430\u0440","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0458","\u0458\u0443\u043d","\u0458\u0443\u043b","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440","\u043e\u043a\u0442\u043e\u0431\u0430\u0440","\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440","\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440"],dayOfWeek:["\u043d\u0435\u0434","\u043f\u043e\u043d","\u0443\u0442\u043e","\u0441\u0440\u0435","\u0447\u0435\u0442","\u043f\u0435\u0442","\u0441\u0443\u0431"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["S\xf6n","M\xe5n","Tis","Ons","Tor","Fre","L\xf6r"]},"zh-TW":{months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayOfWeek:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},zh:{months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayOfWeek:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},he:{months:["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"],dayOfWeek:["\u05d0'","\u05d1'","\u05d2'","\u05d3'","\u05d4'","\u05d5'","\u05e9\u05d1\u05ea"]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],disabledDates:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0};Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i,n;for(i=e||0,n=this.length;n>i;i+=1)if(this[i]===t)return i;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},t.fn.xdsoftScroller=function(e){return this.each(function(){var i,n,o,r,a,s=t(this),l=function(t){var e,i={x:0,y:0};return"touchstart"===t.type||"touchmove"===t.type||"touchend"===t.type||"touchcancel"===t.type?(e=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],i.x=e.clientX,i.y=e.clientY):"mousedown"!==t.type&&"mouseup"!==t.type&&"mousemove"!==t.type&&"mouseover"!==t.type&&"mouseout"!==t.type&&"mouseenter"!==t.type&&"mouseleave"!==t.type||(i.x=t.clientX,i.y=t.clientY),i},u=100,c=!1,h=0,d=0,p=0,f=!1,m=0,g=function(){};return"hide"===e?void s.find(".xdsoft_scrollbar").hide():(t(this).hasClass("xdsoft_scroller_box")||(i=s.children().eq(0),n=s[0].clientHeight,o=i[0].offsetHeight,r=t('<div class="xdsoft_scrollbar"></div>'),a=t('<div class="xdsoft_scroller"></div>'),r.append(a),s.addClass("xdsoft_scroller_box").append(r),g=function(t){var e=l(t).y-h+m;0>e&&(e=0),e+a[0].offsetHeight>p&&(e=p-a[0].offsetHeight),s.trigger("scroll_element.xdsoft_scroller",[u?e/u:0])},a.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(i){n||s.trigger("resize_scroll.xdsoft_scroller",[e]),h=l(i).y,m=parseInt(a.css("margin-top"),10),p=r[0].offsetHeight,"mousedown"===i.type?(document&&t(document.body).addClass("xdsoft_noselect"),t([document.body,window]).on("mouseup.xdsoft_scroller",function o(){t([document.body,window]).off("mouseup.xdsoft_scroller",o).off("mousemove.xdsoft_scroller",g).removeClass("xdsoft_noselect")}),t(document.body).on("mousemove.xdsoft_scroller",g)):(f=!0,i.stopPropagation(),i.preventDefault())}).on("touchmove",function(t){f&&(t.preventDefault(),g(t))}).on("touchend touchcancel",function(){f=!1,m=0}),s.on("scroll_element.xdsoft_scroller",function(t,e){n||s.trigger("resize_scroll.xdsoft_scroller",[e,!0]),e=e>1?1:0>e||isNaN(e)?0:e,a.css("margin-top",u*e),setTimeout(function(){i.css("marginTop",-parseInt((i[0].offsetHeight-n)*e,10))},10)}).on("resize_scroll.xdsoft_scroller",function(t,e,l){var c,h;n=s[0].clientHeight,o=i[0].offsetHeight,c=n/o,h=c*r[0].offsetHeight,c>1?a.hide():(a.show(),a.css("height",parseInt(h>10?h:10,10)),u=r[0].offsetHeight-a[0].offsetHeight,l!==!0&&s.trigger("scroll_element.xdsoft_scroller",[e||Math.abs(parseInt(i.css("marginTop"),10))/(o-n)]))}),s.on("mousewheel",function(t){var e=Math.abs(parseInt(i.css("marginTop"),10));return e-=20*t.deltaY,0>e&&(e=0),s.trigger("scroll_element.xdsoft_scroller",[e/(o-n)]),t.stopPropagation(),!1}),s.on("touchstart",function(t){c=l(t),d=Math.abs(parseInt(i.css("marginTop"),10))}),s.on("touchmove",function(t){if(c){t.preventDefault();var e=l(t);s.trigger("scroll_element.xdsoft_scroller",[(d-(e.y-c.y))/(o-n)])}}),s.on("touchend touchcancel",function(){c=!1,d=0})),void s.trigger("resize_scroll.xdsoft_scroller",[e]))})},t.fn.datetimepicker=function(i){var n,o,r=48,a=57,s=96,l=105,u=17,c=46,h=13,d=27,p=8,f=37,m=38,g=39,v=40,y=9,_=116,b=65,x=67,w=86,k=90,C=89,S=!1,T=t.isPlainObject(i)||!i?t.extend(!0,{},e,i):t.extend(!0,{},e),A=0,E=function(t){t.on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function e(){t.is(":disabled")||t.data("xdsoft_datetimepicker")||(clearTimeout(A),A=setTimeout(function(){t.data("xdsoft_datetimepicker")||n(t),t.off("open.xdsoft focusin.xdsoft mousedown.xdsoft",e).trigger("open.xdsoft")},100))})};return n=function(e){function n(){var t,i=!1;return T.startDate?i=I.strToDate(T.startDate):(i=T.value||(e&&e.val&&e.val()?e.val():""),i?i=I.strToDateTime(i):T.defaultDate&&(i=I.strToDate(T.defaultDate),T.defaultTime&&(t=I.strtotime(T.defaultTime),i.setHours(t.getHours()),i.setMinutes(t.getMinutes())))),i&&I.isValidDate(i)?P.data("changed",!0):i="",i||0}var o,A,E,M,D,I,P=t("<div "+(T.id?'id="'+T.id+'"':"")+" "+(T.style?'style="'+T.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_'+T.theme+" xdsoft_noselect "+(T.weeks?" xdsoft_showweeks":"")+T.className+'"></div>'),L=t('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),O=t('<div class="xdsoft_datepicker active"></div>'),z=t('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),R=t('<div class="xdsoft_calendar"></div>'),N=t('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),$=N.find(".xdsoft_time_box").eq(0),F=t('<div class="xdsoft_time_variant"></div>'),B=t('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),j=t('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),H=!1,W=0,q=0;z.find(".xdsoft_month span").after(B),z.find(".xdsoft_year span").after(j),z.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(e){var i,n,o=t(this).find(".xdsoft_select").eq(0),r=0,a=0,s=o.is(":visible");for(z.find(".xdsoft_select").hide(),I.currentTime&&(r=I.currentTime[t(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),o[s?"hide":"show"](),i=o.find("div.xdsoft_option"),n=0;n<i.length&&i.eq(n).data("value")!==r;n+=1)a+=i[0].offsetHeight;return o.xdsoftScroller(a/(o.children()[0].offsetHeight-o[0].clientHeight)),e.stopPropagation(),!1}),z.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(t){t.stopPropagation(),t.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(){var e=I.currentTime.getFullYear();I&&I.currentTime&&I.currentTime[t(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](t(this).data("value")),t(this).parent().parent().hide(),P.trigger("xchange.xdsoft"),T.onChangeMonth&&t.isFunction(T.onChangeMonth)&&T.onChangeMonth.call(P,I.currentTime,P.data("input")),e!==I.currentTime.getFullYear()&&t.isFunction(T.onChangeYear)&&T.onChangeYear.call(P,I.currentTime,P.data("input"))}),P.setOptions=function(i){if(T=t.extend(!0,{},T,i),i.allowTimes&&t.isArray(i.allowTimes)&&i.allowTimes.length&&(T.allowTimes=t.extend(!0,[],i.allowTimes)),i.weekends&&t.isArray(i.weekends)&&i.weekends.length&&(T.weekends=t.extend(!0,[],i.weekends)),i.disabledDates&&t.isArray(i.disabledDates)&&i.disabledDates.length&&(T.disabledDates=t.extend(!0,[],i.disabledDates)),!T.open&&!T.opened||T.inline||e.trigger("open.xdsoft"),T.inline&&(H=!0,P.addClass("xdsoft_inline"),e.after(P).hide()),T.inverseButton&&(T.next="xdsoft_prev",T.prev="xdsoft_next"),T.datepicker?O.addClass("active"):O.removeClass("active"),T.timepicker?N.addClass("active"):N.removeClass("active"),T.value&&(e&&e.val&&e.val(T.value),I.setCurrentTime(T.value)),isNaN(T.dayOfWeekStart)?T.dayOfWeekStart=0:T.dayOfWeekStart=parseInt(T.dayOfWeekStart,10)%7,T.timepickerScrollbar||$.xdsoftScroller("hide"),T.minDate&&/^-(.*)$/.test(T.minDate)&&(T.minDate=I.strToDateTime(T.minDate).dateFormat(T.formatDate)),T.maxDate&&/^\+(.*)$/.test(T.maxDate)&&(T.maxDate=I.strToDateTime(T.maxDate).dateFormat(T.formatDate)),z.find(".xdsoft_today_button").css("visibility",T.todayButton?"visible":"hidden"),T.mask){var n=function(t){try{if(document.selection&&document.selection.createRange){var e=document.selection.createRange();return e.getBookmark().charCodeAt(2)-2}if(t.setSelectionRange)return t.selectionStart}catch(i){return 0}},o=function(t,e){if(t="string"==typeof t||t instanceof String?document.getElementById(t):t,!t)return!1;if(t.createTextRange){var i=t.createTextRange();return i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select(),!0}return t.setSelectionRange?(t.setSelectionRange(e,e),!0):!1},A=function(t,e){var i=t.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(i).test(e)};e.off("keydown.xdsoft"),T.mask===!0&&(T.mask=T.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===t.type(T.mask)&&(A(T.mask,e.val())||e.val(T.mask.replace(/[0-9]/g,"_")),e.on("keydown.xdsoft",function(i){var E,M,D=this.value,I=i.which;if(I>=r&&a>=I||I>=s&&l>=I||I===p||I===c){for(E=n(this),M=I!==p&&I!==c?String.fromCharCode(I>=s&&l>=I?I-r:I):"_",I!==p&&I!==c||!E||(E-=1,M="_");/[^0-9_]/.test(T.mask.substr(E,1))&&E<T.mask.length&&E>0;)E+=I===p||I===c?-1:1;if(D=D.substr(0,E)+M+D.substr(E+1),""===t.trim(D))D=T.mask.replace(/[0-9]/g,"_");else if(E===T.mask.length)return i.preventDefault(),!1;for(E+=I===p||I===c?0:1;/[^0-9_]/.test(T.mask.substr(E,1))&&E<T.mask.length&&E>0;)E+=I===p||I===c?-1:1;A(T.mask,D)?(this.value=D,o(this,E)):""===t.trim(D)?this.value=T.mask.replace(/[0-9]/g,"_"):e.trigger("error_input.xdsoft")}else if(-1!==[b,x,w,k,C].indexOf(I)&&S||-1!==[d,m,v,f,g,_,u,y,h].indexOf(I))return!0;return i.preventDefault(),!1}))}T.validateOnBlur&&e.off("blur.xdsoft").on("blur.xdsoft",function(){T.allowBlank&&!t.trim(t(this).val()).length?(t(this).val(null),P.data("xdsoft_datetime").empty()):Date.parseDate(t(this).val(),T.format)?P.data("xdsoft_datetime").setCurrentTime(t(this).val()):(t(this).val(I.now().dateFormat(T.format)),P.data("xdsoft_datetime").setCurrentTime(t(this).val())),P.trigger("changedatetime.xdsoft")}),T.dayOfWeekStartPrev=0===T.dayOfWeekStart?6:T.dayOfWeekStart-1,P.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},P.data("options",T).on("mousedown.xdsoft",function(t){return t.stopPropagation(),t.preventDefault(),j.hide(),B.hide(),!1}),$.append(F),$.xdsoftScroller(),P.on("afterOpen.xdsoft",function(){$.xdsoftScroller()}),P.append(O).append(N),T.withoutCopyright!==!0&&P.append(L),O.append(z).append(R),t(T.parentID).append(P),o=function(){var e=this;e.now=function(t){var i,n,o=new Date;return!t&&T.defaultDate&&(i=e.strToDate(T.defaultDate),o.setFullYear(i.getFullYear()),o.setMonth(i.getMonth()),o.setDate(i.getDate())),T.yearOffset&&o.setFullYear(o.getFullYear()+T.yearOffset),!t&&T.defaultTime&&(n=e.strtotime(T.defaultTime),o.setHours(n.getHours()),o.setMinutes(n.getMinutes())),o},e.isValidDate=function(t){return"[object Date]"!==Object.prototype.toString.call(t)?!1:!isNaN(t.getTime())},e.setCurrentTime=function(t){e.currentTime="string"==typeof t?e.strToDateTime(t):e.isValidDate(t)?t:e.now(),P.trigger("xchange.xdsoft")},e.empty=function(){e.currentTime=null},e.getCurrentTime=function(){return e.currentTime},e.nextMonth=function(){var i,n=e.currentTime.getMonth()+1;return 12===n&&(e.currentTime.setFullYear(e.currentTime.getFullYear()+1),n=0),i=e.currentTime.getFullYear(),e.currentTime.setDate(Math.min(new Date(e.currentTime.getFullYear(),n+1,0).getDate(),e.currentTime.getDate())),e.currentTime.setMonth(n),T.onChangeMonth&&t.isFunction(T.onChangeMonth)&&T.onChangeMonth.call(P,I.currentTime,P.data("input")),i!==e.currentTime.getFullYear()&&t.isFunction(T.onChangeYear)&&T.onChangeYear.call(P,I.currentTime,P.data("input")),P.trigger("xchange.xdsoft"),n},e.prevMonth=function(){var i=e.currentTime.getMonth()-1;return-1===i&&(e.currentTime.setFullYear(e.currentTime.getFullYear()-1),i=11),e.currentTime.setDate(Math.min(new Date(e.currentTime.getFullYear(),i+1,0).getDate(),e.currentTime.getDate())),e.currentTime.setMonth(i),T.onChangeMonth&&t.isFunction(T.onChangeMonth)&&T.onChangeMonth.call(P,I.currentTime,P.data("input")),P.trigger("xchange.xdsoft"),i},e.getWeekOfYear=function(t){var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t-e)/864e5+e.getDay()+1)/7)},e.strToDateTime=function(t){var i,n,o=[];return t&&t instanceof Date&&e.isValidDate(t)?t:(o=/^(\+|\-)(.*)$/.exec(t),o&&(o[2]=Date.parseDate(o[2],T.formatDate)),o&&o[2]?(i=o[2].getTime()-6e4*o[2].getTimezoneOffset(),n=new Date(I.now().getTime()+parseInt(o[1]+"1",10)*i)):n=t?Date.parseDate(t,T.format):e.now(),
e.isValidDate(n)||(n=e.now()),n)},e.strToDate=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var i=t?Date.parseDate(t,T.formatDate):e.now(!0);return e.isValidDate(i)||(i=e.now(!0)),i},e.strtotime=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var i=t?Date.parseDate(t,T.formatTime):e.now(!0);return e.isValidDate(i)||(i=e.now(!0)),i},e.str=function(){return e.currentTime.dateFormat(T.format)},e.currentTime=this.now()},I=new o,z.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){P.data("changed",!0),I.setCurrentTime(0),P.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){e.val(I.str()),P.trigger("close.xdsoft")}),z.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var e=t(this),i=0,n=!1;!function o(t){I.currentTime.getMonth();e.hasClass(T.next)?I.nextMonth():e.hasClass(T.prev)&&I.prevMonth(),T.monthChangeSpinner&&(n||(i=setTimeout(o,t||100)))}(500),t([document.body,window]).on("mouseup.xdsoft",function r(){clearTimeout(i),n=!0,t([document.body,window]).off("mouseup.xdsoft",r)})}),N.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var e=t(this),i=0,n=!1,o=110;!function r(t){var a=$[0].clientHeight,s=F[0].offsetHeight,l=Math.abs(parseInt(F.css("marginTop"),10));e.hasClass(T.next)&&s-a-T.timeHeightInTimePicker>=l?F.css("marginTop","-"+(l+T.timeHeightInTimePicker)+"px"):e.hasClass(T.prev)&&l-T.timeHeightInTimePicker>=0&&F.css("marginTop","-"+(l-T.timeHeightInTimePicker)+"px"),$.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(F.css("marginTop"),10)/(s-a))]),o=o>10?10:o-10,n||(i=setTimeout(r,t||o))}(500),t([document.body,window]).on("mouseup.xdsoft",function a(){clearTimeout(i),n=!0,t([document.body,window]).off("mouseup.xdsoft",a)})}),A=0,P.on("xchange.xdsoft",function(e){clearTimeout(A),A=setTimeout(function(){for(var e,n,o,r,a,s,l,u="",c=new Date(I.currentTime.getFullYear(),I.currentTime.getMonth(),1,12,0,0),h=0,d=I.now(),p=!1,f=!1,m=[],g=!0,v="",y="";c.getDay()!==T.dayOfWeekStart;)c.setDate(c.getDate()-1);for(u+="<table><thead><tr>",T.weeks&&(u+="<th></th>"),e=0;7>e;e+=1)u+="<th>"+T.i18n[T.lang].dayOfWeek[(e+T.dayOfWeekStart)%7]+"</th>";for(u+="</tr></thead>",u+="<tbody>",T.maxDate!==!1&&(p=I.strToDate(T.maxDate),p=new Date(p.getFullYear(),p.getMonth(),p.getDate(),23,59,59,999)),T.minDate!==!1&&(f=I.strToDate(T.minDate),f=new Date(f.getFullYear(),f.getMonth(),f.getDate()));h<I.currentTime.countDaysInMonth()||c.getDay()!==T.dayOfWeekStart||I.currentTime.getMonth()===c.getMonth();)m=[],h+=1,n=c.getDate(),o=c.getFullYear(),r=c.getMonth(),a=I.getWeekOfYear(c),m.push("xdsoft_date"),s=T.beforeShowDay&&t.isFunction(T.beforeShowDay.call)?T.beforeShowDay.call(P,c):null,p!==!1&&c>p||f!==!1&&f>c||s&&s[0]===!1?m.push("xdsoft_disabled"):-1!==T.disabledDates.indexOf(c.dateFormat(T.formatDate))&&m.push("xdsoft_disabled"),s&&""!==s[1]&&m.push(s[1]),I.currentTime.getMonth()!==r&&m.push("xdsoft_other_month"),(T.defaultSelect||P.data("changed"))&&I.currentTime.dateFormat(T.formatDate)===c.dateFormat(T.formatDate)&&m.push("xdsoft_current"),d.dateFormat(T.formatDate)===c.dateFormat(T.formatDate)&&m.push("xdsoft_today"),(0===c.getDay()||6===c.getDay()||~T.weekends.indexOf(c.dateFormat(T.formatDate)))&&m.push("xdsoft_weekend"),T.beforeShowDay&&t.isFunction(T.beforeShowDay)&&m.push(T.beforeShowDay(c)),g&&(u+="<tr>",g=!1,T.weeks&&(u+="<th>"+a+"</th>")),u+='<td data-date="'+n+'" data-month="'+r+'" data-year="'+o+'" class="xdsoft_date xdsoft_day_of_week'+c.getDay()+" "+m.join(" ")+'"><div>'+n+"</div></td>",c.getDay()===T.dayOfWeekStartPrev&&(u+="</tr>",g=!0),c.setDate(n+1);if(u+="</tbody></table>",R.html(u),z.find(".xdsoft_label span").eq(0).text(T.i18n[T.lang].months[I.currentTime.getMonth()]),z.find(".xdsoft_label span").eq(1).text(I.currentTime.getFullYear()),v="",y="",r="",l=function(t,e){var i=I.now();i.setHours(t),t=parseInt(i.getHours(),10),i.setMinutes(e),e=parseInt(i.getMinutes(),10);var n=new Date(I.currentTime);n.setHours(t),n.setMinutes(e),m=[],(T.minDateTime!==!1&&T.minDateTime>n||T.maxTime!==!1&&I.strtotime(T.maxTime).getTime()<i.getTime()||T.minTime!==!1&&I.strtotime(T.minTime).getTime()>i.getTime())&&m.push("xdsoft_disabled"),(T.initTime||T.defaultSelect||P.data("changed"))&&parseInt(I.currentTime.getHours(),10)===parseInt(t,10)&&(T.step>59||Math[T.roundTime](I.currentTime.getMinutes()/T.step)*T.step===parseInt(e,10))&&(T.defaultSelect||P.data("changed")?m.push("xdsoft_current"):T.initTime&&m.push("xdsoft_init_time")),parseInt(d.getHours(),10)===parseInt(t,10)&&parseInt(d.getMinutes(),10)===parseInt(e,10)&&m.push("xdsoft_today"),v+='<div class="xdsoft_time '+m.join(" ")+'" data-hour="'+t+'" data-minute="'+e+'">'+i.dateFormat(T.formatTime)+"</div>"},T.allowTimes&&t.isArray(T.allowTimes)&&T.allowTimes.length)for(h=0;h<T.allowTimes.length;h+=1)y=I.strtotime(T.allowTimes[h]).getHours(),r=I.strtotime(T.allowTimes[h]).getMinutes(),l(y,r);else for(h=0,e=0;h<(T.hours12?12:24);h+=1)for(e=0;60>e;e+=T.step)y=(10>h?"0":"")+h,r=(10>e?"0":"")+e,l(y,r);for(F.html(v),i="",h=0,h=parseInt(T.yearStart,10)+T.yearOffset;h<=parseInt(T.yearEnd,10)+T.yearOffset;h+=1)i+='<div class="xdsoft_option '+(I.currentTime.getFullYear()===h?"xdsoft_current":"")+'" data-value="'+h+'">'+h+"</div>";for(j.children().eq(0).html(i),h=0,i="";11>=h;h+=1)i+='<div class="xdsoft_option '+(I.currentTime.getMonth()===h?"xdsoft_current":"")+'" data-value="'+h+'">'+T.i18n[T.lang].months[h]+"</div>";B.children().eq(0).html(i),t(P).trigger("generate.xdsoft")},10),e.stopPropagation()}).on("afterOpen.xdsoft",function(){if(T.timepicker){var t,e,i,n;F.find(".xdsoft_current").length?t=".xdsoft_current":F.find(".xdsoft_init_time").length&&(t=".xdsoft_init_time"),t?(e=$[0].clientHeight,i=F[0].offsetHeight,n=F.find(t).index()*T.timeHeightInTimePicker+1,n>i-e&&(n=i-e),$.trigger("scroll_element.xdsoft_scroller",[parseInt(n,10)/(i-e)])):$.trigger("scroll_element.xdsoft_scroller",[0])}}),E=0,R.on("click.xdsoft","td",function(i){i.stopPropagation(),E+=1;var n=t(this),o=I.currentTime;return void 0!==o&&null!==o||(I.currentTime=I.now(),o=I.currentTime),n.hasClass("xdsoft_disabled")?!1:(o.setDate(1),o.setFullYear(n.data("year")),o.setMonth(n.data("month")),o.setDate(n.data("date")),P.trigger("select.xdsoft",[o]),e.val(I.str()),(E>1||T.closeOnDateSelect===!0||0===T.closeOnDateSelect&&!T.timepicker)&&!T.inline&&P.trigger("close.xdsoft"),T.onSelectDate&&t.isFunction(T.onSelectDate)&&T.onSelectDate.call(P,I.currentTime,P.data("input"),i),P.data("changed",!0),P.trigger("xchange.xdsoft"),P.trigger("changedatetime.xdsoft"),void setTimeout(function(){E=0},200))}),F.on("click.xdsoft","div",function(e){e.stopPropagation();var i=t(this),n=I.currentTime;return void 0!==n&&null!==n||(I.currentTime=I.now(),n=I.currentTime),i.hasClass("xdsoft_disabled")?!1:(n.setHours(i.data("hour")),n.setMinutes(i.data("minute")),P.trigger("select.xdsoft",[n]),P.data("input").val(I.str()),T.inline||P.trigger("close.xdsoft"),T.onSelectTime&&t.isFunction(T.onSelectTime)&&T.onSelectTime.call(P,I.currentTime,P.data("input"),e),P.data("changed",!0),P.trigger("xchange.xdsoft"),void P.trigger("changedatetime.xdsoft"))}),O.on("mousewheel.xdsoft",function(t){return T.scrollMonth?(t.deltaY<0?I.nextMonth():I.prevMonth(),!1):!0}),e.on("mousewheel.xdsoft",function(t){return T.scrollInput?!T.datepicker&&T.timepicker?(M=F.find(".xdsoft_current").length?F.find(".xdsoft_current").eq(0).index():0,M+t.deltaY>=0&&M+t.deltaY<F.children().length&&(M+=t.deltaY),F.children().eq(M).length&&F.children().eq(M).trigger("mousedown"),!1):T.datepicker&&!T.timepicker?(O.trigger(t,[t.deltaY,t.deltaX,t.deltaY]),e.val&&e.val(I.str()),P.trigger("changedatetime.xdsoft"),!1):void 0:!0}),P.on("changedatetime.xdsoft",function(e){if(T.onChangeDateTime&&t.isFunction(T.onChangeDateTime)){var i=P.data("input");T.onChangeDateTime.call(P,I.currentTime,i,e),delete T.value,i.trigger("change")}}).on("generate.xdsoft",function(){T.onGenerate&&t.isFunction(T.onGenerate)&&T.onGenerate.call(P,I.currentTime,P.data("input")),H&&(P.trigger("afterOpen.xdsoft"),H=!1)}).on("click.xdsoft",function(t){t.stopPropagation()}),M=0,D=function(){var e=P.data("input").offset(),i=e.top+P.data("input")[0].offsetHeight-1,n=e.left,o="absolute";T.fixed?(i-=t(window).scrollTop(),n-=t(window).scrollLeft(),o="fixed"):(i+P[0].offsetHeight>t(window).height()+t(window).scrollTop()&&(i=e.top-P[0].offsetHeight+1),0>i&&(i=0),n+P[0].offsetWidth>t(window).width()&&(n=t(window).width()-P[0].offsetWidth)),P.css({left:n,top:i,position:o})},P.on("open.xdsoft",function(e){var i=!0;T.onShow&&t.isFunction(T.onShow)&&(i=T.onShow.call(P,I.currentTime,P.data("input"),e)),i!==!1&&(P.show(),D(),t(window).off("resize.xdsoft",D).on("resize.xdsoft",D),T.closeOnWithoutClick&&t([document.body,window]).on("mousedown.xdsoft",function n(){P.trigger("close.xdsoft"),t([document.body,window]).off("mousedown.xdsoft",n)}))}).on("close.xdsoft",function(e){var i=!0;z.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),T.onClose&&t.isFunction(T.onClose)&&(i=T.onClose.call(P,I.currentTime,P.data("input"),e)),i===!1||T.opened||T.inline||P.hide(),e.stopPropagation()}).on("toggle.xdsoft",function(){P.is(":visible")?P.trigger("close.xdsoft"):P.trigger("open.xdsoft")}).data("input",e),W=0,q=0,P.data("xdsoft_datetime",I),P.setOptions(T),I.setCurrentTime(n()),e.data("xdsoft_datetimepicker",P).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(){e.is(":disabled")||e.data("xdsoft_datetimepicker").is(":visible")&&T.closeOnInputClick||(clearTimeout(W),W=setTimeout(function(){e.is(":disabled")||(H=!0,I.setCurrentTime(n()),P.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(e){var i,n=(this.value,e.which);return-1!==[h].indexOf(n)&&T.enterLikeTab?(i=t("input:visible,textarea:visible"),P.trigger("close.xdsoft"),i.eq(i.index(this)+1).focus(),!1):-1!==[y].indexOf(n)?(P.trigger("close.xdsoft"),!0):void 0})},o=function(e){var i=e.data("xdsoft_datetimepicker");i&&(i.data("xdsoft_datetime",null),i.remove(),e.data("xdsoft_datetimepicker",null).off(".xdsoft"),t(window).off("resize.xdsoft"),t([window,document.body]).off("mousedown.xdsoft"),e.unmousewheel&&e.unmousewheel())},t(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(t){t.keyCode===u&&(S=!0)}).on("keyup.xdsoftctrl",function(t){t.keyCode===u&&(S=!1)}),this.each(function(){var e=t(this).data("xdsoft_datetimepicker");if(e){if("string"===t.type(i))switch(i){case"show":t(this).select().focus(),e.trigger("open.xdsoft");break;case"hide":e.trigger("close.xdsoft");break;case"toggle":e.trigger("toggle.xdsoft");break;case"destroy":o(t(this));break;case"reset":this.value=this.defaultValue,this.value&&e.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,T.format))||e.data("changed",!1),e.data("xdsoft_datetime").setCurrentTime(this.value)}else e.setOptions(i);return 0}"string"!==t.type(i)&&(!T.lazyInit||T.open||T.inline?n(t(this)):E(t(this)))})},t.fn.datetimepicker.defaults=e}(jQuery),function(){!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var a=e||window.event,s=l.call(arguments,1),u=0,h=0,d=0,p=0,f=0,m=0;if(e=t.event.fix(a),e.type="mousewheel","detail"in a&&(d=-1*a.detail),"wheelDelta"in a&&(d=a.wheelDelta),"wheelDeltaY"in a&&(d=a.wheelDeltaY),"wheelDeltaX"in a&&(h=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(h=-1*d,d=0),u=0===d?h:d,"deltaY"in a&&(d=-1*a.deltaY,u=d),"deltaX"in a&&(h=a.deltaX,0===d&&(u=-1*h)),0!==d||0!==h){if(1===a.deltaMode){var g=t.data(this,"mousewheel-line-height");u*=g,d*=g,h*=g}else if(2===a.deltaMode){var v=t.data(this,"mousewheel-page-height");u*=v,d*=v,h*=v}if(p=Math.max(Math.abs(d),Math.abs(h)),(!r||r>p)&&(r=p,n(a,p)&&(r/=40)),n(a,p)&&(u/=40,h/=40,d/=40),u=Math[u>=1?"floor":"ceil"](u/r),h=Math[h>=1?"floor":"ceil"](h/r),d=Math[d>=1?"floor":"ceil"](d/r),c.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=e.clientX-y.left,m=e.clientY-y.top}return e.deltaX=h,e.deltaY=d,e.deltaFactor=r,e.offsetX=f,e.offsetY=m,e.deltaMode=0,s.unshift(e,u,h,d),o&&clearTimeout(o),o=setTimeout(i,200),(t.event.dispatch||t.event.handle).apply(this,s)}}function i(){r=null}function n(t,e){return c.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var o,r,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var u=a.length;u;)t.event.fixHooks[a[--u]]=t.event.mouseHooks;var c=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=s.length;i;)this.addEventListener(s[--i],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",c.getLineHeight(this)),t.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=s.length;i;)this.removeEventListener(s[--i],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),n=i["offsetParent"in t.fn?"offsetParent":"parent"]();return n.length||(n=t("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(t){if("unixtime"==t)return parseInt(this.getTime()/1e3);null==Date.formatFunctions[t]&&Date.createNewFormat(t);var e=Date.formatFunctions[t];return this[e]()},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;for(var code="Date.prototype."+funcName+" = function() {return ",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch):special=!0;eval(code.substring(0,code.length-3)+";}")},Date.getFormatCode=function(t){switch(t){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(t)+"' + "}},Date.parseDate=function(t,e){if("unixtime"==e)return new Date(isNaN(parseInt(t))?0:1e3*parseInt(t));null==Date.parseFunctions[e]&&Date.createParser(e);var i=Date.parseFunctions[e];return Date[i](t)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;for(var code="Date."+funcName+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, z = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)):special=!0;code+="if (y > 0 && z > 0){\nvar doyDate = new Date(y,0);\ndoyDate.setDate(z);\nm = doyDate.getMonth();\nd = doyDate.getDate();\n}",code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$"),eval(code)},Date.formatCodeToRegex=function(t,e){switch(t){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+e+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:1,c:"z = parseInt(results["+e+"], 10);\n",s:"(\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+e+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+e+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+e+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+e+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+e+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+e+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+e+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+e+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+e+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+e+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(t)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")},Date.prototype.getDayOfYear=function(){var t=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var e=0;e<this.getMonth();++e)t+=Date.daysInMonth[e];return t+this.getDate()},Date.prototype.getWeekOfYear=function(){var t=this.getDayOfYear()+(4-this.getDay()),e=new Date(this.getFullYear(),0,1),i=7-e.getDay()+4;return String.leftPad(Math.ceil((t-i)/7)+1,2,"0")},Date.prototype.isLeapYear=function(){var t=this.getFullYear();return 0==(3&t)&&(t%100||t%400==0&&t)},Date.prototype.getFirstDayOfMonth=function(){var t=(this.getDay()-(this.getDate()-1))%7;return 0>t?t+7:t},Date.prototype.getLastDayOfMonth=function(){var t=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>t?t+7:t},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},String.escape=function(t){return t.replace(/('|\\)/g,"\\$1")},String.leftPad=function(t,e,i){var n=new String(t);for(null==i&&(i=" ");n.length<e;)n=i+n;return n},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"}}(),function(){"use strict";var t=this,e=t.Chart,i=function(t){this.canvas=t.canvas,this.ctx=t;this.width=t.canvas.width,this.height=t.canvas.height;return this.aspectRatio=this.width/this.height,n.retinaScale(this),this};i.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},i.types={};var n=i.helpers={},o=n.each=function(t,e,i){var n=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var o;for(o=0;o<t.length;o++)e.apply(i,[t[o],o].concat(n))}else for(var r in t)e.apply(i,[t[r],r].concat(n))},r=n.clone=function(t){var e={};return o(t,function(i,n){t.hasOwnProperty(n)&&(e[n]=i)}),e},a=n.extend=function(t){return o(Array.prototype.slice.call(arguments,1),function(e){o(e,function(i,n){e.hasOwnProperty(n)&&(t[n]=i)})}),t},s=n.merge=function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift({}),a.apply(null,t)},l=n.indexOf=function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},u=(n.where=function(t,e){var i=[];return n.each(t,function(t){e(t)&&i.push(t)}),i},n.findNextWhere=function(t,e,i){i||(i=-1);for(var n=i+1;n<t.length;n++){var o=t[n];if(e(o))return o}},n.findPreviousWhere=function(t,e,i){i||(i=t.length);for(var n=i-1;n>=0;n--){var o=t[n];if(e(o))return o}},n.inherits=function(t){var e=this,i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},n=function(){this.constructor=i};return n.prototype=e.prototype,i.prototype=new n,i.extend=u,t&&a(i.prototype,t),i.__super__=e.prototype,i}),c=n.noop=function(){},h=n.uid=function(){var t=0;return function(){return"chart-"+t++}}(),d=n.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},p=n.amd="function"==typeof define&&define.amd,f=n.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},m=n.max=function(t){return Math.max.apply(Math,t)},g=n.min=function(t){return Math.min.apply(Math,t)},v=(n.cap=function(t,e,i){if(f(e)){if(t>e)return e}else if(f(i)&&i>t)return i;return t},n.getDecimalPlaces=function(t){return t%1!==0&&f(t)?t.toString().split(".")[1].length:0}),y=n.radians=function(t){return t*(Math.PI/180)},_=(n.getAngleFromPoint=function(t,e){var i=e.x-t.x,n=e.y-t.y,o=Math.sqrt(i*i+n*n),r=2*Math.PI+Math.atan2(n,i);return 0>i&&0>n&&(r+=2*Math.PI),{angle:r,distance:o}},n.aliasPixel=function(t){return t%2===0?0:.5}),b=(n.splineCurve=function(t,e,i,n){var o=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),r=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2)),a=n*o/(o+r),s=n*r/(o+r);return{inner:{x:e.x-a*(i.x-t.x),y:e.y-a*(i.y-t.y)},outer:{x:e.x+s*(i.x-t.x),y:e.y+s*(i.y-t.y)}}},n.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),x=(n.calculateScaleRange=function(t,e,i,n,o){var r=2,a=Math.floor(e/(1.5*i)),s=r>=a,l=m(t),u=g(t);l===u&&(l+=.5,u>=.5&&!n?u-=.5:l+=.5);for(var c=Math.abs(l-u),h=b(c),d=Math.ceil(l/(1*Math.pow(10,h)))*Math.pow(10,h),p=n?0:Math.floor(u/(1*Math.pow(10,h)))*Math.pow(10,h),f=d-p,v=Math.pow(10,h),y=Math.round(f/v);(y>a||a>2*y)&&!s;)if(y>a)v*=2,y=Math.round(f/v),y%1!==0&&(s=!0);else if(o&&h>=0){if(v/2%1!==0)break;v/=2,y=Math.round(f/v)}else v/=2,y=Math.round(f/v);return s&&(y=r,v=f/y),{steps:y,stepValue:v,min:p,max:p+y*v}},n.template=function(t,e){function i(t,e){var i=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):n[t]=n[t];return e?i(e):i}if(t instanceof Function)return t(e);var n={};return i(t,e)}),w=(n.generateLabels=function(t,e,i,n){var r=new Array(e);return labelTemplateString&&o(r,function(e,o){r[o]=x(t,{value:i+n*(o+1)})}),r},n.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),n<Math.abs(1)?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),-(n*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)))},easeOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),n<Math.abs(1)?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:2==(t/=.5)?1:(i||(i=1*(.3*1.5)),n<Math.abs(1)?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),1>t?-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)):n*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-w.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?1*(7.5625*t*t):2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*w.easeInBounce(2*t):.5*w.easeOutBounce(2*t-1)+.5}}),k=n.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),C=(n.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),n.animationLoop=function(t,e,i,n,o,r){var a=0,s=w[i]||w.linear,l=function(){a++;var i=a/e,u=s(i);t.call(r,u,i,a),n.call(r,u,i),e>a?r.animationFrame=k(l):o.apply(r)};k(l)},n.getRelativePosition=function(t){var e,i,n=t.originalEvent||t,o=t.currentTarget||t.srcElement,r=o.getBoundingClientRect();return n.touches?(e=n.touches[0].clientX-r.left,i=n.touches[0].clientY-r.top):(e=n.clientX-r.left,i=n.clientY-r.top),{x:e,y:i}},n.addEvent=function(t,e,i){t.addEventListener?t.addEventListener(e,i):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i}),S=n.removeEvent=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=c},T=(n.bindEvents=function(t,e,i){t.events||(t.events={}),o(e,function(e){t.events[e]=function(){i.apply(t,arguments)},C(t.chart.canvas,e,t.events[e])})},n.unbindEvents=function(t,e){o(e,function(e,i){S(t.chart.canvas,i,e)})}),A=n.getMaximumWidth=function(t){var e=t.parentNode;return e.clientWidth},E=n.getMaximumHeight=function(t){var e=t.parentNode;return e.clientHeight},M=(n.getMaximumSize=n.getMaximumWidth,n.retinaScale=function(t){var e=t.ctx,i=t.canvas.width,n=t.canvas.height;window.devicePixelRatio&&(e.canvas.style.width=i+"px",e.canvas.style.height=n+"px",e.canvas.height=n*window.devicePixelRatio,e.canvas.width=i*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio))}),D=n.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},I=n.fontString=function(t,e,i){return e+" "+t+"px "+i},P=n.longestText=function(t,e,i){t.font=e;var n=0;return o(i,function(e){var i=t.measureText(e).width;n=i>n?i:n}),n},L=n.drawRoundedRectangle=function(t,e,i,n,o,r){t.beginPath(),t.moveTo(e+r,i),t.lineTo(e+n-r,i),t.quadraticCurveTo(e+n,i,e+n,i+r),t.lineTo(e+n,i+o-r),t.quadraticCurveTo(e+n,i+o,e+n-r,i+o),t.lineTo(e+r,i+o),t.quadraticCurveTo(e,i+o,e,i+o-r),t.lineTo(e,i+r),t.quadraticCurveTo(e,i,e+r,i),t.closePath()};i.instances={},i.Type=function(t,e,n){this.options=e,this.chart=n,this.id=h(),i.instances[this.id]=this,this.chart.canvas.setAttribute("data-chart-id",this.id),e.responsive&&this.resize(),this.initialize.call(this,t)},a(i.Type.prototype,{initialize:function(){return this},clear:function(){return D(this.chart),this},stop:function(){return n.cancelAnimFrame.call(t,this.animationFrame),this},resize:function(t){this.stop();var e=this.chart.canvas,i=A(this.chart.canvas),n=this.options.maintainAspectRatio?i/this.chart.aspectRatio:E(this.chart.canvas);return e.width=this.chart.width=i,e.height=this.chart.height=n,M(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:c,render:function(t){return t&&this.reflow(),this.options.animation&&!t?n.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return x(this.options.legendTemplate,this)},destroy:function(){this.clear(),T(this,this.events),delete i.instances[this.id]},showTooltip:function(t,e){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var r=function(t){var e=!1;return t.length!==this.activeElements.length?e=!0:(o(t,function(t,i){t!==this.activeElements[i]&&(e=!0);
},this),e)}.call(this,t);if(r||e){if(this.activeElements=t,this.draw(),t.length>0)if(this.datasets&&this.datasets.length>1){for(var a,s,u=this.datasets.length-1;u>=0&&(a=this.datasets[u].points||this.datasets[u].bars||this.datasets[u].segments,s=l(a,t[0]),-1===s);u--);var c=[],h=[],d=function(){var t,e,i,o,r,a=[],l=[],u=[];return n.each(this.datasets,function(e){t=e.points||e.bars||e.segments,t[s]&&t[s].hasValue()&&a.push(t[s])}),n.each(a,function(t){l.push(t.x),u.push(t.y),c.push(n.template(this.options.multiTooltipTemplate,t)),h.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),r=g(u),i=m(u),o=g(l),e=m(l),{x:o>this.chart.width/2?o:e,y:(r+i)/2}}.call(this,s);new i.MultiTooltip({x:d.x,y:d.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:h,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx}).draw()}else o(t,function(t){var e=t.tooltipPosition();new i.Tooltip({x:Math.round(e.x),y:Math.round(e.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:x(this.options.tooltipTemplate,t),chart:this.chart}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),i.Type.extend=function(t){var e=this,n=function(){return e.apply(this,arguments)};if(n.prototype=r(e.prototype),a(n.prototype,t),n.extend=i.Type.extend,t.name||e.prototype.name){var o=t.name||e.prototype.name,l=i.defaults[e.prototype.name]?r(i.defaults[e.prototype.name]):{};i.defaults[o]=a(l,t.defaults),i.types[o]=n,i.prototype[o]=function(t,e){var r=s(i.defaults.global,i.defaults[o],e||{});return new n(t,r,this)}}else d("Name not provided for this chart, so it hasn't been registered");return e},i.Element=function(t){a(this,t),this.initialize.apply(this,arguments),this.save()},a(i.Element.prototype,{initialize:function(){},restore:function(t){return t?o(t,function(t){this[t]=this._saved[t]},this):a(this,this._saved),this},save:function(){return this._saved=r(this),delete this._saved._saved,this},update:function(t){return o(t,function(t,e){this._saved[e]=this[e],this[e]=t},this),this},transition:function(t,e){return o(t,function(t,i){this[i]=(t-this._saved[i])*e+this._saved[i]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return f(this.value)}}),i.Element.extend=u,i.Point=i.Element.extend({display:!0,inRange:function(t,e){var i=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(e-this.y,2)<Math.pow(i,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),i.Arc=i.Element.extend({inRange:function(t,e){var i=n.getAngleFromPoint(this,{x:t,y:e}),o=i.angle>=this.startAngle&&i.angle<=this.endAngle,r=i.distance>=this.innerRadius&&i.distance<=this.outerRadius;return o&&r},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,e=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*e,y:this.y+Math.sin(t)*e}},draw:function(t){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),e.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.lineJoin="bevel",this.showStroke&&e.stroke()}}),i.Rectangle=i.Element.extend({draw:function(){var t=this.ctx,e=this.width/2,i=this.x-e,n=this.x+e,o=this.base-(this.base-this.y),r=this.strokeWidth/2;this.showStroke&&(i+=r,n-=r,o+=r),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(i,this.base),t.lineTo(i,o),t.lineTo(n,o),t.lineTo(n,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,e){return t>=this.x-this.width/2&&t<=this.x+this.width/2&&e>=this.y&&e<=this.base}}),i.Tooltip=i.Element.extend({draw:function(){var t=this.chart.ctx;t.font=I(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var e=2,i=t.measureText(this.text).width+2*this.xPadding,n=this.fontSize+2*this.yPadding,o=n+this.caretHeight+e;this.x+i/2>this.chart.width?this.xAlign="left":this.x-i/2<0&&(this.xAlign="right"),this.y-o<0&&(this.yAlign="below");var r=this.x-i/2,a=this.y-o;switch(t.fillStyle=this.fillColor,this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-e),t.lineTo(this.x+this.caretHeight,this.y-(e+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(e+this.caretHeight)),t.closePath(),t.fill();break;case"below":a=this.y+e+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+e),t.lineTo(this.x+this.caretHeight,this.y+e+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+e+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":r=this.x-i+(this.cornerRadius+this.caretHeight);break;case"right":r=this.x-(this.cornerRadius+this.caretHeight)}L(t,r,a,i,n,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,r+i/2,a+n/2)}}),i.MultiTooltip=i.Element.extend({initialize:function(){this.font=I(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=I(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,e=P(this.ctx,this.font,this.labels)+this.fontSize+3,i=m([e,t]);this.width=i+2*this.xPadding;var n=this.height/2;this.y-n<0?this.y=n:this.y+n>this.chart.height&&(this.y=this.chart.height-n),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var e=this.y-this.height/2+this.yPadding,i=t-1;return 0===t?e+this.titleFontSize/2:e+(1.5*this.fontSize*i+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){L(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,n.each(this.labels,function(e,i){t.fillStyle=this.textColor,t.fillText(e,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(i+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[i].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}),i.Scale=i.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),e=0;e<=this.steps;e++)this.yLabels.push(x(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?P(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,e=this.endPoint-this.startPoint;for(this.calculateYRange(e),this.buildYLabels(),this.calculateXLabelRotation();e>this.endPoint-this.startPoint;)e=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(e),this.buildYLabels(),t<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,e,i=this.ctx.measureText(this.xLabels[0]).width,n=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=n/2+3,this.xScalePaddingLeft=i/2>this.yLabelWidth+10?i/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var o,r=P(this.ctx,this.font,this.xLabels);this.xLabelWidth=r;for(var a=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>a&&0===this.xLabelRotation||this.xLabelWidth>a&&this.xLabelRotation<=90&&this.xLabelRotation>0;)o=Math.cos(y(this.xLabelRotation)),t=o*i,e=o*n,t+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=o*r;this.xLabelRotation>0&&(this.endPoint-=Math.sin(y(this.xLabelRotation))*r+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:c,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var e=this.drawingArea()/(this.min-this.max);return this.endPoint-e*(t-this.min)},calculateX:function(t){var e=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),i=e/(this.valuesCount-(this.offsetGridLines?0:1)),n=i*t+this.xScalePaddingLeft;return this.offsetGridLines&&(n+=i/2),Math.round(n)},update:function(t){n.extend(this,t),this.fit()},draw:function(){var t=this.ctx,e=(this.endPoint-this.startPoint)/this.steps,i=Math.round(this.xScalePaddingLeft);t.setLineDash([2,4]),this.display&&(t.fillStyle=this.textColor,t.font=this.font,o(this.yLabels,function(o,r){var a=this.endPoint-e*r,s=Math.round(a);t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(o,i-10,a),t.beginPath(),r>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),s+=n.aliasPixel(t.lineWidth),t.moveTo(i,s),t.lineTo(this.width,s),t.stroke(),t.closePath(),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(i-5,s),t.lineTo(i,s),t.stroke(),t.closePath()},this),o(this.xLabels,function(e,i){var n=this.calculateX(i)+_(this.lineWidth),o=this.calculateX(i-(this.offsetGridLines?.5:0))+_(this.lineWidth),r=this.xLabelRotation>0;t.beginPath(),i>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),t.moveTo(o,this.endPoint),t.lineTo(o,this.startPoint-3),t.stroke(),t.closePath(),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(o,this.endPoint),t.lineTo(o,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(n,r?this.endPoint+12:this.endPoint+8),t.rotate(-1*y(this.xLabelRotation)),t.font=this.font,t.textAlign=r?"right":"center",t.textBaseline=r?"middle":"top",t.fillText(e,0,0),t.restore()},this),t.setLineDash([]))}}),i.RadialScale=i.Element.extend({initialize:function(){this.size=g([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var e=this.drawingArea/(this.max-this.min);return(t-this.min)*e},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),e=0;e<=this.steps;e++)this.yLabels.push(x(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,e,i,n,o,r,a,s,l,u,c,h,d=g([this.height/2-this.pointLabelFontSize-5,this.width/2]),p=this.width,m=0;for(this.ctx.font=I(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e=0;e<this.valuesCount;e++)t=this.getPointPosition(e,d),i=this.ctx.measureText(x(this.templateString,{value:this.labels[e]})).width+5,0===e||e===this.valuesCount/2?(n=i/2,t.x+n>p&&(p=t.x+n,o=e),t.x-n<m&&(m=t.x-n,a=e)):e<this.valuesCount/2?t.x+i>p&&(p=t.x+i,o=e):e>this.valuesCount/2&&t.x-i<m&&(m=t.x-i,a=e);l=m,u=Math.ceil(p-this.width),r=this.getIndexAngle(o),s=this.getIndexAngle(a),c=u/Math.sin(r+Math.PI/2),h=l/Math.sin(s+Math.PI/2),c=f(c)?c:0,h=f(h)?h:0,this.drawingArea=d-(h+c)/2,this.setCenterPoint(h,c)},setCenterPoint:function(t,e){var i=this.width-e-this.drawingArea,n=t+this.drawingArea;this.xCenter=(n+i)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var e=2*Math.PI/this.valuesCount;return t*e-Math.PI/2},getPointPosition:function(t,e){var i=this.getIndexAngle(t);return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(o(this.yLabels,function(e,i){if(i>0){var n,o=i*(this.drawingArea/this.steps),r=this.yCenter-o;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,o,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var a=0;a<this.valuesCount;a++)n=this.getPointPosition(a,this.calculateCenterOffset(this.min+i*this.stepValue)),0===a?t.moveTo(n.x,n.y):t.lineTo(n.x,n.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=I(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var s=t.measureText(e).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-s/2-this.backdropPaddingX,r-this.fontSize/2-this.backdropPaddingY,s+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(e,this.xCenter,r)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var e=this.valuesCount-1;e>=0;e--){if(this.angleLineWidth>0){var i=this.getPointPosition(e,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(i.x,i.y),t.stroke(),t.closePath()}var n=this.getPointPosition(e,this.calculateCenterOffset(this.max)+5);t.font=I(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var r=this.labels.length,a=this.labels.length/2,s=a/2,l=s>e||e>r-s,u=e===s||e===r-s;0===e?t.textAlign="center":e===a?t.textAlign="center":a>e?t.textAlign="left":t.textAlign="right",u?t.textBaseline="middle":l?t.textBaseline="bottom":t.textBaseline="top",t.fillText(this.labels[e],n.x,n.y)}}}}}),n.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){o(i.instances,function(t){if(t.options.responsive)try{t.resize(t.render,!0)}catch(e){console.log(e.message)}})},50)}}()),p?define(function(){return i}):"object"==typeof module&&module.exports&&(module.exports=i),t.Chart=i,i.noConflict=function(){return t.Chart=e,i}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,n={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Bar",defaults:n,initialize:function(t){var n=this.options;this.ScaleClass=e.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,e,i){var o=this.calculateBaseWidth(),r=this.calculateX(i)-o/2,a=this.calculateBarWidth(t);return r+a*e+e*n.barDatasetSpacing+a/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*n.barValueSpacing},calculateBarWidth:function(t){var e=this.calculateBaseWidth()-(t-1)*n.barDatasetSpacing;return e/t}}),this.datasets=[],this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore(["fillColor","strokeColor"])}),i.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),this.BarClass=e.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),i.each(t.datasets,function(e){var n={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,bars:[]};this.datasets.push(n),i.each(e.data,function(i,o){n.bars.push(new this.BarClass({value:i,label:t.labels[o],datasetLabel:e.label,strokeColor:e.strokeColor,fillColor:e.fillColor,highlightFill:e.highlightFill||e.fillColor,highlightStroke:e.highlightStroke||e.strokeColor}))},this)},this),this.buildScale(t.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,e,n){i.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,n,e),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),i.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){i.each(this.datasets,function(e,n){i.each(e.bars,t,this,n)},this)},getBarsAtEvent:function(t){for(var e,n=[],o=i.getRelativePosition(t),r=function(t){n.push(t.bars[e])},a=0;a<this.datasets.length;a++)for(e=0;e<this.datasets[a].bars.length;e++)if(this.datasets[a].bars[e].inRange(o.x,o.y))return i.each(this.datasets,r),n;return n},buildScale:function(t){var e=this,n=function(){var t=[];return e.eachBars(function(e){t.push(e.value)}),t},o={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=i.calculateScaleRange(n(),t,this.fontSize,this.beginAtZero,this.integersOnly);i.extend(this,e)},xLabels:t,font:i.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&i.extend(o,{calculateYRange:i.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(o)},addData:function(t,e){i.each(t,function(t,i){this.datasets[i].bars.push(new this.BarClass({value:t,label:e,x:this.scale.calculateBarX(this.datasets.length,i,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[i].strokeColor,fillColor:this.datasets[i].fillColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),i.each(this.datasets,function(t){t.bars.shift()},this),this.update()},reflow:function(){i.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var t=i.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var e=t||1;this.clear();this.chart.ctx;this.scale.draw(e),i.each(this.datasets,function(t,n){i.each(t.bars,function(t,i){t.hasValue()&&(t.base=this.scale.endPoint,t.transition({x:this.scale.calculateBarX(this.datasets.length,n,i),y:this.scale.calculateY(t.value),width:this.scale.calculateBarWidth(this.datasets.length)},e).draw())},this)},this)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,n={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Doughnut",defaults:n,initialize:function(t){this.segments=[],this.outerRadius=(i.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=e.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];i.each(this.segments,function(t){t.restore(["fillColor"])}),i.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.calculateTotal(t),i.each(t,function(t,e){this.addData(t,e,!0)},this),this.render()},getSegmentsAtEvent:function(t){var e=[],n=i.getRelativePosition(t);return i.each(this.segments,function(t){t.inRange(n.x,n.y)&&e.push(t)},this),e},addData:function(t,e,i){var n=e||this.segments.length;this.segments.splice(n,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),i||(this.reflow(),this.update())},calculateCircumference:function(t){return 2*Math.PI*(t/this.total)},calculateTotal:function(t){this.total=0,i.each(t,function(t){this.total+=t.value},this)},update:function(){this.calculateTotal(this.segments),i.each(this.activeElements,function(t){t.restore(["fillColor"])}),i.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var e=i.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},reflow:function(){i.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(i.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,i.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(t){var e=t?t:1;this.clear(),i.each(this.segments,function(t,i){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},e),t.endAngle=t.startAngle+t.circumference,t.draw(),0===i&&(t.startAngle=1.5*Math.PI),i<this.segments.length-1&&(this.segments[i+1].startAngle=t.endAngle)},this)}}),e.types.Doughnut.extend({name:"Pie",defaults:i.merge(n,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,n={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Line",defaults:n,initialize:function(t){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(t){return Math.pow(t-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),i.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),i.each(t.datasets,function(e){var n={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(n),i.each(e.data,function(i,o){n.points.push(new this.PointClass({value:i,label:t.labels[o],datasetLabel:e.label,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this),this.buildScale(t.labels),this.eachPoints(function(t,e){i.extend(t,{x:this.scale.calculateX(e),y:this.scale.endPoint}),t.save()},this)},this),this.render()},update:function(){this.scale.update(),i.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachPoints(function(t){t.save()}),this.render()},eachPoints:function(t){i.each(this.datasets,function(e){i.each(e.points,t,this)},this)},getPointsAtEvent:function(t){var e=[],n=i.getRelativePosition(t);return i.each(this.datasets,function(t){i.each(t.points,function(t){t.inRange(n.x,n.y)&&e.push(t)})},this),e},buildScale:function(t){var n=this,o=function(){var t=[];return n.eachPoints(function(e){t.push(e.value)}),t},r={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=i.calculateScaleRange(o(),t,this.fontSize,this.beginAtZero,this.integersOnly);i.extend(this,e)},xLabels:t,font:i.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&i.extend(r,{calculateYRange:i.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new e.Scale(r)},addData:function(t,e){i.each(t,function(t,i){this.datasets[i].points.push(new this.PointClass({value:t,label:e,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[i].pointStrokeColor,fillColor:this.datasets[i].pointColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),i.each(this.datasets,function(t){t.points.shift()},this),this.update()},reflow:function(){var t=i.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var e=t||1;this.clear();var n=this.chart.ctx,o=function(t){return null!==t.value},r=function(t,e,n){return i.findNextWhere(e,o,n)||t},a=function(t,e,n){return i.findPreviousWhere(e,o,n)||t};this.scale.draw(e),i.each(this.datasets,function(t){var s=i.where(t.points,o);i.each(t.points,function(t,i){t.hasValue()&&t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(i)},e)},this),this.options.bezierCurve&&i.each(s,function(t,e){var n=e>0&&e<s.length-1?this.options.bezierCurveTension:0;t.controlPoints=i.splineCurve(a(t,s,e),t,r(t,s,e),n),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),n.lineWidth=this.options.datasetStrokeWidth,n.strokeStyle=t.strokeColor,n.beginPath(),i.each(s,function(t,e){if(0===e)n.moveTo(t.x,t.y);else if(this.options.bezierCurve){var i=a(t,s,e);n.bezierCurveTo(i.controlPoints.outer.x,i.controlPoints.outer.y,t.controlPoints.inner.x,t.controlPoints.inner.y,t.x,t.y)}else n.lineTo(t.x,t.y)},this),n.stroke(),this.options.datasetFill&&s.length>0&&(n.lineTo(s[s.length-1].x,this.scale.endPoint),n.lineTo(s[0].x,this.scale.endPoint),n.fillStyle=t.fillColor,n.closePath(),n.fill()),i.each(s,function(t){t.draw()})},this)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,n={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"PolarArea",defaults:n,initialize:function(t){this.segments=[],this.SegmentArc=e.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:t.length}),this.updateScaleRange(t),this.scale.update(),i.each(t,function(t,e){this.addData(t,e,!0)},this),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];i.each(this.segments,function(t){t.restore(["fillColor"])}),i.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.render()},getSegmentsAtEvent:function(t){var e=[],n=i.getRelativePosition(t);return i.each(this.segments,function(t){t.inRange(n.x,n.y)&&e.push(t)},this),e},addData:function(t,e,i){var n=e||this.segments.length;this.segments.splice(n,0,new this.SegmentArc({fillColor:t.color,highlightColor:t.highlight||t.color,label:t.label,value:t.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(t.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),i||(this.reflow(),this.update())},removeData:function(t){var e=i.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},calculateTotal:function(t){this.total=0,i.each(t,function(t){this.total+=t.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(t){var e=[];i.each(t,function(t){e.push(t.value)});var n=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:i.calculateScaleRange(e,i.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);
i.extend(this.scale,n,{size:i.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),i.each(this.segments,function(t){t.save()}),this.render()},reflow:function(){i.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),i.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),i.each(this.segments,function(t){t.update({outerRadius:this.scale.calculateCenterOffset(t.value)})},this)},draw:function(t){var e=t||1;this.clear(),i.each(this.segments,function(t,i){t.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(t.value)},e),t.endAngle=t.startAngle+t.circumference,0===i&&(t.startAngle=1.5*Math.PI),i<this.segments.length-1&&(this.segments[i+1].startAngle=t.endAngle),t.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(t){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(t),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),i.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),i.each(t.datasets,function(e){var n={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(n),i.each(e.data,function(i,o){var r;this.scale.animation||(r=this.scale.getPointPosition(o,this.scale.calculateCenterOffset(i))),n.points.push(new this.PointClass({value:i,label:t.labels[o],datasetLabel:e.label,x:this.options.animation?this.scale.xCenter:r.x,y:this.options.animation?this.scale.yCenter:r.y,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(t){i.each(this.datasets,function(e){i.each(e.points,t,this)},this)},getPointsAtEvent:function(t){var e=i.getRelativePosition(t),n=i.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},e),o=2*Math.PI/this.scale.valuesCount,r=Math.round((n.angle-1.5*Math.PI)/o),a=[];return(r>=this.scale.valuesCount||0>r)&&(r=0),n.distance<=this.scale.drawingArea&&i.each(this.datasets,function(t){a.push(t.points[r])}),a},buildScale:function(t){this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(t){var e=function(){var e=[];return i.each(t,function(t){t.data?e=e.concat(t.data):i.each(t.points,function(t){e.push(t.value)})}),e}(),n=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:i.calculateScaleRange(e,i.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);i.extend(this.scale,n)},addData:function(t,e){this.scale.valuesCount++,i.each(t,function(t,i){var n=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(t));this.datasets[i].points.push(new this.PointClass({value:t,label:e,x:n.x,y:n.y,strokeColor:this.datasets[i].pointStrokeColor,fillColor:this.datasets[i].pointColor}))},this),this.scale.labels.push(e),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),i.each(this.datasets,function(t){t.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(t){t.save()}),this.reflow(),this.render()},reflow:function(){i.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:i.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(t){var e=t||1,n=this.chart.ctx;this.clear(),this.scale.draw(),i.each(this.datasets,function(t){i.each(t.points,function(t,i){t.hasValue()&&t.transition(this.scale.getPointPosition(i,this.scale.calculateCenterOffset(t.value)),e)},this),n.lineWidth=this.options.datasetStrokeWidth,n.strokeStyle=t.strokeColor,n.beginPath(),i.each(t.points,function(t,e){0===e?n.moveTo(t.x,t.y):n.lineTo(t.x,t.y)},this),n.closePath(),n.stroke(),n.fillStyle=t.fillColor,n.fill(),i.each(t.points,function(t){t.hasValue()&&t.draw()})},this)}})}.call(this),Chart.defaults.global={animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(237,237,237,1)",scaleLineWidth:2,scaleLineStyle:"dotted",scaleShowLabels:!0,scaleLabel:" <%=value%>    ",scaleIntegersOnly:!0,scaleBeginAtZero:!0,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:14,scaleFontStyle:"normal",scaleFontColor:"#BBC",responsive:!0,maintainAspectRatio:!0,showTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove"],tooltipFillColor:"rgba(21,113,142,1)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#FFF",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:10,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:30,tooltipTemplate:"<%=label%> : <%= value %>",multiTooltipTemplate:"<%= value %>",onAnimationProgress:function(){},onAnimationComplete:function(){}},function(t,e){"object"==typeof module&&module.exports?module.exports=t.document?e(t):e:"function"==typeof define&&define.amd?define(function(){return e(t)}):t.Highcharts=e(t)}("undefined"!=typeof window?window:this,function(t){var e=function(){var e="undefined"==typeof t?window:t,i=e.document,n="http://www.w3.org/2000/svg",o=e.navigator&&e.navigator.userAgent||"",r=i&&i.createElementNS&&!!i.createElementNS(n,"svg").createSVGRect,a=/(edge|msie|trident)/i.test(o)&&!e.opera,s=-1!==o.indexOf("Firefox"),l=-1!==o.indexOf("Chrome"),u=s&&parseInt(o.split("Firefox/")[1],10)<4,c=e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"6.2.0",deg2rad:2*Math.PI/360,doc:i,hasBidiBug:u,hasTouch:i&&void 0!==i.documentElement.ontouchstart,isMS:a,isWebKit:-1!==o.indexOf("AppleWebKit"),isFirefox:s,isChrome:l,isSafari:!l&&-1!==o.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(o),SVG_NS:n,chartCount:0,seriesTypes:{},symbolSizes:{},svg:r,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]};return c}();!function(t){t.timers=[];var e=t.charts,i=t.doc,n=t.win;t.error=function(e,i){var o=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e;if(i)throw new Error(o);n.console&&console.log(o)},t.Fx=function(t,e,i){this.options=e,this.elem=t,this.prop=i},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],n=[],o=this.now,r=e.length;if(1===o)n=this.toD;else if(r===i.length&&1>o)for(;r--;)t=parseFloat(e[r]),n[r]=isNaN(t)?i[r]:o*parseFloat(i[r]-t)+t;else n=i;this.elem.attr("d",n,null,!0)},update:function(){var t=this.elem,e=this.prop,i=this.now,n=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,n&&n.call(t,i,this)},run:function(e,i,o){var r=this,a=r.options,s=function(t){return s.stopped?!1:r.step(t)},l=n.requestAnimationFrame||function(t){setTimeout(t,13)},u=function(){for(var e=0;e<t.timers.length;e++)t.timers[e]()||t.timers.splice(e--,1);t.timers.length&&l(u)};e!==i||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=i,this.unit=o,this.now=this.start,this.pos=0,s.elem=this.elem,s.prop=this.prop,s()&&1===t.timers.push(s)&&l(u)):(delete a.curAnim[this.prop],a.complete&&0===t.keys(a.curAnim).length&&a.complete.call(this.elem))},step:function(e){var i,n,o=+new Date,r=this.options,a=this.elem,s=r.complete,l=r.duration,u=r.curAnim;return a.attr&&!a.element?i=!1:e||o>=l+this.startTime?(this.now=this.end,this.pos=1,this.update(),u[this.prop]=!0,n=!0,t.objectEach(u,function(t){t!==!0&&(n=!1)}),n&&s&&s.call(a),i=!1):(this.pos=r.easing((o-this.startTime)/l),this.now=this.start+(this.end-this.start)*this.pos,this.update(),i=!0),i},initPath:function(e,i,n){function o(t){var e,i;for(h=t.length;h--;)e="M"===t[h]||"L"===t[h],i=/[a-zA-Z]/.test(t[h+3]),e&&i&&t.splice(h+1,0,t[h+1],t[h+2],t[h+1],t[h+2])}function r(t,e,i){[].splice.apply(t,[i,0].concat(e))}function a(t,e){for(;t.length<u;)t[0]=e[u-t.length],r(t,t.slice(0,g),0),_&&(r(t,t.slice(t.length-g),t.length),h--);t[0]="M"}function s(t,e){for(var i=(u-t.length)/g;i>0&&i--;)c=t.slice().splice(t.length/b-g,g*b),c[0]=e[u-g-i*g],m&&(c[g-6]=c[g-2],c[g-5]=c[g-1]),r(t,c,t.length/b),_&&i--}i=i||"";var l,u,c,h,d,p=e.startX,f=e.endX,m=i.indexOf("C")>-1,g=m?7:3,v=i.split(" "),y=n.slice(),_=e.isArea,b=_?2:1;if(m&&(o(v),o(y)),p&&f){for(h=0;h<p.length;h++){if(p[h]===f[0]){l=h;break}if(p[0]===f[f.length-p.length+h]){l=h,d=!0;break}}void 0===l&&(v=[])}return v.length&&t.isNumber(l)&&(u=y.length+l*b*g,d?(a(v,y),s(y,v)):(a(y,v),s(v,y))),[v,y]},fillSetter:function(){t.Fx.prototype.strokeSetter.apply(this,arguments)},strokeSetter:function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)}},t.merge=function(){var e,i,n=arguments,o={},r=function(e,i){return"object"!=typeof e&&(e={}),t.objectEach(i,function(n,o){!t.isObject(n,!0)||t.isClass(n)||t.isDOMElement(n)?e[o]=i[o]:e[o]=r(e[o]||{},n)}),e};for(n[0]===!0&&(o=n[1],n=Array.prototype.slice.call(n,2)),i=n.length,e=0;i>e;e++)o=r(o,n[e]);return o},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){var e=Object.prototype.toString.call(t);return"[object Array]"===e||"[object Array Iterator]"===e},t.isObject=function(e,i){return!(!e||"object"!=typeof e||i&&t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"==typeof e.nodeType},t.isClass=function(e){var i=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!i||!i.name||"Object"===i.name)},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)&&1/0>t&&t>-(1/0)},t.erase=function(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}},t.defined=function(t){return void 0!==t&&null!==t},t.attr=function(e,i,n){var o;return t.isString(i)?t.defined(n)?e.setAttribute(i,n):e&&e.getAttribute&&(o=e.getAttribute(i),o||"class"!==i||(o=e.getAttribute(i+"Name"))):t.defined(i)&&t.isObject(i)&&t.objectEach(i,function(t,i){e.setAttribute(i,t)}),o},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,i){return e?setTimeout(t,e,i):void t.call(0,i)},t.clearTimeout=function(e){t.defined(e)&&clearTimeout(e)},t.extend=function(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t},t.pick=function(){var t,e,i=arguments,n=i.length;for(t=0;n>t;t++)if(e=i[t],void 0!==e&&null!==e)return e},t.css=function(e,i){t.isMS&&!t.svg&&i&&void 0!==i.opacity&&(i.filter="alpha(opacity="+100*i.opacity+")"),t.extend(e.style,i)},t.createElement=function(e,n,o,r,a){var s=i.createElement(e),l=t.css;return n&&t.extend(s,n),a&&l(s,{padding:0,border:"none",margin:0}),o&&l(s,o),r&&r.appendChild(s),s},t.extendClass=function(e,i){var n=function(){};return n.prototype=new e,t.extend(n.prototype,i),n},t.pad=function(t,e,i){return new Array((e||2)+1-String(t).replace("-","").length).join(i||0)+t},t.relativeLength=function(t,e,i){return/%$/.test(t)?e*parseFloat(t)/100+(i||0):parseFloat(t)},t.wrap=function(t,e,i){var n=t[e];t[e]=function(){var t,e=Array.prototype.slice.call(arguments),o=arguments,r=this;return r.proceed=function(){n.apply(r,arguments.length?arguments:o)},e.unshift(n),t=i.apply(this,e),r.proceed=null,t}},t.datePropsToTimestamps=function(e){t.objectEach(e,function(i,n){t.isObject(i)&&"function"==typeof i.getTime?e[n]=i.getTime():(t.isObject(i)||t.isArray(i))&&t.datePropsToTimestamps(i)})},t.formatSingle=function(e,i,n){var o,r=/f$/,a=/\.([0-9])/,s=t.defaultOptions.lang;return r.test(e)?(o=e.match(a),o=o?o[1]:-1,null!==i&&(i=t.numberFormat(i,o,s.decimalPoint,e.indexOf(",")>-1?s.thousandsSep:""))):i=(n||t.time).dateFormat(e,i),i},t.format=function(e,i,n){for(var o,r,a,s,l,u,c,h="{",d=!1,p=[];e&&(c=e.indexOf(h),-1!==c);){if(o=e.slice(0,c),d){for(r=o.split(":"),a=r.shift().split("."),l=a.length,u=i,s=0;l>s;s++)u&&(u=u[a[s]]);r.length&&(u=t.formatSingle(r.join(":"),u,n)),p.push(u)}else p.push(o);e=e.slice(c+1),d=!d,h=d?"}":"{"}return p.push(e),p.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,i,n,o,r){var a,s,l=e;for(n=t.pick(n,1),a=e/n,i||(i=r?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],o===!1&&(1===n?i=t.grep(i,function(t){return t%1===0}):.1>=n&&(i=[1/n]))),s=0;s<i.length&&(l=i[s],!(r&&l*n>=e||!r&&a<=(i[s]+(i[s+1]||i[s]))/2));s++);return l=t.correctFloat(l*n,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var i,n,o=t.length;for(n=0;o>n;n++)t[n].safeI=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.safeI-n.safeI:i}),n=0;o>n;n++)delete t[n].safeI},t.arrayMin=function(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i},t.arrayMax=function(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i},t.destroyObjectProperties=function(e,i){t.objectEach(e,function(t,n){t&&t!==i&&t.destroy&&t.destroy(),delete e[n]})},t.discardElement=function(e){var i=t.garbageBin;i||(i=t.createElement("div")),e&&i.appendChild(e),i.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,i){i.renderer.globalAnimation=t.pick(e,i.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,i,n,o){e=+e||0,i=+i;var r,a,s,l,u,c=t.defaultOptions.lang,h=(e.toString().split(".")[1]||"").split("e")[0].length,d=e.toString().split("e");return-1===i?i=Math.min(h,20):t.isNumber(i)?i&&d[1]&&d[1]<0&&(u=i+ +d[1],u>=0?(d[0]=(+d[0]).toExponential(u).split("e")[0],i=u):(d[0]=d[0].split(".")[0]||0,e=20>i?(d[0]*Math.pow(10,d[1])).toFixed(i):0,d[1]=0)):i=2,l=(Math.abs(d[1]?d[0]:e)+Math.pow(10,-Math.max(i,h)-1)).toFixed(i),r=String(t.pInt(l)),a=r.length>3?r.length%3:0,n=t.pick(n,c.decimalPoint),o=t.pick(o,c.thousandsSep),s=0>e?"-":"",s+=a?r.substr(0,a)+o:"",s+=r.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+o),i&&(s+=n+l.slice(-i)),d[1]&&0!==+s&&(s+="e"+d[1]),s},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,i,o){var r;return"width"===i?Math.max(0,Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right")):"height"===i?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom")):(n.getComputedStyle||t.error(27,!0),r=n.getComputedStyle(e,void 0),r&&(r=r.getPropertyValue(i),t.pick(o,"opacity"!==i)&&(r=t.pInt(r))),r)},t.inArray=function(e,i,n){return(t.indexOfPolyfill||Array.prototype.indexOf).call(i,e,n)},t.grep=function(e,i){return(t.filterPolyfill||Array.prototype.filter).call(e,i)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var i,n=t.length;for(i=0;n>i;i++)if(e(t[i],i))return t[i]},t.some=function(e,i,n){return(t.somePolyfill||Array.prototype.some).call(e,i,n)},t.map=function(t,e){for(var i=[],n=0,o=t.length;o>n;n++)i[n]=e.call(t[n],t[n],n,t);return i},t.keys=function(e){return(t.keysPolyfill||Object.keys).call(void 0,e)},t.reduce=function(e,i,n){var o=t.reducePolyfill||Array.prototype.reduce;return o.apply(e,arguments.length>2?[i,n]:[i])},t.offset=function(t){var e=i.documentElement,o=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0};return{top:o.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:o.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,i){for(var n=t.timers.length;n--;)t.timers[n].elem!==e||i&&i!==t.timers[n].prop||(t.timers[n].stopped=!0)},t.each=function(e,i,n){return(t.forEachPolyfill||Array.prototype.forEach).call(e,i,n)},t.objectEach=function(t,e,i){for(var n in t)t.hasOwnProperty(n)&&e.call(i||t[n],t[n],n,t)},t.addEvent=function(e,i,n,o){var r,a=e.addEventListener||t.addEventListenerPolyfill;return r="function"==typeof e&&e.prototype?e.prototype.protoEvents=e.prototype.protoEvents||{}:e.hcEvents=e.hcEvents||{},t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),a&&a.call(e,i,n,!1),r[i]||(r[i]=[]),r[i].push(n),o&&t.isNumber(o.order)&&(n.order=o.order,r[i].sort(function(t,e){return t.order-e.order})),function(){t.removeEvent(e,i,n)}},t.removeEvent=function(e,i,n){function o(i,n){var o=e.removeEventListener||t.removeEventListenerPolyfill;o&&o.call(e,i,n,!1)}function r(n){var r,a;e.nodeName&&(i?(r={},r[i]=!0):r=n,t.objectEach(r,function(t,e){if(n[e])for(a=n[e].length;a--;)o(e,n[e][a])}))}var a,s;t.each(["protoEvents","hcEvents"],function(l){var u=e[l];u&&(i?(a=u[i]||[],n?(s=t.inArray(n,a),s>-1&&(a.splice(s,1),u[i]=a),o(i,n)):(r(u),u[i]=[])):(r(u),e[l]={}))})},t.fireEvent=function(e,n,o,r){var a,s,l,u,c;o=o||{},i.createEvent&&(e.dispatchEvent||e.fireEvent)?(a=i.createEvent("Events"),a.initEvent(n,!0,!0),t.extend(a,o),e.dispatchEvent?e.dispatchEvent(a):e.fireEvent(n,a)):t.each(["protoEvents","hcEvents"],function(i){if(e[i])for(s=e[i][n]||[],l=s.length,o.target||t.extend(o,{preventDefault:function(){o.defaultPrevented=!0},target:e,type:n}),u=0;l>u;u++)c=s[u],c&&c.call(e,o)===!1&&o.preventDefault()}),r&&!o.defaultPrevented&&r.call(e,o)},t.animate=function(e,i,n){var o,r,a,s,l="";t.isObject(n)||(s=arguments,n={duration:s[2],easing:s[3],complete:s[4]}),t.isNumber(n.duration)||(n.duration=400),n.easing="function"==typeof n.easing?n.easing:Math[n.easing]||Math.easeInOutSine,n.curAnim=t.merge(i),t.objectEach(i,function(s,u){t.stop(e,u),a=new t.Fx(e,n,u),r=null,"d"===u?(a.paths=a.initPath(e,e.d,i.d),a.toD=i.d,o=0,r=1):e.attr?o=e.attr(u):(o=parseFloat(t.getStyle(e,u))||0,"opacity"!==u&&(l="px")),r||(r=s),r&&r.match&&r.match("px")&&(r=r.replace(/px/g,"")),a.run(o,r,l)})},t.seriesType=function(e,i,n,o,r){var a=t.getOptions(),s=t.seriesTypes;return a.plotOptions[e]=t.merge(a.plotOptions[i],n),s[e]=t.extendClass(s[i]||function(){},o),s[e].prototype.type=e,r&&(s[e].prototype.pointClass=t.extendClass(t.Point,r)),s[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),n.jQuery&&(n.jQuery.fn.highcharts=function(){var i=[].slice.call(arguments);return this[0]?i[0]?(new(t[t.isString(i[0])?i.shift():"Chart"])(this[0],i[0],i[1]),this):e[t.attr(this[0],"data-highcharts-chart")]:void 0})}(e),function(t){var e=t.each,i=t.isNumber,n=t.map,o=t.merge,r=t.pInt;t.Color=function(e){return this instanceof t.Color?void this.init(e):new t.Color(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(e){var i,o,r,a,s;if(this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e,e&&e.stops)this.stops=n(e.stops,function(e){return new t.Color(e[1])});else if(e&&e.charAt&&"#"===e.charAt()&&(s=e.length,e=parseInt(e.substr(1),16),7===s?o=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===s&&(o=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!o)for(r=this.parsers.length;r--&&!o;)a=this.parsers[r],i=a.regex.exec(e),i&&(o=a.parse(i));this.rgba=o||[]},get:function(t){var n,r=this.input,a=this.rgba;return this.stops?(n=o(r),n.stops=[].concat(n.stops),e(this.stops,function(e,i){n.stops[i]=[n.stops[i][0],e.get(t)]})):n=a&&i(a[0])?"rgb"===t||!t&&1===a[3]?"rgb("+a[0]+","+a[1]+","+a[2]+")":"a"===t?a[3]:"rgba("+a.join(",")+")":r,n},brighten:function(t){var n,o=this.rgba;if(this.stops)e(this.stops,function(e){e.brighten(t)});else if(i(t)&&0!==t)for(n=0;3>n;n++)o[n]+=r(255*t),o[n]<0&&(o[n]=0),o[n]>255&&(o[n]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var i,n,o=this.rgba,r=t.rgba;return r.length&&o&&o.length?(i=1!==r[3]||1!==o[3],n=(i?"rgba(":"rgb(")+Math.round(r[0]+(o[0]-r[0])*(1-e))+","+Math.round(r[1]+(o[1]-r[1])*(1-e))+","+Math.round(r[2]+(o[2]-r[2])*(1-e))+(i?","+(r[3]+(o[3]-r[3])*(1-e)):"")+")"):n=t.input||"none",n}},t.color=function(e){return new t.Color(e)}}(e),function(t){var e,i,n=t.addEvent,o=t.animate,r=t.attr,a=t.charts,s=t.color,l=t.css,u=t.createElement,c=t.defined,h=t.deg2rad,d=t.destroyObjectProperties,p=t.doc,f=t.each,m=t.extend,g=t.erase,v=t.grep,y=t.hasTouch,_=t.inArray,b=t.isArray,x=t.isFirefox,w=t.isMS,k=t.isObject,C=t.isString,S=t.isWebKit,T=t.merge,A=t.noop,E=t.objectEach,M=t.pick,D=t.pInt,I=t.removeEvent,P=(t.splat,t.stop),L=t.svg,O=t.SVG_NS,z=t.symbolSizes,R=t.win;e=t.SVGElement=function(){return this},m(e.prototype,{opacity:1,SVG_NS:O,textProps:["direction","fontSize","fontWeight","fontFamily","fontStyle","color","lineHeight","width","textAlign","textDecoration","textOverflow","textOutline","cursor"],init:function(t,e){this.element="span"===e?u(e):p.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(e,i,n){var r=t.animObject(M(i,this.renderer.globalAnimation,!0));return 0!==r.duration?(n&&(r.complete=n),o(this,e,r)):(this.attr(e,null,n),r.step&&r.step.call(this)),this},complexColor:function(e,i,n){var o,r,a,s,l,u,h,d,p,m,g,v,y=this.renderer,_=[];t.fireEvent(this.renderer,"complexColor",{args:arguments},function(){e.radialGradient?r="radialGradient":e.linearGradient&&(r="linearGradient"),r&&(a=e[r],l=y.gradients,h=e.stops,m=n.radialReference,b(a)&&(e[r]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===r&&m&&!c(a.gradientUnits)&&(s=a,a=T(a,y.getRadialAttr(m,s),{gradientUnits:"userSpaceOnUse"})),E(a,function(t,e){"id"!==e&&_.push(e,t)}),E(h,function(t){_.push(t)}),_=_.join(","),l[_]?g=l[_].attr("id"):(a.id=g=t.uniqueKey(),l[_]=u=y.createElement(r).attr(a).add(y.defs),u.radAttr=s,u.stops=[],f(h,function(e){var i;0===e[1].indexOf("rgba")?(o=t.color(e[1]),d=o.get("rgb"),p=o.get("a")):(d=e[1],p=1),i=y.createElement("stop").attr({offset:e[0],"stop-color":d,"stop-opacity":p}).add(u),u.stops.push(i)})),v="url("+y.url+"#"+g+")",n.setAttribute(i,v),n.gradient=_,e.toString=function(){return v})})},applyTextOutline:function(e){var i,n,o,a,s,l,u=this.element,c=-1!==e.indexOf("contrast"),h={};if(c&&(h.textOutline=e=e.replace(/contrast/g,this.renderer.getContrast(u.style.fill))),e=e.split(" "),o=e[e.length-1],a=e[0],a&&"none"!==a&&t.svg){for(this.fakeTS=!0,i=[].slice.call(u.getElementsByTagName("tspan")),this.ySetter=this.xSetter,a=a.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,i){return 2*e+i}),l=i.length;l--;)n=i[l],"highcharts-text-outline"===n.getAttribute("class")&&g(i,u.removeChild(n));s=u.firstChild,f(i,function(t,e){var i;0===e&&(t.setAttribute("x",u.getAttribute("x")),e=u.getAttribute("y"),t.setAttribute("y",e||0),null===e&&u.setAttribute("y",0)),i=t.cloneNode(1),r(i,{"class":"highcharts-text-outline",fill:o,stroke:o,"stroke-width":a,"stroke-linejoin":"round"}),u.insertBefore(i,s)})}},attr:function(t,e,i,n){var o,r,a,s,l=this.element,u=this;return"string"==typeof t&&void 0!==e&&(o=t,t={},t[o]=e),"string"==typeof t?u=(this[t+"Getter"]||this._defaultGetter).call(this,t,l):(E(t,function(e,i){a=!1,n||P(this,i),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(i)&&(r||(this.symbolAttr(t),r=!0),a=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),a||(s=this[i+"Setter"]||this._defaultSetter,s.call(this,e,i,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,e,s))},this),this.afterSetters()),i&&i.call(this),u},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,i){for(var n=this.shadows,o=n.length;o--;)i.call(n[o],"height"===t?Math.max(e-(n[o].cutHeight||0),0):"d"===t?this.d:e,t,n[o])},addClass:function(t,e){var i=this.attr("class")||"";return-1===i.indexOf(t)&&(e||(t=(i+(i?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==_(t,(this.attr("class")||"").split(" "))},removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(t,""))},symbolAttr:function(t){var e=this;f(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(i){e[i]=M(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var i,n=this;return e=e||t.strokeWidth||0,i=Math.round(e)%2/2,t.x=Math.floor(t.x||n.x||0)+i,t.y=Math.floor(t.y||n.y||0)+i,t.width=Math.floor((t.width||n.width||0)-2*i),t.height=Math.floor((t.height||n.height||0)-2*i),c(t.strokeWidth)&&(t.strokeWidth=e),t},css:function(t){var e,i,n=this.styles,o={},a=this.element,s="",u=!n,c=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),n&&E(t,function(t,e){t!==n[e]&&(o[e]=t,u=!0)}),u&&(n&&(t=m(n,o)),t&&(null===t.width||"auto"===t.width?delete this.textWidth:"text"===a.nodeName.toLowerCase()&&t.width&&(e=this.textWidth=D(t.width))),this.styles=t,e&&!L&&this.renderer.forExport&&delete t.width,a.namespaceURI===this.SVG_NS?(i=function(t,e){return"-"+e.toLowerCase()},E(t,function(t,e){-1===_(e,c)&&(s+=e.replace(/([A-Z])/g,i)+":"+t+";")}),s&&r(a,"style",s)):l(a,t),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var i=this,n=i.element;return y&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(-1===R.navigator.userAgent.indexOf("Android")||Date.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){var e=this;return e.inverted=t,e.updateTransform(),e},updateTransform:function(){var t,e=this,i=e.translateX||0,n=e.translateY||0,o=e.scaleX,r=e.scaleY,a=e.inverted,s=e.rotation,l=e.matrix,u=e.element;a&&(i+=e.width,n+=e.height),t=["translate("+i+","+n+")"],c(l)&&t.push("matrix("+l.join(",")+")"),a?t.push("rotate(90) scale(-1,1)"):s&&t.push("rotate("+s+" "+M(this.rotationOriginX,u.getAttribute("x"),0)+" "+M(this.rotationOriginY,u.getAttribute("y")||0)+")"),(c(o)||c(r))&&t.push("scale("+M(o,1)+" "+M(r,1)+")"),t.length&&u.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n,o,r,a,s,l,u,c={},h=this.renderer,d=h.alignedObjects;return t?(this.alignOptions=t,this.alignByTranslate=e,i&&!C(i)||(this.alignTo=s=i||"renderer",g(d,this),d.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,s=this.alignTo),i=M(i,h[s],h),n=t.align,o=t.verticalAlign,r=(i.x||0)+(t.x||0),a=(i.y||0)+(t.y||0),"right"===n?l=1:"center"===n&&(l=2),l&&(r+=(i.width-(t.width||0))/l),c[e?"translateX":"x"]=Math.round(r),"bottom"===o?u=1:"middle"===o&&(u=2),u&&(a+=(i.height-(t.height||0))/u),c[e?"translateY":"y"]=Math.round(a),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(t,e){var i,n,o,r,a,s,l,u,d=this,p=d.renderer,g=d.element,v=d.styles,y=d.textStr,_=p.cache,b=p.cacheKeys,x=g.namespaceURI===d.SVG_NS;if(r=M(e,d.rotation),a=r*h,s=v&&v.fontSize,c(y)&&(u=y.toString(),-1===u.indexOf("<")&&(u=u.replace(/[0-9]/g,"0")),u+=["",r||0,s,d.textWidth,v&&v.textOverflow].join(",")),u&&!t&&(i=_[u]),!i){if(x||p.forExport){try{l=this.fakeTS&&function(t){f(g.querySelectorAll(".highcharts-text-outline"),function(e){e.style.display=t})},l&&l("none"),i=g.getBBox?m({},g.getBBox()):{width:g.offsetWidth,height:g.offsetHeight},l&&l("")}catch(w){}(!i||i.width<0)&&(i={width:0,height:0})}else i=d.htmlGetBBox();if(p.isSVG&&(n=i.width,o=i.height,x&&(i.height=o={"11px,17":14,"13px,20":16}[v&&v.fontSize+","+Math.round(o)]||o),r&&(i.width=Math.abs(o*Math.sin(a))+Math.abs(n*Math.cos(a)),i.height=Math.abs(o*Math.cos(a))+Math.abs(n*Math.sin(a)))),u&&i.height>0){for(;b.length>250;)delete _[b.shift()];_[u]||b.push(u),_[u]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,n=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this,n=i.element||{},o=i.renderer.isSVG&&"SPAN"===n.nodeName&&i.parentGroup,r=n.ownerSVGElement,a=i.clipPath;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,P(i),a&&r&&(f(r.querySelectorAll("[clip-path],[CLIP-PATH]"),function(t){var e=t.getAttribute("clip-path"),i=a.element.id;(e.indexOf("(#"+i+")")>-1||e.indexOf('("#'+i+'")')>-1)&&t.removeAttribute("clip-path")}),i.clipPath=a.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}for(i.safeRemoveChild(n),i.destroyShadows();o&&o.div&&0===o.div.childNodes.length;)t=o.parentGroup,i.safeRemoveChild(o.div),delete o.div,o=t;return i.alignTo&&g(i.renderer.alignedObjects,i),E(i,function(t,e){delete i[e]}),null},shadow:function(t,e,i){var n,o,a,s,l,u,c=[],h=this.element;if(t){if(!this.shadows){for(s=M(t.width,3),l=(t.opacity||.15)/s,u=this.parentInverted?"(-1,-1)":"("+M(t.offsetX,1)+", "+M(t.offsetY,1)+")",n=1;s>=n;n++)o=h.cloneNode(0),a=2*s+1-2*n,r(o,{stroke:t.color||"#000000","stroke-opacity":l*n,"stroke-width":a,transform:"translate"+u,fill:"none"}),o.setAttribute("class",(o.getAttribute("class")||"")+" highcharts-shadow"),
i&&(r(o,"height",Math.max(r(o,"height")-a,0)),o.cutHeight=a),e?e.element.appendChild(o):h.parentNode&&h.parentNode.insertBefore(o,h),c.push(o);this.shadows=c}}else this.destroyShadows();return this},destroyShadows:function(){f(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){var e=M(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0);return/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=D(t[e])*i;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){var e={left:"start",center:"middle",right:"end"};this.alignValue=t,this.element.setAttribute("text-anchor",e[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=p.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(p.createTextNode(String(M(t),"").replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.complexColor(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var i,n,o,r,a,s,l=this.renderer,u=this.parentGroup,h=u||l,d=h.element||l.box,p=this.element,f=d===l.box,m=this.added;if(c(t)?(p.setAttribute("data-z-index",t),t=+t,this[e]===t&&(m=!1)):c(this[e])&&p.removeAttribute("data-z-index"),this[e]=t,m){for(t=this.zIndex,t&&u&&(u.handleZ=!0),i=d.childNodes,s=i.length-1;s>=0&&!r;s--)n=i[s],o=n.getAttribute("data-z-index"),a=!c(o),n!==p&&(0>t&&a&&!f&&!s?(d.insertBefore(p,i[s]),r=!0):(D(o)<=t||a&&(!c(t)||t>=0))&&(d.insertBefore(p,i[s+1]||null),r=!0));r||(d.insertBefore(p,i[f?3:0]||null),r=!0)}return r},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.rotationOriginXSetter=e.prototype.rotationOriginYSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=e.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,i,n){this[i]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===i&&0===t&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)},i=t.SVGRenderer=function(){this.init.apply(this,arguments)},m(i.prototype,{Element:e,SVG_NS:O,init:function(t,e,i,o,a,s){var u,c,h,d=this;u=d.createElement("svg").attr({version:"1.1","class":"highcharts-root"}).css(this.getStyle(o)),c=u.element,t.appendChild(c),r(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&r(c,"xmlns",this.SVG_NS),d.isSVG=!0,this.box=c,this.boxWrapper=u,d.alignedObjects=[],this.url=(x||S)&&p.getElementsByTagName("base").length?R.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",h=this.createElement("desc").add(),h.element.appendChild(p.createTextNode("Created with Highcharts 6.2.0")),d.defs=this.createElement("defs").add(),d.allowHTML=s,d.forExport=a,d.gradients={},d.cache={},d.cacheKeys=[],d.imgCount=0,d.setSize(e,i,!1);var f,m;x&&t.getBoundingClientRect&&(f=function(){l(t,{left:0,top:0}),m=t.getBoundingClientRect(),l(t,{left:Math.ceil(m.left)-m.left+"px",top:Math.ceil(m.top)-m.top+"px"})},f(),d.unSubPixelFix=n(R,"resize",f))},getStyle:function(t){return this.style=m({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t),this.style},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,e=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),d(t.gradients||{}),t.gradients=null,e&&(t.defs=e.destroy()),t.unSubPixelFix&&t.unSubPixelFix(),t.alignedObjects=null,null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:A,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},truncate:function(t,e,i,n,o,r,a){var s,l,u,c=this,h=t.rotation,d=n?1:0,f=(i||n).length,m=f,g=[],v=function(t){e.firstChild&&e.removeChild(e.firstChild),t&&e.appendChild(p.createTextNode(t))},y=function(r,s){var l=s||r;if(void 0===g[l])if(e.getSubStringLength)try{g[l]=o+e.getSubStringLength(0,n?l+1:l)}catch(u){}else c.getSpanWidth&&(v(a(i||n,r)),g[l]=o+c.getSpanWidth(t,e));return g[l]};if(t.rotation=0,l=y(e.textContent.length),u=o+l>r){for(;f>=d;)m=Math.ceil((d+f)/2),n&&(s=a(n,m)),l=y(m,s&&s.length-1),d===f?d=f+1:l>r?f=m-1:d=m;0===f?v(""):i&&f===i.length-1||v(s||a(i||n,m))}return n&&n.splice(0,m),t.actualWidth=l,t.rotation=h,u},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(t){var e,i,n,o,a=t.element,s=this,u=s.forExport,c=M(t.textStr,"").toString(),h=-1!==c.indexOf("<"),d=a.childNodes,m=r(a,"x"),g=t.styles,y=t.textWidth,b=g&&g.lineHeight,x=g&&g.textOutline,w=g&&"ellipsis"===g.textOverflow,k=g&&"nowrap"===g.whiteSpace,C=g&&g.fontSize,S=d.length,T=y&&!t.added&&this.box,A=function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:C||s.style.fontSize||12,b?D(b):s.fontMetrics(e,t.getAttribute("style")?t:a).h},I=function(t,e){return E(s.escapes,function(i,n){e&&-1!==_(i,e)||(t=t.toString().replace(new RegExp(i,"g"),n))}),t},P=function(t,e){var i,n;return i=t.indexOf("<"),t=t.substring(i,t.indexOf(">")-i),i=t.indexOf(e+"="),-1!==i&&(i=i+e.length+1,n=t.charAt(i),'"'===n||"'"===n)?(t=t.substring(i+1),t.substring(0,t.indexOf(n))):void 0};if(n=[c,w,k,b,x,C,y].join(","),n!==t.textCache){for(t.textCache=n;S--;)a.removeChild(d[S]);h||x||w||y||-1!==c.indexOf(" ")?(T&&T.appendChild(a),e=h?c.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[c],e=v(e,function(t){return""!==t}),f(e,function(e,n){var c,h=0,d=0;e=e.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),c=e.split("|||"),f(c,function(e){if(""!==e||1===c.length){var f,g,v,_={},b=p.createElementNS(s.SVG_NS,"tspan");if(f=P(e,"class"),f&&r(b,"class",f),g=P(e,"style"),g&&(g=g.replace(/(;| |^)color([ :])/,"$1fill$2"),r(b,"style",g)),v=P(e,"href"),v&&!u&&(r(b,"onclick",'location.href="'+v+'"'),r(b,"class","highcharts-anchor"),l(b,{cursor:"pointer"})),e=I(e.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" ")," "!==e){if(b.appendChild(p.createTextNode(e)),h?_.dx=0:n&&null!==m&&(_.x=m),r(b,_),a.appendChild(b),!h&&o&&(!L&&u&&l(b,{display:"block"}),r(b,"dy",A(b))),y){var x=e.replace(/([^\^])-/g,"$1- ").split(" "),S=!k&&(c.length>1||n||x.length>1),T=0,E=A(b);if(w)i=s.truncate(t,b,e,void 0,0,Math.max(0,y-parseInt(C||12,10)),function(t,e){return t.substring(0,e)+"\u2026"});else if(S)for(;x.length;)x.length&&!k&&T>0&&(b=p.createElementNS(O,"tspan"),r(b,{dy:E,x:m}),g&&r(b,"style",g),b.appendChild(p.createTextNode(x.join(" ").replace(/- /g,"-"))),a.appendChild(b)),s.truncate(t,b,null,x,0===T?d:0,y,function(t,e){return x.slice(0,e).join(" ").replace(/- /g,"-")}),d=t.actualWidth,T++}h++}}}),o=o||a.childNodes.length}),w&&i&&t.attr("title",I(t.textStr,["&lt;","&gt;"])),T&&T.removeChild(a),x&&t.applyTextOutline&&t.applyTextOutline(x)):a.appendChild(p.createTextNode(I(c)))}},getContrast:function(t){return t=s(t).rgba,t[0]*=1,t[1]*=1.2,t[2]*=.5,t[0]+t[1]+t[2]>459?"#000000":"#FFFFFF"},button:function(t,e,i,o,r,a,s,l,u){var c=this.label(t,e,i,u,null,null,null,null,"button"),h=0;c.attr(T({padding:8,r:2},r));var d,p,f,g;return r=T({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},r),d=r.style,delete r.style,a=T(r,{fill:"#e6e6e6"},a),p=a.style,delete a.style,s=T(r,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},s),f=s.style,delete s.style,l=T(r,{style:{color:"#cccccc"}},l),g=l.style,delete l.style,n(c.element,w?"mouseover":"mouseenter",function(){3!==h&&c.setState(1)}),n(c.element,w?"mouseout":"mouseleave",function(){3!==h&&c.setState(h)}),c.setState=function(t){1!==t&&(c.state=h=t),c.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),c.attr([r,a,s,l][t||0]).css([d,p,f,g][t||0])},c.attr(r).css(m({cursor:"default"},d)),c.on("click",function(t){3!==h&&o.call(c,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return b(t)?e.d=t:k(t)&&m(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){var n=k(t)?t:{x:t,y:e,r:i},o=this.createElement("circle");return o.xSetter=o.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},o.attr(n)},arc:function(t,e,i,n,o,r){var a,s;return k(t)?(s=t,e=s.y,i=s.r,n=s.innerR,o=s.start,r=s.end,t=s.x):s={innerR:n,start:o,end:r},a=this.symbol("arc",t,e,i,i,s),a.r=i,a},rect:function(t,e,i,n,o,a){o=k(t)?t.r:o;var s=this.createElement("rect"),l=k(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(i,0),height:Math.max(n,0)};return void 0!==a&&(l.strokeWidth=a,l=s.crisp(l)),l.fill="none",o&&(l.r=o),s.rSetter=function(t,e,i){r(i,{rx:t,ry:t})},s.attr(l)},setSize:function(t,e,i){var n=this,o=n.alignedObjects,r=o.length;for(n.width=t,n.height=e,n.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:M(i,!0)?void 0:0});r--;)o[r].align()},g:function(t){var e=this.createElement("g");return t?e.attr({"class":"highcharts-"+t}):e},image:function(t,e,i,o,r,a){var s,l,u={preserveAspectRatio:"none"},c=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)},h=function(e){c(s.element,t),a.call(s,e)};return arguments.length>1&&m(u,{x:e,y:i,width:o,height:r}),s=this.createElement("image").attr(u),a?(c(s.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),l=new R.Image,n(l,"load",h),l.src=t,l.complete&&h({})):c(s.element,t),s},symbol:function(t,e,i,n,o,r){var s,h,d,g=this,v=/^url\((.*?)\)$/,y=v.test(t),_=!y&&(this.symbols[t]?t:"circle"),b=_&&this.symbols[_],x=c(e)&&b&&b.call(this.symbols,Math.round(e),Math.round(i),n,o,r);return b?(s=this.path(x),s.attr("fill","none"),m(s,{symbolName:_,x:e,y:i,width:n,height:o}),r&&m(s,r)):y&&(h=t.match(v)[1],s=this.image(h),s.imgwidth=M(z[h]&&z[h].width,r&&r.width),s.imgheight=M(z[h]&&z[h].height,r&&r.height),d=function(){s.attr({width:s.width,height:s.height})},f(["width","height"],function(t){s[t+"Setter"]=function(t,e){var i={},n=this["img"+e],o="width"===e?"translateX":"translateY";this[e]=t,c(n)&&(this.element&&this.element.setAttribute(e,n),this.alignByTranslate||(i[o]=((this[e]||0)-n)/2,this.attr(i)))}}),c(e)&&s.attr({x:e,y:i}),s.isImg=!0,c(s.imgwidth)&&c(s.imgheight)?d():(s.attr({width:0,height:0}),u("img",{onload:function(){var t=a[g.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),p.body.appendChild(this)),z[h]={width:this.width,height:this.height},s.imgwidth=this.width,s.imgheight=this.height,s.element&&d(),this.parentNode&&this.parentNode.removeChild(this),g.imgCount--,!g.imgCount&&t&&t.onload&&t.onload()},src:h}),this.imgCount++)),s},symbols:{circle:function(t,e,i,n){return this.arc(t+i/2,e+n/2,i/2,n/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,o){var r,a=o.start,s=o.r||i,l=o.r||n||i,u=.001,h=Math.abs(o.end-o.start-2*Math.PI)<u,d=o.end-u,p=o.innerR,f=M(o.open,h),m=Math.cos(a),g=Math.sin(a),v=Math.cos(d),y=Math.sin(d),_=o.end-a-Math.PI<u?0:1;return r=["M",t+s*m,e+l*g,"A",s,l,0,_,1,t+s*v,e+l*y],c(p)&&r.push(f?"M":"L",t+p*v,e+p*y,"A",p,p,0,_,0,t+p*m,e+p*g),r.push(f?"":"Z"),r},callout:function(t,e,i,n,o){var r,a=6,s=6,l=Math.min(o&&o.r||0,i,n),u=l+s,c=o&&o.anchorX,h=o&&o.anchorY;return r=["M",t+l,e,"L",t+i-l,e,"C",t+i,e,t+i,e,t+i,e+l,"L",t+i,e+n-l,"C",t+i,e+n,t+i,e+n,t+i-l,e+n,"L",t+l,e+n,"C",t,e+n,t,e+n,t,e+n-l,"L",t,e+l,"C",t,e,t,e,t+l,e],c&&c>i?h>e+u&&e+n-u>h?r.splice(13,3,"L",t+i,h-s,t+i+a,h,t+i,h+s,t+i,e+n-l):r.splice(13,3,"L",t+i,n/2,c,h,t+i,n/2,t+i,e+n-l):c&&0>c?h>e+u&&e+n-u>h?r.splice(33,3,"L",t,h+s,t-a,h,t,h-s,t,e+l):r.splice(33,3,"L",t,n/2,c,h,t,n/2,t,e+l):h&&h>n&&c>t+u&&t+i-u>c?r.splice(23,3,"L",c+s,e+n,c,e+n+a,c-s,e+n,t+l,e+n):h&&0>h&&c>t+u&&t+i-u>c&&r.splice(3,3,"L",c-s,e,c,e-a,c+s,e,i-l,e),r}},clipRect:function(e,i,n,o){var r,a=t.uniqueKey(),s=this.createElement("clipPath").attr({id:a}).add(this.defs);return r=this.rect(e,i,n,o,0).add(s),r.id=a,r.clipPath=s,r.count=0,r},text:function(t,e,i,n){var o,r=this,a={};return!n||!r.allowHTML&&r.forExport?(a.x=Math.round(e||0),i&&(a.y=Math.round(i)),c(t)&&(a.text=t),o=r.createElement("text").attr(a),n||(o.xSetter=function(t,e,i){var n,o,r=i.getElementsByTagName("tspan"),a=i.getAttribute(e);for(o=0;o<r.length;o++)n=r[o],n.getAttribute(e)===a&&n.setAttribute(e,t);i.setAttribute(e,t)}),o):r.html(t,e,i)},fontMetrics:function(t,e){var i,n;return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,t=/px/.test(t)?D(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12,i=24>t?t+3:Math.round(1.2*t),n=Math.round(.8*i),{h:i,b:n,f:t}},rotCorr:function(t,e,i){var n=t;return e&&i&&(n=Math.max(n*Math.cos(e*h),4)),{x:-t/3*Math.sin(e*h),y:n}},label:function(i,n,o,r,a,s,l,u,h){var d,p,g,v,y,_,b,x,w,k,C,S,A,E=this,M=E.g("button"!==h&&"label"),D=M.text=E.text("",0,0,l).attr({zIndex:1}),P=0,L=3,O=0,z={},R=/^url\((.*?)\)$/.test(r),N=R;h&&M.addClass("highcharts-"+h),N=R,k=function(){return(x||0)%2/2},C=function(){var t,e=D.element.style,i={};p=(void 0===g||void 0===v||b)&&c(D.textStr)&&D.getBBox(),M.width=(g||p.width||0)+2*L+O,M.height=(v||p.height||0)+2*L,w=L+E.fontMetrics(e&&e.fontSize,D).b,N&&(d||(M.box=d=E.symbols[r]||R?E.symbol(r):E.rect(),d.addClass(("button"===h?"":"highcharts-label-box")+(h?" highcharts-"+h+"-box":"")),d.add(M),t=k(),i.x=t,i.y=(u?-w:0)+t),i.width=Math.round(M.width),i.height=Math.round(M.height),d.attr(m(i,z)),z={})},S=function(){var t,e=O+L;t=u?0:w,c(g)&&p&&("center"===b||"right"===b)&&(e+={center:.5,right:1}[b]*(g-p.width)),e===D.x&&t===D.y||(D.attr("x",e),D.hasBoxWidthChanged&&(p=D.getBBox(!0),C()),void 0!==t&&D.attr("y",t)),D.x=e,D.y=t},A=function(t,e){d?d.attr(t,e):z[t]=e},M.onAdd=function(){D.add(M),M.attr({text:i||0===i?i:"",x:n,y:o}),d&&c(a)&&M.attr({anchorX:a,anchorY:s})},M.widthSetter=function(e){g=t.isNumber(e)?e:null},M.heightSetter=function(t){v=t},M["text-alignSetter"]=function(t){b=t},M.paddingSetter=function(t){c(t)&&t!==L&&(L=M.padding=t,S())},M.paddingLeftSetter=function(t){c(t)&&t!==O&&(O=t,S())},M.alignSetter=function(t){t={left:0,center:.5,right:1}[t],t!==P&&(P=t,p&&M.attr({x:y}))},M.textSetter=function(t){void 0!==t&&D.textSetter(t),C(),S()},M["stroke-widthSetter"]=function(t,e){t&&(N=!0),x=this["stroke-width"]=t,A(e,t)},M.strokeSetter=M.fillSetter=M.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(N=!0),M[e]=t),A(e,t)},M.anchorXSetter=function(t,e){a=M.anchorX=t,A(e,Math.round(t)-k()-y)},M.anchorYSetter=function(t,e){s=M.anchorY=t,A(e,t-_)},M.xSetter=function(t){M.x=t,P&&(t-=P*((g||p.width)+2*L),M["forceAnimate:x"]=!0),y=Math.round(t),M.attr("translateX",y)},M.ySetter=function(t){_=M.y=Math.round(t),M.attr("translateY",_)};var $=M.css;return m(M,{css:function(t){if(t){var e={};t=T(t),f(M.textProps,function(i){void 0!==t[i]&&(e[i]=t[i],delete t[i])}),D.css(e),"width"in e&&C()}return $.call(M,t)},getBBox:function(){return{width:p.width+2*L,height:p.height+2*L,x:p.x-L,y:p.y-L}},shadow:function(t){return t&&(C(),d&&d.shadow(t)),M},destroy:function(){I(M.element,"mouseenter"),I(M.element,"mouseleave"),D&&(D=D.destroy()),d&&(d=d.destroy()),e.prototype.destroy.call(M),M=E=C=S=A=null}})}}),t.Renderer=i}(e),function(t){var e=t.attr,i=t.createElement,n=t.css,o=t.defined,r=t.each,a=t.extend,s=t.isFirefox,l=t.isMS,u=t.isWebKit,c=t.pick,h=t.pInt,d=t.SVGElement,p=t.SVGRenderer,f=t.win,m=t.wrap;a(d.prototype,{htmlCss:function(t){var e=this,i=e.element,o="SPAN"===i.tagName&&t&&"width"in t,r=c(o&&t.width,void 0);return o&&(delete t.width,e.textWidth=r,e.htmlUpdateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),e.styles=a(e.styles,t),n(e.element,t),e},htmlGetBBox:function(){var t=this,e=t.element;return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){function t(){return n(a,{width:"",whiteSpace:m||"nowrap"}),a.offsetWidth}if(!this.added)return void(this.alignOnAdd=!0);var e=this,i=e.renderer,a=e.element,s=e.translateX||0,l=e.translateY||0,u=e.x||0,c=e.y||0,d=e.textAlign||"left",p={left:0,center:.5,right:1}[d],f=e.styles,m=f&&f.whiteSpace;if(n(a,{marginLeft:s,marginTop:l}),e.shadows&&r(e.shadows,function(t){n(t,{marginLeft:s+1,marginTop:l+1})}),e.inverted&&r(a.childNodes,function(t){i.invertChild(t,a)}),"SPAN"===a.tagName){var g,v=e.rotation,y=e.textWidth&&h(e.textWidth),_=[v,d,a.innerHTML,e.textWidth,e.textAlign].join(",");y!==e.oldTextWidth&&(y>e.oldTextWidth||(e.textPxLength||t())>y)&&/[ \-]/.test(a.textContent||a.innerText)?(n(a,{width:y+"px",display:"block",whiteSpace:m||"normal"}),e.oldTextWidth=y,e.hasBoxWidthChanged=!0):e.hasBoxWidthChanged=!1,_!==e.cTT&&(g=i.fontMetrics(a.style.fontSize).b,!o(v)||v===(e.oldRotation||0)&&d===e.oldAlign||e.setSpanRotation(v,p,g),e.getSpanCorrection(!o(v)&&e.textPxLength||a.offsetWidth,g,p,v,d)),n(a,{left:u+(e.xCorr||0)+"px",top:c+(e.yCorr||0)+"px"}),e.cTT=_,e.oldRotation=v,e.oldAlign=d}},setSpanRotation:function(t,e,i){var o={},r=this.renderer.getTransformKey();o[r]=o.transform="rotate("+t+"deg)",o[r+(s?"Origin":"-origin")]=o.transformOrigin=100*e+"% "+i+"px",n(this.element,o)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),a(p.prototype,{getTransformKey:function(){return l&&!/Edge/.test(f.navigator.userAgent)?"-ms-transform":u?"-webkit-transform":s?"MozTransform":f.opera?"-o-transform":""},html:function(t,n,o){var s=this.createElement("span"),l=s.element,u=s.renderer,h=u.isSVG,d=function(t,e){r(["opacity","visibility"],function(i){m(t,i+"Setter",function(t,i,n,o){t.call(this,i,n,o),e[n]=i})}),t.addedSetters=!0};return s.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,this.textStr=t,l.innerHTML=c(t,""),s.doTransform=!0},h&&d(s,s.element.style),s.xSetter=s.ySetter=s.alignSetter=s.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),s[e]=t,s.doTransform=!0},s.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},s.attr({text:t,x:Math.round(n),y:Math.round(o)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",s.css=s.htmlCss,h&&(s.add=function(t){var n,o,c=u.box.parentNode,h=[];if(this.parentGroup=t,t){if(n=t.div,!n){for(o=t;o;)h.push(o),o=o.parentGroup;r(h.reverse(),function(t){function o(e,i){t[i]=e,"translateX"===i?r.left=e+"px":r.top=e+"px",t.doTransform=!0}var r,l=e(t.element,"class");l&&(l={className:l}),n=t.div=t.div||i("div",l,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},n||c),r=n.style,a(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(n),on:function(){return h[0].div&&s.on.apply({element:h[0].div},arguments),t},translateXSetter:o,translateYSetter:o}),t.addedSetters||d(t,r)})}}else n=c;return n.appendChild(l),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s}})}(e),function(t){var e=t,i=e.defined,n=e.each,o=e.extend,r=e.merge,a=e.pick,s=e.timeUnits,l=e.win;t.Time=function(t){this.update(t,!1)},t.Time.prototype={defaultOptions:{},update:function(t){var e=a(t&&t.useUTC,!0),i=this;this.options=t=r(!0,this.options||{},t),this.Date=t.Date||l.Date,this.useUTC=e,this.timezoneOffset=e&&t.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=!(e&&!t.getTimezoneOffset&&!t.timezone),this.variableTimezone||this.timezoneOffset?(this.get=function(t,e){var n,o=e.getTime(),r=o-i.getTimezoneOffset(e);return e.setTime(r),n=e["getUTC"+t](),e.setTime(o),n},this.set=function(t,e,n){var o,r,a;"Milliseconds"===t||"Seconds"===t||"Minutes"===t&&e.getTimezoneOffset()%60===0?e["set"+t](n):(r=i.getTimezoneOffset(e),o=e.getTime()-r,e.setTime(o),e["setUTC"+t](n),a=i.getTimezoneOffset(e),o=e.getTime()+a,e.setTime(o))}):e?(this.get=function(t,e){return e["getUTC"+t]()},this.set=function(t,e,i){return e["setUTC"+t](i)}):(this.get=function(t,e){return e["get"+t]()},this.set=function(t,e,i){return e["set"+t](i)})},makeTime:function(t,i,n,o,r,s){var l,u,c;return this.useUTC?(l=this.Date.UTC.apply(0,arguments),u=this.getTimezoneOffset(l),l+=u,c=this.getTimezoneOffset(l),u!==c?l+=c-u:u-36e5!==this.getTimezoneOffset(l-36e5)||e.isSafari||(l-=36e5)):l=new this.Date(t,i,a(n,1),a(o,0),a(r,0),a(s,0)).getTime(),l},timezoneOffsetFunction:function(){var t=this,i=this.options,n=l.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t).getTimezoneOffset()};if(i.timezone){if(n)return function(t){return 6e4*-n.tz(t,i.timezone).utcOffset()};e.error(25)}return this.useUTC&&i.getTimezoneOffset?function(t){return 6e4*i.getTimezoneOffset(t)}:function(){return 6e4*(t.timezoneOffset||0)}},dateFormat:function(t,i,n){if(!e.defined(i)||isNaN(i))return e.defaultOptions.lang.invalidDate||"";t=e.pick(t,"%Y-%m-%d %H:%M:%S");var o=this,r=new this.Date(i),a=this.get("Hours",r),s=this.get("Day",r),l=this.get("Date",r),u=this.get("Month",r),c=this.get("FullYear",r),h=e.defaultOptions.lang,d=h.weekdays,p=h.shortWeekdays,f=e.pad,m=e.extend({a:p?p[s]:d[s].substr(0,3),A:d[s],d:f(l),e:f(l,2," "),w:s,b:h.shortMonths[u],B:h.months[u],m:f(u+1),o:u+1,y:c.toString().substr(2,2),Y:c,H:f(a),k:a,I:f(a%12||12),l:a%12||12,M:f(o.get("Minutes",r)),p:12>a?"AM":"PM",P:12>a?"am":"pm",S:f(r.getSeconds()),L:f(Math.floor(i%1e3),3)},e.dateFormats);return e.objectEach(m,function(e,n){for(;-1!==t.indexOf("%"+n);)t=t.replace("%"+n,"function"==typeof e?e.call(o,i):e)}),n?t.substr(0,1).toUpperCase()+t.substr(1):t},resolveDTLFormat:function(t){return e.isObject(t,!0)?t:(t=e.splat(t),{main:t[0],from:t[1],to:t[2]})},getTimeTicks:function(t,e,r,l){var u,c,h,d,p=this,f=p.Date,m=[],g={},v=new f(e),y=t.unitRange,_=t.count||1;if(l=a(l,1),i(e)){p.set("Milliseconds",v,y>=s.second?0:_*Math.floor(p.get("Milliseconds",v)/_)),y>=s.second&&p.set("Seconds",v,y>=s.minute?0:_*Math.floor(p.get("Seconds",v)/_)),y>=s.minute&&p.set("Minutes",v,y>=s.hour?0:_*Math.floor(p.get("Minutes",v)/_)),y>=s.hour&&p.set("Hours",v,y>=s.day?0:_*Math.floor(p.get("Hours",v)/_)),y>=s.day&&p.set("Date",v,y>=s.month?1:_*Math.floor(p.get("Date",v)/_)),y>=s.month&&(p.set("Month",v,y>=s.year?0:_*Math.floor(p.get("Month",v)/_)),c=p.get("FullYear",v)),y>=s.year&&(c-=c%_,p.set("FullYear",v,c)),y===s.week&&(d=p.get("Day",v),p.set("Date",v,p.get("Date",v)-d+l+(l>d?-7:0))),c=p.get("FullYear",v);var b=p.get("Month",v),x=p.get("Date",v),w=p.get("Hours",v);e=v.getTime(),p.variableTimezone&&(h=r-e>4*s.month||p.getTimezoneOffset(e)!==p.getTimezoneOffset(r));var k=v.getTime();for(u=1;r>k;)m.push(k),y===s.year?k=p.makeTime(c+u*_,0):y===s.month?k=p.makeTime(c,b+u*_):!h||y!==s.day&&y!==s.week?h&&y===s.hour&&_>1?k=p.makeTime(c,b,x,w+u*_):k+=y*_:k=p.makeTime(c,b,x+u*_*(y===s.day?1:7)),u++;m.push(k),y<=s.hour&&m.length<1e4&&n(m,function(t){t%18e5===0&&"000000000"===p.dateFormat("%H%M%S%L",t)&&(g[t]="day")})}return m.info=o(t,{higherRanks:g,totalRange:y*_}),m}}}(e),function(t){var e=t.color,i=t.isTouchDevice,n=t.merge,o=t.svg;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:t.Time.prototype.defaultOptions,chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:o,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:i?25:10,backgroundColor:e("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=n(!0,t.defaultOptions,e),t.time.update(n(t.defaultOptions.global,t.defaultOptions.time),!1),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,t.time=new t.Time(n(t.defaultOptions.global,t.defaultOptions.time)),t.dateFormat=function(e,i,n){return t.time.dateFormat(e,i,n)}}(e),function(t){var e=t.correctFloat,i=t.defined,n=t.destroyObjectProperties,o=t.fireEvent,r=t.isNumber,a=t.merge,s=t.pick,l=t.deg2rad;t.Tick=function(t,e,i,n,o){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,this.isNewLabel=!0,this.parameters=o||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,i||n||this.addLabel()},t.Tick.prototype={addLabel:function(){var n,o,r,l,u,c=this,h=c.axis,d=h.options,p=h.chart,f=h.categories,m=h.names,g=c.pos,v=s(c.options&&c.options.labels,d.labels),y=h.tickPositions,_=g===y[0],b=g===y[y.length-1],x=this.parameters.category||(f?s(f[g],m[g],g):g),w=c.label,k=y.info;h.isDatetimeAxis&&k&&(r=p.time.resolveDTLFormat(d.dateTimeLabelFormats[!d.grid&&k.higherRanks[g]||k.unitName]),o=r.main),c.isFirst=_,c.isLast=b,c.formatCtx={axis:h,chart:p,isFirst:_,isLast:b,dateTimeLabelFormat:o,tickPositionInfo:k,value:h.isLog?e(h.lin2log(x)):x,pos:g},n=h.labelFormatter.call(c.formatCtx,this.formatCtx),u=r&&r.list,u&&(c.shortenLabel=function(){for(l=0;l<u.length;l++)if(w.attr({text:h.labelFormatter.call(t.extend(c.formatCtx,{dateTimeLabelFormat:u[l]}))}),w.getBBox().width<h.getSlotWidth(c)-2*s(v.padding,5))return;w.attr({text:""})}),i(w)?w&&w.textStr!==n&&(!w.textWidth||v.style&&v.style.width||w.styles.width||w.css({width:null}),w.attr({text:n})):(c.label=w=i(n)&&v.enabled?p.renderer.text(n,0,0,v.useHTML).css(a(v.style)).add(h.labelGroup):null,w&&(w.textPxLength=w.getBBox().width),c.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i,n,o=this,r=this.axis,a=r.options.labels,u=t.x,c=r.chart.chartWidth,h=r.chart.spacing,d=s(r.labelLeft,Math.min(r.pos,h[3])),p=s(r.labelRight,Math.max(r.isRadial?0:r.pos+r.len,c-h[1])),f=this.label,m=this.rotation,g={left:0,center:.5,right:1}[r.labelAlign||f.attr("align")],v=f.getBBox().width,y=r.getSlotWidth(o),_=y,b=g,x=1,w={};m||"justify"!==s(a.overflow,"justify")?0>m&&d>u-g*v?n=Math.round(u/Math.cos(m*l)-d):m>0&&u+g*v>p&&(n=Math.round((c-u)/Math.cos(m*l))):(e=u-g*v,i=u+(1-g)*v,d>e?_=t.x+_*(1-g)-d:i>p&&(_=p-t.x+_*g,x=-1),_=Math.min(y,_),y>_&&"center"===r.labelAlign&&(t.x+=x*(y-_-b*(y-Math.min(v,_)))),(v>_||r.autoRotation&&(f.styles||{}).width)&&(n=_)),n&&(o.shortenLabel?o.shortenLabel():(w.width=n,(a.style||{}).textOverflow||(w.textOverflow="ellipsis"),f.css(w)))},getPosition:function(e,i,n,r){var a,s=this.axis,l=s.chart,u=r&&l.oldChartHeight||l.chartHeight;return a={x:e?t.correctFloat(s.translate(i+n,null,null,r)+s.transB):s.left+s.offset+(s.opposite?(r&&l.oldChartWidth||l.chartWidth)-s.right-s.left:0),y:e?u-s.bottom+s.offset-(s.opposite?s.height:0):t.correctFloat(u-s.translate(i+n,null,null,r)-s.transB)},o(this,"afterGetPosition",{pos:a}),a},getLabelPosition:function(t,e,n,r,a,s,u,c){var h,d=this.axis,p=d.transA,f=d.reversed,m=d.staggerLines,g=d.tickRotCorr||{x:0,y:0},v=a.y,y=r||d.reserveSpaceDefault?0:-d.labelOffset*("center"===d.labelAlign?.5:1),_={};return i(v)||(v=0===d.side?n.rotation?-8:-n.getBBox().height:2===d.side?g.y+8:Math.cos(n.rotation*l)*(g.y-n.getBBox(!1,0).height/2)),t=t+a.x+y+g.x-(s&&r?s*p*(f?-1:1):0),e=e+v-(s&&!r?s*p*(f?1:-1):0),m&&(h=u/(c||1)%m,d.opposite&&(h=m-h-1),e+=h*(d.labelOffset/m)),_.x=t,_.y=Math.round(e),o(this,"afterGetLabelPosition",{pos:_}),_},getMarkPath:function(t,e,i,n,o,r){return r.crispLine(["M",t,e,"L",t+(o?0:-i),e+(o?i:0)],n)},renderGridLine:function(t,e,i){var n,o=this,r=o.axis,a=r.options,l=o.gridLine,u={},c=o.pos,h=o.type,d=s(o.tickmarkOffset,r.tickmarkOffset),p=r.chart.renderer,f=h?h+"Grid":"grid",m=a[f+"LineWidth"],g=a[f+"LineColor"],v=a[f+"LineDashStyle"];l||(u.stroke=g,u["stroke-width"]=m,v&&(u.dashstyle=v),h||(u.zIndex=1),t&&(e=0),o.gridLine=l=p.path().attr(u).addClass("highcharts-"+(h?h+"-":"")+"grid-line").add(r.gridGroup)),l&&(n=r.getPlotLinePath(c+d,l.strokeWidth()*i,t,"pass"),n&&l[t||o.isNew?"attr":"animate"]({d:n,opacity:e}))},renderMark:function(t,e,i){var n=this,o=n.axis,r=o.options,a=o.chart.renderer,l=n.type,u=l?l+"Tick":"tick",c=o.tickSize(u),h=n.mark,d=!h,p=t.x,f=t.y,m=s(r[u+"Width"],!l&&o.isXAxis?1:0),g=r[u+"Color"];c&&(o.opposite&&(c[0]=-c[0]),d&&(n.mark=h=a.path().addClass("highcharts-"+(l?l+"-":"")+"tick").add(o.axisGroup),h.attr({stroke:g,"stroke-width":m})),h[d?"attr":"animate"]({d:n.getMarkPath(p,f,c[0],h.strokeWidth()*i,o.horiz,a),opacity:e}))},renderLabel:function(t,e,i,n){var o=this,a=o.axis,l=a.horiz,u=a.options,c=o.label,h=u.labels,d=h.step,p=s(o.tickmarkOffset,a.tickmarkOffset),f=!0,m=t.x,g=t.y;c&&r(m)&&(c.xy=t=o.getLabelPosition(m,g,c,l,h,p,n,d),o.isFirst&&!o.isLast&&!s(u.showFirstLabel,1)||o.isLast&&!o.isFirst&&!s(u.showLastLabel,1)?f=!1:!l||h.step||h.rotation||e||0===i||o.handleOverflow(t),d&&n%d&&(f=!1),f&&r(t.y)?(t.opacity=i,c[o.isNewLabel?"attr":"animate"](t),o.isNewLabel=!1):(c.attr("y",-9999),o.isNewLabel=!0))},render:function(e,i,n){var o=this,r=o.axis,a=r.horiz,l=o.pos,u=s(o.tickmarkOffset,r.tickmarkOffset),c=o.getPosition(a,l,u,i),h=c.x,d=c.y,p=a&&h===r.pos+r.len||!a&&d===r.pos?-1:1;
n=s(n,1),this.isActive=!0,this.renderGridLine(i,n,p),this.renderMark(c,n,p),this.renderLabel(c,i,n,e),o.isNew=!1,t.fireEvent(this,"afterRender")},destroy:function(){n(this,this.axis)}}}(e);var i=function(t){var e=t.addEvent,i=t.animObject,n=t.arrayMax,o=t.arrayMin,r=t.color,a=t.correctFloat,s=t.defaultOptions,l=t.defined,u=t.deg2rad,c=t.destroyObjectProperties,h=t.each,d=t.extend,p=t.fireEvent,f=t.format,m=t.getMagnitude,g=t.grep,v=t.inArray,y=t.isArray,_=t.isNumber,b=t.isString,x=t.merge,w=t.normalizeTickInterval,k=t.objectEach,C=t.pick,S=t.removeEvent,T=t.splat,A=t.syncTimeout,E=t.Tick,M=function(){this.init.apply(this,arguments)};return t.extend(M.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,labels:{enabled:!0,indentation:10,x:0,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,i){var n=i.isX,o=this;o.chart=t,o.horiz=t.inverted&&!o.isZAxis?!n:n,o.isXAxis=n,o.coll=o.coll||(n?"xAxis":"yAxis"),p(this,"init",{userOptions:i}),o.opposite=i.opposite,o.side=i.side||(o.horiz?o.opposite?0:2:o.opposite?1:3),o.setOptions(i);var r=this.options,a=r.type,s="datetime"===a;o.labelFormatter=r.labels.formatter||o.defaultLabelFormatter,o.userOptions=i,o.minPixelPadding=0,o.reversed=r.reversed,o.visible=r.visible!==!1,o.zoomEnabled=r.zoomEnabled!==!1,o.hasNames="category"===a||r.categories===!0,o.categories=r.categories||o.hasNames,o.names||(o.names=[],o.names.keys={}),o.plotLinesAndBandsGroups={},o.isLog="logarithmic"===a,o.isDatetimeAxis=s,o.positiveValuesOnly=o.isLog&&!o.allowNegativeLog,o.isLinked=l(r.linkedTo),o.ticks={},o.labelEdge=[],o.minorTicks={},o.plotLinesAndBands=[],o.alternateBands={},o.len=0,o.minRange=o.userMinRange=r.minRange||r.maxZoom,o.range=r.range,o.offset=r.offset||0,o.stacks={},o.oldStacks={},o.stacksTouched=0,o.max=null,o.min=null,o.crosshair=C(r.crosshair,T(t.options.tooltip.crosshairs)[n?0:1],!1);var u=o.options.events;-1===v(o,t.axes)&&(n?t.axes.splice(t.xAxis.length,0,o):t.axes.push(o),t[o.coll].push(o)),o.series=o.series||[],t.inverted&&!o.isZAxis&&n&&void 0===o.reversed&&(o.reversed=!0),k(u,function(t,i){e(o,i,t)}),o.lin2log=r.linearToLogConverter||o.lin2log,o.isLog&&(o.val2lin=o.log2lin,o.lin2val=o.lin2log),p(this,"afterInit")},setOptions:function(t){this.options=x(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],x(s[this.coll],t)),p(this,"afterSetOptions",{userOptions:t})},defaultLabelFormatter:function(){var e,i,n=this.axis,o=this.value,r=n.chart.time,a=n.categories,l=this.dateTimeLabelFormat,u=s.lang,c=u.numericSymbols,h=u.numericSymbolMagnitude||1e3,d=c&&c.length,p=n.options.labels.format,m=n.isLog?Math.abs(o):n.tickInterval;if(p)i=f(p,this,r);else if(a)i=o;else if(l)i=r.dateFormat(l,o);else if(d&&m>=1e3)for(;d--&&void 0===i;)e=Math.pow(h,d+1),m>=e&&10*o%e===0&&null!==c[d]&&0!==o&&(i=t.numberFormat(o/e,-1)+c[d]);return void 0===i&&(i=Math.abs(o)>=1e4?t.numberFormat(o,-1):t.numberFormat(o,-1,void 0,"")),i},getSeriesExtremes:function(){var t=this,e=t.chart;p(this,"getSeriesExtremes",null,function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),h(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var r,a,s,u=i.options,c=u.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=c&&(c=null),t.isXAxis?(r=i.xData,r.length&&(a=o(r),s=n(r),_(a)||a instanceof Date||(r=g(r,_),a=o(r),s=n(r)),r.length&&(t.dataMin=Math.min(C(t.dataMin,r[0],a),a),t.dataMax=Math.max(C(t.dataMax,r[0],s),s)))):(i.getExtremes(),s=i.dataMax,a=i.dataMin,l(a)&&l(s)&&(t.dataMin=Math.min(C(t.dataMin,a),a),t.dataMax=Math.max(C(t.dataMax,s),s)),l(c)&&(t.threshold=c),u.softThreshold&&!t.positiveValuesOnly||(t.softThreshold=!1))}})}),p(this,"afterGetSeriesExtremes")},translate:function(t,e,i,n,o,r){var a,s=this.linkedParent||this,l=1,u=0,c=n?s.oldTransA:s.transA,h=n?s.oldMin:s.min,d=s.minPixelPadding,p=(s.isOrdinal||s.isBroken||s.isLog&&o)&&s.lin2val;return c||(c=s.transA),i&&(l*=-1,u=s.len),s.reversed&&(l*=-1,u-=l*(s.sector||s.len)),e?(t=t*l+u,t-=d,a=t/c+h,p&&(a=s.lin2val(a))):(p&&(t=s.val2lin(t)),a=_(h)?l*(t-h)*c+u+l*d+(_(r)?c*r:0):void 0),a},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,o){var r,a,s,l,u,c=this,h=c.chart,d=c.left,p=c.top,f=i&&h.oldChartHeight||h.chartHeight,m=i&&h.oldChartWidth||h.chartWidth,g=c.transB,v=function(t,e,i){return("pass"!==n&&e>t||t>i)&&(n?t=Math.min(Math.max(e,t),i):u=!0),t};return o=C(o,c.translate(t,null,null,i)),o=Math.min(Math.max(-1e5,o),1e5),r=s=Math.round(o+g),a=l=Math.round(f-o-g),_(o)?c.horiz?(a=p,l=f-c.bottom,r=s=v(r,d,d+c.width)):(r=d,s=m-c.right,a=l=v(a,p,p+c.height)):(u=!0,n=!1),u&&!n?null:h.renderer.crispLine(["M",r,a,"L",s,l],e||1)},getLinearTickPositions:function(t,e,i){var n,o,r,s=a(Math.floor(e/t)*t),l=a(Math.ceil(i/t)*t),u=[];if(a(s+t)===s&&(r=20),this.single)return[e];for(n=s;l>=n&&(u.push(n),n=a(n+t,r),n!==o);)o=n;return u},getMinorTickInterval:function(){var t=this.options;return t.minorTicks===!0?C(t.minorTickInterval,"auto"):t.minorTicks===!1?null:t.minorTickInterval},getMinorTickPositions:function(){var t,e=this,i=e.options,n=e.tickPositions,o=e.minorTickInterval,r=[],a=e.pointRangePadding||0,s=e.min-a,l=e.max+a,u=l-s;if(u&&u/o<e.len/3)if(e.isLog)h(this.paddedTicks,function(t,i,n){i&&r.push.apply(r,e.getLogTickPositions(o,n[i-1],n[i],!0))});else if(e.isDatetimeAxis&&"auto"===this.getMinorTickInterval())r=r.concat(e.getTimeTicks(e.normalizeTimeTickInterval(o),s,l,i.startOfWeek));else for(t=s+(n[0]-s)%o;l>=t&&t!==r[0];t+=o)r.push(t);return 0!==r.length&&e.trimTicks(r),r},adjustForMinRange:function(){var t,e,i,r,a,s,u,c,d,p,f=this,m=f.options,g=f.min,v=f.max;f.isXAxis&&void 0===f.minRange&&!f.isLog&&(l(m.min)||l(m.max)?f.minRange=null:(h(f.series,function(t){for(s=t.xData,u=t.xIncrement?1:s.length-1,r=u;r>0;r--)a=s[r]-s[r-1],(void 0===i||i>a)&&(i=a)}),f.minRange=Math.min(5*i,f.dataMax-f.dataMin))),v-g<f.minRange&&(e=f.dataMax-f.dataMin>=f.minRange,p=f.minRange,t=(p-v+g)/2,c=[g-t,C(m.min,g-t)],e&&(c[2]=f.isLog?f.log2lin(f.dataMin):f.dataMin),g=n(c),d=[g+p,C(m.max,g+p)],e&&(d[2]=f.isLog?f.log2lin(f.dataMax):f.dataMax),v=o(d),p>v-g&&(c[0]=v-p,c[1]=C(m.min,v-p),g=n(c))),f.min=g,f.max=v},getClosest:function(){var t;return this.categories?t=1:h(this.series,function(e){var i=e.closestPointRange,n=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(i)&&n&&(t=l(t)?Math.min(t,i):i)}),t},nameToX:function(t){var e,i=y(this.categories),n=i?this.categories:this.names,o=t.options.x;return t.series.requireSorting=!1,l(o)||(o=this.options.uniqueNames===!1?t.series.autoIncrement():i?v(t.name,n):C(n.keys[t.name],-1)),-1===o?i||(e=n.length):e=o,void 0!==e&&(this.names[e]=t.name,this.names.keys[t.name]=e),e},updateNames:function(){var e=this,i=this.names,n=i.length;n>0&&(h(t.keys(i.keys),function(t){delete i.keys[t]}),i.length=0,this.minRange=this.userMinRange,h(this.series||[],function(t){t.xIncrement=null,t.points&&!t.isDirtyData||(t.processData(),t.generatePoints()),h(t.points,function(i,n){var o;i.options&&(o=e.nameToX(i),void 0!==o&&o!==i.x&&(i.x=o,t.xData[n]=o))})}))},setAxisTranslation:function(t){var e,i,n=this,o=n.max-n.min,r=n.axisPointRange||0,a=0,s=0,l=n.linkedParent,u=!!n.categories,c=n.transA,d=n.isXAxis;(d||u||r)&&(e=n.getClosest(),l?(a=l.minPointOffset,s=l.pointRangePadding):h(n.series,function(t){var i=u?1:d?C(t.options.pointRange,e,0):n.axisPointRange||0,o=t.options.pointPlacement;r=Math.max(r,i),n.single||(a=Math.max(a,b(o)?0:i/2),s=Math.max(s,"on"===o?0:i))}),i=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.minPointOffset=a*=i,n.pointRangePadding=s*=i,n.pointRange=Math.min(r,o),d&&(n.closestPointRange=e)),t&&(n.oldTransA=c),n.translationSlope=n.transA=c=n.staticScale||n.len/(o+s||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=c*a,p(this,"afterSetAxisTranslation")},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var i,n,o,r,s,u,c,d=this,f=d.chart,g=d.options,v=d.isLog,y=d.isDatetimeAxis,b=d.isXAxis,x=d.isLinked,k=g.maxPadding,S=g.minPadding,T=g.tickInterval,A=g.tickPixelInterval,E=d.categories,M=_(d.threshold)?d.threshold:null,D=d.softThreshold;y||E||x||this.getTickAmount(),u=C(d.userMin,g.min),c=C(d.userMax,g.max),x?(d.linkedParent=f[d.coll][g.linkedTo],n=d.linkedParent.getExtremes(),d.min=C(n.min,n.dataMin),d.max=C(n.max,n.dataMax),g.type!==d.linkedParent.options.type&&t.error(11,1)):(!D&&l(M)&&(d.dataMin>=M?(r=M,S=0):d.dataMax<=M&&(s=M,k=0)),d.min=C(u,r,d.dataMin),d.max=C(c,s,d.dataMax)),v&&(d.positiveValuesOnly&&!e&&Math.min(d.min,C(d.dataMin,d.min))<=0&&t.error(10,1),d.min=a(d.log2lin(d.min),15),d.max=a(d.log2lin(d.max),15)),d.range&&l(d.max)&&(d.userMin=d.min=u=Math.max(d.dataMin,d.minFromRange()),d.userMax=c=d.max,d.range=null),p(d,"foundExtremes"),d.beforePadding&&d.beforePadding(),d.adjustForMinRange(),E||d.axisPointRange||d.usePercentage||x||!l(d.min)||!l(d.max)||(i=d.max-d.min,i&&(!l(u)&&S&&(d.min-=i*S),!l(c)&&k&&(d.max+=i*k))),_(g.softMin)&&!_(d.userMin)&&(d.min=Math.min(d.min,g.softMin)),_(g.softMax)&&!_(d.userMax)&&(d.max=Math.max(d.max,g.softMax)),_(g.floor)&&(d.min=Math.max(d.min,g.floor)),_(g.ceiling)&&(d.max=Math.min(d.max,g.ceiling)),D&&l(d.dataMin)&&(M=M||0,!l(u)&&d.min<M&&d.dataMin>=M?d.min=M:!l(c)&&d.max>M&&d.dataMax<=M&&(d.max=M)),d.min===d.max||void 0===d.min||void 0===d.max?d.tickInterval=1:x&&!T&&A===d.linkedParent.options.tickPixelInterval?d.tickInterval=T=d.linkedParent.tickInterval:d.tickInterval=C(T,this.tickAmount?(d.max-d.min)/Math.max(this.tickAmount-1,1):void 0,E?1:(d.max-d.min)*A/Math.max(d.len,A)),b&&!e&&h(d.series,function(t){t.processData(d.min!==d.oldMin||d.max!==d.oldMax)}),d.setAxisTranslation(!0),d.beforeSetTickPositions&&d.beforeSetTickPositions(),d.postProcessTickInterval&&(d.tickInterval=d.postProcessTickInterval(d.tickInterval)),d.pointRange&&!T&&(d.tickInterval=Math.max(d.pointRange,d.tickInterval)),o=C(g.minTickInterval,d.isDatetimeAxis&&d.closestPointRange),!T&&d.tickInterval<o&&(d.tickInterval=o),y||v||T||(d.tickInterval=w(d.tickInterval,null,m(d.tickInterval),C(g.allowDecimals,!(d.tickInterval>.5&&d.tickInterval<5&&d.max>1e3&&d.max<9999)),!!this.tickAmount)),this.tickAmount||(d.tickInterval=d.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,i=this.options,n=i.tickPositions,o=this.getMinorTickInterval(),r=i.tickPositioner,a=i.startOnTick,s=i.endOnTick;this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===o&&this.tickInterval?this.tickInterval/5:o,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||i.allowDecimals!==!1),this.tickPositions=e=n&&n.slice(),e||(!this.ordinalPositions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)?(e=[this.min,this.max],t.error(19)):e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len&&(e=[e[0],e.pop()],e[0]===e[1]&&(e.length=1)),this.tickPositions=e,r&&(r=r.apply(this,[this.min,this.max]),r&&(this.tickPositions=e=r))),this.paddedTicks=e.slice(0),this.trimTicks(e,a,s),this.isLinked||(this.single&&e.length<2&&(this.min-=.5,this.max+=.5),n||r||this.adjustTickAmount()),p(this,"afterSetTickPositions")},trimTicks:function(t,e,i){var n=t[0],o=t[t.length-1],r=this.minPointOffset||0;if(!this.isLinked){if(e&&n!==-(1/0))this.min=n;else for(;this.min-r>t[0];)t.shift();if(i)this.max=o;else for(;this.max+r<t[t.length-1];)t.pop();0===t.length&&l(n)&&!this.options.tickPositions&&t.push((o+n)/2)}},alignToOthers:function(){var t,e={},i=this.options;return this.chart.options.chart.alignTicks===!1||i.alignTicks===!1||i.startOnTick===!1||i.endOnTick===!1||this.isLog||h(this.chart[this.coll],function(i){var n=i.options,o=i.horiz,r=[o?n.left:n.top,n.width,n.height,n.pane].join(",");i.series.length&&(e[r]?t=!0:e[r]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!l(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/i)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t,e,i=this.tickInterval,n=this.tickPositions,o=this.tickAmount,r=this.finalTickAmt,s=n&&n.length,u=C(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(o>s){for(;n.length<o;)n.length%2||this.min===u?n.push(a(n[n.length-1]+i)):n.unshift(a(n[0]-i));this.transA*=(s-1)/(o-1),this.min=n[0],this.max=n[n.length-1]}else s>o&&(this.tickInterval*=2,this.setTickPositions());if(l(r)){for(t=e=n.length;t--;)(3===r&&t%2===1||2>=r&&t>0&&e-1>t)&&n.splice(t,1);this.finalTickAmt=void 0}}},setScale:function(){var t,e,i=this;i.oldMin=i.min,i.oldMax=i.max,i.oldAxisLength=i.len,i.setAxisSize(),e=i.len!==i.oldAxisLength,h(i.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||i.isLinked||i.forceRedraw||i.userMin!==i.oldUserMin||i.userMax!==i.oldUserMax||i.alignToOthers()?(i.resetStacks&&i.resetStacks(),i.forceRedraw=!1,i.getSeriesExtremes(),i.setTickInterval(),i.oldUserMin=i.userMin,i.oldUserMax=i.userMax,i.isDirty||(i.isDirty=e||i.min!==i.oldMin||i.max!==i.oldMax)):i.cleanStacks&&i.cleanStacks(),p(this,"afterSetScale")},setExtremes:function(t,e,i,n,o){var r=this,a=r.chart;i=C(i,!0),h(r.series,function(t){delete t.kdTree}),o=d(o,{min:t,max:e}),p(r,"setExtremes",o,function(){r.userMin=t,r.userMax=e,r.eventArgs=o,i&&a.redraw(n)})},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,o=this.options,r=Math.min(i,C(o.min,i)),a=Math.max(n,C(o.max,n));return t===this.min&&e===this.max||(this.allowZoomOutside||(l(i)&&(r>t&&(t=r),t>a&&(t=a)),l(n)&&(r>e&&(e=r),e>a&&(e=a))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var e=this.chart,i=this.options,n=i.offsets||[0,0,0,0],o=this.horiz,r=this.width=Math.round(t.relativeLength(C(i.width,e.plotWidth-n[3]+n[1]),e.plotWidth)),a=this.height=Math.round(t.relativeLength(C(i.height,e.plotHeight-n[0]+n[2]),e.plotHeight)),s=this.top=Math.round(t.relativeLength(C(i.top,e.plotTop+n[0]),e.plotHeight,e.plotTop)),l=this.left=Math.round(t.relativeLength(C(i.left,e.plotLeft+n[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-a-s,this.right=e.chartWidth-r-l,this.len=Math.max(o?r:a,0),this.pos=o?l:s},getExtremes:function(){var t=this,e=t.isLog;return{min:e?a(t.lin2log(t.min)):t.min,max:e?a(t.lin2log(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,i=e.isLog,n=i?e.lin2log(e.min):e.min,o=i?e.lin2log(e.max):e.max;return null===t||t===-(1/0)?t=n:t===1/0?t=o:n>t?t=n:t>o&&(t=o),e.translate(t,0,1,0,1)},autoLabelAlign:function(t){var e,i=(C(t,0)-90*this.side+720)%360;return e=i>15&&165>i?"right":i>195&&345>i?"left":"center"},tickSize:function(t){var e=this.options,i=e[t+"Length"],n=C(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);return n&&i?("inside"===e[t+"Position"]&&(i=-i),[i,n]):void 0},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,i,n=this.options.labels,o=this.horiz,r=this.tickInterval,s=r,c=this.len/(((this.categories?1:0)+this.max-this.min)/r),d=n.rotation,p=this.labelMetrics(),f=Number.MAX_VALUE,m=function(t){var e=t/(c||1);return e=e>1?Math.ceil(e):1,a(e*r)};return o?(i=!n.staggerLines&&!n.step&&(l(d)?[d]:c<C(n.autoRotationLimit,80)&&n.autoRotation),i&&h(i,function(i){var n;(i===d||i&&i>=-90&&90>=i)&&(e=m(Math.abs(p.h/Math.sin(u*i))),n=e+Math.abs(i/360),f>n&&(f=n,t=i,s=e))})):n.step||(s=m(p.h)),this.autoRotation=i,this.labelRotation=C(t,d),s},getSlotWidth:function(t){var e=this.chart,i=this.horiz,n=this.options.labels,o=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=e.margin[3];return t&&t.slotWidth||i&&(n.step||0)<2&&!n.rotation&&(this.staggerLines||1)*this.len/o||!i&&(n.style&&parseInt(n.style.width,10)||r&&r-e.spacing[3]||.33*e.chartWidth)},renderUnsquish:function(){var t,e,i,n,o,r=this.chart,a=r.renderer,s=this.tickPositions,l=this.ticks,u=this.options.labels,c=u&&u.style||{},d=this.horiz,p=this.getSlotWidth(),f=Math.max(1,Math.round(p-2*(u.padding||5))),m={},g=this.labelMetrics(),v=u.style&&u.style.textOverflow,y=0;if(b(u.rotation)||(m.rotation=u.rotation||0),h(s,function(t){t=l[t],t&&t.label&&t.label.textPxLength>y&&(y=t.label.textPxLength)}),this.maxLabelLength=y,this.autoRotation)y>f&&y>g.h?m.rotation=this.labelRotation:this.labelRotation=0;else if(p&&(t=f,!v))for(e="clip",n=s.length;!d&&n--;)o=s[n],i=l[o].label,i&&(i.styles&&"ellipsis"===i.styles.textOverflow?i.css({textOverflow:"clip"}):i.textPxLength>p&&i.css({width:p+"px"}),i.getBBox().height>this.len/s.length-(g.h-g.f)&&(i.specificTextOverflow="ellipsis"));m.rotation&&(t=y>.5*r.chartHeight?.33*r.chartHeight:y,v||(e="ellipsis")),this.labelAlign=u.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(m.align=this.labelAlign),h(s,function(i){var n=l[i],o=n&&n.label,r=c.width,a={};o&&(o.attr(m),n.shortenLabel?n.shortenLabel():t&&!r&&"nowrap"!==c.whiteSpace&&(t<o.textPxLength||"SPAN"===o.element.tagName)?(a.width=t,v||(a.textOverflow=o.specificTextOverflow||e),o.css(a)):o.styles&&o.styles.width&&!a.width&&!r&&o.css({width:null}),delete o.specificTextOverflow,n.rotation=m.rotation)},this),this.tickRotCorr=a.rotCorr(g.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&this.tickPositions&&this.tickPositions.length>0},addTitle:function(t){var e,i=this,n=i.chart.renderer,o=i.horiz,r=i.opposite,a=i.options,s=a.title;i.axisTitle||(e=s.textAlign,e||(e=(o?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[s.align]),i.axisTitle=n.text(s.text,0,0,s.useHTML).attr({zIndex:7,rotation:s.rotation||0,align:e}).addClass("highcharts-axis-title").css(x(s.style)).add(i.axisGroup),i.axisTitle.isNew=!0),s.style.width||i.isRadial||i.axisTitle.css({width:i.len}),i.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new E(this,t)},getOffset:function(){var t,e,i,n,o,r,a,s=this,u=s.chart,c=u.renderer,d=s.options,f=s.tickPositions,m=s.ticks,g=s.horiz,v=s.side,y=u.inverted&&!s.isZAxis?[1,0,3,2][v]:v,_=0,b=0,x=d.title,w=d.labels,S=0,T=u.axisOffset,A=u.clipOffset,E=[-1,1,1,-1][v],M=d.className,D=s.axisParent;t=s.hasData(),s.showAxis=e=t||C(d.showEmpty,!0),s.staggerLines=s.horiz&&w.staggerLines,s.axisGroup||(s.gridGroup=c.g("grid").attr({zIndex:d.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(M||"")).add(D),s.axisGroup=c.g("axis").attr({zIndex:d.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(M||"")).add(D),s.labelGroup=c.g("axis-labels").attr({zIndex:w.zIndex||7}).addClass("highcharts-"+s.coll.toLowerCase()+"-labels "+(M||"")).add(D)),t||s.isLinked?(h(f,function(t,e){s.generateTick(t,e)}),s.renderUnsquish(),s.reserveSpaceDefault=0===v||2===v||{1:"left",3:"right"}[v]===s.labelAlign,C(w.reserveSpace,"center"===s.labelAlign?!0:null,s.reserveSpaceDefault)&&h(f,function(t){S=Math.max(m[t].getLabelSize(),S)}),s.staggerLines&&(S*=s.staggerLines),s.labelOffset=S*(s.opposite?-1:1)):k(m,function(t,e){t.destroy(),delete m[e]}),x&&x.text&&x.enabled!==!1&&(s.addTitle(e),e&&x.reserveSpace!==!1&&(s.titleOffset=_=s.axisTitle.getBBox()[g?"height":"width"],i=x.offset,b=l(i)?0:C(x.margin,g?5:10))),s.renderLine(),s.offset=E*C(d.offset,T[v]),s.tickRotCorr=s.tickRotCorr||{x:0,y:0},r=0===v?-s.labelMetrics().h:2===v?s.tickRotCorr.y:0,n=Math.abs(S)+b,S&&(n-=r,n+=E*(g?C(w.y,s.tickRotCorr.y+8*E):w.x)),s.axisTitleMargin=C(i,n),s.getMaxLabelDimensions&&(s.maxLabelDimensions=s.getMaxLabelDimensions(m,f)),a=this.tickSize("tick"),T[v]=Math.max(T[v],s.axisTitleMargin+_+E*s.offset,n,t&&f.length&&a?a[0]+E*s.offset:0),o=d.offset?0:2*Math.floor(s.axisLine.strokeWidth()/2),A[y]=Math.max(A[y],o),p(this,"afterGetOffset")},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,o=this.horiz,r=this.left+(i?this.width:0)+n,a=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine(["M",o?this.left:r,o?a:this.top,"L",o?e.chartWidth-this.right:r,o?a:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,n=this.len,o=this.options.title,r=t?e:i,a=this.opposite,s=this.offset,l=o.x||0,u=o.y||0,c=this.axisTitle,h=this.chart.renderer.fontMetrics(o.style&&o.style.fontSize,c),d=Math.max(c.getBBox(null,0).height-h.h-1,0),p={low:r+(t?0:n),middle:r+n/2,high:r+(t?n:0)}[o.align],f=(t?i+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+[-d,d,h.f,-d][this.side];return{x:t?p+l:f+(a?this.width:0)+s+l,y:t?f+u-(a?this.height:0)+s:p+u}},renderMinorTick:function(t){var e=this.chart.hasRendered&&_(this.oldMin),i=this.minorTicks;i[t]||(i[t]=new E(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)},renderTick:function(t,e){var i=this.isLinked,n=this.ticks,o=this.chart.hasRendered&&_(this.oldMin);(!i||t>=this.min&&t<=this.max)&&(n[t]||(n[t]=new E(this,t)),o&&n[t].isNew&&n[t].render(e,!0,-1),n[t].render(e))},render:function(){var e,n,o=this,r=o.chart,a=r.renderer,s=o.options,l=o.isLog,u=o.isLinked,c=o.tickPositions,d=o.axisTitle,f=o.ticks,m=o.minorTicks,g=o.alternateBands,v=s.stackLabels,y=s.alternateGridColor,b=o.tickmarkOffset,x=o.axisLine,w=o.showAxis,C=i(a.globalAnimation);if(o.labelEdge.length=0,o.overlap=!1,h([f,m,g],function(t){k(t,function(t){t.isActive=!1})}),(o.hasData()||u)&&(o.minorTickInterval&&!o.categories&&h(o.getMinorTickPositions(),function(t){o.renderMinorTick(t)}),c.length&&(h(c,function(t,e){o.renderTick(t,e)}),b&&(0===o.min||o.single)&&(f[-1]||(f[-1]=new E(o,-1,null,!0)),f[-1].render(-1))),y&&h(c,function(i,a){n=void 0!==c[a+1]?c[a+1]+b:o.max-b,a%2===0&&i<o.max&&n<=o.max+(r.polar?-b:b)&&(g[i]||(g[i]=new t.PlotLineOrBand(o)),e=i+b,g[i].options={from:l?o.lin2log(e):e,to:l?o.lin2log(n):n,color:y},g[i].render(),g[i].isActive=!0)}),o._addedPlotLB||(h((s.plotLines||[]).concat(s.plotBands||[]),function(t){o.addPlotBandOrLine(t)}),o._addedPlotLB=!0)),h([f,m,g],function(t){var e,i=[],n=C.duration,o=function(){for(e=i.length;e--;)t[i[e]]&&!t[i[e]].isActive&&(t[i[e]].destroy(),delete t[i[e]])};k(t,function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,i.push(e))}),A(o,t!==g&&r.hasRendered&&n?n:0)}),x&&(x[x.isPlaced?"animate":"attr"]({d:this.getLinePath(x.strokeWidth())}),x.isPlaced=!0,x[w?"show":"hide"](!0)),d&&w){var S=o.getTitlePosition();_(S.y)?(d[d.isNew?"attr":"animate"](S),d.isNew=!1):(d.attr("y",-9999),d.isNew=!0)}v&&v.enabled&&o.renderStackTotals(),o.isDirty=!1,p(this,"afterRender")},redraw:function(){this.visible&&(this.render(),h(this.plotLinesAndBands,function(t){t.render()})),h(this.series,function(t){t.isDirty=!0})},keepProps:["extKey","hcEvents","names","series","userMax","userMin"],destroy:function(t){var e,i,n=this,o=n.stacks,r=n.plotLinesAndBands;if(p(this,"destroy",{keepEvents:t}),t||S(n),k(o,function(t,e){c(t),o[e]=null}),h([n.ticks,n.minorTicks,n.alternateBands],function(t){c(t)}),r)for(i=r.length;i--;)r[i].destroy();h(["stackTotalGroup","axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"],function(t){n[t]&&(n[t]=n[t].destroy())});for(e in n.plotLinesAndBandsGroups)n.plotLinesAndBandsGroups[e]=n.plotLinesAndBandsGroups[e].destroy();k(n,function(t,e){-1===v(e,n.keepProps)&&delete n[e]})},drawCrosshair:function(t,e){var i,n,o,a=this.crosshair,s=C(a.snap,!0),u=this.cross;if(p(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),this.crosshair&&(l(e)||!s)!==!1){if(s?l(e)&&(n=C(e.crosshairPos,this.isXAxis?e.plotX:this.len-e.plotY)):n=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),l(n)&&(i=this.getPlotLinePath(e&&(this.isXAxis?e.x:C(e.stackY,e.y)),null,null,null,n)||null),!l(i))return void this.hideCrosshair();o=this.categories&&!this.isRadial,u||(this.cross=u=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(o?"category ":"thin ")+a.className).attr({zIndex:C(a.zIndex,2)}).add(),u.attr({stroke:a.color||(o?r("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":C(a.width,1)}).css({"pointer-events":"none"}),a.dashStyle&&u.attr({dashstyle:a.dashStyle})),u.show().attr({d:i}),o&&!a.width&&u.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();p(this,"afterDrawCrosshair",{e:t,point:e})},hideCrosshair:function(){this.cross&&this.cross.hide()}}),t.Axis=M,M}(e);return function(t){var e=t.Axis,i=t.getMagnitude,n=t.normalizeTickInterval,o=t.timeUnits;e.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},e.prototype.normalizeTimeTickInterval=function(t,e){var r,a,s=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],l=s[s.length-1],u=o[l[0]],c=l[1];for(a=0;a<s.length;a++)if(l=s[a],u=o[l[0]],c=l[1],s[a+1]){var h=(u*c[c.length-1]+o[s[a+1][0]])/2;if(h>=t)break}return u===o.year&&5*u>t&&(c=[1,2,5]),r=n(t/u,c,"year"===l[0]?Math.max(i(t/u),1):1),{unitRange:u,count:r,unitName:l[0]}}}(e),function(t){var e=t.Axis,i=t.getMagnitude,n=t.map,o=t.normalizeTickInterval,r=t.pick;e.prototype.getLogTickPositions=function(t,e,a,s){var l=this,u=l.options,c=l.len,h=[];if(s||(l._minorAutoInterval=null),t>=.5)t=Math.round(t),h=l.getLinearTickPositions(t,e,a);else if(t>=.08){var d,p,f,m,g,v,y,_=Math.floor(e);for(d=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],p=_;a+1>p&&!y;p++)for(m=d.length,f=0;m>f&&!y;f++)g=l.log2lin(l.lin2log(p)*d[f]),g>e&&(!s||a>=v)&&void 0!==v&&h.push(v),v>a&&(y=!0),v=g}else{var b=l.lin2log(e),x=l.lin2log(a),w=s?this.getMinorTickInterval():u.tickInterval,k="auto"===w?null:w,C=u.tickPixelInterval/(s?5:1),S=s?c/l.tickPositions.length:c;t=r(k,l._minorAutoInterval,(x-b)*C/(S||1)),t=o(t,null,i(t)),h=n(l.getLinearTickPositions(t,b,x),l.log2lin),s||(l._minorAutoInterval=t/5)}return s||(l.tickInterval=t),h},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(e),function(t,e){var i=t.arrayMax,n=t.arrayMin,o=t.defined,r=t.destroyObjectProperties,a=t.each,s=t.erase,l=t.merge,u=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){t.fireEvent(this,"render");var e,i=this,n=i.axis,r=n.horiz,a=i.options,s=a.label,c=i.label,h=a.to,d=a.from,p=a.value,f=o(d)&&o(h),m=o(p),g=i.svgElem,v=!g,y=[],_=a.color,b=u(a.zIndex,0),x=a.events,w={"class":"highcharts-plot-"+(f?"band ":"line ")+(a.className||"")},k={},C=n.chart.renderer,S=f?"bands":"lines";if(n.isLog&&(d=n.log2lin(d),h=n.log2lin(h),p=n.log2lin(p)),m?(w.stroke=_,w["stroke-width"]=a.width,a.dashStyle&&(w.dashstyle=a.dashStyle)):f&&(_&&(w.fill=_),a.borderWidth&&(w.stroke=a.borderColor,w["stroke-width"]=a.borderWidth)),k.zIndex=b,S+="-"+b,e=n.plotLinesAndBandsGroups[S],e||(n.plotLinesAndBandsGroups[S]=e=C.g("plot-"+S).attr(k).add()),v&&(i.svgElem=g=C.path().attr(w).add(e)),m)y=n.getPlotLinePath(p,g.strokeWidth());else{if(!f)return;y=n.getPlotBandPath(d,h,a)}return v&&y&&y.length?(g.attr({d:y}),x&&t.objectEach(x,function(t,e){g.on(e,function(t){x[e].apply(i,[t])})})):g&&(y?(g.show(),g.animate({d:y})):(g.hide(),c&&(i.label=c=c.destroy()))),s&&o(s.text)&&y&&y.length&&n.width>0&&n.height>0&&!y.isFlat?(s=l({align:r&&f&&"center",x:r?!f&&4:10,verticalAlign:!r&&f&&"middle",y:r?f?16:10:f?6:-4,rotation:r&&!f&&90},s),this.renderLabel(s,y,f,b)):c&&c.hide(),i},renderLabel:function(t,e,o,r){var a,s,l,u,c,h=this,d=h.label,p=h.axis.chart.renderer;d||(a={align:t.textAlign||t.align,rotation:t.rotation,"class":"highcharts-plot-"+(o?"band":"line")+"-label "+(t.className||"")},a.zIndex=r,h.label=d=p.text(t.text,0,0,t.useHTML).attr(a).add(),d.css(t.style)),s=e.xBounds||[e[1],e[4],o?e[6]:e[1]],l=e.yBounds||[e[2],e[5],o?e[7]:e[2]],u=n(s),c=n(l),d.align(t,!1,{x:u,y:c,width:i(s)-u,height:i(l)-c}),d.show()},destroy:function(){s(this.axis.plotLinesAndBands,this),delete this.axis,r(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var i,n,o=this.getPlotLinePath(e,null,null,!0),r=this.getPlotLinePath(t,null,null,!0),a=[],s=this.horiz,l=1,u=t<this.min&&e<this.min||t>this.max&&e>this.max;if(r&&o)for(u&&(n=r.toString()===o.toString(),l=0),i=0;i<r.length;i+=6)s&&o[i+1]===r[i+1]?(o[i+1]+=l,o[i+4]+=l):s||o[i+2]!==r[i+2]||(o[i+2]+=l,o[i+5]+=l),a.push("M",r[i+1],r[i+2],"L",r[i+4],r[i+5],o[i+4],o[i+5],o[i+1],o[i+2],"z"),a.isFlat=n;else r=null;return a},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,i){var n=new t.PlotLineOrBand(this,e).render(),o=this.userOptions;return n&&(i&&(o[i]=o[i]||[],o[i].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,o=e.length;o--;)e[o].id===t&&e[o].destroy();a([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(o=e.length;o--;)e[o].id===t&&s(e,e[o])})},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}(e,i),function(t){var e=t.doc,i=t.each,n=t.extend,o=t.format,r=t.isNumber,a=t.map,s=t.merge,l=t.pick,u=t.splat,c=t.syncTimeout,h=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split,this.outside=e.outside&&!this.split},cleanSplit:function(t){i(this.chart.series,function(e){var i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)})},getLabel:function(){var e,i=this.chart.renderer,n=this.options;return this.label||(this.outside&&(this.container=e=t.doc.createElement("div"),e.className="highcharts-tooltip-container",t.css(e,{position:"absolute",top:"1px",pointerEvents:n.style&&n.style.pointerEvents}),t.doc.body.appendChild(e),this.renderer=i=new t.Renderer(e,0,0)),this.split?this.label=i.g("tooltip"):(this.label=i.label("",0,0,n.shape||"callout",null,null,n.useHTML,null,"tooltip").attr({padding:n.padding,r:n.borderRadius}),this.label.attr({fill:n.backgroundColor,"stroke-width":n.borderWidth}).css(n.style).shadow(n.shadow)),this.outside&&(this.label.attr({x:this.distance,y:this.distance}),this.label.xSetter=function(t){e.style.left=t+"px"},this.label.ySetter=function(t){e.style.top=t+"px"}),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),
s(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,s(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),t.discardElement(this.container)),t.clearTimeout(this.hideTimer),t.clearTimeout(this.tooltipTimeout)},move:function(e,i,o,r){var a=this,s=a.now,l=a.options.animation!==!1&&!a.isHidden&&(Math.abs(e-s.x)>1||Math.abs(i-s.y)>1),u=a.followPointer||a.len>1;n(s,{x:l?(2*s.x+e)/3:e,y:l?(s.y+i)/2:i,anchorX:u?void 0:l?(2*s.anchorX+o)/3:o,anchorY:u?void 0:l?(s.anchorY+r)/2:r}),a.getLabel().attr(s),l&&(t.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){a&&a.move(e,i,o,r)},32))},hide:function(e){var i=this;t.clearTimeout(this.hideTimer),e=l(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=c(function(){i.getLabel()[e?"fadeOut":"hide"](),i.isHidden=!0},e))},getAnchor:function(t,e){var n,o,r,s=this.chart,l=s.pointer,c=s.inverted,h=s.plotTop,d=s.plotLeft,p=0,f=0;return t=u(t),this.followPointer&&e?(void 0===e.chartX&&(e=l.normalize(e)),n=[e.chartX-s.plotLeft,e.chartY-h]):t[0].tooltipPos?n=t[0].tooltipPos:(i(t,function(t){o=t.series.yAxis,r=t.series.xAxis,p+=t.plotX+(!c&&r?r.left-d:0),f+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!c&&o?o.top-h:0)}),p/=t.length,f/=t.length,n=[c?s.plotWidth-f:p,this.shared&&!c&&t.length>1&&e?e.chartY-h:c?s.plotHeight-p:f]),a(n,Math.round)},getPosition:function(t,i,n){var o,r=this.chart,a=this.distance,s={},u=r.inverted&&n.h||0,c=this.outside,h=c?e.documentElement.clientWidth-2*a:r.chartWidth,d=c?Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.documentElement.clientHeight):r.chartHeight,p=r.pointer.chartPosition,f=["y",d,i,(c?p.top-a:0)+n.plotY+r.plotTop,c?0:r.plotTop,c?d:r.plotTop+r.plotHeight],m=["x",h,t,(c?p.left-a:0)+n.plotX+r.plotLeft,c?0:r.plotLeft,c?h:r.plotLeft+r.plotWidth],g=!this.followPointer&&l(n.ttBelow,!r.inverted==!!n.negative),v=function(t,e,i,n,o,r){var l=n-a>i,c=e>n+a+i,h=n-a-i,d=n+a;if(g&&c)s[t]=d;else if(!g&&l)s[t]=h;else if(l)s[t]=Math.min(r-i,0>h-u?h:h-u);else{if(!c)return!1;s[t]=Math.max(o,d+u+i>e?d:d+u)}},y=function(t,e,i,n){var o;return a>n||n>e-a?o=!1:i/2>n?s[t]=1:n>e-i/2?s[t]=e-i-2:s[t]=n-i/2,o},_=function(t){var e=f;f=m,m=e,o=t},b=function(){v.apply(0,f)!==!1?y.apply(0,m)!==!1||o||(_(!0),b()):o?s.x=s.y=0:(_(!0),b())};return(r.inverted||this.len>1)&&_(),b(),s},defaultFormatter:function(t){var e,i=this.points||u(this);return e=[t.tooltipFooterHeaderFormatter(i[0])],e=e.concat(t.bodyFormatter(i)),e.push(t.tooltipFooterHeaderFormatter(i[0],!0)),e},refresh:function(e,n){var o,r,a,s,c,h,d=this,p=d.options,f=e,m={},g=[],v=p.formatter||d.defaultFormatter,y=d.shared;p.enabled&&(t.clearTimeout(this.hideTimer),d.followPointer=u(f)[0].series.tooltipOptions.followPointer,s=d.getAnchor(f,n),r=s[0],a=s[1],!y||f.series&&f.series.noSharedTooltip?m=f.getLabelConfig():(i(f,function(t){t.setState("hover"),g.push(t.getLabelConfig())}),m={x:f[0].category,y:f[0].y},m.points=g,f=f[0]),this.len=g.length,c=v.call(m,d),h=f.series,this.distance=l(h.tooltipOptions.distance,16),c===!1?this.hide():(o=d.getLabel(),d.isHidden&&o.attr({opacity:1}).show(),d.split?this.renderSplit(c,u(e)):(p.style.width||o.css({width:this.chart.spacingBox.width}),o.attr({text:c&&c.join?c.join(""):c}),o.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(f.colorIndex,h.colorIndex)),o.attr({stroke:p.borderColor||f.color||h.color||"#666666"}),d.updatePosition({plotX:r,plotY:a,negative:f.negative,ttBelow:f.ttBelow,h:s[2]||0})),this.isHidden=!1))},renderSplit:function(e,n){var o,r=this,a=[],s=this.chart,u=s.renderer,c=!0,h=this.options,d=0,p=this.getLabel(),f=s.plotTop;t.isString(e)&&(e=[!1,e]),i(e.slice(0,n.length+1),function(t,e){if(t!==!1){var i,m,g,v,y=n[e-1]||{isHeader:!0,plotX:n[0].plotX},_=y.series||r,b=_.tt,x=y.series||{},w="highcharts-color-"+l(y.colorIndex,x.colorIndex,"none");b||(_.tt=b=u.label(null,null,null,"callout",null,null,h.useHTML).addClass("highcharts-tooltip-box "+w+(y.isHeader?" highcharts-tooltip-header":"")).attr({padding:h.padding,r:h.borderRadius,fill:h.backgroundColor,stroke:h.borderColor||y.color||x.color||"#333333","stroke-width":h.borderWidth}).add(p)),b.isActive=!0,b.attr({text:t}),b.css(h.style).shadow(h.shadow),g=b.getBBox(),v=g.width+b.strokeWidth(),y.isHeader?(d=g.height,s.xAxis[0].opposite&&(o=!0,f-=d),m=Math.max(0,Math.min(y.plotX+s.plotLeft-v/2,s.chartWidth+(s.scrollablePixels?s.scrollablePixels-s.marginRight:0)-v))):m=y.plotX+s.plotLeft-l(h.distance,16)-v,0>m&&(c=!1),i=(y.series&&y.series.yAxis&&y.series.yAxis.pos)+(y.plotY||0),i-=f,y.isHeader&&(i=o?-d:s.plotHeight+d),a.push({target:i,rank:y.isHeader?1:0,size:_.tt.getBBox().height+1,point:y,x:m,tt:b})}}),this.cleanSplit(),t.distribute(a,s.plotHeight+d),i(a,function(t){var e=t.point,i=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:c||e.isHeader?t.x:e.plotX+s.plotLeft+l(h.distance,16),y:t.pos+f,anchorX:e.isHeader?e.plotX+s.plotLeft:e.plotX+i.xAxis.pos,anchorY:e.isHeader?s.plotTop+s.plotHeight/2:e.plotY+i.yAxis.pos})})},updatePosition:function(t){var e,i=this.chart,n=this.getLabel(),o=(this.options.positioner||this.getPosition).call(this,n.width,n.height,t),r=t.plotX+i.plotLeft,a=t.plotY+i.plotTop;this.outside&&(e=(this.options.borderWidth||0)+2*this.distance,this.renderer.setSize(n.width+e,n.height+e,!1),r+=i.pointer.chartPosition.left-o.x,a+=i.pointer.chartPosition.top-o.y),this.move(Math.round(o.x),Math.round(o.y||0),r,a)},getDateFormat:function(t,e,i,n){var o,r,a=this.chart.time,s=a.dateFormat("%m-%d %H:%M:%S.%L",e),l="01-01 00:00:00.000",u={millisecond:15,second:12,minute:9,hour:6,day:3},c="millisecond";for(r in h){if(t===h.week&&+a.dateFormat("%w",e)===i&&s.substr(6)===l.substr(6)){r="week";break}if(h[r]>t){r=c;break}if(u[r]&&s.substr(u[r])!==l.substr(u[r]))break;"week"!==r&&(c=r)}return r&&(o=a.resolveDTLFormat(n[r]).main),o},getXDateFormat:function(t,e,i){var n,o=e.dateTimeLabelFormats,r=i&&i.closestPointRange;return n=r?this.getDateFormat(r,t.x,i.options.startOfWeek,o):o.day,n||o.year},tooltipFooterHeaderFormatter:function(t,e){var n=e?"footer":"header",a=t.series,s=a.tooltipOptions,l=s.xDateFormat,u=a.xAxis,c=u&&"datetime"===u.options.type&&r(t.key),h=s[n+"Format"];return c&&!l&&(l=this.getXDateFormat(t,s,u)),c&&l&&i(t.point&&t.point.tooltipDateKeys||["key"],function(t){h=h.replace("{point."+t+"}","{point."+t+":"+l+"}")}),o(h,{point:t,series:a},this.chart.time)},bodyFormatter:function(t){return a(t,function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"])})}}}(e),function(t){var e=t,i=e.addEvent,n=e.attr,o=e.charts,r=e.color,a=e.css,s=e.defined,l=e.each,u=e.extend,c=e.find,h=e.fireEvent,d=e.isNumber,p=e.isObject,f=e.offset,m=e.pick,g=e.splat,v=e.Tooltip;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},v&&(t.tooltip=new v(t,e.tooltip),this.followTouchMove=m(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e,i,n=this.chart,o=n.options.chart,r=o.zoomType||"",a=n.inverted;/touch/.test(t.type)&&(r=m(o.pinchType,r)),this.zoomX=e=/x/.test(r),this.zoomY=i=/y/.test(r),this.zoomHor=e&&!a||i&&a,this.zoomVert=i&&!a||e&&a,this.hasZoom=e||i},normalize:function(t,e){var i;return i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=f(this.chart.container)),u(t,{chartX:Math.round(i.pageX-e.left),chartY:Math.round(i.pageY-e.top)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return l(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},findNearestKDPoint:function(t,e,i){var n,o=function(t,i){var n,o=t.distX-i.distX,r=t.dist-i.dist,a=(i.series.group&&i.series.group.zIndex)-(t.series.group&&t.series.group.zIndex);return n=0!==o&&e?o:0!==r?r:0!==a?a:t.series.index>i.series.index?-1:1};return l(t,function(t){var r=t.noSharedTooltip&&e,a=!r&&t.options.findNearestPointBy.indexOf("y")<0,s=t.searchPoint(i,a);p(s,!0)&&(!p(n,!0)||o(n,s)>0)&&(n=s)}),n},getPointFromEvent:function(t){for(var e,i=t.target;i&&!e;)e=i.point,i=i.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var i=t.series,n=i.xAxis,o=i.yAxis,r=m(t.clientX,t.plotX),a=t.shapeArgs;return n&&o?e?{chartX:n.len+n.pos-r,chartY:o.len+o.pos-t.plotY}:{chartX:r+n.pos,chartY:t.plotY+o.pos}:a&&a.x&&a.y?{chartX:a.x,chartY:a.y}:void 0},getHoverData:function(t,i,n,o,r,a,s){var u,h=[],d=i,f=s&&s.isBoosting,g=!(!o||!t),v=d&&!d.stickyTracking,y=function(t){return t.visible&&!(!r&&t.directTouch)&&m(t.options.enableMouseTracking,!0)},_=v?[d]:e.grep(n,function(t){return y(t)&&t.stickyTracking});return u=g?t:this.findNearestKDPoint(_,r,a),d=u&&u.series,u&&(r&&!d.noSharedTooltip?(_=e.grep(n,function(t){return y(t)&&!t.noSharedTooltip}),l(_,function(t){var e=c(t.points,function(t){return t.x===u.x&&!t.isNull});p(e)&&(f&&(e=t.getPoint(e)),h.push(e))})):h.push(u)),{hoverPoint:u,hoverSeries:d,hoverPoints:h}},runPointActions:function(t,n){var r,a,s,u,c=this,h=c.chart,d=h.series,p=h.tooltip&&h.tooltip.options.enabled?h.tooltip:void 0,f=p?p.shared:!1,g=n||h.hoverPoint,v=g&&g.series||h.hoverSeries,y="touchmove"!==t.type&&(!!n||v&&v.directTouch&&c.isDirectTouch),_=this.getHoverData(g,v,d,y,f,t,{isBoosting:h.isBoosting});if(g=_.hoverPoint,u=_.hoverPoints,v=_.hoverSeries,a=v&&v.tooltipOptions.followPointer,r=f&&v&&!v.noSharedTooltip,g&&(g!==h.hoverPoint||p&&p.isHidden)){if(l(h.hoverPoints||[],function(t){-1===e.inArray(t,u)&&t.setState()}),l(u||[],function(t){t.setState("hover")}),h.hoverSeries!==v&&v.onMouseOver(),h.hoverPoint&&h.hoverPoint.firePointEvent("mouseOut"),!g.series)return;g.firePointEvent("mouseOver"),h.hoverPoints=u,h.hoverPoint=g,p&&p.refresh(r?u:g,t)}else a&&p&&!p.isHidden&&(s=p.getAnchor([{}],t),p.updatePosition({plotX:s[0],plotY:s[1]}));c.unDocMouseMove||(c.unDocMouseMove=i(h.container.ownerDocument,"mousemove",function(t){var i=o[e.hoverChartIndex];i&&i.pointer.onDocumentMouseMove(t)})),l(h.axes,function(i){var n=m(i.crosshair.snap,!0),o=n?e.find(u,function(t){return t.series[i.coll]===i}):void 0;o||!n?i.drawCrosshair(t,o):i.hideCrosshair()})},reset:function(t,e){var i=this,n=i.chart,o=n.hoverSeries,r=n.hoverPoint,a=n.hoverPoints,s=n.tooltip,u=s&&s.shared?a:r;t&&u&&l(g(u),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?s&&u&&(s.refresh(u),s.shared&&a?l(a,function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))}):r&&(r.setState(r.state,!0),l(n.axes,function(t){t.crosshair&&t.drawCrosshair(null,r)}))):(r&&r.onMouseOut(),a&&l(a,function(t){t.setState()}),o&&o.onMouseOut(),s&&s.hide(e),i.unDocMouseMove&&(i.unDocMouseMove=i.unDocMouseMove()),l(n.axes,function(t){t.hideCrosshair()}),i.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(t,e){var i,n=this.chart;l(n.series,function(o){i=t||o.getPlotBox(),o.xAxis&&o.xAxis.zoomEnabled&&o.group&&(o.group.attr(i),o.markerGroup&&(o.markerGroup.attr(i),o.markerGroup.clip(e?n.clipRect:null)),o.dataLabelsGroup&&o.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i,n=this.chart,o=n.options.chart,a=t.chartX,s=t.chartY,l=this.zoomHor,u=this.zoomVert,c=n.plotLeft,h=n.plotTop,d=n.plotWidth,p=n.plotHeight,f=this.selectionMarker,m=this.mouseDownX,g=this.mouseDownY,v=o.panKey&&t[o.panKey+"Key"];f&&f.touch||(c>a?a=c:a>c+d&&(a=c+d),h>s?s=h:s>h+p&&(s=h+p),this.hasDragged=Math.sqrt(Math.pow(m-a,2)+Math.pow(g-s,2)),this.hasDragged>10&&(e=n.isInsidePlot(m-c,g-h),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!v&&(f||(this.selectionMarker=f=n.renderer.rect(c,h,l?1:d,u?1:p,0).attr({fill:o.selectionMarkerFill||r("#335cad").setOpacity(.25).get(),"class":"highcharts-selection-marker",zIndex:7}).add())),f&&l&&(i=a-m,f.attr({width:Math.abs(i),x:(i>0?0:i)+m})),f&&u&&(i=s-g,f.attr({height:Math.abs(i),y:(i>0?0:i)+g})),e&&!f&&o.panning&&n.pan(t,o.panning)))},drop:function(t){var e=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var o,r={originalEvent:t,xAxis:[],yAxis:[]},c=this.selectionMarker,p=c.attr?c.attr("x"):c.x,f=c.attr?c.attr("y"):c.y,m=c.attr?c.attr("width"):c.width,g=c.attr?c.attr("height"):c.height;(this.hasDragged||n)&&(l(i.axes,function(i){if(i.zoomEnabled&&s(i.min)&&(n||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var a=i.horiz,l="touchend"===t.type?i.minPixelPadding:0,u=i.toValue((a?p:f)+l),c=i.toValue((a?p+m:f+g)-l);r[i.coll].push({axis:i,min:Math.min(u,c),max:Math.max(u,c)}),o=!0}}),o&&h(i,"selection",r,function(t){i.zoom(u(t,n?{animation:!1}:null))})),d(i.index)&&(this.selectionMarker=this.selectionMarker.destroy()),n&&this.scaleGroups()}i&&d(i.index)&&(a(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),2!==t.button&&(this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t))},onDocumentMouseUp:function(t){o[e.hoverChartIndex]&&o[e.hoverChartIndex].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i),!i||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(t){var i=o[e.hoverChartIndex];i&&(t.relatedTarget||t.toElement)&&(i.pointer.reset(),i.pointer.chartPosition=null)},onContainerMouseMove:function(t){var i=this.chart;s(e.hoverChartIndex)&&o[e.hoverChartIndex]&&o[e.hoverChartIndex].mouseIsDown||(e.hoverChartIndex=i.index),t=this.normalize(t),t.returnValue=!1,"mousedown"===i.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop)||i.openMenu||this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=n(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,i=t.relatedTarget||t.toElement;this.isDirectTouch=!1,!e||!i||e.stickyTracking||this.inClass(i,"highcharts-tooltip")||this.inClass(i,"highcharts-series-"+e.index)&&this.inClass(i,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,n=e.plotLeft,o=e.plotTop;t=this.normalize(t),e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(h(i.series,"click",u(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(u(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-n,t.chartY-o)&&h(e,"click",t)))},setDOMEvents:function(){var t=this,n=t.chart.container,o=n.ownerDocument;n.onmousedown=function(e){t.onContainerMouseDown(e)},n.onmousemove=function(e){t.onContainerMouseMove(e)},n.onclick=function(e){t.onContainerClick(e)},this.unbindContainerMouseLeave=i(n,"mouseleave",t.onContainerMouseLeave),e.unbindDocumentMouseUp||(e.unbindDocumentMouseUp=i(o,"mouseup",t.onDocumentMouseUp)),e.hasTouch&&(n.ontouchstart=function(e){t.onContainerTouchStart(e)},n.ontouchmove=function(e){t.onContainerTouchMove(e)},e.unbindDocumentTouchEnd||(e.unbindDocumentTouchEnd=i(o,"touchend",t.onDocumentTouchEnd)))},destroy:function(){var t=this;t.unDocMouseMove&&t.unDocMouseMove(),this.unbindContainerMouseLeave(),e.chartCount||(e.unbindDocumentMouseUp&&(e.unbindDocumentMouseUp=e.unbindDocumentMouseUp()),e.unbindDocumentTouchEnd&&(e.unbindDocumentTouchEnd=e.unbindDocumentTouchEnd())),clearInterval(t.tooltipTimeout),e.objectEach(t,function(e,i){t[i]=null})}}}(e),function(t){var e=t.charts,i=t.each,n=t.extend,o=t.map,r=t.noop,a=t.pick,s=t.Pointer;n(s.prototype,{pinchTranslate:function(t,e,i,n,o,r){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,n,o,r),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,n,o,r)},pinchTranslateDirection:function(t,e,i,n,o,r,a,s){var l,u,c,h,d,p,f=this.chart,m=t?"x":"y",g=t?"X":"Y",v="chart"+g,y=t?"width":"height",_=f["plot"+(t?"Left":"Top")],b=s||1,x=f.inverted,w=f.bounds[t?"h":"v"],k=1===e.length,C=e[0][v],S=i[0][v],T=!k&&e[1][v],A=!k&&i[1][v],E=function(){!k&&Math.abs(C-T)>20&&(b=s||Math.abs(S-A)/Math.abs(C-T)),c=(_-S)/b+C,l=f["plot"+(t?"Width":"Height")]/b};E(),u=c,u<w.min?(u=w.min,h=!0):u+l>w.max&&(u=w.max-l,h=!0),h?(S-=.8*(S-a[m][0]),k||(A-=.8*(A-a[m][1])),E()):a[m]=[S,A],x||(r[m]=c-_,r[y]=l),p=x?t?"scaleY":"scaleX":"scale"+g,d=x?1/b:b,o[y]=l,o[m]=u,n[p]=b,n["translate"+g]=d*_+(S-d*C)},pinch:function(t){var e=this,s=e.chart,l=e.pinchDown,u=t.touches,c=u.length,h=e.lastValidTouch,d=e.hasZoom,p=e.selectionMarker,f={},m=1===c&&(e.inClass(t.target,"highcharts-tracker")&&s.runTrackerClick||e.runChartClick),g={};c>1&&(e.initiated=!0),d&&e.initiated&&!m&&t.preventDefault(),o(u,function(t){return e.normalize(t)}),"touchstart"===t.type?(i(u,function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}}),h.x=[l[0].chartX,l[1]&&l[1].chartX],h.y=[l[0].chartY,l[1]&&l[1].chartY],i(s.axes,function(t){if(t.zoomEnabled){var e=s.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,n=t.toPixels(a(t.options.min,t.dataMin)),o=t.toPixels(a(t.options.max,t.dataMax)),r=Math.min(n,o),l=Math.max(n,o);e.min=Math.min(t.pos,r-i),e.max=Math.max(t.pos+t.len,l+i)}}),e.res=!0):e.followTouchMove&&1===c?this.runPointActions(e.normalize(t)):l.length&&(p||(e.selectionMarker=p=n({destroy:r,touch:!0},s.plotBox)),e.pinchTranslate(l,u,f,p,g,h),e.hasPinched=d,e.scaleGroups(f,g),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,i){var n,o,r,s=this.chart;s.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=s.index,1===e.touches.length?(e=this.normalize(e),r=s.isInsidePlot(e.chartX-s.plotLeft,e.chartY-s.plotTop),r&&!s.openMenu?(i&&this.runPointActions(e),"touchmove"===e.type&&(o=this.pinchDown,n=o[0]?Math.sqrt(Math.pow(o[0].chartX-e.chartX,2)+Math.pow(o[0].chartY-e.chartY,2))>=4:!1),a(n,!0)&&this.pinch(e)):i&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(i){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(i)}})}(e),function(t){var e=t.addEvent,i=t.charts,n=t.css,o=t.doc,r=t.extend,a=t.hasTouch,s=t.noop,l=t.Pointer,u=t.removeEvent,c=t.win,h=t.wrap;if(!a&&(c.PointerEvent||c.MSPointerEvent)){var d={},p=!!c.PointerEvent,f=function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(d,function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),e},m=function(e,n,o,r){var a;"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!i[t.hoverChartIndex]||(r(e),a=i[t.hoverChartIndex].pointer,a[n]({type:o,target:e.currentTarget,preventDefault:s,touches:f()}))};r(l.prototype,{onContainerPointerDown:function(t){m(t,"onContainerTouchStart","touchstart",function(t){d[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){m(t,"onContainerTouchMove","touchmove",function(t){d[t.pointerId]={pageX:t.pageX,pageY:t.pageY},d[t.pointerId].target||(d[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){m(t,"onDocumentTouchEnd","touchend",function(t){delete d[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,p?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,p?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(o,p?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),h(l.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&n(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),h(l.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),h(l.prototype,"destroy",function(t){this.batchMSEvents(u),t.call(this)})}}(e),function(t){var e=t,i=e.addEvent,n=e.css,o=e.discardElement,r=e.defined,a=e.each,s=e.fireEvent,l=e.isFirefox,u=e.marginNames,c=e.merge,h=e.pick,d=e.setAnimation,p=e.stableSort,f=e.win,m=e.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),i(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=i(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},setOptions:function(t){var e=h(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=c(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=h(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted},update:function(t,e){var i=this.chart;this.setOptions(c(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,h(e,!0)&&i.redraw(),s(this,"afterUpdate")},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var i=this,n=i.options,o=t.legendItem,r=t.legendLine,a=t.legendSymbol,l=i.itemHiddenStyle.color,u=e?n.itemStyle.color:l,c=e?t.color||l:l,h=t.options&&t.options.marker,d={fill:c};o&&o.css({fill:u,color:u}),r&&r.attr({stroke:c}),a&&(h&&a.isMarker&&(d=t.pointAttribs(),e||(d.stroke=d.fill=l)),a.attr(d)),s(this,"afterColorizeItem",{item:t,visible:e})},positionItems:function(){a(this.allItems,this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(t){var e=this,i=e.options,n=i.symbolPadding,o=!i.rtl,a=t._legendItemPos,s=a[0],l=a[1],u=t.checkbox,c=t.legendGroup;c&&c.element&&c[r(c.translateY)?"animate":"attr"]({translateX:o?s:e.legendWidth-s-2*n-4,translateY:l}),u&&(u.x=s,u.y=l)},destroyItem:function(t){var e=t.checkbox;a(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&o(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}a(this.getAllItems(),function(e){a(["legendItem","legendGroup"],t,e)}),a(["clipRect","up","down","pager","nav","box","title","group"],t,this),this.display=null},positionCheckboxes:function(){var t,e=this.group&&this.group.alignAttr,i=this.clipHeight||this.legendHeight,o=this.titleHeight;e&&(t=e.translateY,a(this.allItems,function(r){var a,s=r.checkbox;s&&(a=t+o+s.y+(this.scrollOffset||0)+3,n(s,{left:e.translateX+r.checkboxOffset+s.x-20+"px",top:a+"px",display:this.proximate||a>t-6&&t+i-6>a?"":"none"}))},this))},renderTitle:function(){var t,e=this.options,i=this.padding,n=e.title,o=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,i-3,i-4,null,null,null,e.useHTML,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),t=this.title.getBBox(),o=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:o})),this.titleHeight=o},setText:function(t){var i=this.options;t.legendItem.attr({text:i.labelFormat?e.format(i.labelFormat,t,this.chart.time):i.labelFormatter.call(t)})},renderItem:function(t){var e,i=this,n=i.chart,o=n.renderer,r=i.options,a="horizontal"===r.layout,s=i.symbolWidth,l=r.symbolPadding,u=i.itemStyle,d=i.itemHiddenStyle,p=a?h(r.itemDistance,20):0,f=!r.rtl,m=t.legendItem,g=!t.series,v=!g&&t.series.drawLegendSymbol?t.series:t,y=v.options,_=i.createCheckboxForItem&&y&&y.showCheckbox,b=s+l+p+(_?20:0),x=r.useHTML,w=12,k=t.options.className;m||(t.legendGroup=o.g("legend-item").addClass("highcharts-"+v.type+"-series highcharts-color-"+t.colorIndex+(k?" "+k:"")+(g?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(i.scrollGroup),t.legendItem=m=o.text("",f?s+l:-l,i.baseline||0,x).css(c(t.visible?u:d)).attr({align:f?"left":"right",zIndex:2}).add(t.legendGroup),i.baseline||(w=u.fontSize,i.fontMetrics=o.fontMetrics(w,m),i.baseline=i.fontMetrics.f+3+i.itemMarginTop,m.attr("y",i.baseline)),i.symbolHeight=r.symbolHeight||i.fontMetrics.f,v.drawLegendSymbol(i,t),i.setItemEvents&&i.setItemEvents(t,m,x),_&&i.createCheckboxForItem(t)),i.colorizeItem(t,t.visible),u.width||m.css({width:(r.itemWidth||r.width||n.spacingBox.width)-b}),i.setText(t),e=m.getBBox(),t.itemWidth=t.checkboxOffset=r.itemWidth||t.legendItemWidth||e.width+b,i.maxItemWidth=Math.max(i.maxItemWidth,t.itemWidth),i.totalItemWidth+=t.itemWidth,i.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||i.symbolHeight)},layoutItem:function(t){var e=this.options,i=this.padding,n="horizontal"===e.layout,o=t.itemHeight,r=e.itemMarginBottom||0,a=this.itemMarginTop,s=n?h(e.itemDistance,20):0,l=e.width,u=l||this.chart.spacingBox.width-2*i-e.x,c=e.alignColumns&&this.totalItemWidth>u?this.maxItemWidth:t.itemWidth;n&&this.itemX-i+c>u&&(this.itemX=i,this.itemY+=a+this.lastLineHeight+r,this.lastLineHeight=0),this.lastItemY=a+this.itemY+r,this.lastLineHeight=Math.max(o,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],n?this.itemX+=c:(this.itemY+=a+o+r,this.lastLineHeight=o),this.offsetWidth=l||Math.max((n?this.itemX-i-(t.checkbox?0:s):c)+i,this.offsetWidth)},getAllItems:function(){var t=[];return a(this.chart.series,function(e){var i=e&&e.options;e&&h(i.showInLegend,r(i.linkedTo)?!1:void 0,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),s(this,"afterGetAllItems",{allItems:t}),t},getAlignment:function(){var t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},adjustMargins:function(t,e){var i=this.chart,n=this.options,o=this.getAlignment();o&&a([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(a,s){a.test(o)&&!r(t[s])&&(i[u[s]]=Math.max(i[u[s]],i.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*n[s%2?"x":"y"]+h(n.margin,12)+e[s]+(0===s&&void 0!==i.options.title.margin?i.titleOffset+i.options.title.margin:0)))})},proximatePositions:function(){var t=this.chart,i=[],n="left"===this.options.align;a(this.allItems,function(o){var r,a,s=n;o.xAxis&&o.points&&(o.xAxis.options.reversed&&(s=!s),r=e.find(s?o.points:o.points.slice(0).reverse(),function(t){return e.isNumber(t.plotY)}),a=o.legendGroup.getBBox().height,i.push({target:o.visible?(r?r.plotY:o.xAxis.height)-.3*a:t.plotHeight,size:a,item:o}))},this),e.distribute(i,t.plotHeight),a(i,function(e){e.item._legendItemPos[1]=t.plotTop-t.spacing[0]+e.pos})},render:function(){var t,e,i,n,o,r=this,s=r.chart,l=s.renderer,u=r.group,h=r.box,d=r.options,f=r.padding;r.itemX=f,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,u||(r.group=u=l.g("legend").attr({zIndex:7}).add(),r.contentGroup=l.g().attr({zIndex:1}).add(u),r.scrollGroup=l.g().add(r.contentGroup)),r.renderTitle(),t=r.getAllItems(),p(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),d.reversed&&t.reverse(),r.allItems=t,r.display=e=!!t.length,r.lastLineHeight=0,r.maxItemWidth=0,r.totalItemWidth=0,r.itemHeight=0,a(t,r.renderItem,r),a(t,r.layoutItem,r),i=(d.width||r.offsetWidth)+f,n=r.lastItemY+r.lastLineHeight+r.titleHeight,n=r.handleOverflow(n),n+=f,h||(r.box=h=l.rect().addClass("highcharts-legend-box").attr({r:d.borderRadius}).add(u),h.isNew=!0),h.attr({stroke:d.borderColor,"stroke-width":d.borderWidth||0,fill:d.backgroundColor||"none"}).shadow(d.shadow),i>0&&n>0&&(h[h.isNew?"attr":"animate"](h.crisp.call({},{x:0,y:0,width:i,height:n},h.strokeWidth())),h.isNew=!1),h[e?"show":"hide"](),r.legendWidth=i,r.legendHeight=n,e&&(o=s.spacingBox,/(lth|ct|rth)/.test(r.getAlignment())&&(o=c(o,{y:o.y+s.titleOffset+s.options.title.margin})),u.align(c(d,{width:i,height:n,verticalAlign:this.proximate?"top":d.verticalAlign}),!0,o)),this.proximate||this.positionItems()},handleOverflow:function(t){var e,i,n=this,o=this.chart,r=o.renderer,s=this.options,l=s.y,u="top"===s.verticalAlign,c=this.padding,d=o.spacingBox.height+(u?-l:l)-c,p=s.maxHeight,f=this.clipRect,m=s.navigation,g=h(m.animation,!0),v=m.arrowSize||12,y=this.nav,_=this.pages,b=this.allItems,x=function(t){"number"==typeof t?f.attr({height:t}):f&&(n.clipRect=f.destroy(),n.contentGroup.clip()),n.contentGroup.div&&(n.contentGroup.div.style.clip=t?"rect("+c+"px,9999px,"+(c+t)+"px,0)":"auto")};return"horizontal"!==s.layout||"middle"===s.verticalAlign||s.floating||(d/=2),p&&(d=Math.min(d,p)),_.length=0,t>d&&m.enabled!==!1?(this.clipHeight=e=Math.max(d-20-this.titleHeight-c,0),this.currentPage=h(this.currentPage,1),this.fullHeight=t,a(b,function(t,n){var o=t._legendItemPos[1],r=Math.round(t.legendItem.getBBox().height),a=_.length;(!a||o-_[a-1]>e&&(i||o)!==_[a-1])&&(_.push(i||o),a++),t.pageIx=a-1,i&&(b[n-1].pageIx=a-1),n===b.length-1&&o+r-_[a-1]>e&&(_.push(o),t.pageIx=a),o!==i&&(i=o)}),f||(f=n.clipRect=r.clipRect(0,c,9999,0),n.contentGroup.clip(f)),x(e),y||(this.nav=y=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,v,v).on("click",function(){n.scroll(-1,g)}).add(y),this.pager=r.text("",15,10).addClass("highcharts-legend-navigation").css(m.style).add(y),this.down=r.symbol("triangle-down",0,0,v,v).on("click",function(){n.scroll(1,g)}).add(y)),n.scroll(0),t=d):y&&(x(),this.nav=y.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,n=i.length,o=this.currentPage+t,r=this.clipHeight,a=this.options.navigation,s=this.pager,l=this.padding;o>n&&(o=n),o>0&&(void 0!==e&&d(e,this.chart),this.nav.attr({translateX:l,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({"class":1===o?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),s.attr({text:o+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,"class":o===n?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===o?a.inactiveColor:a.activeColor}).css({cursor:1===o?"default":"pointer"}),this.down.attr({fill:o===n?a.inactiveColor:a.activeColor}).css({cursor:o===n?"default":"pointer"}),this.scrollOffset=-i[o-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=o,this.positionCheckboxes())}},e.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options,n=t.symbolHeight,o=i.squareSymbol,r=o?n:t.symbolWidth;e.legendSymbol=this.chart.renderer.rect(o?(t.symbolWidth-n)/2:0,t.baseline-n+1,r,n,h(t.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i,n=this.options,o=n.marker,r=t.symbolWidth,a=t.symbolHeight,s=a/2,l=this.chart.renderer,u=this.legendGroup,d=t.baseline-Math.round(.3*t.fontMetrics.b),p={};p={"stroke-width":n.lineWidth||0},n.dashStyle&&(p.dashstyle=n.dashStyle),this.legendLine=l.path(["M",0,d,"L",r,d]).addClass("highcharts-graph").attr(p).add(u),o&&o.enabled!==!1&&r&&(e=Math.min(h(o.radius,s),s),0===this.symbol.indexOf("url")&&(o=c(o,{width:a,height:a}),e=0),this.legendSymbol=i=l.symbol(this.symbol,r/2-e,d-e,2*e,2*e,o).addClass("highcharts-point").add(u),i.isMarker=!0)}},(/Trident\/7\.0/.test(f.navigator.userAgent)||l)&&m(t.Legend.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};n(),setTimeout(n)})}(e),function(t){var e=t.addEvent,i=t.animate,n=t.animObject,o=t.attr,r=t.doc,a=t.Axis,s=t.createElement,l=t.defaultOptions,u=t.discardElement,c=t.charts,h=t.css,d=t.defined,p=t.each,f=t.extend,m=t.find,g=t.fireEvent,v=t.grep,y=t.isNumber,_=t.isObject,b=t.isString,x=t.Legend,w=t.marginNames,k=t.merge,C=t.objectEach,S=t.Pointer,T=t.pick,A=t.pInt,E=t.removeEvent,M=t.seriesTypes,D=t.splat,I=t.syncTimeout,P=t.win,L=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,i){return new L(t,e,i)},f(L.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(b(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(i,n){var o,r,a=i.series,s=i.plotOptions||{};g(this,"init",{args:arguments},function(){i.series=null,o=k(l,i);for(r in o.plotOptions)o.plotOptions[r].tooltip=s[r]&&k(s[r].tooltip)||void 0;o.tooltip.userOptions=i.chart&&i.chart.forExport&&i.tooltip.userOptions||i.tooltip,o.series=i.series=a,this.userOptions=i;var u=o.chart,h=u.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=n,this.isResizing=0,this.options=o,this.axes=[],this.series=[],this.time=i.time&&t.keys(i.time).length?new t.Time(i.time):t.time,this.hasCartesianSeries=u.showAxes;var d=this;d.index=c.length,c.push(d),t.chartCount++,h&&C(h,function(t,i){
e(d,i,t)}),d.xAxis=[],d.yAxis=[],d.pointCount=d.colorCounter=d.symbolCounter=0,g(d,"afterInit"),d.firstRender()})},initSeries:function(e){var i,n=this,o=n.options.chart,r=e.type||o.type||o.defaultSeriesType,a=M[r];return a||t.error(17,!0),i=new a,i.init(this,e),i},orderSeries:function(t){for(var e=this.series,i=t||0;i<e.length;i++)e[i]&&(e[i].index=i,e[i].name=e[i].getName())},isInsidePlot:function(t,e,i){var n=i?e:t,o=i?t:e;return n>=0&&n<=this.plotWidth&&o>=0&&o<=this.plotHeight},redraw:function(e){g(this,"beforeRedraw");var i,n,o,r,a=this,s=a.axes,l=a.series,u=a.pointer,c=a.legend,h=a.userOptions.legend,d=a.isDirtyLegend,m=a.hasCartesianSeries,v=a.isDirtyBox,y=a.renderer,_=y.isHidden(),b=[];for(a.setResponsive&&a.setResponsive(!1),t.setAnimation(e,a),_&&a.temporaryDisplay(),a.layOutTitles(),o=l.length;o--;)if(r=l[o],r.options.stacking&&(i=!0,r.isDirty)){n=!0;break}if(n)for(o=l.length;o--;)r=l[o],r.options.stacking&&(r.isDirty=!0);p(l,function(t){t.isDirty&&("point"===t.options.legendType?(t.updateTotals&&t.updateTotals(),d=!0):h&&(h.labelFormatter||h.labelFormat)&&(d=!0)),t.isDirtyData&&g(t,"updatedData")}),d&&c&&c.options.enabled&&(c.render(),a.isDirtyLegend=!1),i&&a.getStacks(),m&&p(s,function(t){t.updateNames(),t.updateYNames&&t.updateYNames(),t.setScale()}),a.getMargins(),m&&(p(s,function(t){t.isDirty&&(v=!0)}),p(s,function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,b.push(function(){g(t,"afterSetExtremes",f(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(v||i)&&t.redraw()})),v&&a.drawChartBox(),g(a,"predraw"),p(l,function(t){(v||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1}),u&&u.reset(!0),y.draw(),g(a,"redraw"),g(a,"render"),_&&a.temporaryDisplay(!0),p(b,function(t){t.call()})},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var i,n,o=this.series;for(i=m(this.axes,e)||m(this.series,e),n=0;!i&&n<o.length;n++)i=m(o[n].points||[],e);return i},getAxes:function(){var t,e=this,i=this.options,n=i.xAxis=D(i.xAxis||{}),o=i.yAxis=D(i.yAxis||{});g(this,"getAxes"),p(n,function(t,e){t.index=e,t.isX=!0}),p(o,function(t,e){t.index=e}),t=n.concat(o),p(t,function(t){new a(e,t)}),g(this,"afterGetAxes")},getSelectedPoints:function(){var t=[];return p(this.series,function(e){t=t.concat(v(e.data||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return v(this.series,function(t){return t.selected})},setTitle:function(t,e,i){var n,o,r=this,a=r.options;n=a.title=k({style:{color:"#333333",fontSize:a.isStock?"16px":"18px"}},a.title,t),o=a.subtitle=k({style:{color:"#666666"}},a.subtitle,e),p([["title",t,n],["subtitle",e,o]],function(t,e){var i=t[0],n=r[i],o=t[1],a=t[2];n&&o&&(r[i]=n=n.destroy()),a&&!n&&(r[i]=r.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,"class":"highcharts-"+i,zIndex:a.zIndex||4}).add(),r[i].update=function(t){r.setTitle(!e&&t,e&&t)},r[i].css(a.style))}),r.layOutTitles(i)},layOutTitles:function(t){var e,i=0,n=this.renderer,o=this.spacingBox;p(["title","subtitle"],function(t){var e,r=this[t],a=this.options[t],s="title"===t?-3:a.verticalAlign?0:i+2;r&&(e=a.style.fontSize,e=n.fontMetrics(e,r).b,r.css({width:(a.width||o.width+a.widthAdjust)+"px"}).align(f({y:s+e},a),!1,"spacingBox"),a.floating||a.verticalAlign||(i=Math.ceil(i+r.getBBox(a.useHTML).height)))},this),e=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&e&&(this.isDirtyBox=this.isDirtyLegend=e,this.hasRendered&&T(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this,i=e.options.chart,n=i.width,o=i.height,r=e.renderTo;d(n)||(e.containerWidth=t.getStyle(r,"width")),d(o)||(e.containerHeight=t.getStyle(r,"height")),e.chartWidth=Math.max(0,n||e.containerWidth||600),e.chartHeight=Math.max(0,t.relativeLength(o,e.chartWidth)||(e.containerHeight>1?e.containerHeight:400))},temporaryDisplay:function(e){var i,n=this.renderTo;if(e)for(;n&&n.style;)n.hcOrigStyle&&(t.css(n,n.hcOrigStyle),delete n.hcOrigStyle),n.hcOrigDetached&&(r.body.removeChild(n),n.hcOrigDetached=!1),n=n.parentNode;else for(;n&&n.style&&(r.body.contains(n)||n.parentNode||(n.hcOrigDetached=!0,r.body.appendChild(n)),("none"===t.getStyle(n,"display",!1)||n.hcOricDetached)&&(n.hcOrigStyle={display:n.style.display,height:n.style.height,overflow:n.style.overflow},i={display:"block",overflow:"hidden"},n!==this.renderTo&&(i.height=0),t.css(n,i),n.offsetWidth||n.style.setProperty("display","block","important")),n=n.parentNode,n!==r.body););},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,i,n,a,l,u,h=this,d=h.options,p=d.chart,m=h.renderTo,v="data-highcharts-chart",_=t.uniqueKey();m||(h.renderTo=m=p.renderTo),b(m)&&(h.renderTo=m=r.getElementById(m)),m||t.error(13,!0),a=A(o(m,v)),y(a)&&c[a]&&c[a].hasRendered&&c[a].destroy(),o(m,v,h.index),m.innerHTML="",p.skipClone||m.offsetWidth||h.temporaryDisplay(),h.getChartSize(),i=h.chartWidth,n=h.chartHeight,u=f({position:"relative",overflow:"hidden",width:i+"px",height:n+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},p.style),e=s("div",{id:_},u,m),h.container=e,h._cursor=e.style.cursor,l=t[p.renderer]||t.Renderer,h.renderer=new l(e,i,n,null,p.forExport,d.exporting&&d.exporting.allowHTML),h.setClassName(p.className),h.renderer.setStyle(p.style),h.renderer.chartIndex=h.index,g(this,"afterGetContainer")},getMargins:function(t){var e=this,i=e.spacing,n=e.margin,o=e.titleOffset;e.resetMargins(),o&&!d(n[0])&&(e.plotTop=Math.max(e.plotTop,o+e.options.title.margin+i[0])),e.legend&&e.legend.display&&e.legend.adjustMargins(n,i),g(this,"getMargins"),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&p(t.axes,function(t){t.visible&&t.getOffset()}),p(w,function(n,o){d(i[o])||(t[n]+=e[o])}),t.setChartSize()},reflow:function(e){var i=this,n=i.options.chart,o=i.renderTo,a=d(n.width)&&d(n.height),s=n.width||t.getStyle(o,"width"),l=n.height||t.getStyle(o,"height"),u=e?e.target:P;a||i.isPrinting||!s||!l||u!==P&&u!==r||(s===i.containerWidth&&l===i.containerHeight||(t.clearTimeout(i.reflowTimeout),i.reflowTimeout=I(function(){i.container&&i.setSize(void 0,void 0,!1)},e?100:0)),i.containerWidth=s,i.containerHeight=l)},setReflow:function(t){var i=this;t===!1||this.unbindReflow?t===!1&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=e(P,"resize",function(t){i.reflow(t)}),e(this,"destroy",this.unbindReflow))},setSize:function(e,o,r){var a,s=this,l=s.renderer;s.isResizing+=1,t.setAnimation(r,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,void 0!==e&&(s.options.chart.width=e),void 0!==o&&(s.options.chart.height=o),s.getChartSize(),a=l.globalAnimation,(a?i:h)(s.container,{width:s.chartWidth+"px",height:s.chartHeight+"px"},a),s.setChartSize(!0),l.setSize(s.chartWidth,s.chartHeight,r),p(s.axes,function(t){t.isDirty=!0,t.setScale()}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(r),s.oldChartHeight=null,g(s,"resize"),I(function(){s&&g(s,"endResize",null,function(){s.isResizing-=1})},n(a).duration)},setChartSize:function(t){var e,i,n,o,r,a,s,l=this,u=l.inverted,c=l.renderer,h=l.chartWidth,d=l.chartHeight,f=l.options.chart,m=l.spacing,v=l.clipOffset;l.plotLeft=n=Math.round(l.plotLeft),l.plotTop=o=Math.round(l.plotTop),l.plotWidth=r=Math.max(0,Math.round(h-n-l.marginRight)),l.plotHeight=a=Math.max(0,Math.round(d-o-l.marginBottom)),l.plotSizeX=u?a:r,l.plotSizeY=u?r:a,l.plotBorderWidth=f.plotBorderWidth||0,l.spacingBox=c.spacingBox={x:m[3],y:m[0],width:h-m[3]-m[1],height:d-m[0]-m[2]},l.plotBox=c.plotBox={x:n,y:o,width:r,height:a},s=2*Math.floor(l.plotBorderWidth/2),e=Math.ceil(Math.max(s,v[3])/2),i=Math.ceil(Math.max(s,v[0])/2),l.clipBox={x:e,y:i,width:Math.floor(l.plotSizeX-Math.max(s,v[1])/2-e),height:Math.max(0,Math.floor(l.plotSizeY-Math.max(s,v[2])/2-i))},t||p(l.axes,function(t){t.setAxisSize(),t.setAxisTranslation()}),g(l,"afterSetChartSize",{skipAxes:t})},resetMargins:function(){var t=this,e=t.options.chart;p(["margin","spacing"],function(i){var n=e[i],o=_(n)?n:[n,n,n,n];p(["Top","Right","Bottom","Left"],function(n,r){t[i][r]=T(e[i+n],o[r])})}),p(w,function(e,i){t[e]=T(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i,n=this,o=n.options.chart,r=n.renderer,a=n.chartWidth,s=n.chartHeight,l=n.chartBackground,u=n.plotBackground,c=n.plotBorder,h=n.plotBGImage,d=o.backgroundColor,p=o.plotBackgroundColor,f=o.plotBackgroundImage,m=n.plotLeft,v=n.plotTop,y=n.plotWidth,_=n.plotHeight,b=n.plotBox,x=n.clipRect,w=n.clipBox,k="animate";l||(n.chartBackground=l=r.rect().addClass("highcharts-background").add(),k="attr"),t=o.borderWidth||0,e=t+(o.shadow?8:0),i={fill:d||"none"},(t||l["stroke-width"])&&(i.stroke=o.borderColor,i["stroke-width"]=t),l.attr(i).shadow(o.shadow),l[k]({x:e/2,y:e/2,width:a-e-t%2,height:s-e-t%2,r:o.borderRadius}),k="animate",u||(k="attr",n.plotBackground=u=r.rect().addClass("highcharts-plot-background").add()),u[k](b),u.attr({fill:p||"none"}).shadow(o.plotShadow),f&&(h?h.animate(b):n.plotBGImage=r.image(f,m,v,y,_).add()),x?x.animate({width:w.width,height:w.height}):n.clipRect=r.clipRect(w),k="animate",c||(k="attr",n.plotBorder=c=r.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),c.attr({stroke:o.plotBorderColor,"stroke-width":o.plotBorderWidth||0,fill:"none"}),c[k](c.crisp({x:m,y:v,width:y,height:_},-c.strokeWidth())),n.isDirtyBox=!1,g(this,"afterDrawChartBox")},propFromSeries:function(){var t,e,i,n=this,o=n.options.chart,r=n.options.series;p(["inverted","angular","polar"],function(a){for(t=M[o.type||o.defaultSeriesType],i=o[a]||t&&t.prototype[a],e=r&&r.length;!i&&e--;)t=M[r[e].type],t&&t.prototype[a]&&(i=!0);n[a]=i})},linkSeries:function(){var t=this,e=t.series;p(e,function(t){t.linkedSeries.length=0}),p(e,function(e){var i=e.options.linkedTo;b(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i),i&&i.linkedParent!==e&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=T(e.options.visible,i.options.visible,e.visible)))}),g(this,"afterLinkSeries")},renderSeries:function(){p(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&p(e.items,function(i){var n=f(e.style,i.style),o=A(n.left)+t.plotLeft,r=A(n.top)+t.plotTop+12;delete n.left,delete n.top,t.renderer.text(i.html,o,r).attr({zIndex:2}).css(n).add()})},render:function(){var t,e,i,n,o=this,r=o.axes,a=o.renderer,s=o.options;o.setTitle(),o.legend=new x(o,s.legend),o.getStacks&&o.getStacks(),o.getMargins(!0),o.setChartSize(),t=o.plotWidth,e=o.plotHeight=Math.max(o.plotHeight-21,0),p(r,function(t){t.setScale()}),o.getAxisMargins(),i=t/o.plotWidth>1.1,n=e/o.plotHeight>1.05,(i||n)&&(p(r,function(t){(t.horiz&&i||!t.horiz&&n)&&t.setTickInterval(!0)}),o.getMargins()),o.drawChartBox(),o.hasCartesianSeries&&p(r,function(t){t.visible&&t.render()}),o.seriesGroup||(o.seriesGroup=a.g("series-group").attr({zIndex:3}).add()),o.renderSeries(),o.renderLabels(),o.addCredits(),o.setResponsive&&o.setResponsive(),o.hasRendered=!0},addCredits:function(t){var e=this;t=k(!0,this.options.credits,t),t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(P.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,i=this,n=i.axes,o=i.series,r=i.container,a=r&&r.parentNode;for(g(i,"destroy"),i.renderer.forExport?t.erase(c,i):c[i.index]=void 0,t.chartCount--,i.renderTo.removeAttribute("data-highcharts-chart"),E(i),e=n.length;e--;)n[e]=n[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=o.length;e--;)o[e]=o[e].destroy();p(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var e=i[t];e&&e.destroy&&(i[t]=e.destroy())}),r&&(r.innerHTML="",E(r),a&&u(r)),C(i,function(t,e){delete i[e]})},firstRender:function(){var t=this,e=t.options;t.isReadyToRender&&!t.isReadyToRender()||(t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),p(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),g(t,"beforeRender"),S&&(t.pointer=new S(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){p([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),g(this,"load"),g(this,"render"),d(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}})}(e),function(t){var e=t.addEvent,i=t.Chart,n=t.each;e(i,"afterSetChartSize",function(e){var i,o=this.options.chart.scrollablePlotArea,r=o&&o.minWidth;r&&!this.renderer.forExport&&(this.scrollablePixels=i=Math.max(0,r-this.chartWidth),i&&(this.plotWidth+=i,this.clipBox.width+=i,e.skipAxes||n(this.axes,function(e){1===e.side?e.getPlotLinePath=function(){var i,n=this.right;return this.right=n-e.chart.scrollablePixels,i=t.Axis.prototype.getPlotLinePath.apply(this,arguments),this.right=n,i}:(e.setAxisSize(),e.setAxisTranslation())})))}),e(i,"render",function(){this.scrollablePixels?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),i.prototype.setUpScrolling=function(){this.scrollingContainer=t.createElement("div",{className:"highcharts-scrolling"},{overflowX:"auto",WebkitOverflowScrolling:"touch"},this.renderTo),this.innerContainer=t.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},i.prototype.applyFixed=function(){var e,i,n=this.container,o=!this.fixedDiv;if(o&&(this.fixedDiv=t.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.fixedRenderer=e=new t.Renderer(this.fixedDiv,0,0),this.scrollableMask=e.path().attr({fill:t.color(this.options.chart.backgroundColor||"#fff").setOpacity(.85).get(),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),t.each([this.inverted?".highcharts-xaxis":".highcharts-yaxis",this.inverted?".highcharts-xaxis-labels":".highcharts-yaxis-labels",".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-subtitle",".highcharts-title",".highcharts-legend-checkbox"],function(i){t.each(n.querySelectorAll(i),function(t){(t.namespaceURI===e.SVG_NS?e.box:e.box.parentNode).appendChild(t),t.style.pointerEvents="auto"})})),this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),i=this.chartWidth+this.scrollablePixels,t.stop(this.container),this.container.style.width=i+"px",this.renderer.boxWrapper.attr({width:i,height:this.chartHeight,viewBox:[0,0,i,this.chartHeight].join(" ")}),this.chartBackground.attr({width:i}),o){var r=this.options.chart.scrollablePlotArea;r.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixels*r.scrollPositionX)}var a=this.axisOffset,s=this.plotTop-a[0]-1,l=this.plotTop+this.plotHeight+a[2],u=this.plotLeft+this.plotWidth-this.scrollablePixels;this.scrollableMask.attr({d:this.scrollablePixels?["M",0,s,"L",this.plotLeft-1,s,"L",this.plotLeft-1,l,"L",0,l,"Z","M",u,s,"L",this.chartWidth,s,"L",this.chartWidth,l,"L",u,l,"Z"]:["M",0,0]})}}(e),function(t){var e,i=t,n=i.each,o=i.extend,r=i.erase,a=i.fireEvent,s=i.format,l=i.isArray,u=i.isNumber,c=i.pick,h=i.uniqueKey,d=i.defined,p=i.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,i){var n,o,r=this,s=t.chart.options.chart.colorCount;return r.series=t,r.color=t.color,r.applyOptions(e,i),r.id=d(r.id)?r.id:h(),t.options.colorByPoint?(n=t.options.colors||t.chart.options.colors,r.color=r.color||n[t.colorCounter],s=n.length,o=t.colorCounter,t.colorCounter++,t.colorCounter===s&&(t.colorCounter=0)):o=t.colorIndex,r.colorIndex=c(r.colorIndex,o),t.chart.pointCount++,a(r,"afterInit"),r},applyOptions:function(t,i){var n=this,r=n.series,a=r.options.pointValKey||r.pointValKey;return t=e.prototype.optionsToObject.call(this,t),o(n,t),n.options=n.options?o(n.options,t):t,t.group&&delete n.group,t.dataLabels&&delete n.dataLabels,a&&(n.y=n[a]),n.isNull=c(n.isValid&&!n.isValid(),null===n.x||!u(n.y,!0)),n.selected&&(n.state="select"),"name"in n&&void 0===i&&r.xAxis&&r.xAxis.hasNames&&(n.x=r.xAxis.nameToX(n)),void 0===n.x&&r&&(void 0===i?n.x=r.autoIncrement(n):n.x=i),n},setNestedProperty:function(t,e,n){var o=n.split(".");return i.reduce(o,function(t,n,o,r){var a=r.length-1===o;return t[n]=a?e:i.isObject(t[n],!0)?t[n]:{},t[n]},t),t},optionsToObject:function(t){var e,n={},o=this.series,r=o.options.keys,a=r||o.pointArrayMap||["y"],s=a.length,c=0,h=0;if(u(t)||null===t)n[a[0]]=t;else if(l(t))for(!r&&t.length>s&&(e=typeof t[0],"string"===e?n.name=t[0]:"number"===e&&(n.x=t[0]),c++);s>h;)r&&void 0===t[c]||(a[h].indexOf(".")>0?i.Point.prototype.setNestedProperty(n,t[c],a[h]):n[a[h]]=t[c]),c++,h++;else"object"==typeof t&&(n=t,t.dataLabels&&(o._hasPointLabels=!0),t.marker&&(o._hasPointMarkers=!0));return n},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=this.series,i=e.zones,n=e.zoneAxis||"y",o=0;for(t=i[o];this[n]>=t.value;)t=i[++o];return this.nonZonedColor||(this.nonZonedColor=this.color),t&&t.color&&!this.options.color?this.color=t.color:this.color=this.nonZonedColor,t},destroy:function(){var t,e=this,i=e.series,n=i.chart,o=n.hoverPoints;n.pointCount--,o&&(e.setState(),r(o,e),o.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut(),(e.graphic||e.dataLabel||e.dataLabels)&&(p(e),e.destroyElements()),e.legendItem&&n.legend.destroyItem(e);for(t in e)e[t]=null},destroyElements:function(){for(var t,e=this,i=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],o=6;o--;)t=i[o],e[t]&&(e[t]=e[t].destroy());e.dataLabels&&(n(e.dataLabels,function(t){t.element&&t.destroy()}),delete e.dataLabels),e.connectors&&(n(e.connectors,function(t){t.element&&t.destroy()}),delete e.connectors)},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,o=c(i.valueDecimals,""),r=i.valuePrefix||"",a=i.valueSuffix||"";return n(e.pointArrayMap||["y"],function(e){e="{point."+e,(r||a)&&(t=t.replace(RegExp(e+"}","g"),r+e+"}"+a)),t=t.replace(RegExp(e+"}","g"),e+":,."+o+"f}")}),s(t,{point:this,series:this.series},e.chart.time)},firePointEvent:function(t,e,i){var n=this,o=this.series,r=o.options;(r.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(i=function(t){n.select&&n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),a(this,t,e,i)},visible:!0}}(e),function(t){var e=t.addEvent,i=t.animObject,n=t.arrayMax,o=t.arrayMin,r=t.correctFloat,a=t.defaultOptions,s=t.defaultPlotOptions,l=t.defined,u=t.each,c=t.erase,h=t.extend,d=t.fireEvent,p=t.grep,f=t.isArray,m=t.isNumber,g=t.isString,v=t.LegendSymbolMixin,y=t.merge,_=t.objectEach,b=t.pick,x=t.Point,w=t.removeEvent,k=t.splat,C=t.SVGElement,S=t.syncTimeout,T=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:x,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,i){var n,o,r=this,a=t.series;r.chart=t,r.options=i=r.setOptions(i),r.linkedSeries=[],r.bindAxes(),h(r,{name:i.name,state:"",visible:i.visible!==!1,selected:i.selected===!0}),n=i.events,_(n,function(t,i){e(r,i,t)}),(n&&n.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(t.runTrackerClick=!0),r.getColor(),r.getSymbol(),u(r.parallelArrays,function(t){r[t+"Data"]=[]}),r.setData(i.data,!1),r.isCartesian&&(t.hasCartesianSeries=!0),a.length&&(o=a[a.length-1]),r._i=b(o&&o._i,-1)+1,t.orderSeries(this.insert(a)),d(this,"afterInit")},insert:function(t){var e,i=this.options.index;if(m(i)){for(e=t.length;e--;)if(i>=b(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return b(e,t.length-1)},bindAxes:function(){var e,i=this,n=i.options,o=i.chart;u(i.axisTypes||[],function(r){u(o[r],function(t){e=t.options,(n[r]===e.index||void 0!==n[r]&&n[r]===e.id||void 0===n[r]&&0===e.index)&&(i.insert(t.series),i[r]=t,t.isDirty=!0)}),i[r]||i.optionalAxis===r||t.error(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments,o=m(e)?function(n){var o="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=o}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))};u(i.parallelArrays,o)},autoIncrement:function(){var t,e,i=this.options,n=this.xIncrement,o=i.pointIntervalUnit,r=this.chart.time;return n=b(n,i.pointStart,0),this.pointInterval=e=b(this.pointInterval,i.pointInterval,1),o&&(t=new r.Date(n),"day"===o?r.set("Date",t,r.get("Date",t)+e):"month"===o?r.set("Month",t,r.get("Month",t)+e):"year"===o&&r.set("FullYear",t,r.get("FullYear",t)+e),e=t.getTime()-n),this.xIncrement=n+e,n},setOptions:function(t){var e,i,n=this.chart,o=n.options,r=o.plotOptions,s=n.userOptions||{},u=s.plotOptions||{},c=r[this.type];return this.userOptions=t,e=y(c,r.series,t),this.tooltipOptions=y(a.tooltip,a.plotOptions.series&&a.plotOptions.series.tooltip,a.plotOptions[this.type].tooltip,o.tooltip.userOptions,r.series&&r.series.tooltip,r[this.type].tooltip,t.tooltip),this.stickyTracking=b(t.stickyTracking,u[this.type]&&u[this.type].stickyTracking,u.series&&u.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:e.stickyTracking),null===c.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,i=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||i.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),i.length&&l(i[i.length-1].value)&&i.push({color:this.color,fillColor:this.fillColor}),d(this,"afterSetOptions",{options:e}),e},getName:function(){return this.name||"Series "+(this.index+1)},getCyclic:function(t,e,i){var n,o,r=this.chart,a=this.userOptions,s=t+"Index",u=t+"Counter",c=i?i.length:b(r.options.chart[t+"Count"],r[t+"Count"]);e||(o=b(a[s],a["_"+s]),l(o)?n=o:(r.series.length||(r[u]=0),a["_"+s]=n=r[u]%c,r[u]+=1),i&&(e=i[n])),void 0!==n&&(this[s]=n),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||s[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols)},drawLegendSymbol:v.drawLineMarker,updateData:function(e){var i,n,o,r,a=this.options,s=this.points,l=[],c=this.requireSorting;if(u(e,function(e){var n,o;n=t.defined(e)&&this.pointClass.prototype.optionsToObject.call({series:this},e).x,m(n)&&(o=t.inArray(n,this.xData,r),-1===o||s[o].touched?l.push(e):e!==a.data[o]?(s[o].update(e,!1,null,!1),s[o].touched=!0,c&&(r=o+1)):s[o]&&(s[o].touched=!0),i=!0)},this),i)for(n=s.length;n--;)o=s[n],o.touched||o.remove(!1),o.touched=!1;else{if(e.length!==s.length)return!1;u(e,function(t,e){s[e].update&&t!==a.data[e]&&s[e].update(t,!1,null,!1)})}return u(l,function(t){this.addPoint(t,!1)},this),!0},setData:function(e,i,n,o){var r,a,s,l,c=this,h=c.points,d=h&&h.length||0,p=c.options,v=c.chart,y=null,_=c.xAxis,x=p.turboThreshold,w=this.xData,k=this.yData,C=c.pointArrayMap,S=C&&C.length;if(e=e||[],r=e.length,i=b(i,!0),o!==!1&&r&&d&&!c.cropped&&!c.hasGroupedData&&c.visible&&!c.isSeriesBoosting&&(l=this.updateData(e)),!l){if(c.xIncrement=null,c.colorCounter=0,u(this.parallelArrays,function(t){c[t+"Data"].length=0}),x&&r>x){for(a=0;null===y&&r>a;)y=e[a],a++;if(m(y))for(a=0;r>a;a++)w[a]=this.autoIncrement(),k[a]=e[a];else if(f(y))if(S)for(a=0;r>a;a++)s=e[a],w[a]=s[0],k[a]=s.slice(1,S+1);else for(a=0;r>a;a++)s=e[a],w[a]=s[0],k[a]=s[1];else t.error(12)}else for(a=0;r>a;a++)void 0!==e[a]&&(s={series:c},c.pointClass.prototype.applyOptions.apply(s,[e[a]]),c.updateParallelArrays(s,a));for(k&&g(k[0])&&t.error(14,!0),c.data=[],c.options.data=c.userOptions.data=e,a=d;a--;)h[a]&&h[a].destroy&&h[a].destroy();_&&(_.minRange=_.userMinRange),c.isDirty=v.isDirtyBox=!0,c.isDirtyData=!!h,n=!1}"point"===p.legendType&&(this.processData(),this.generatePoints()),i&&v.redraw(n)},processData:function(e){var i,n,o,r,a,s,l,u,c=this,h=c.xData,d=c.yData,p=h.length,f=0,m=c.xAxis,g=c.options,v=g.cropThreshold,y=c.getExtremesFromAll||g.getExtremesFromAll,_=c.isCartesian,b=m&&m.val2lin,x=m&&m.isLog,w=c.requireSorting;if(_&&!c.isDirty&&!m.isDirty&&!c.yAxis.isDirty&&!e)return!1;for(m&&(s=m.getExtremes(),l=s.min,u=s.max),_&&c.sorted&&!y&&(!v||p>v||c.forceCrop)&&(h[p-1]<l||h[0]>u?(h=[],d=[]):c.yData&&(h[0]<l||h[p-1]>u)&&(i=this.cropData(c.xData,c.yData,l,u),h=i.xData,d=i.yData,f=i.start,n=!0)),a=h.length||1;--a;)o=x?b(h[a])-b(h[a-1]):h[a]-h[a-1],o>0&&(void 0===r||r>o)?r=o:0>o&&w&&(t.error(15),w=!1);c.cropped=n,c.cropStart=f,c.processedXData=h,c.processedYData=d,c.closestPointRange=r},cropData:function(t,e,i,n,o){var r,a,s=t.length,l=0,u=s;for(o=b(o,this.cropShoulder,1),r=0;s>r;r++)if(t[r]>=i){l=Math.max(0,r-o);break}for(a=r;s>a;a++)if(t[a]>n){u=a+o;break}return{xData:t.slice(l,u),yData:e.slice(l,u),start:l,end:u}},generatePoints:function(){var t,e,i,n,o=this,r=o.options,a=r.data,s=o.data,l=o.processedXData,u=o.processedYData,c=o.pointClass,d=l.length,p=o.cropStart||0,f=o.hasGroupedData,m=r.keys,g=[];if(!s&&!f){var v=[];v.length=a.length,s=o.data=v}for(m&&f&&(o.options.keys=!1),n=0;d>n;n++)e=p+n,f?(i=(new c).init(o,[l[n]].concat(k(u[n]))),i.dataGroup=o.groupMap[n],i.dataGroup.options&&(i.options=i.dataGroup.options,h(i,i.dataGroup.options))):(i=s[e],i||void 0===a[e]||(s[e]=i=(new c).init(o,a[e],l[n]))),i&&(i.index=e,g[n]=i);if(o.options.keys=m,s&&(d!==(t=s.length)||f))for(n=0;t>n;n++)n!==p||f||(n+=d),s[n]&&(s[n].destroyElements(),s[n].plotX=void 0);o.data=s,o.points=g},getExtremes:function(t){var e,i,r,a,s,l,u,c=this.xAxis,h=this.yAxis,d=this.processedXData,p=[],g=0,v=c.getExtremes(),y=v.min,_=v.max,b=this.requireSorting?1:0;for(t=t||this.stackedYData||this.processedYData||[],e=t.length,l=0;e>l;l++)if(a=d[l],s=t[l],i=(m(s,!0)||f(s))&&(!h.positiveValuesOnly||s.length||s>0),r=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(d[l+b]||a)>=y&&(d[l-b]||a)<=_,i&&r)if(u=s.length)for(;u--;)"number"==typeof s[u]&&(p[g++]=s[u]);else p[g++]=s;this.dataMin=o(p),this.dataMax=n(p)},translate:function(){function t(t){return Math.min(Math.max(-1e5,t),1e5)}this.processedXData||this.processData(),this.generatePoints();var e,i,n,o,a,s=this,u=s.options,c=u.stacking,h=s.xAxis,p=h.categories,f=s.yAxis,g=s.points,v=g.length,y=!!s.modifyValue,_=u.pointPlacement,x="between"===_||m(_),w=u.threshold,k=u.startFromThreshold?w:0,C=Number.MAX_VALUE;for("between"===_&&(_=.5),m(_)&&(_*=b(u.pointRange||h.pointRange)),e=0;v>e;e++){var S,T,A=g[e],E=A.x,M=A.y,D=A.low,I=c&&f.stacks[(s.negStacks&&(k?0:w)>M?"-":"")+s.stackKey];f.positiveValuesOnly&&null!==M&&0>=M&&(A.isNull=!0),A.plotX=i=r(t(h.translate(E,0,0,0,1,_,"flags"===this.type))),c&&s.visible&&!A.isNull&&I&&I[E]&&(a=s.getStackIndicator(a,E,s.index),S=I[E],T=S.points[a.key],D=T[0],M=T[1],D===k&&a.key===I[E].base&&(D=b(m(w)&&w,f.min)),f.positiveValuesOnly&&0>=D&&(D=null),A.total=A.stackTotal=S.total,A.percentage=S.total&&A.y/S.total*100,A.stackY=M,S.setOffset(s.pointXOffset||0,s.barW||0)),A.yBottom=l(D)?t(f.translate(D,0,1,0,1)):null,y&&(M=s.modifyValue(M,A)),A.plotY=n="number"==typeof M&&M!==1/0?t(f.translate(M,0,1,0,1)):void 0,A.isInside=void 0!==n&&n>=0&&n<=f.len&&i>=0&&i<=h.len,A.clientX=x?r(h.translate(E,0,0,0,1,_)):i,A.negative=A.y<(w||0),A.category=p&&void 0!==p[A.x]?p[A.x]:A.x,A.isNull||(void 0!==o&&(C=Math.min(C,Math.abs(i-o))),o=i),A.zone=this.zones.length&&A.getZone()}s.closestPointRangePx=C,d(this,"afterTranslate")},getValidPoints:function(t,e){var i=this.chart;return p(t||this.points||[],function(t){return e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted)?!1:!t.isNull})},setClip:function(t){var e=this.chart,i=this.options,n=e.renderer,o=e.inverted,r=this.clipBox,a=r||e.clipBox,s=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,a.height,i.xAxis,i.yAxis].join(","),l=e[s],u=e[s+"m"];l||(t&&(a.width=0,o&&(a.x=e.plotSizeX),e[s+"m"]=u=n.clipRect(o?e.plotSizeX+99:-99,o?-e.plotLeft:-e.plotTop,99,o?e.chartWidth:e.chartHeight)),e[s]=l=n.clipRect(a),l.count={length:0}),t&&(l.count[this.index]||(l.count[this.index]=!0,l.count.length+=1)),i.clip!==!1&&(this.group.clip(t||r?l:e.clipRect),this.markerGroup.clip(u),this.sharedClipKey=s),t||(l.count[this.index]&&(delete l.count[this.index],l.count.length-=1),0===l.count.length&&s&&e[s]&&(r||(e[s]=e[s].destroy()),e[s+"m"]&&(e[s+"m"]=e[s+"m"].destroy())))},animate:function(t){var e,n,o=this,r=o.chart,a=i(o.options.animation);t?o.setClip(a):(n=this.sharedClipKey,e=r[n],e&&e.animate({width:r.plotSizeX,x:0},a),r[n+"m"]&&r[n+"m"].animate({width:r.plotSizeX+99,x:0},a),o.animate=null)},afterAnimate:function(){this.setClip(),d(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,i,n,o,r,a,s,l,u=this,c=u.points,h=u.chart,d=u.options,p=d.marker,f=u[u.specialGroup]||u.markerGroup,m=u.xAxis,g=b(p.enabled,m.isRadial?!0:null,u.closestPointRangePx>=p.enabledThreshold*p.radius);if(p.enabled!==!1||u._hasPointMarkers)for(t=0;t<c.length;t++)e=c[t],n=e.graphic,o=e.marker||{},r=!!e.marker,a=g&&void 0===o.enabled||o.enabled,s=e.isInside,a&&!e.isNull?(i=b(o.symbol,u.symbol),l=u.markerAttribs(e,e.selected&&"select"),n?n[s?"show":"hide"](!0).animate(l):s&&(l.width>0||e.hasImage)&&(e.graphic=n=h.renderer.symbol(i,l.x,l.y,l.width,l.height,r?o:p).add(f)),n&&n.attr(u.pointAttribs(e,e.selected&&"select")),n&&n.addClass(e.getClassName(),!0)):n&&(e.graphic=n.destroy())},markerAttribs:function(t,e){var i,n,o,r=this.options.marker,a=t.marker||{},s=a.symbol||r.symbol,l=b(a.radius,r.radius);return e&&(i=r.states[e],n=a.states&&a.states[e],l=b(n&&n.radius,i&&i.radius,l+(i&&i.radiusPlus||0))),t.hasImage=s&&0===s.indexOf("url"),t.hasImage&&(l=0),o={x:Math.floor(t.plotX)-l,y:t.plotY-l},l&&(o.width=o.height=2*l),o},pointAttribs:function(t,e){var i,n,o,r,a=this.options.marker,s=t&&t.options,l=s&&s.marker||{},u=this.color,c=s&&s.color,h=t&&t.color,d=b(l.lineWidth,a.lineWidth),p=t&&t.zone&&t.zone.color;return u=c||p||h||u,o=l.fillColor||a.fillColor||u,r=l.lineColor||a.lineColor||u,e&&(i=a.states[e],n=l.states&&l.states[e]||{},d=b(n.lineWidth,i.lineWidth,d+b(n.lineWidthPlus,i.lineWidthPlus,0)),o=n.fillColor||i.fillColor||o,r=n.lineColor||i.lineColor||r),{stroke:r,"stroke-width":d,fill:o}},destroy:function(){var e,i,n,o,r=this,a=r.chart,s=/AppleWebKit\/533/.test(T.navigator.userAgent),l=r.data||[];for(d(r,"destroy"),w(r),u(r.axisTypes||[],function(t){o=r[t],o&&o.series&&(c(o.series,r),o.isDirty=o.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),i=l.length;i--;)n=l[i],n&&n.destroy&&n.destroy();r.points=null,t.clearTimeout(r.animationTimeout),_(r,function(t,i){t instanceof C&&!t.survive&&(e=s&&"group"===i?"hide":"destroy",t[e]())}),a.hoverSeries===r&&(a.hoverSeries=null),c(a.series,r),a.orderSeries(),_(r,function(t,e){delete r[e]})},getGraphPath:function(t,e,i){var n,o,r=this,a=r.options,s=a.step,c=[],h=[];return t=t||r.points,n=t.reversed,n&&t.reverse(),s={right:1,center:2}[s]||s&&3,
s&&n&&(s=4-s),!a.connectNulls||e||i||(t=this.getValidPoints(t)),u(t,function(n,u){var d,p=n.plotX,f=n.plotY,m=t[u-1];(n.leftCliff||m&&m.rightCliff)&&!i&&(o=!0),n.isNull&&!l(e)&&u>0?o=!a.connectNulls:n.isNull&&!e?o=!0:(0===u||o?d=["M",n.plotX,n.plotY]:r.getPointSpline?d=r.getPointSpline(t,n,u):s?(d=1===s?["L",m.plotX,f]:2===s?["L",(m.plotX+p)/2,m.plotY,"L",(m.plotX+p)/2,f]:["L",p,m.plotY],d.push("L",p,f)):d=["L",p,f],h.push(n.x),s&&(h.push(n.x),2===s&&h.push(n.x)),c.push.apply(c,d),o=!1)}),c.xMap=h,r.graphPath=c,c},drawGraph:function(){var t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),n=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];n=t.getZonesGraphs(n),u(n,function(n,o){var r,a=n[0],s=t[a];s?(s.endX=t.preventGraphAnimation?null:i.xMap,s.animate({d:i})):i.length&&(t[a]=t.chart.renderer.path(i).addClass(n[1]).attr({zIndex:1}).add(t.group),r={stroke:n[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},n[3]?r.dashstyle=n[3]:"square"!==e.linecap&&(r["stroke-linecap"]=r["stroke-linejoin"]="round"),s=t[a].attr(r).shadow(2>o&&e.shadow)),s&&(s.startX=i.xMap,s.isArea=i.isArea)})},getZonesGraphs:function(t){return u(this.zones,function(e,i){t.push(["zone-graph-"+i,"highcharts-graph highcharts-zone-graph-"+i+" "+(e.className||""),e.color||this.color,e.dashStyle||this.options.dashStyle])},this),t},applyZones:function(){var t,e,i,n,o,r,a,s,l,c=this,h=this.chart,d=h.renderer,p=this.zones,f=this.clips||[],m=this.graph,g=this.area,v=Math.max(h.chartWidth,h.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],_=h.inverted,x=!1;p.length&&(m||g)&&y&&void 0!==y.min&&(o=y.reversed,r=y.horiz,m&&!this.showLine&&m.hide(),g&&g.hide(),n=y.getExtremes(),u(p,function(u,p){t=o?r?h.plotWidth:0:r?0:y.toPixels(n.min),t=Math.min(Math.max(b(e,t),0),v),e=Math.min(Math.max(Math.round(y.toPixels(b(u.value,n.max),!0)),0),v),x&&(t=e=y.toPixels(n.max)),a=Math.abs(t-e),s=Math.min(t,e),l=Math.max(t,e),y.isXAxis?(i={x:_?l:s,y:0,width:a,height:v},r||(i.x=h.plotHeight-i.x)):(i={x:0,y:_?l:s,width:v,height:a},r&&(i.y=h.plotWidth-i.y)),_&&d.isVML&&(i=y.isXAxis?{x:0,y:o?s:l,height:i.width,width:h.chartWidth}:{x:i.y-h.plotLeft-h.spacingBox.x,y:0,width:i.height,height:h.chartHeight}),f[p]?f[p].animate(i):(f[p]=d.clipRect(i),m&&c["zone-graph-"+p].clip(f[p]),g&&c["zone-area-"+p].clip(f[p])),x=u.value>n.max,c.resetZones&&0===e&&(e=void 0)}),this.clips=f)},invertGroups:function(t){function i(){u(["group","markerGroup"],function(e){o[e]&&(r.renderer.isVML&&o[e].attr({width:o.yAxis.len,height:o.xAxis.len}),o[e].width=o.yAxis.len,o[e].height=o.xAxis.len,o[e].invert(t))})}var n,o=this,r=o.chart;o.xAxis&&(n=e(r,"resize",i),e(o,"destroy",n),i(t),o.invertGroups=i)},plotGroup:function(t,e,i,n,o){var r=this[t],a=!r;return a&&(this[t]=r=this.chart.renderer.g().attr({zIndex:n||.1}).add(o)),r.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(l(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(r.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),r.attr({visibility:i})[a?"attr":"animate"](this.getPlotBox()),r},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,n=e.chart,o=e.options,r=!!e.animate&&n.renderer.isSVG&&i(o.animation).duration,a=e.visible?"inherit":"hidden",s=o.zIndex,l=e.hasRendered,u=n.seriesGroup,c=n.inverted;t=e.plotGroup("group","series",a,s,u),e.markerGroup=e.plotGroup("markerGroup","markers",a,s,u),r&&e.animate(!0),t.inverted=e.isCartesian?c:!1,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),e.invertGroups(c),o.clip===!1||e.sharedClipKey||l||t.clip(n.clipRect),r&&e.animate(),l||(e.animationTimeout=S(function(){e.afterAnimate()},r)),e.isDirty=!1,e.hasRendered=!0,d(e,"afterRender")},redraw:function(){var t=this,e=t.chart,i=t.isDirty||t.isDirtyData,n=t.group,o=t.xAxis,r=t.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:b(o&&o.left,e.plotLeft),translateY:b(r&&r.top,e.plotTop)})),t.translate(),t.render(),i&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this,n=i.xAxis,o=i.yAxis,r=i.chart.inverted;return this.searchKDTree({clientX:r?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:r?o.len-t.chartX+o.pos:t.chartY-o.pos},e)},buildKDTree:function(){function t(e,n,o){var r,a,s=e&&e.length;return s?(r=i.kdAxisArray[n%o],e.sort(function(t,e){return t[r]-e[r]}),a=Math.floor(s/2),{point:e[a],left:t(e.slice(0,a),n+1,o),right:t(e.slice(a+1),n+1,o)}):void 0}function e(){i.kdTree=t(i.getValidPoints(null,!i.directTouch),n,n),i.buildingKdTree=!1}this.buildingKdTree=!0;var i=this,n=i.options.findNearestPointBy.indexOf("y")>-1?2:1;delete i.kdTree,S(e,i.options.kdNow?0:1)},searchKDTree:function(t,e){function i(t,e){var i=l(t[r])&&l(e[r])?Math.pow(t[r]-e[r],2):null,n=l(t[a])&&l(e[a])?Math.pow(t[a]-e[a],2):null,o=(i||0)+(n||0);e.dist=l(o)?Math.sqrt(o):Number.MAX_VALUE,e.distX=l(i)?Math.sqrt(i):Number.MAX_VALUE}function n(t,e,r,a){var l,u,c,h,d,p=e.point,f=o.kdAxisArray[r%a],m=p;return i(t,p),l=t[f]-p[f],u=0>l?"left":"right",c=0>l?"right":"left",e[u]&&(h=n(t,e[u],r+1,a),m=h[s]<m[s]?h:p),e[c]&&Math.sqrt(l*l)<m[s]&&(d=n(t,e[c],r+1,a),m=d[s]<m[s]?d:m),m}var o=this,r=this.kdAxisArray[0],a=this.kdAxisArray[1],s=e?"distX":"dist",u=o.options.findNearestPointBy.indexOf("y")>-1?2:1;return this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree?n(t,this.kdTree,u,u):void 0}})}(e),function(t){var e=t.Axis,i=t.Chart,n=t.correctFloat,o=t.defined,r=t.destroyObjectProperties,a=t.each,s=t.format,l=t.objectEach,u=t.pick,c=t.Series;t.StackItem=function(t,e,i,n,o){var r=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=o,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:e.align||(r?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(r?"middle":i?"bottom":"top"),y:u(e.y,r?4:i?14:-6),x:u(e.x,r?i?-6:6:0)},this.textAlign=e.textAlign||(r?i?"right":"left":"center")},t.StackItem.prototype={destroy:function(){r(this,this.axis)},render:function(t){var e=this.axis.chart,i=this.options,n=i.format,o=n?s(n,this,e.time):i.formatter.call(this);this.label?this.label.attr({text:o,visibility:"hidden"}):this.label=e.renderer.text(o,null,null,i.useHTML).css(i.style).attr({align:this.textAlign,rotation:i.rotation,visibility:"hidden"}).add(t),this.label.labelrank=e.plotHeight},setOffset:function(t,e){var i,n=this,r=n.axis,a=r.chart,s=r.translate(r.usePercentage?100:n.total,0,0,0,1),l=r.translate(0),u=o(s)&&Math.abs(s-l),c=a.xAxis[0].translate(n.x)+t,h=o(s)&&n.getStackBox(a,n,c,s,e,u,r),d=n.label;d&&h&&(d.align(n.alignOptions,null,h),i=d.alignAttr,d[n.options.crop===!1||a.isInsidePlot(i.x,i.y)?"show":"hide"](!0))},getStackBox:function(t,e,i,n,o,r,a){var s=e.axis.reversed,l=t.inverted,u=a.height+a.pos-(l?t.plotLeft:t.plotTop),c=e.isNegative&&!s||!e.isNegative&&s;return{x:l?c?n:n-r:i,y:l?u-i-o:c?u-n-r:u-n,width:l?r:o,height:l?o:r}}},i.prototype.getStacks=function(){var t=this;a(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),a(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+u(e.options.stack,""))})},e.prototype.buildStacks=function(){var t,e=this.series,i=u(this.options.reversedStacks,!0),n=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=n;t--;)e[i?t:n-t-1].setStackedPoints();for(t=0;n>t;t++)e[t].modifyStacks()}},e.prototype.renderStackTotals=function(){var t=this,e=t.chart,i=e.renderer,n=t.stacks,o=t.stackTotalGroup;o||(t.stackTotalGroup=o=i.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),o.translate(e.plotLeft,e.plotTop),l(n,function(t){l(t,function(t){t.render(o)})})},e.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||l(e,function(e){l(e,function(i,n){i.touched<t.stacksTouched?(i.destroy(),delete e[n]):(i.total=null,i.cumulative=null)})})},e.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),l(t,function(t){l(t,function(t){t.cumulative=t.total})}))},c.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var e,i,r,a,s,l,c,h,d,p=this,f=p.processedXData,m=p.processedYData,g=[],v=m.length,y=p.options,_=y.threshold,b=u(y.startFromThreshold&&_,0),x=y.stack,w=y.stacking,k=p.stackKey,C="-"+k,S=p.negStacks,T=p.yAxis,A=T.stacks,E=T.oldStacks;for(T.stacksTouched+=1,c=0;v>c;c++)h=f[c],d=m[c],e=p.getStackIndicator(e,h,p.index),l=e.key,i=S&&(b?0:_)>d,s=i?C:k,A[s]||(A[s]={}),A[s][h]||(E[s]&&E[s][h]?(A[s][h]=E[s][h],A[s][h].total=null):A[s][h]=new t.StackItem(T,T.options.stackLabels,i,h,x)),r=A[s][h],null!==d?(r.points[l]=r.points[p.index]=[u(r.cumulative,b)],o(r.cumulative)||(r.base=l),r.touched=T.stacksTouched,e.index>0&&p.singleStacks===!1&&(r.points[l][0]=r.points[p.index+","+h+",0"][0])):r.points[l]=r.points[p.index]=null,"percent"===w?(a=i?k:C,S&&A[a]&&A[a][h]?(a=A[a][h],r.total=a.total=Math.max(a.total,r.total)+Math.abs(d)||0):r.total=n(r.total+(Math.abs(d)||0))):r.total=n(r.total+(d||0)),r.cumulative=u(r.cumulative,b)+(d||0),null!==d&&(r.points[l].push(r.cumulative),g[c]=r.cumulative);"percent"===w&&(T.usePercentage=!0),this.stackedYData=g,T.oldStacks={}}},c.prototype.modifyStacks=function(){var t,e=this,i=e.stackKey,n=e.yAxis.stacks,o=e.processedXData,r=e.options.stacking;e[r+"Stacker"]&&a([i,"-"+i],function(i){for(var a,s,l,u=o.length;u--;)a=o[u],t=e.getStackIndicator(t,a,e.index,i),s=n[i]&&n[i][a],l=s&&s.points[t.key],l&&e[r+"Stacker"](l,s,u)})},c.prototype.percentStacker=function(t,e,i){var o=e.total?100/e.total:0;t[0]=n(t[0]*o),t[1]=n(t[1]*o),this.stackedYData[i]=t[1]},c.prototype.getStackIndicator=function(t,e,i,n){return!o(t)||t.x!==e||n&&t.key!==n?t={x:e,index:0,key:n}:t.index++,t.key=[i,e,t.index].join(","),t}}(e),function(t){var e=t.addEvent,i=t.animate,n=t.Axis,o=t.Chart,r=t.createElement,a=t.css,s=t.defined,l=t.each,u=t.erase,c=t.extend,h=t.fireEvent,d=t.inArray,p=t.isNumber,f=t.isObject,m=t.isArray,g=t.merge,v=t.objectEach,y=t.pick,_=t.Point,b=t.Series,x=t.seriesTypes,w=t.setAnimation,k=t.splat;c(o.prototype,{addSeries:function(t,e,i){var n,o=this;return t&&(e=y(e,!0),h(o,"addSeries",{options:t},function(){n=o.initSeries(t),o.isDirtyLegend=!0,o.linkSeries(),h(o,"afterAddSeries"),e&&o.redraw(i)})),n},addAxis:function(t,e,i,o){var r,a=e?"xAxis":"yAxis",s=this.options,l=g(t,{index:this[a].length,isX:e});return r=new n(this,l),s[a]=k(s[a]||{}),s[a].push(l),y(i,!0)&&this.redraw(o),r},showLoading:function(t){var n=this,o=n.options,s=n.loadingDiv,l=o.loading,u=function(){s&&a(s,{left:n.plotLeft+"px",top:n.plotTop+"px",width:n.plotWidth+"px",height:n.plotHeight+"px"})};s||(n.loadingDiv=s=r("div",{className:"highcharts-loading highcharts-loading-hidden"},null,n.container),n.loadingSpan=r("span",{className:"highcharts-loading-inner"},null,s),e(n,"redraw",u)),s.className="highcharts-loading",n.loadingSpan.innerHTML=t||o.lang.loading,a(s,c(l.style,{zIndex:10})),a(n.loadingSpan,l.labelStyle),n.loadingShown||(a(s,{opacity:0,display:""}),i(s,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),n.loadingShown=!0,u()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",i(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){a(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"],update:function(t,e,i,n){var o,r,a,u,c=this,f={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},m=t.chart,_=[];h(c,"update",{options:t}),m&&(g(!0,c.options.chart,m),"className"in m&&c.setClassName(m.className),"reflow"in m&&c.setReflow(m.reflow),("inverted"in m||"polar"in m||"type"in m)&&(c.propFromSeries(),o=!0),"alignTicks"in m&&(o=!0),v(m,function(t,e){-1!==d("chart."+e,c.propsRequireUpdateSeries)&&(r=!0),-1!==d(e,c.propsRequireDirtyBox)&&(c.isDirtyBox=!0)}),"style"in m&&c.renderer.setStyle(m.style)),t.colors&&(this.options.colors=t.colors),t.plotOptions&&g(!0,this.options.plotOptions,t.plotOptions),v(t,function(t,e){c[e]&&"function"==typeof c[e].update?c[e].update(t,!1):"function"==typeof c[f[e]]&&c[f[e]](t),"chart"!==e&&-1!==d(e,c.propsRequireUpdateSeries)&&(r=!0)}),l(["xAxis","yAxis","zAxis","series","colorAxis","pane"],function(e){var n;t[e]&&("series"===e&&(n=[],l(c[e],function(t,e){t.options.isInternal||n.push(e)})),l(k(t[e]),function(t,o){var r=s(t.id)&&c.get(t.id)||c[e][n?n[o]:o];r&&r.coll===e&&(r.update(t,!1),i&&(r.touched=!0)),!r&&i&&("series"===e?c.addSeries(t,!1).touched=!0:"xAxis"!==e&&"yAxis"!==e||(c.addAxis(t,"xAxis"===e,!1).touched=!0))}),i&&l(c[e],function(t){t.touched||t.options.isInternal?delete t.touched:_.push(t)}))}),l(_,function(t){t.remove&&t.remove(!1)}),o&&l(c.axes,function(t){t.update({},!1)}),r&&l(c.series,function(t){t.update({},!1)}),t.loading&&g(!0,c.options.loading,t.loading),a=m&&m.width,u=m&&m.height,p(a)&&a!==c.chartWidth||p(u)&&u!==c.chartHeight?c.setSize(a,u,n):y(e,!0)&&c.redraw(n),h(c,"afterUpdate",{options:t})},setSubtitle:function(t){this.setTitle(void 0,t)}}),c(_.prototype,{update:function(t,e,i,n){function o(){a.applyOptions(t),null===a.y&&l&&(a.graphic=l.destroy()),f(t,!0)&&(l&&l.element&&t&&t.marker&&void 0!==t.marker.symbol&&(a.graphic=l.destroy()),t&&t.dataLabels&&a.dataLabel&&(a.dataLabel=a.dataLabel.destroy()),a.connector&&(a.connector=a.connector.destroy())),r=a.index,s.updateParallelArrays(a,r),c.data[r]=f(c.data[r],!0)||f(t,!0)?a.options:y(t,c.data[r]),s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(u.isDirtyBox=!0),"point"===c.legendType&&(u.isDirtyLegend=!0),e&&u.redraw(i)}var r,a=this,s=a.series,l=a.graphic,u=s.chart,c=s.options;e=y(e,!0),n===!1?o():a.firePointEvent("update",{options:t},o)},remove:function(t,e){this.series.removePoint(d(this,this.series.data),t,e)}}),c(b.prototype,{addPoint:function(t,e,i,n){var o,r,a,s,l=this,u=l.options,c=l.data,h=l.chart,d=l.xAxis,p=d&&d.hasNames&&d.names,f=u.data,m=l.xData;if(e=y(e,!0),o={series:l},l.pointClass.prototype.applyOptions.apply(o,[t]),s=o.x,a=m.length,l.requireSorting&&s<m[a-1])for(r=!0;a&&m[a-1]>s;)a--;l.updateParallelArrays(o,"splice",a,0,0),l.updateParallelArrays(o,a),p&&o.name&&(p[s]=o.name),f.splice(a,0,t),r&&(l.data.splice(a,0,null),l.processData()),"point"===u.legendType&&l.generatePoints(),i&&(c[0]&&c[0].remove?c[0].remove(!1):(c.shift(),l.updateParallelArrays(o,"shift"),f.shift())),l.isDirty=!0,l.isDirtyData=!0,e&&h.redraw(n)},removePoint:function(t,e,i){var n=this,o=n.data,r=o[t],a=n.points,s=n.chart,l=function(){a&&a.length===o.length&&a.splice(t,1),o.splice(t,1),n.options.data.splice(t,1),n.updateParallelArrays(r||{series:n},"splice",t,1),r&&r.destroy(),n.isDirty=!0,n.isDirtyData=!0,e&&s.redraw()};w(i,s),e=y(e,!0),r?r.firePointEvent("remove",null,l):l()},remove:function(t,e,i){function n(){o.destroy(),o.remove=null,r.isDirtyLegend=r.isDirtyBox=!0,r.linkSeries(),y(t,!0)&&r.redraw(e)}var o=this,r=o.chart;i!==!1?h(o,"remove",null,n):n()},update:function(e,i){var n,o=this,r=o.chart,a=o.userOptions,s=o.oldType||o.type,u=e.type||a.type||r.options.chart.type,p=x[s].prototype,f=["group","markerGroup","dataLabelsGroup"],m=["navigatorSeries","baseSeries"],v=o.finishedAnimating&&{animation:!1},_=["data","name","turboThreshold"],b=t.keys(e),w=b.length>0;if(l(b,function(t){-1===d(t,_)&&(w=!1)}),w)e.data&&this.setData(e.data,!1),e.name&&this.setName(e.name,!1);else{m=f.concat(m),l(m,function(t){m[t]=o[t],delete o[t]}),e=g(a,v,{index:o.index,pointStart:y(a.pointStart,o.xData[0])},{data:o.options.data},e),o.remove(!1,null,!1);for(n in p)o[n]=void 0;x[u||s]?c(o,x[u||s].prototype):t.error(17,!0),l(m,function(t){o[t]=m[t]}),o.init(r,e),e.zIndex!==a.zIndex&&l(f,function(t){o[t]&&o[t].attr({zIndex:e.zIndex})}),o.oldType=s,r.linkSeries()}h(this,"afterUpdate"),y(i,!0)&&r.redraw(w?void 0:!1)},setName:function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}}),c(n.prototype,{update:function(t,e){var i=this.chart,n=t&&t.events||{};t=g(this.userOptions,t),i.options[this.coll].indexOf&&(i.options[this.coll][i.options[this.coll].indexOf(this.userOptions)]=t),v(i.options[this.coll].events,function(t,e){"undefined"==typeof n[e]&&(n[e]=void 0)}),this.destroy(!0),this.init(i,c(t,{events:n})),i.isDirtyBox=!0,y(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,o=n.length;o--;)n[o]&&n[o].remove(!1);u(e.axes,this),u(e[i],this),m(e.options[i])?e.options[i].splice(this.options.index,1):delete e.options[i],l(e[i],function(t,e){t.options.index=t.userOptions.index=e}),this.destroy(),e.isDirtyBox=!0,y(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(e),function(t){var e=t.color,i=t.each,n=t.LegendSymbolMixin,o=t.map,r=t.pick,a=t.Series,s=t.seriesType;s("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(e){var n,a,s=this,l=[],u=[],c=this.xAxis,h=this.yAxis,d=h.stacks[this.stackKey],p={},f=s.index,m=h.series,g=m.length,v=r(h.options.reversedStacks,!0)?1:-1;if(e=e||this.points,this.options.stacking){for(a=0;a<e.length;a++)e[a].leftNull=e[a].rightNull=null,p[e[a].x]=e[a];t.objectEach(d,function(t,e){null!==t.total&&u.push(e)}),u.sort(function(t,e){return t-e}),n=o(m,function(){return this.visible}),i(u,function(t,e){var o,r,s=0;if(p[t]&&!p[t].isNull)l.push(p[t]),i([-1,1],function(i){var s=1===i?"rightNull":"leftNull",l=1===i?"rightCliff":"leftCliff",c=0,h=d[u[e+i]];if(h)for(a=f;a>=0&&g>a;)o=h.points[a],o||(a===f?p[t][s]=!0:n[a]&&(r=d[t].points[a],r&&(c-=r[1]-r[0]))),a+=v;p[t][l]=c});else{for(a=f;a>=0&&g>a;){if(o=d[t].points[a]){s=o[1];break}a+=v}s=h.translate(s,0,1,0,1),l.push({isNull:!0,plotX:c.translate(t,0,0,0,1),x:t,plotY:s,yBottom:s})}})}return l},getGraphPath:function(t){var e,i,n,o,s,l,u,c,h=a.prototype.getGraphPath,d=this.options,p=d.stacking,f=this.yAxis,m=[],g=[],v=this.index,y=f.stacks[this.stackKey],_=d.threshold,b=f.getThreshold(d.threshold),x=d.connectNulls||"percent"===p,w=function(e,i,n){var o,r,a=t[e],s=p&&y[a.x].points[v],u=a[n+"Null"]||0,c=a[n+"Cliff"]||0,h=!0;c||u?(o=(u?s[0]:s[1])+c,r=s[0]+c,h=!!u):!p&&t[i]&&t[i].isNull&&(o=r=_),void 0!==o&&(g.push({plotX:l,plotY:null===o?b:f.getThreshold(o),isNull:h,isCliff:!0}),m.push({plotX:l,plotY:null===r?b:f.getThreshold(r),doCurve:!1}))};for(t=t||this.points,p&&(t=this.getStackPoints(t)),o=0;o<t.length;o++)u=t[o].isNull,l=r(t[o].rectPlotX,t[o].plotX),c=r(t[o].yBottom,b),u&&!x||(x||w(o,o-1,"left"),u&&!p&&x||(g.push(t[o]),m.push({x:o,plotX:l,plotY:c})),x||w(o,o+1,"right"));return i=h.call(this,g,!0,!0),m.reversed=!0,n=h.call(this,m,!0,!0),n.length&&(n[0]="L"),s=i.concat(n),e=h.call(this,g,!1,x),s.xMap=i.xMap,this.areaPath=s,e},drawGraph:function(){this.areaPath=[],a.prototype.drawGraph.apply(this);var t=this,n=this.areaPath,o=this.options,s=this.zones,l=[["area","highcharts-area",this.color,o.fillColor]];i(s,function(e,i){l.push(["zone-area-"+i,"highcharts-area highcharts-zone-area-"+i+" "+e.className,e.color||t.color,e.fillColor||o.fillColor])}),i(l,function(i){var a=i[0],s=t[a];s?(s.endX=t.preventGraphAnimation?null:n.xMap,s.animate({d:n})):(s=t[a]=t.chart.renderer.path(n).addClass(i[1]).attr({fill:r(i[3],e(i[2]).setOpacity(r(o.fillOpacity,.75)).get()),zIndex:0}).add(t.group),s.isArea=!0),s.startX=n.xMap,s.shiftUnit=o.step?2:1})},drawLegendSymbol:n.drawRectangle})}(e),function(t){var e=t.pick,i=t.seriesType;i("spline","line",{},{getPointSpline:function(t,i,n){function o(t){return t&&!t.isNull&&t.doCurve!==!1&&!i.isCliff}var r,a,s,l,u,c=1.5,h=c+1,d=i.plotX,p=i.plotY,f=t[n-1],m=t[n+1];if(o(f)&&o(m)){var g=f.plotX,v=f.plotY,y=m.plotX,_=m.plotY,b=0;r=(c*d+g)/h,a=(c*p+v)/h,s=(c*d+y)/h,l=(c*p+_)/h,s!==r&&(b=(l-a)*(s-d)/(s-r)+p-l),a+=b,l+=b,a>v&&a>p?(a=Math.max(v,p),l=2*p-a):v>a&&p>a&&(a=Math.min(v,p),l=2*p-a),l>_&&l>p?(l=Math.max(_,p),a=2*p-l):_>l&&p>l&&(l=Math.min(_,p),a=2*p-l),i.rightContX=s,i.rightContY=l}return u=["C",e(f.rightContX,f.plotX),e(f.rightContY,f.plotY),e(r,d),e(a,p),d,p],f.rightContX=f.rightContY=null,u}})}(e),function(t){var e=t.seriesTypes.area.prototype,i=t.defaultPlotOptions,n=t.LegendSymbolMixin,o=t.seriesType;o("areaspline","spline",i.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:n.drawRectangle})}(e),function(t){var e=t.animObject,i=t.color,n=t.each,o=t.extend,r=t.defined,a=t.isNumber,s=t.LegendSymbolMixin,l=t.merge,u=t.noop,c=t.pick,h=t.Series,d=t.seriesType,p=t.svg;d("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){h.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&n(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,i=e.options,o=e.xAxis,r=e.yAxis,a=o.options.reversedStacks,s=o.reversed&&!a||!o.reversed&&a,l={},u=0;i.grouping===!1?u=1:n(e.chart.series,function(i){var n,o=i.options,a=i.yAxis;i.type!==e.type||!i.visible&&e.chart.options.chart.ignoreHiddenSeries||r.len!==a.len||r.pos!==a.pos||(o.stacking?(t=i.stackKey,void 0===l[t]&&(l[t]=u++),n=l[t]):o.grouping!==!1&&(n=u++),i.columnIndex=n)});var h=Math.min(Math.abs(o.transA)*(o.ordinalSlope||i.pointRange||o.closestPointRange||o.tickInterval||1),o.len),d=h*i.groupPadding,p=h-2*d,f=p/(u||1),m=Math.min(i.maxPointWidth||o.len,c(i.pointWidth,f*(1-2*i.pointPadding))),g=(f-m)/2,v=(e.columnIndex||0)+(s?1:0),y=g+(d+v*f-h/2)*(s?-1:1);return e.columnMetrics={width:m,offset:y},e.columnMetrics},crispCol:function(t,e,i,n){var o,r,a,s=this.chart,l=this.borderWidth,u=-(l%2?.5:0),c=l%2?.5:1;return s.inverted&&s.renderer.isVML&&(c+=1),this.options.crisp&&(o=Math.round(t+i)+u,t=Math.round(t)+u,i=o-t),r=Math.round(e+n)+c,a=Math.abs(e)<=.5&&r>.5,e=Math.round(e)+c,n=r-e,a&&n&&(e-=1,n+=1),{x:t,y:e,width:i,height:n}},translate:function(){var t=this,e=t.chart,i=t.options,o=t.dense=t.closestPointRange*t.xAxis.transA<2,a=t.borderWidth=c(i.borderWidth,o?0:1),s=t.yAxis,l=i.threshold,u=t.translatedThreshold=s.getThreshold(l),d=c(i.minPointLength,5),p=t.getColumnMetrics(),f=p.width,m=t.barW=Math.max(f,1+2*a),g=t.pointXOffset=p.offset;e.inverted&&(u-=.5),i.pointPadding&&(m=Math.ceil(m)),h.prototype.translate.apply(t),n(t.points,function(i){var n,o=c(i.yBottom,u),a=999+Math.abs(o),h=f,p=Math.min(Math.max(-a,i.plotY),s.len+a),v=i.plotX+g,y=m,_=Math.min(p,o),b=Math.max(p,o)-_;d&&Math.abs(b)<d&&(b=d,n=!s.reversed&&!i.negative||s.reversed&&i.negative,i.y===l&&t.dataMax<=l&&s.min<l&&(n=!n),_=Math.abs(_-u)>d?o-d:u-(n?d:0)),r(i.options.pointWidth)&&(h=y=Math.ceil(i.options.pointWidth),v-=Math.round((h-f)/2)),i.barX=v,i.pointWidth=h,i.tooltipPos=e.inverted?[s.len+s.pos-e.plotLeft-p,t.xAxis.len-v-y/2,b]:[v+y/2,p+s.pos-e.plotTop,b],i.shapeType="rect",i.shapeArgs=t.crispCol.apply(t,i.isNull?[v,u,y,0]:[v,_,y,b])})},getSymbol:u,drawLegendSymbol:s.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var n,o,r,a,s=this.options,u=this.pointAttrToOptions||{},c=u.stroke||"borderColor",h=u["stroke-width"]||"borderWidth",d=t&&t.color||this.color,p=t&&t[c]||s[c]||this.color||d,f=t&&t[h]||s[h]||this[h]||0,m=s.dashStyle;return t&&this.zones.length&&(r=t.getZone(),d=t.options.color||r&&r.color||this.color),e&&(n=l(s.states[e],t.options.states&&t.options.states[e]||{}),a=n.brightness,d=n.color||void 0!==a&&i(d).brighten(n.brightness).get()||d,p=n[c]||p,f=n[h]||f,m=n.dashStyle||m),o={fill:d,stroke:p,"stroke-width":f},m&&(o.dashstyle=m),o},drawPoints:function(){var t,e=this,i=this.chart,o=e.options,r=i.renderer,s=o.animationLimit||250;n(e.points,function(n){var u=n.plotY,c=n.graphic,h=c&&i.pointCount<s?"animate":"attr";a(u)&&null!==n.y?(t=n.shapeArgs,c?c[h](l(t)):n.graphic=c=r[n.shapeType](t).add(n.group||e.group),o.borderRadius&&c.attr({r:o.borderRadius}),c[h](e.pointAttribs(n,n.selected&&"select")).shadow(o.shadow,null,o.stacking&&!o.borderRadius),c.addClass(n.getClassName(),!0)):c&&(n.graphic=c.destroy())})},animate:function(t){var i,n,r=this,a=this.yAxis,s=r.options,l=this.chart.inverted,u={},c=l?"translateX":"translateY";p&&(t?(u.scaleY=.001,n=Math.min(a.pos+a.len,Math.max(a.pos,a.toPixels(s.threshold))),l?u.translateX=n-a.len:u.translateY=n,r.group.attr(u)):(i=r.group.attr(c),r.group.animate({scaleY:1},o(e(r.options.animation),{step:function(t,e){u[c]=i+e.pos*(a.pos-i),r.group.attr(u)}})),r.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&n(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),h.prototype.remove.apply(t,arguments)}})}(e),function(t){var e=t.seriesType;e("bar","column",null,{inverted:!0})}(e),function(t){var e=t.Series,i=t.seriesType;i("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(e),function(t){var e=t.deg2rad,i=t.isNumber,n=t.pick,o=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,e,i,r=this.options,a=this.chart,s=2*(r.slicedOffset||0),l=a.plotWidth-2*s,u=a.plotHeight-2*s,c=r.center,h=[n(c[0],"50%"),n(c[1],"50%"),r.size||"100%",r.innerSize||0],d=Math.min(l,u);for(e=0;4>e;++e)i=h[e],t=2>e||2===e&&/%$/.test(i),h[e]=o(i,[l,u,d,h[2]][e])+(t?s:0);return h[3]>h[2]&&(h[3]=h[2]),h},getStartAndEndRadians:function(t,n){var o=i(t)?t:0,r=i(n)&&n>o&&360>n-o?n:o+360,a=-90;return{start:e*(o+a),end:e*(r+a)}}}}(e),function(t){var e=t.addEvent,i=t.CenteredSeriesMixin,n=t.defined,o=t.each,r=t.extend,a=i.getStartAndEndRadians,s=t.inArray,l=t.LegendSymbolMixin,u=t.noop,c=t.pick,h=t.Point,d=t.Series,p=t.seriesType,f=t.seriesTypes,m=t.setAnimation;p("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:f.column.prototype.pointAttribs,animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(o(i,function(t){var i=t.graphic,o=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:n,end:n}),i.animate({r:o.r,start:o.start,end:o.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,i=0,n=this.points,o=n.length,r=this.options.ignoreHiddenPoint;for(t=0;o>t;t++)e=n[t],i+=r&&!e.visible?0:e.isNull?0:e.y;for(this.total=i,t=0;o>t;t++)e=n[t],e.percentage=i>0&&(e.visible||!r)?e.y/i*100:0,e.total=i},generatePoints:function(){d.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,n,o,r,s,l,u,h=this,d=0,p=1e3,f=h.options,m=f.slicedOffset,g=m+(f.borderWidth||0),v=a(f.startAngle,f.endAngle),y=h.startAngleRad=v.start,_=h.endAngleRad=v.end,b=_-y,x=h.points,w=f.dataLabels.distance,k=f.ignoreHiddenPoint,C=x.length;for(t||(h.center=t=h.getCenter()),h.getX=function(e,i,n){return o=Math.asin(Math.min((e-t[1])/(t[2]/2+n.labelDistance),1)),t[0]+(i?-1:1)*(Math.cos(o)*(t[2]/2+n.labelDistance))},l=0;C>l;l++)u=x[l],u.labelDistance=c(u.options.dataLabels&&u.options.dataLabels.distance,w),h.maxLabelDistance=Math.max(h.maxLabelDistance||0,u.labelDistance),i=y+d*b,k&&!u.visible||(d+=u.percentage/100),n=y+d*b,u.shapeType="arc",u.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(i*p)/p,end:Math.round(n*p)/p},o=(n+i)/2,o>1.5*Math.PI?o-=2*Math.PI:o<-Math.PI/2&&(o+=2*Math.PI),u.slicedTranslation={translateX:Math.round(Math.cos(o)*m),translateY:Math.round(Math.sin(o)*m)},r=Math.cos(o)*t[2]/2,s=Math.sin(o)*t[2]/2,u.tooltipPos=[t[0]+.7*r,t[1]+.7*s],u.half=o<-Math.PI/2||o>Math.PI/2?1:0,u.angle=o,e=Math.min(g,u.labelDistance/5),u.labelPos=[t[0]+r+Math.cos(o)*u.labelDistance,t[1]+s+Math.sin(o)*u.labelDistance,t[0]+r+Math.cos(o)*e,t[1]+s+Math.sin(o)*e,t[0]+r,t[1]+s,u.labelDistance<0?"center":u.half?"right":"left",o]},drawGraph:null,drawPoints:function(){var t,e,i,n,a=this,s=a.chart,l=s.renderer,u=a.options.shadow;u&&!a.shadowGroup&&(a.shadowGroup=l.g("shadow").add(a.group)),o(a.points,function(o){if(e=o.graphic,o.isNull)e&&(o.graphic=e.destroy());else{n=o.shapeArgs,t=o.getTranslate();var s=o.shadowGroup;u&&!s&&(s=o.shadowGroup=l.g("shadow").add(a.shadowGroup)),s&&s.attr(t),i=a.pointAttribs(o,o.selected&&"select"),e?e.setRadialReference(a.center).attr(i).animate(r(n,t)):(o.graphic=e=l[o.shapeType](n).setRadialReference(a.center).attr(t).add(a.group),e.attr(i).attr({"stroke-linejoin":"round"}).shadow(u,s)),e.attr({visibility:o.visible?"inherit":"hidden"}),e.addClass(o.getClassName())}})},searchPoint:u,sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:l.drawRectangle,getCenter:i.getCenter,getSymbol:u},{init:function(){h.prototype.init.apply(this,arguments);var t,i=this;return i.name=c(i.name,"Slice"),t=function(t){i.slice("select"===t.type)},e(i,"select",t),e(i,"unselect",t),i},isValid:function(){return t.isNumber(this.y,!0)&&this.y>=0},setVisible:function(t,e){var i=this,n=i.series,r=n.chart,a=n.options.ignoreHiddenPoint;e=c(e,a),t!==i.visible&&(i.visible=i.options.visible=t=void 0===t?!i.visible:t,n.options.data[s(i,n.data)]=i.options,o(["graphic","dataLabel","connector","shadowGroup"],function(e){i[e]&&i[e][t?"show":"hide"](!0)}),i.legendItem&&r.legend.colorizeItem(i,t),t||"hover"!==i.state||i.setState(""),a&&(n.isDirty=!0),e&&r.redraw())},slice:function(t,e,i){var o=this,r=o.series,a=r.chart;m(i,a),e=c(e,!0),o.sliced=o.options.sliced=t=n(t)?t:!o.sliced,r.options.data[s(o,r.data)]=o.options,o.graphic.animate(this.getTranslate()),o.shadowGroup&&o.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r-1,start:e.start,end:e.end})}})}(e),function(t){var e=t.addEvent,i=t.arrayMax,n=t.defined,o=t.each,r=t.extend,a=t.format,s=t.map,l=t.merge,u=t.noop,c=t.pick,h=t.relativeLength,d=t.Series,p=t.seriesTypes,f=t.some,m=t.stableSort,g=t.isArray,v=t.splat;t.distribute=function(e,i,n){function r(t,e){return t.target-e.target}var a,l,u,h=!0,d=e,p=[],g=0,v=d.reducedLen||i;for(a=e.length;a--;)g+=e[a].size;if(g>v){for(m(e,function(t,e){return(e.rank||0)-(t.rank||0)}),a=0,g=0;v>=g;)g+=e[a].size,a++;p=e.splice(a-1,e.length)}for(m(e,r),e=s(e,function(t){return{size:t.size,targets:[t.target],align:c(t.align,.5)}});h;){for(a=e.length;a--;)l=e[a],u=(Math.min.apply(0,l.targets)+Math.max.apply(0,l.targets))/2,l.pos=Math.min(Math.max(0,u-l.size*l.align),i-l.size);for(a=e.length,h=!1;a--;)a>0&&e[a-1].pos+e[a-1].size>e[a].pos&&(e[a-1].size+=e[a].size,e[a-1].targets=e[a-1].targets.concat(e[a].targets),e[a-1].align=.5,e[a-1].pos+e[a-1].size>i&&(e[a-1].pos=i-e[a-1].size),e.splice(a,1),h=!0)}d.push.apply(d,p),a=0,f(e,function(e){var r=0;return f(e.targets,function(){return d[a].pos=e.pos+r,Math.abs(d[a].pos-d[a].target)>n?(o(d.slice(0,a+1),function(t){delete t.pos}),d.reducedLen=(d.reducedLen||i)-.1*i,d.reducedLen>.1*i&&t.distribute(d,i,n),!0):(r+=d[a].size,void a++);
})?!0:void 0}),m(d,r)},d.prototype.drawDataLabels=function(){function i(t,e){var i,n,o,r=e.filter;return r?(i=r.operator,n=t[r.property],o=r.value,">"===i&&n>o||"<"===i&&o>n||">="===i&&n>=o||"<="===i&&o>=n||"=="===i&&n==o||"==="===i&&n===o):!0}function r(t,e){var i,n=[];if(g(t)&&!g(e))n=s(t,function(t){return l(t,e)});else if(g(e)&&!g(t))n=s(e,function(e){return l(t,e)});else if(g(t)||g(e))for(i=Math.max(t.length,e.length);i--;)n[i]=l(t[i],e[i]);else n=l(t,e);return n}var u,h,d=this,p=d.chart,f=d.options,m=f.dataLabels,y=d.points,_=d.hasRendered||0,b=c(m.defer,!!f.animation),x=p.renderer;m=r(r(p.options.plotOptions&&p.options.plotOptions.series&&p.options.plotOptions.series.dataLabels,p.options.plotOptions&&p.options.plotOptions[d.type]&&p.options.plotOptions[d.type].dataLabels),m),(g(m)||m.enabled||d._hasPointLabels)&&(h=d.plotGroup("dataLabelsGroup","data-labels",b&&!_?"hidden":"visible",m.zIndex||6),b&&(h.attr({opacity:+_}),_||e(d,"afterAnimate",function(){d.visible&&h.show(!0),h[f.animation?"animate":"attr"]({opacity:1},{duration:200})})),o(y,function(e){u=v(r(m,e.dlOptions||e.options&&e.options.dataLabels)),o(u,function(o,r){var s,l,u,m,g,v,y=o.enabled&&!e.isNull&&i(e,o),_=e.dataLabels?e.dataLabels[r]:e.dataLabel,b=e.connectors?e.connectors[r]:e.connector,w=!_;y&&(s=e.getLabelConfig(),l=o[e.formatPrefix+"Format"]||o.format,u=n(l)?a(l,s,p.time):(o[e.formatPrefix+"Formatter"]||o.formatter).call(s,o),m=o.style,g=o.rotation,m.color=c(o.color,m.color,d.color,"#000000"),"contrast"===m.color&&(e.contrastColor=x.getContrast(e.color||d.color),m.color=o.inside||c(o.distance,e.labelDistance)<0||f.stacking?e.contrastColor:"#000000"),f.cursor&&(m.cursor=f.cursor),v={fill:o.backgroundColor,stroke:o.borderColor,"stroke-width":o.borderWidth,r:o.borderRadius||0,rotation:g,padding:o.padding,zIndex:1},t.objectEach(v,function(t,e){void 0===t&&delete v[e]})),!_||y&&n(u)?y&&n(u)&&(_?v.text=u:(e.dataLabels=e.dataLabels||[],_=e.dataLabels[r]=g?x.text(u,0,-9999).addClass("highcharts-data-label"):x.label(u,0,-9999,o.shape,null,null,o.useHTML,null,"data-label"),r||(e.dataLabel=_),_.addClass(" highcharts-data-label-color-"+e.colorIndex+" "+(o.className||"")+(o.useHTML?" highcharts-tracker":""))),_.options=o,_.attr(v),_.css(m).shadow(o.shadow),_.added||_.add(h),d.alignDataLabel(e,_,o,null,w)):(e.dataLabel=e.dataLabel.destroy(),e.dataLabels&&(1===e.dataLabels.length?delete e.dataLabels:delete e.dataLabels[r]),r||delete e.dataLabel,b&&(e.connector=e.connector.destroy(),e.connectors&&(1===e.connectors.length?delete e.connectors:delete e.connectors[r])))})})),t.fireEvent(this,"afterDrawDataLabels")},d.prototype.alignDataLabel=function(t,e,i,n,o){var a,s,l,u,h,d,p=this.chart,f=p.inverted,m=c(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),g=c(t.plotY,-9999),v=e.getBBox(),y=i.rotation,_=i.align,b=this.visible&&(t.series.forceDL||p.isInsidePlot(m,Math.round(g),f)||n&&p.isInsidePlot(m,f?n.x+1:n.y+n.height-1,f)),x="justify"===c(i.overflow,"justify");b&&(a=i.style.fontSize,s=p.renderer.fontMetrics(a,e).b,n=r({x:f?this.yAxis.len-g:m,y:Math.round(f?this.xAxis.len-m:g),width:0,height:0},n),r(i,{width:v.width,height:v.height}),y?(x=!1,h=p.renderer.rotCorr(s,y),d={x:n.x+i.x+n.width/2+h.x,y:n.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*n.height},e[o?"attr":"animate"](d).attr({align:_}),l=(y+720)%360,u=l>180&&360>l,"left"===_?d.y-=u?v.height:0:"center"===_?(d.x-=v.width/2,d.y-=v.height/2):"right"===_&&(d.x-=v.width,d.y-=u?0:v.height),e.placed=!0,e.alignAttr=d):(e.align(i,null,n),d=e.alignAttr),x&&n.height>=0?t.isLabelJustified=this.justifyDataLabel(e,i,d,v,n,o):c(i.crop,!0)&&(b=p.isInsidePlot(d.x,d.y)&&p.isInsidePlot(d.x+v.width,d.y+v.height)),i.shape&&!y&&e[o?"attr":"animate"]({anchorX:f?p.plotWidth-t.plotY:t.plotX,anchorY:f?p.plotHeight-t.plotX:t.plotY})),b||(e.attr({y:-9999}),e.placed=!1)},d.prototype.justifyDataLabel=function(t,e,i,n,o,r){var a,s,l=this.chart,u=e.align,c=e.verticalAlign,h=t.box?0:t.padding||0;return a=i.x+h,0>a&&("right"===u?e.align="left":e.x=-a,s=!0),a=i.x+n.width-h,a>l.plotWidth&&("left"===u?e.align="right":e.x=l.plotWidth-a,s=!0),a=i.y+h,0>a&&("bottom"===c?e.verticalAlign="top":e.y=-a,s=!0),a=i.y+n.height-h,a>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-a,s=!0),s&&(t.placed=!r,t.align(e,null,o)),s},p.pie&&(p.pie.prototype.drawDataLabels=function(){var e,r,a,s,l,u,h,p,f,m,g=this,v=g.data,y=g.chart,_=g.options.dataLabels,b=c(_.connectorPadding,10),x=c(_.connectorWidth,1),w=y.plotWidth,k=y.plotHeight,C=Math.round(y.chartWidth/3),S=g.center,T=S[2]/2,A=S[1],E=[[],[]],M=[0,0,0,0];g.visible&&(_.enabled||g._hasPointLabels)&&(o(v,function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)}),d.prototype.drawDataLabels.apply(g),o(v,function(t){t.dataLabel&&(t.visible?(E[t.half].push(t),t.dataLabel._pos=null,n(_.style.width)||n(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)||t.dataLabel.getBBox().width>C&&(t.dataLabel.css({width:.7*C}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))}),o(E,function(i,r){var d,v,x,C,E,D,I=i.length,P=[];if(I)for(g.sortByAngle(i,r-.5),g.maxLabelDistance>0&&(d=Math.max(0,A-T-g.maxLabelDistance),v=Math.min(A+T+g.maxLabelDistance,y.plotHeight),o(i,function(t){t.labelDistance>0&&t.dataLabel&&(t.top=Math.max(0,A-T-t.labelDistance),t.bottom=Math.min(A+T+t.labelDistance,y.plotHeight),E=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPos[1]-t.top+E/2,size:E,rank:t.y},P.push(t.distributeBox))}),D=v+E-d,t.distribute(P,D,D/5)),m=0;I>m;m++)e=i[m],l=e.labelPos,a=e.dataLabel,f=e.visible===!1?"hidden":"inherit",x=l[1],p=x,P&&n(e.distributeBox)&&(void 0===e.distributeBox.pos?f="hidden":(u=e.distributeBox.size,p=e.top+e.distributeBox.pos)),delete e.positionIndex,h=_.justify?S[0]+(r?-1:1)*(T+e.labelDistance):g.getX(p<e.top+2||p>e.bottom-2?x:p,r,e),a._attr={visibility:f,align:l[6]},a._pos={x:h+_.x+({left:b,right:-b}[l[6]]||0),y:p+_.y-10},l.x=h,l.y=p,c(_.crop,!0)&&(s=a.getBBox().width,C=null,b>h-s&&1===r?(C=Math.round(s-h+b),M[3]=Math.max(C,M[3])):h+s>w-b&&0===r&&(C=Math.round(h+s-w+b),M[1]=Math.max(C,M[1])),0>p-u/2?M[0]=Math.max(Math.round(-p+u/2),M[0]):p+u/2>k&&(M[2]=Math.max(Math.round(p+u/2-k),M[2])),a.sideOverflow=C)}),(0===i(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),x&&o(this.points,function(t){var e;r=t.connector,a=t.dataLabel,a&&a._pos&&t.visible&&t.labelDistance>0?(f=a._attr.visibility,e=!r,e&&(t.connector=r=y.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex+(t.className?" "+t.className:"")).add(g.dataLabelsGroup),r.attr({"stroke-width":x,stroke:_.connectorColor||t.color||"#666666"})),r[e?"attr":"animate"]({d:g.connectorPath(t.labelPos)}),r.attr("visibility",f)):r&&(t.connector=r.destroy())})))},p.pie.prototype.connectorPath=function(t){var e=t.x,i=t.y;return c(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),i,"C",e,i,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),i,"L",t[2],t[3],"L",t[4],t[5]]},p.pie.prototype.placeDataLabels=function(){o(this.points,function(t){var e,i=t.dataLabel;i&&t.visible&&(e=i._pos,e?(i.sideOverflow&&(i._attr.width=i.getBBox().width-i.sideOverflow,i.css({width:i._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),i.shortened=!0),i.attr(i._attr),i[i.moved?"animate":"attr"](e),i.moved=!0):i&&i.attr({y:-9999}))},this)},p.pie.prototype.alignDataLabel=u,p.pie.prototype.verifyDataLabelOverflow=function(t){var e=this.center,i=this.options,n=i.center,o=i.minSize||80,r=o,a=null!==i.size;return a||(null!==n[0]?r=Math.max(e[2]-Math.max(t[1],t[3]),o):(r=Math.max(e[2]-t[1]-t[3],o),e[0]+=(t[3]-t[1])/2),null!==n[1]?r=Math.max(Math.min(r,e[2]-Math.max(t[0],t[2])),o):(r=Math.max(Math.min(r,e[2]-t[0]-t[2]),o),e[1]+=(t[0]-t[2])/2),r<e[2]?(e[2]=r,e[3]=Math.min(h(i.innerSize||0,r),r),this.translate(e),this.drawDataLabels&&this.drawDataLabels()):a=!0),a}),p.column&&(p.column.prototype.alignDataLabel=function(t,e,i,n,o){var r,a=this.chart.inverted,s=t.series,u=t.dlBox||t.shapeArgs,h=c(t.below,t.plotY>c(this.translatedThreshold,s.yAxis.len)),p=c(i.inside,!!this.options.stacking);u&&(n=l(u),n.y<0&&(n.height+=n.y,n.y=0),r=n.y+n.height-s.yAxis.len,r>0&&(n.height-=r),a&&(n={x:s.yAxis.len-n.y-n.height,y:s.xAxis.len-n.x-n.width,width:n.height,height:n.width}),p||(a?(n.x+=h?0:n.width,n.width=0):(n.y+=h?n.height:0,n.height=0))),i.align=c(i.align,!a||p?"center":h?"right":"left"),i.verticalAlign=c(i.verticalAlign,a||p?"middle":h?"top":"bottom"),d.prototype.alignDataLabel.call(this,t,e,i,n,o),t.isLabelJustified&&t.contrastColor&&e.css({color:t.contrastColor})})}(e),function(t){var e=t.Chart,i=t.each,n=t.isArray,o=t.objectEach,r=t.pick,a=t.addEvent;a(e,"render",function(){var t=[];i(this.labelCollectors||[],function(e){t=t.concat(e())}),i(this.yAxis||[],function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&o(e.stacks,function(e){o(e,function(e){t.push(e.label)})})}),i(this.series||[],function(e){var o=e.options.dataLabels;e.visible&&(o.enabled!==!1||e._hasPointLabels)&&i(e.points,function(e){if(e.visible){var o=n(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[];i(o,function(i){var n=i.options;i.labelrank=r(n.labelrank,e.labelrank,e.shapeArgs&&e.shapeArgs.height),n.allowOverlap||t.push(i)})}})}),this.hideOverlappingLabels(t)}),e.prototype.hideOverlappingLabels=function(t){var e,n,o,r,a,s,l,u,c=t.length,h=this.renderer,d=function(t,e,i,n,o,r,a,s){return!(o>t+i||t>o+a||r>e+n||e>r+s)},p=function(t){var e,i,n,o=t.box?0:t.padding||0,r=0;return!t||t.alignAttr&&!t.placed?void 0:(e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},i=t.parentGroup,t.width||(n=t.getBBox(),t.width=n.width,t.height=n.height,r=h.fontMetrics(null,t.element).h),{x:e.x+(i.translateX||0)+o,y:e.y+(i.translateY||0)+o-r,width:t.width-2*o,height:t.height-2*o})};for(n=0;c>n;n++)e=t[n],e&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=p(e));for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),n=0;c>n;n++)for(r=t[n],l=r&&r.absoluteBox,o=n+1;c>o;++o)a=t[o],u=a&&a.absoluteBox,l&&u&&r!==a&&0!==r.newOpacity&&0!==a.newOpacity&&(s=d(l.x,l.y,l.width,l.height,u.x,u.y,u.width,u.height),s&&((r.labelrank<a.labelrank?r:a).newOpacity=0));i(t,function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&(t.alignAttr&&t.placed?(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)):t.attr({opacity:i})),t.isOld=!0)})}}(e),function(t){var e,i=t.addEvent,n=t.Chart,o=t.createElement,r=t.css,a=t.defaultOptions,s=t.defaultPlotOptions,l=t.each,u=t.extend,c=t.fireEvent,h=t.hasTouch,d=t.inArray,p=t.isObject,f=t.Legend,m=t.merge,g=t.pick,v=t.Point,y=t.Series,_=t.seriesTypes,b=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,n=function(t){var e=i.getPointFromEvent(t);void 0!==e&&(i.isDirectTouch=!0,e.onMouseOver(t))};l(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)}),t._hasTracking||(l(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(t){i.onTrackerMouseOut(t)}),h&&t[e].on("touchstart",n),t.options.cursor&&t[e].css(r).css({cursor:t.options.cursor}))}),t._hasTracking=!0),c(this,"afterDrawTracker")},drawTrackerGraph:function(){var t,e=this,i=e.options,n=i.trackByArea,o=[].concat(n?e.areaPath:e.graphPath),r=o.length,a=e.chart,s=a.pointer,u=a.renderer,d=a.options.tooltip.snap,p=e.tracker,f=function(){a.hoverSeries!==e&&e.onMouseOver()},m="rgba(192,192,192,"+(b?1e-4:.002)+")";if(r&&!n)for(t=r+1;t--;)"M"===o[t]&&o.splice(t+1,0,o[t+1]-d,o[t+2],"L"),(t&&"M"===o[t]||t===r)&&o.splice(t,0,"L",o[t-2]+d,o[t-1]);p?p.attr({d:o}):e.graph&&(e.tracker=u.path(o).attr({"stroke-linejoin":"round",stroke:m,fill:n?m:"none","stroke-width":e.graph.strokeWidth()+(n?0:2*d),visibility:e.visible?"visible":"hidden",zIndex:2}).addClass(n?"highcharts-tracker-area":"highcharts-tracker-line").add(e.group),l([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(t){s.onTrackerMouseOut(t)}),i.cursor&&t.css({cursor:i.cursor}),h&&t.on("touchstart",f)})),c(this,"afterDrawTracker")}},_.column&&(_.column.prototype.drawTracker=e.drawTrackerPoint),_.pie&&(_.pie.prototype.drawTracker=e.drawTrackerPoint),_.scatter&&(_.scatter.prototype.drawTracker=e.drawTrackerPoint),a.legend.itemStyle.cursor="pointer",u(f.prototype,{setItemEvents:function(t,e,i){var n=this,o=n.chart.renderer.boxWrapper,r="highcharts-legend-"+(t instanceof v?"point":"series")+"-active";(i?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),o.addClass(r),e.css(n.options.itemHoverStyle)}).on("mouseout",function(){e.css(m(t.visible?n.itemStyle:n.itemHiddenStyle)),o.removeClass(r),t.setState()}).on("click",function(e){var i="legendItemClick",n=function(){t.setVisible&&t.setVisible()};o.removeClass(r),e={browserEvent:e},t.firePointEvent?t.firePointEvent(i,e,n):c(t,i,e,n)})},createCheckboxForItem:function(t){var e=this;t.checkbox=o("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},e.options.itemCheckboxStyle,e.chart.container),i(t.checkbox,"click",function(e){var i=e.target;c(t.series||t,"checkboxClick",{checked:i.checked,item:t},function(){t.select()})})}}),u(n.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,i=a.lang,n=e.options.chart.resetZoomButton,o=n.theme,r=o.states,s="chart"===n.relativeTo?null:"plotBox";c(this,"beforeShowResetZoom",null,function(){e.resetZoomButton=e.renderer.button(i.resetZoom,null,null,t,o,r&&r.hover).attr({align:n.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(n.position,!1,s)})},zoomOut:function(){c(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(t){var e,i,n=this,o=n.pointer,r=!1;!t||t.resetSelection?(l(n.axes,function(t){e=t.zoom()}),o.initiated=!1):l(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,n=i.isXAxis;o[n?"zoomX":"zoomY"]&&(e=i.zoom(t.min,t.max),i.displayBtn&&(r=!0))}),i=n.resetZoomButton,r&&!i?n.showResetZoom():!r&&p(i)&&(n.resetZoomButton=i.destroy()),e&&n.redraw(g(n.options.chart.animation,t&&t.animation,n.pointCount<100))},pan:function(t,e){var i,n=this,o=n.hoverPoints;o&&l(o,function(t){t.setState()}),l("xy"===e?[1,0]:[1],function(e){var o,r=n[e?"xAxis":"yAxis"][0],a=r.horiz,s=t[a?"chartX":"chartY"],l=a?"mouseDownX":"mouseDownY",u=n[l],c=(r.pointRange||0)/2,h=r.reversed&&!n.inverted||!r.reversed&&n.inverted?-1:1,d=r.getExtremes(),p=r.toValue(u-s,!0)+c*h,f=r.toValue(u+r.len-s,!0)-c*h,m=p>f,g=m?f:p,v=m?p:f,y=Math.min(d.dataMin,c?d.min:r.toValue(r.toPixels(d.min)-r.minPixelPadding)),_=Math.max(d.dataMax,c?d.max:r.toValue(r.toPixels(d.max)+r.minPixelPadding));o=y-g,o>0&&(v+=o,g=y),o=v-_,o>0&&(v=_,g-=o),r.series.length&&g!==d.min&&v!==d.max&&(r.setExtremes(g,v,!1,!1,{trigger:"pan"}),i=!0),n[l]=s}),i&&n.redraw(!1),r(n.container,{cursor:"move"})}}),u(v.prototype,{select:function(t,e){var i=this,n=i.series,o=n.chart;t=g(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[d(i,n.data)]=i.options,i.setState(t&&"select"),e||l(o.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[d(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this,i=e.series,n=i.chart,o=n.pointer;t=t?o.normalize(t):o.getChartCoordinatesFromPoint(e,n.inverted),o.runPointActions(t,e)},onMouseOut:function(){var t=this,e=t.series.chart;t.firePointEvent("mouseOut"),l(e.hoverPoints||[],function(t){t.setState()}),e.hoverPoints=e.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,n=m(e.series.options.point,e.options),o=n.events;e.events=o,t.objectEach(o,function(t,n){i(e,n,t)}),this.hasImportedEvents=!0}},setState:function(t,e){var i,n,o,r=this,a=Math.floor(r.plotX),l=r.plotY,h=r.series,d=h.options.states[t||"normal"]||{},p=s[h.type].marker&&h.options.marker,f=p&&p.enabled===!1,m=p&&p.states&&p.states[t||"normal"]||{},v=m.enabled===!1,y=h.stateMarkerGraphic,_=r.marker||{},b=h.chart,x=h.halo,w=p&&h.markerAttribs;t=t||"",t===r.state&&!e||r.selected&&"select"!==t||d.enabled===!1||t&&(v||f&&m.enabled===!1)||t&&_.states&&_.states[t]&&_.states[t].enabled===!1||(w&&(n=h.markerAttribs(r,t)),r.graphic?(r.state&&r.graphic.removeClass("highcharts-point-"+r.state),t&&r.graphic.addClass("highcharts-point-"+t),r.graphic.animate(h.pointAttribs(r,t),g(b.options.chart.animation,d.animation)),n&&r.graphic.animate(n,g(b.options.chart.animation,m.animation,p.animation)),y&&y.hide()):(t&&m&&(o=_.symbol||h.symbol,y&&y.currentSymbol!==o&&(y=y.destroy()),y?y[e?"animate":"attr"]({x:n.x,y:n.y}):o&&(h.stateMarkerGraphic=y=b.renderer.symbol(o,n.x,n.y,n.width,n.height).add(h.markerGroup),y.currentSymbol=o),y&&y.attr(h.pointAttribs(r,t))),y&&(y[t&&b.isInsidePlot(a,l,b.inverted)?"show":"hide"](),y.element.point=r)),i=d.halo,i&&i.size?(x||(h.halo=x=b.renderer.path().add((r.graphic||y).parentGroup)),x.show()[e?"animate":"attr"]({d:r.haloPath(i.size)}),x.attr({"class":"highcharts-halo highcharts-color-"+g(r.colorIndex,h.colorIndex)+(r.className?" "+r.className:""),zIndex:-1}),x.point=r,x.attr(u({fill:r.color||h.color,"fill-opacity":i.opacity},i.attributes))):x&&x.point&&x.point.haloPath&&x.animate({d:x.point.haloPath(0)},null,x.hide),r.state=t,c(r,"afterSetState"))},haloPath:function(t){var e=this.series,i=e.chart;return i.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),u(y.prototype,{onMouseOver:function(){var t=this,e=t.chart,i=e.hoverSeries;i&&i!==t&&i.onMouseOut(),t.options.events.mouseOver&&c(t,"mouseOver"),t.setState("hover"),e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,i=t.chart,n=i.tooltip,o=i.hoverPoint;i.hoverSeries=null,o&&o.onMouseOut(),t&&e.events.mouseOut&&c(t,"mouseOut"),!n||t.stickyTracking||n.shared&&!t.noSharedTooltip||n.hide(),t.setState()},setState:function(t){var e,i=this,n=i.options,o=i.graph,r=n.states,a=n.lineWidth,s=0;if(t=t||"",i.state!==t){if(l([i.group,i.markerGroup,i.dataLabelsGroup],function(e){e&&(i.state&&e.removeClass("highcharts-series-"+i.state),t&&e.addClass("highcharts-series-"+t))}),i.state=t,r[t]&&r[t].enabled===!1)return;if(t&&(a=r[t].lineWidth||a+(r[t].lineWidthPlus||0)),o&&!o.dashstyle)for(e={"stroke-width":a},o.animate(e,g(r[t||"normal"]&&r[t||"normal"].animation,i.chart.options.chart.animation));i["zone-graph-"+s];)i["zone-graph-"+s].attr(e),s+=1}},setVisible:function(t,e){var i,n=this,o=n.chart,r=n.legendItem,a=o.options.chart.ignoreHiddenSeries,s=n.visible;n.visible=t=n.options.visible=n.userOptions.visible=void 0===t?!s:t,i=t?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){n[t]&&n[t][i]()}),o.hoverSeries!==n&&(o.hoverPoint&&o.hoverPoint.series)!==n||n.onMouseOut(),r&&o.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&l(o.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),l(n.linkedSeries,function(e){e.setVisible(t,!1)}),a&&(o.isDirtyBox=!0),c(n,i),e!==!1&&o.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var e=this;e.selected=t=void 0===t?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),c(e,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(e),function(t){var e=t.Chart,i=t.each,n=t.inArray,o=t.isArray,r=t.isObject,a=t.pick,s=t.splat;e.prototype.setResponsive=function(e){var n,o=this.options.responsive,r=[],a=this.currentResponsive;o&&o.rules&&i(o.rules,function(i){void 0===i._id&&(i._id=t.uniqueKey()),this.matchResponsiveRule(i,r,e)},this);var s=t.merge.apply(0,t.map(r,function(e){return t.find(o.rules,function(t){return t._id===e}).chartOptions}));r=r.toString()||void 0,n=a&&a.ruleIds,r!==n&&(a&&this.update(a.undoOptions,e),r?(this.currentResponsive={ruleIds:r,mergedOptions:s,undoOptions:this.currentOptions(s)},this.update(s,e)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var i=t.condition,n=i.callback||function(){return this.chartWidth<=a(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=a(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=a(i.minWidth,0)&&this.chartHeight>=a(i.minHeight,0)};n.call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){function i(e,a,l,u){var c;t.objectEach(e,function(t,e){if(!u&&n(e,["series","xAxis","yAxis"])>-1)for(t=s(t),l[e]=[],c=0;c<t.length;c++)a[e][c]&&(l[e][c]={},i(t[c],a[e][c],l[e][c],u+1));else r(t)?(l[e]=o(t)?[]:{},i(t,a[e]||{},l[e],u+1)):l[e]=a[e]||null})}var a={};return i(e,this.options,a,0),a}}(e),function(t){return t}(e)}),!function(t){var e,i,n="0.4.2",o="hasOwnProperty",r=/[\.\/]/,a=/\s*,\s*/,s="*",l=function(t,e){return t-e},u={n:{}},c=function(){for(var t=0,e=this.length;e>t;t++)if("undefined"!=typeof this[t])return this[t]},h=function(){for(var t=this.length;--t;)if("undefined"!=typeof this[t])return this[t]},d=function(t,n){t=String(t);var o,r=i,a=Array.prototype.slice.call(arguments,2),s=d.listeners(t),u=0,p=[],f={},m=[],g=e;m.firstDefined=c,m.lastDefined=h,e=t,i=0;for(var v=0,y=s.length;y>v;v++)"zIndex"in s[v]&&(p.push(s[v].zIndex),s[v].zIndex<0&&(f[s[v].zIndex]=s[v]));for(p.sort(l);p[u]<0;)if(o=f[p[u++]],m.push(o.apply(n,a)),i)return i=r,m;for(v=0;y>v;v++)if(o=s[v],"zIndex"in o)if(o.zIndex==p[u]){if(m.push(o.apply(n,a)),i)break;do if(u++,o=f[p[u]],o&&m.push(o.apply(n,a)),i)break;while(o)}else f[o.zIndex]=o;else if(m.push(o.apply(n,a)),i)break;return i=r,e=g,m};d._events=u,d.listeners=function(t){var e,i,n,o,a,l,c,h,d=t.split(r),p=u,f=[p],m=[];for(o=0,a=d.length;a>o;o++){for(h=[],l=0,c=f.length;c>l;l++)for(p=f[l].n,i=[p[d[o]],p[s]],n=2;n--;)e=i[n],e&&(h.push(e),m=m.concat(e.f||[]));f=h}return m},d.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var i=t.split(a),n=0,o=i.length;o>n;n++)!function(t){for(var i,n=t.split(r),o=u,a=0,s=n.length;s>a;a++)o=o.n,o=o.hasOwnProperty(n[a])&&o[n[a]]||(o[n[a]]={n:{}});for(o.f=o.f||[],a=0,s=o.f.length;s>a;a++)if(o.f[a]==e){i=!0;break}!i&&o.f.push(e)}(i[n]);return function(t){+t==+t&&(e.zIndex=+t)}},d.f=function(t){var e=[].slice.call(arguments,1);return function(){d.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},d.stop=function(){i=1},d.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},d.nts=function(){return e.split(r)},d.off=d.unbind=function(t,e){if(!t)return void(d._events=u={n:{}});var i=t.split(a);if(i.length>1)for(var n=0,l=i.length;l>n;n++)d.off(i[n],e);else{i=t.split(r);var c,h,p,n,l,f,m,g=[u];for(n=0,l=i.length;l>n;n++)for(f=0;f<g.length;f+=p.length-2){if(p=[f,1],c=g[f].n,i[n]!=s)c[i[n]]&&p.push(c[i[n]]);else for(h in c)c[o](h)&&p.push(c[h]);g.splice.apply(g,p)}for(n=0,l=g.length;l>n;n++)for(c=g[n];c.n;){if(e){if(c.f){for(f=0,m=c.f.length;m>f;f++)if(c.f[f]==e){c.f.splice(f,1);break}!c.f.length&&delete c.f}for(h in c.n)if(c.n[o](h)&&c.n[h].f){var v=c.n[h].f;for(f=0,m=v.length;m>f;f++)if(v[f]==e){v.splice(f,1);break}!v.length&&delete c.n[h].f}}else{delete c.f;for(h in c.n)c.n[o](h)&&c.n[h].f&&delete c.n[h].f}c=c.n}}},d.once=function(t,e){var i=function(){return d.unbind(t,i),e.apply(this,arguments)};return d.on(t,i)},d.version=n,d.toString=function(){return"You are running Eve "+n},"undefined"!=typeof module&&module.exports?module.exports=d:"function"==typeof define&&define.amd?define("eve",[],function(){return d}):t.eve=d}(this),function(t,e){"function"==typeof define&&define.amd?define(["eve"],function(i){return e(t,i)}):e(t,t.eve)}(this,function(t,e){var i=function(e){var i={},n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},o=Array.isArray||function(t){return t instanceof Array||"[object Array]"==Object.prototype.toString.call(t)},r=0,a="M"+(+new Date).toString(36),s=function(){return a+(r++).toString(36)},l=Date.now||function(){return+new Date},u=function(t){var e=this;if(null==t)return e.s;var i=e.s-t;e.b+=e.dur*i,e.B+=e.dur*i,e.s=t},c=function(t){var e=this;return null==t?e.spd:void(e.spd=t)},h=function(t){var e=this;return null==t?e.dur:(e.s=e.s*t/e.dur,void(e.dur=t))},d=function(){var t=this;delete i[t.id],t.update(),e("mina.stop."+t.id,t)},p=function(){var t=this;t.pdif||(delete i[t.id],t.update(),t.pdif=t.get()-t.b)},f=function(){var t=this;t.pdif&&(t.b=t.get()-t.pdif,delete t.pdif,i[t.id]=t)},m=function(){var t,e=this;if(o(e.start)){t=[];for(var i=0,n=e.start.length;n>i;i++)t[i]=+e.start[i]+(e.end[i]-e.start[i])*e.easing(e.s)}else t=+e.start+(e.end-e.start)*e.easing(e.s);e.set(t)},g=function(){var t=0;for(var o in i)if(i.hasOwnProperty(o)){var r=i[o],a=r.get();t++,r.s=(a-r.b)/(r.dur/r.spd),r.s>=1&&(delete i[o],r.s=1,t--,function(t){setTimeout(function(){e("mina.finish."+t.id,t)})}(r)),r.update()}t&&n(g)},v=function(t,e,o,r,a,l,y){var _={id:s(),start:t,end:e,b:o,s:0,dur:r-o,spd:1,get:a,set:l,easing:y||v.linear,status:u,speed:c,duration:h,stop:d,pause:p,resume:f,update:m};i[_.id]=_;var b,x=0;for(b in i)if(i.hasOwnProperty(b)&&(x++,2==x))break;return 1==x&&n(g),_};return v.time=l,v.getById=function(t){return i[t]||null},v.linear=function(t){return t},v.easeout=function(t){return Math.pow(t,1.7)},v.easein=function(t){return Math.pow(t,.48)},v.easeinout=function(t){if(1==t)return 1;if(0==t)return 0;var e=.48-t/1.04,i=Math.sqrt(.1734+e*e),n=i-e,o=Math.pow(Math.abs(n),1/3)*(0>n?-1:1),r=-i-e,a=Math.pow(Math.abs(r),1/3)*(0>r?-1:1),s=o+a+.5;return 3*(1-s)*s*s+s*s*s},v.backin=function(t){if(1==t)return 1;var e=1.70158;return t*t*((e+1)*t-e)},v.backout=function(t){if(0==t)return 0;t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},v.elastic=function(t){return t==!!t?t:Math.pow(2,-10*t)*Math.sin(2*(t-.075)*Math.PI/.3)+1},v.bounce=function(t){var e,i=7.5625,n=2.75;return 1/n>t?e=i*t*t:2/n>t?(t-=1.5/n,e=i*t*t+.75):2.5/n>t?(t-=2.25/n,e=i*t*t+.9375):(t-=2.625/n,e=i*t*t+.984375),e},t.mina=v,v}("undefined"==typeof e?function(){}:e),n=function(){function n(t,e){if(t){if(t.tagName)return C(t);if(r(t,"array")&&n.set)return n.set.apply(n,t);if(t instanceof b)return t;if(null==e)return t=S.doc.querySelector(t),C(t)}return t=null==t?"100%":t,e=null==e?"100%":e,new k(t,e)}function o(t,e){if(e){if("#text"==t&&(t=S.doc.createTextNode(e.text||"")),"string"==typeof t&&(t=o(t)),"string"==typeof e)return"xlink:"==e.substring(0,6)?t.getAttributeNS(G,e.substring(6)):"xml:"==e.substring(0,4)?t.getAttributeNS(X,e.substring(4)):t.getAttribute(e);for(var i in e)if(e[T](i)){var n=A(e[i]);n?"xlink:"==i.substring(0,6)?t.setAttributeNS(G,i.substring(6),n):"xml:"==i.substring(0,4)?t.setAttributeNS(X,i.substring(4),n):t.setAttribute(i,n):t.removeAttribute(i)}}else t=S.doc.createElementNS(X,t);return t}function r(t,e){return e=A.prototype.toLowerCase.call(e),"finite"==e?isFinite(t):"array"==e&&(t instanceof Array||Array.isArray&&Array.isArray(t))?!0:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||N.call(t).slice(8,-1).toLowerCase()==e}function a(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[T](i)&&(e[i]=a(t[i]));return e}function s(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}function l(t,e,i){function n(){var o=Array.prototype.slice.call(arguments,0),r=o.join("\u2400"),a=n.cache=n.cache||{},l=n.count=n.count||[];return a[T](r)?(s(l,r),i?i(a[r]):a[r]):(l.length>=1e3&&delete a[l.shift()],l.push(r),a[r]=t.apply(e,o),i?i(a[r]):a[r])}return n}function u(t,e,i,n,o,r){if(null==o){var a=t-i,s=e-n;return a||s?(180+180*D.atan2(-s,-a)/O+360)%360:0}return u(t,e,o,r)-u(i,n,o,r)}function c(t){return t%360*O/180}function h(t){return 180*t/O%360}function d(t){var e=[];return t=t.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(t,i,n){return n=n.split(/\s*,\s*|\s+/),"rotate"==i&&1==n.length&&n.push(0,0),"scale"==i&&(n.length>2?n=n.slice(0,2):2==n.length&&n.push(0,0),1==n.length&&n.push(n[0],0,0)),e.push("skewX"==i?["m",1,0,D.tan(c(n[0])),1,0,0]:"skewY"==i?["m",1,D.tan(c(n[0])),0,1,0,0]:[i.charAt(0)].concat(n)),t}),e}function p(t,e){var i=ot(t),o=new n.Matrix;if(i)for(var r=0,a=i.length;a>r;r++){var s,l,u,c,h,d=i[r],p=d.length,f=A(d[0]).toLowerCase(),m=d[0]!=f,g=m?o.invert():0;"t"==f&&2==p?o.translate(d[1],0):"t"==f&&3==p?m?(s=g.x(0,0),l=g.y(0,0),u=g.x(d[1],d[2]),c=g.y(d[1],d[2]),o.translate(u-s,c-l)):o.translate(d[1],d[2]):"r"==f?2==p?(h=h||e,o.rotate(d[1],h.x+h.width/2,h.y+h.height/2)):4==p&&(m?(u=g.x(d[2],d[3]),c=g.y(d[2],d[3]),o.rotate(d[1],u,c)):o.rotate(d[1],d[2],d[3])):"s"==f?2==p||3==p?(h=h||e,o.scale(d[1],d[p-1],h.x+h.width/2,h.y+h.height/2)):4==p?m?(u=g.x(d[2],d[3]),c=g.y(d[2],d[3]),o.scale(d[1],d[1],u,c)):o.scale(d[1],d[1],d[2],d[3]):5==p&&(m?(u=g.x(d[3],d[4]),c=g.y(d[3],d[4]),o.scale(d[1],d[2],u,c)):o.scale(d[1],d[2],d[3],d[4])):"m"==f&&7==p&&o.add(d[1],d[2],d[3],d[4],d[5],d[6])}return o}function f(t,e){if(null==e){var i=!0;if(e=t.node.getAttribute("linearGradient"==t.type||"radialGradient"==t.type?"gradientTransform":"pattern"==t.type?"patternTransform":"transform"),!e)return new n.Matrix;e=d(e)}else e=n._.rgTransform.test(e)?A(e).replace(/\.{3}|\u2026/g,t._.transform||z):d(e),r(e,"array")&&(e=n.path?n.path.toString.call(e):A(e)),t._.transform=e;var o=p(e,t.getBBox(1));return i?o:void(t.matrix=o)}function m(t){var e=t.node.ownerSVGElement&&C(t.node.ownerSVGElement)||t.node.parentNode&&C(t.node.parentNode)||n.select("svg")||n(0,0),i=e.select("defs"),o=null==i?!1:i.node;return o||(o=w("defs",e.node).node),o}function v(t){return t.node.ownerSVGElement&&C(t.node.ownerSVGElement)||n.select("svg")}function y(t,e,i){function n(t){if(null==t)return z;if(t==+t)return t;o(u,{width:t});try{return u.getBBox().width}catch(e){return 0}}function r(t){if(null==t)return z;if(t==+t)return t;o(u,{height:t});try{return u.getBBox().height}catch(e){return 0}}function a(n,o){null==e?l[n]=o(t.attr(n)||0):n==e&&(l=o(null==i?t.attr(n)||0:i))}var s=v(t).node,l={},u=s.querySelector(".svg---mgr");switch(u||(u=o("rect"),o(u,{x:-9e9,y:-9e9,width:10,height:10,"class":"svg---mgr",fill:"none"}),s.appendChild(u)),t.type){case"rect":a("rx",n),a("ry",r);case"image":a("width",n),a("height",r);case"text":a("x",n),a("y",r);break;case"circle":a("cx",n),a("cy",r),a("r",n);break;case"ellipse":a("cx",n),a("cy",r),a("rx",n),a("ry",r);break;case"line":a("x1",n),a("x2",n),a("y1",r),a("y2",r);break;case"marker":a("refX",n),a("markerWidth",n),a("refY",r),a("markerHeight",r);break;case"radialGradient":a("fx",n),a("fy",r);break;case"tspan":a("dx",n),a("dy",r);break;default:a(e,n)}return s.removeChild(u),l}function _(t){r(t,"array")||(t=Array.prototype.slice.call(arguments,0));for(var e=0,i=0,n=this.node;this[e];)delete this[e++];for(e=0;e<t.length;e++)"set"==t[e].type?t[e].forEach(function(t){n.appendChild(t.node)}):n.appendChild(t[e].node);var o=n.childNodes;for(e=0;e<o.length;e++)this[i++]=C(o[e]);return this}function b(t){if(t.snap in Z)return Z[t.snap];var e,i=this.id=Y();try{e=t.ownerSVGElement}catch(n){}if(this.node=t,e&&(this.paper=new k(e)),this.type=t.tagName,this.anims={},this._={transform:[]},t.snap=i,Z[i]=this,"g"==this.type&&(this.add=_),this.type in{g:1,mask:1,pattern:1})for(var o in k.prototype)k.prototype[T](o)&&(this[o]=k.prototype[o])}function x(t){this.node=t}function w(t,e){var i=o(t);e.appendChild(i);var n=C(i);return n}function k(t,e){var i,n,r,a=k.prototype;if(t&&"svg"==t.tagName){if(t.snap in Z)return Z[t.snap];var s=t.ownerDocument;i=new b(t),n=t.getElementsByTagName("desc")[0],r=t.getElementsByTagName("defs")[0],n||(n=o("desc"),n.appendChild(s.createTextNode("Created with Snap")),i.node.appendChild(n)),r||(r=o("defs"),i.node.appendChild(r)),i.defs=r;for(var l in a)a[T](l)&&(i[l]=a[l]);i.paper=i.root=i}else i=w("svg",S.doc.body),o(i.node,{height:e,version:1.1,width:t,xmlns:X});return i}function C(t){return t?t instanceof b||t instanceof x?t:t.tagName&&"svg"==t.tagName.toLowerCase()?new k(t):t.tagName&&"object"==t.tagName.toLowerCase()&&"image/svg+xml"==t.type?new k(t.contentDocument.getElementsByTagName("svg")[0]):new b(t):t}n.version="0.3.0",n.toString=function(){return"Snap v"+this.version},n._={};var S={win:t,doc:t.document};n._.glob=S;var T="hasOwnProperty",A=String,E=parseFloat,M=parseInt,D=Math,I=D.max,P=D.min,L=D.abs,O=(D.pow,D.PI),z=(D.round,""),R=" ",N=Object.prototype.toString,$=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,F="	\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",B=(n._.separator=new RegExp("[,"+F+"]+"),
new RegExp("["+F+"]","g"),new RegExp("["+F+"]*,["+F+"]*")),j={hs:1,rg:1},H=new RegExp("([a-z])["+F+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+F+"]*,?["+F+"]*)+)","ig"),W=new RegExp("([rstm])["+F+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+F+"]*,?["+F+"]*)+)","ig"),q=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+F+"]*,?["+F+"]*","ig"),V=0,U="S"+(+new Date).toString(36),Y=function(){return U+(V++).toString(36)},G="http://www.w3.org/1999/xlink",X="http://www.w3.org/2000/svg",Z={},K=n.url=function(t){return"url('#"+t+"')"};n._.$=o,n._.id=Y,n.format=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(t,i,n){var o=n;return i.replace(e,function(t,e,i,n,r){e=e||n,o&&(e in o&&(o=o[e]),"function"==typeof o&&r&&(o=o()))}),o=(null==o||o==n?t:o)+""};return function(e,n){return A(e).replace(t,function(t,e){return i(t,e,n)})}}(),n._.clone=a,n._.cacher=l,n.rad=c,n.deg=h,n.angle=u,n.is=r,n.snapTo=function(t,e,i){if(i=r(i,"finite")?i:10,r(t,"array")){for(var n=t.length;n--;)if(L(t[n]-e)<=i)return t[n]}else{t=+t;var o=e%t;if(i>o)return e-o;if(o>t-i)return e-o+t}return e},n.getRGB=l(function(t){if(!t||(t=A(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:et};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:et};if(!(j[T](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=J(t)),!t)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:et};var e,i,o,a,s,l,u=t.match($);return u?(u[2]&&(o=M(u[2].substring(5),16),i=M(u[2].substring(3,5),16),e=M(u[2].substring(1,3),16)),u[3]&&(o=M((s=u[3].charAt(3))+s,16),i=M((s=u[3].charAt(2))+s,16),e=M((s=u[3].charAt(1))+s,16)),u[4]&&(l=u[4].split(B),e=E(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),i=E(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),o=E(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),"rgba"==u[1].toLowerCase().slice(0,4)&&(a=E(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100)),u[5]?(l=u[5].split(B),e=E(l[0]),"%"==l[0].slice(-1)&&(e/=100),i=E(l[1]),"%"==l[1].slice(-1)&&(i/=100),o=E(l[2]),"%"==l[2].slice(-1)&&(o/=100),("deg"==l[0].slice(-3)||"\xb0"==l[0].slice(-1))&&(e/=360),"hsba"==u[1].toLowerCase().slice(0,4)&&(a=E(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),n.hsb2rgb(e,i,o,a)):u[6]?(l=u[6].split(B),e=E(l[0]),"%"==l[0].slice(-1)&&(e/=100),i=E(l[1]),"%"==l[1].slice(-1)&&(i/=100),o=E(l[2]),"%"==l[2].slice(-1)&&(o/=100),("deg"==l[0].slice(-3)||"\xb0"==l[0].slice(-1))&&(e/=360),"hsla"==u[1].toLowerCase().slice(0,4)&&(a=E(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),n.hsl2rgb(e,i,o,a)):(e=P(D.round(e),255),i=P(D.round(i),255),o=P(D.round(o),255),a=P(I(a,0),1),u={r:e,g:i,b:o,toString:et},u.hex="#"+(16777216|o|i<<8|e<<16).toString(16).slice(1),u.opacity=r(a,"finite")?a:1,u)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:et}},n),n.hsb=l(function(t,e,i){return n.hsb2rgb(t,e,i).hex}),n.hsl=l(function(t,e,i){return n.hsl2rgb(t,e,i).hex}),n.rgb=l(function(t,e,i,n){if(r(n,"finite")){var o=D.round;return"rgba("+[o(t),o(e),o(i),+n.toFixed(2)]+")"}return"#"+(16777216|i|e<<8|t<<16).toString(16).slice(1)});var J=function(t){var e=S.doc.getElementsByTagName("head")[0]||S.doc.getElementsByTagName("svg")[0],i="rgb(255, 0, 0)";return(J=l(function(t){if("red"==t.toLowerCase())return i;e.style.color=i,e.style.color=t;var n=S.doc.defaultView.getComputedStyle(e,z).getPropertyValue("color");return n==i?null:n}))(t)},Q=function(){return"hsb("+[this.h,this.s,this.b]+")"},tt=function(){return"hsl("+[this.h,this.s,this.l]+")"},et=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},it=function(t,e,i){if(null==e&&r(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,e=t.g,t=t.r),null==e&&r(t,string)){var o=n.getRGB(t);t=o.r,e=o.g,i=o.b}return(t>1||e>1||i>1)&&(t/=255,e/=255,i/=255),[t,e,i]},nt=function(t,e,i,o){t=D.round(255*t),e=D.round(255*e),i=D.round(255*i);var a={r:t,g:e,b:i,opacity:r(o,"finite")?o:1,hex:n.rgb(t,e,i),toString:et};return r(o,"finite")&&(a.opacity=o),a};n.color=function(t){var e;return r(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=n.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):r(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=n.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):(r(t,"string")&&(t=n.getRGB(t)),r(t,"object")&&"r"in t&&"g"in t&&"b"in t&&!("error"in t)?(e=n.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=n.rgb2hsb(t),t.v=e.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1,t.error=1)),t.toString=et,t},n.hsb2rgb=function(t,e,i,n){r(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,t=t.h,n=t.o),t*=360;var o,a,s,l,u;return t=t%360/60,u=i*e,l=u*(1-L(t%2-1)),o=a=s=i-u,t=~~t,o+=[u,l,0,0,l,u][t],a+=[l,u,u,l,0,0][t],s+=[0,0,l,u,u,l][t],nt(o,a,s,n)},n.hsl2rgb=function(t,e,i,n){r(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h),(t>1||e>1||i>1)&&(t/=360,e/=100,i/=100),t*=360;var o,a,s,l,u;return t=t%360/60,u=2*e*(.5>i?i:1-i),l=u*(1-L(t%2-1)),o=a=s=i-u/2,t=~~t,o+=[u,l,0,0,l,u][t],a+=[l,u,u,l,0,0][t],s+=[0,0,l,u,u,l][t],nt(o,a,s,n)},n.rgb2hsb=function(t,e,i){i=it(t,e,i),t=i[0],e=i[1],i=i[2];var n,o,r,a;return r=I(t,e,i),a=r-P(t,e,i),n=0==a?null:r==t?(e-i)/a:r==e?(i-t)/a+2:(t-e)/a+4,n=(n+360)%6*60/360,o=0==a?0:a/r,{h:n,s:o,b:r,toString:Q}},n.rgb2hsl=function(t,e,i){i=it(t,e,i),t=i[0],e=i[1],i=i[2];var n,o,r,a,s,l;return a=I(t,e,i),s=P(t,e,i),l=a-s,n=0==l?null:a==t?(e-i)/l:a==e?(i-t)/l+2:(t-e)/l+4,n=(n+360)%6*60/360,r=(a+s)/2,o=0==l?0:.5>r?l/(2*r):l/(2-2*r),{h:n,s:o,l:r,toString:tt}},n.parsePathString=function(t){if(!t)return null;var e=n.path(t);if(e.arr)return n.path.clone(e.arr);var i={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},o=[];return r(t,"array")&&r(t[0],"array")&&(o=n.path.clone(t)),o.length||A(t).replace(H,function(t,e,n){var r=[],a=e.toLowerCase();if(n.replace(q,function(t,e){e&&r.push(+e)}),"m"==a&&r.length>2&&(o.push([e].concat(r.splice(0,2))),a="l",e="m"==e?"l":"L"),"o"==a&&1==r.length&&o.push([e,r[0]]),"r"==a)o.push([e].concat(r));else for(;r.length>=i[a]&&(o.push([e].concat(r.splice(0,i[a]))),i[a]););}),o.toString=n.path.toString,e.arr=n.path.clone(o),o};var ot=n.parseTransformString=function(t){if(!t)return null;var e=[];return r(t,"array")&&r(t[0],"array")&&(e=n.path.clone(t)),e.length||A(t).replace(W,function(t,i,n){var o=[];i.toLowerCase(),n.replace(q,function(t,e){e&&o.push(+e)}),e.push([i].concat(o))}),e.toString=n.path.toString,e};n._.svgTransform2string=d,n._.rgTransform=new RegExp("^[a-z]["+F+"]*-?\\.?\\d","i"),n._.transform2matrix=p,n._unit2px=y,S.doc.contains||S.doc.compareDocumentPosition?function(t,e){var i=9==t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t==n||!(!n||1!=n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e;)if(e=e.parentNode,e==t)return!0;return!1},n._.getSomeDefs=m,n._.getSomeSVG=v,n.select=function(t){return C(S.doc.querySelector(t))},n.selectAll=function(t){for(var e=S.doc.querySelectorAll(t),i=(n.set||Array)(),o=0;o<e.length;o++)i.push(C(e[o]));return i},setInterval(function(){for(var t in Z)if(Z[T](t)){var e=Z[t],i=e.node;("svg"!=e.type&&!i.ownerSVGElement||"svg"==e.type&&(!i.parentNode||"ownerSVGElement"in i.parentNode&&!i.ownerSVGElement))&&delete Z[t]}},1e4),function(t){function a(t){function e(t,e){var i=o(t.node,e);i=i&&i.match(a),i=i&&i[2],i&&"#"==i.charAt()&&(i=i.substring(1),i&&(l[i]=(l[i]||[]).concat(function(i){var n={};n[e]=K(i),o(t.node,n)})))}function i(t){var e=o(t.node,"xlink:href");e&&"#"==e.charAt()&&(e=e.substring(1),e&&(l[e]=(l[e]||[]).concat(function(e){t.attr("xlink:href","#"+e)})))}for(var n,r=t.selectAll("*"),a=/^\s*url\(("|'|)(.*)\1\)\s*$/,s=[],l={},u=0,c=r.length;c>u;u++){n=r[u],e(n,"fill"),e(n,"stroke"),e(n,"filter"),e(n,"mask"),e(n,"clip-path"),i(n);var h=o(n.node,"id");h&&(o(n.node,{id:n.id}),s.push({old:h,id:n.id}))}for(u=0,c=s.length;c>u;u++){var d=l[s[u].old];if(d)for(var p=0,f=d.length;f>p;p++)d[p](s[u].id)}}function s(t,e,i){return function(n){var o=n.slice(t,e);return 1==o.length&&(o=o[0]),i?i(o):o}}function l(t){return function(){var e=t?"<"+this.type:"",i=this.node.attributes,n=this.node.childNodes;if(t)for(var o=0,r=i.length;r>o;o++)e+=" "+i[o].name+'="'+i[o].value.replace(/"/g,'\\"')+'"';if(n.length){for(t&&(e+=">"),o=0,r=n.length;r>o;o++)3==n[o].nodeType?e+=n[o].nodeValue:1==n[o].nodeType&&(e+=C(n[o]).toString());t&&(e+="</"+this.type+">")}else t&&(e+="/>");return e}}t.attr=function(t,i){var n=this;if(n.node,!t)return n;if(r(t,"string")){if(!(arguments.length>1))return e("snap.util.getattr."+t,n).firstDefined();var o={};o[t]=i,t=o}for(var a in t)t[T](a)&&e("snap.util.attr."+a,n,t[a]);return n},t.getBBox=function(t){if(!n.Matrix||!n.path)return this.node.getBBox();var e=this,i=new n.Matrix;if(e.removed)return n._.box();for(;"use"==e.type;)if(t||(i=i.add(e.transform().localMatrix.translate(e.attr("x")||0,e.attr("y")||0))),e.original)e=e.original;else{var o=e.attr("xlink:href");e=e.original=e.node.ownerDocument.getElementById(o.substring(o.indexOf("#")+1))}var r=e._,a=n.path.get[e.type]||n.path.get.deflt;try{return t?(r.bboxwt=a?n.path.getBBox(e.realPath=a(e)):n._.box(e.node.getBBox()),n._.box(r.bboxwt)):(e.realPath=a(e),e.matrix=e.transform().localMatrix,r.bbox=n.path.getBBox(n.path.map(e.realPath,i.add(e.matrix))),n._.box(r.bbox))}catch(s){return n._.box()}};var u=function(){return this.string};t.transform=function(t){var e=this._;if(null==t){for(var i,r=this,a=new n.Matrix(this.node.getCTM()),s=f(this),l=[s],c=new n.Matrix,h=s.toTransformString(),d=A(s)==A(this.matrix)?A(e.transform):h;"svg"!=r.type&&(r=r.parent());)l.push(f(r));for(i=l.length;i--;)c.add(l[i]);return{string:d,globalMatrix:a,totalMatrix:c,localMatrix:s,diffMatrix:a.clone().add(s.invert()),global:a.toTransformString(),total:c.toTransformString(),local:h,toString:u}}return t instanceof n.Matrix?this.matrix=t:f(this,t),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?o(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?o(this.node,{patternTransform:this.matrix}):o(this.node,{transform:this.matrix})),this},t.parent=function(){return C(this.node.parentNode)},t.append=t.add=function(t){if(t){if("set"==t.type){var e=this;return t.forEach(function(t){e.add(t)}),this}t=C(t),this.node.appendChild(t.node),t.paper=this.paper}return this},t.appendTo=function(t){return t&&(t=C(t),t.append(this)),this},t.prepend=function(t){if(t){if("set"==t.type){var e,i=this;return t.forEach(function(t){e?e.after(t):i.prepend(t),e=t}),this}t=C(t);var n=t.parent();this.node.insertBefore(t.node,this.node.firstChild),this.add&&this.add(),t.paper=this.paper,this.parent()&&this.parent().add(),n&&n.add()}return this},t.prependTo=function(t){return t=C(t),t.prepend(this),this},t.before=function(t){if("set"==t.type){var e=this;return t.forEach(function(t){var i=t.parent();e.node.parentNode.insertBefore(t.node,e.node),i&&i.add()}),this.parent().add(),this}t=C(t);var i=t.parent();return this.node.parentNode.insertBefore(t.node,this.node),this.parent()&&this.parent().add(),i&&i.add(),t.paper=this.paper,this},t.after=function(t){t=C(t);var e=t.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(t.node,this.node.nextSibling):this.node.parentNode.appendChild(t.node),this.parent()&&this.parent().add(),e&&e.add(),t.paper=this.paper,this},t.insertBefore=function(t){t=C(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},t.insertAfter=function(t){t=C(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node.nextSibling),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},t.remove=function(){var t=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,t&&t.add(),this},t.select=function(t){return C(this.node.querySelector(t))},t.selectAll=function(t){for(var e=this.node.querySelectorAll(t),i=(n.set||Array)(),o=0;o<e.length;o++)i.push(C(e[o]));return i},t.asPX=function(t,e){return null==e&&(e=this.attr(t)),+y(this,t,e)},t.use=function(){var t,e=this.node.id;return e||(e=this.id,o(this.node,{id:e})),t="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?w(this.type,this.node.parentNode):w("use",this.node.parentNode),o(t.node,{"xlink:href":"#"+e}),t.original=this,t};var c=/\S+/g;t.addClass=function(t){var e,i,n,o,r=(t||"").match(c)||[],a=this.node,s=a.className.baseVal,l=s.match(c)||[];if(r.length){for(e=0;n=r[e++];)i=l.indexOf(n),~i||l.push(n);o=l.join(" "),s!=o&&(a.className.baseVal=o)}return this},t.removeClass=function(t){var e,i,n,o,r=(t||"").match(c)||[],a=this.node,s=a.className.baseVal,l=s.match(c)||[];if(l.length){for(e=0;n=r[e++];)i=l.indexOf(n),~i&&l.splice(i,1);o=l.join(" "),s!=o&&(a.className.baseVal=o)}return this},t.hasClass=function(t){var e=this.node,i=e.className.baseVal,n=i.match(c)||[];return!!~n.indexOf(t)},t.toggleClass=function(t,e){if(null!=e)return e?this.addClass(t):this.removeClass(t);var i,n,o,r,a=(t||"").match(c)||[],s=this.node,l=s.className.baseVal,u=l.match(c)||[];for(i=0;o=a[i++];)n=u.indexOf(o),~n?u.splice(n,1):u.push(o);return r=u.join(" "),l!=r&&(s.className.baseVal=r),this},t.clone=function(){var t=C(this.node.cloneNode(!0));return o(t.node,"id")&&o(t.node,{id:t.id}),a(t),t.insertAfter(this),t},t.toDefs=function(){var t=m(this);return t.appendChild(this.node),this},t.pattern=t.toPattern=function(t,e,i,n){var a=w("pattern",m(this));return null==t&&(t=this.getBBox()),r(t,"object")&&"x"in t&&(e=t.y,i=t.width,n=t.height,t=t.x),o(a.node,{x:t,y:e,width:i,height:n,patternUnits:"userSpaceOnUse",id:a.id,viewBox:[t,e,i,n].join(" ")}),a.node.appendChild(this.node),a},t.marker=function(t,e,i,n,a,s){var l=w("marker",m(this));return null==t&&(t=this.getBBox()),r(t,"object")&&"x"in t&&(e=t.y,i=t.width,n=t.height,a=t.refX||t.cx,s=t.refY||t.cy,t=t.x),o(l.node,{viewBox:[t,e,i,n].join(R),markerWidth:i,markerHeight:n,orient:"auto",refX:a||0,refY:s||0,id:l.id}),l.node.appendChild(this.node),l};var h=function(t,e,n,o){"function"!=typeof n||n.length||(o=n,n=i.linear),this.attr=t,this.dur=e,n&&(this.easing=n),o&&(this.callback=o)};n._.Animation=h,n.animation=function(t,e,i,n){return new h(t,e,i,n)},t.inAnim=function(){var t=this,e=[];for(var i in t.anims)t.anims[T](i)&&!function(t){e.push({anim:new h(t._attrs,t.dur,t.easing,t._callback),mina:t,curStatus:t.status(),status:function(e){return t.status(e)},stop:function(){t.stop()}})}(t.anims[i]);return e},n.animate=function(t,n,o,r,a,s){"function"!=typeof a||a.length||(s=a,a=i.linear);var l=i.time(),u=i(t,n,l,l+r,i.time,o,a);return s&&e.once("mina.finish."+u.id,s),u},t.stop=function(){for(var t=this.inAnim(),e=0,i=t.length;i>e;e++)t[e].stop();return this},t.animate=function(t,n,o,a){"function"!=typeof o||o.length||(a=o,o=i.linear),t instanceof h&&(a=t.callback,o=t.easing,n=o.dur,t=t.attr);var l,u,c,d,p=[],f=[],m={},g=this;for(var v in t)if(t[T](v)){g.equal?(d=g.equal(v,A(t[v])),l=d.from,u=d.to,c=d.f):(l=+g.attr(v),u=+t[v]);var y=r(l,"array")?l.length:1;m[v]=s(p.length,p.length+y,c),p=p.concat(l),f=f.concat(u)}var _=i.time(),b=i(p,f,_,_+n,i.time,function(t){var e={};for(var i in m)m[T](i)&&(e[i]=m[i](t));g.attr(e)},o);return g.anims[b.id]=b,b._attrs=t,b._callback=a,e("snap.animcreated."+g.id,b),e.once("mina.finish."+b.id,function(){delete g.anims[b.id],a&&a.call(g)}),e.once("mina.stop."+b.id,function(){delete g.anims[b.id]}),g};var d={};t.data=function(t,i){var o=d[this.id]=d[this.id]||{};if(0==arguments.length)return e("snap.data.get."+this.id,this,o,null),o;if(1==arguments.length){if(n.is(t,"object")){for(var r in t)t[T](r)&&this.data(r,t[r]);return this}return e("snap.data.get."+this.id,this,o[t],t),o[t]}return o[t]=i,e("snap.data.set."+this.id,this,i,t),this},t.removeData=function(t){return null==t?d[this.id]={}:d[this.id]&&delete d[this.id][t],this},t.outerSVG=t.toString=l(1),t.innerSVG=l()}(b.prototype),n.parse=function(t){var e=S.doc.createDocumentFragment(),i=!0,n=S.doc.createElement("div");if(t=A(t),t.match(/^\s*<\s*svg(?:\s|>)/)||(t="<svg>"+t+"</svg>",i=!1),n.innerHTML=t,t=n.getElementsByTagName("svg")[0])if(i)e=t;else for(;t.firstChild;)e.appendChild(t.firstChild);return n.innerHTML=z,new x(e)},x.prototype.select=b.prototype.select,x.prototype.selectAll=b.prototype.selectAll,n.fragment=function(){for(var t=Array.prototype.slice.call(arguments,0),e=S.doc.createDocumentFragment(),i=0,o=t.length;o>i;i++){var r=t[i];r.node&&r.node.nodeType&&e.appendChild(r.node),r.nodeType&&e.appendChild(r),"string"==typeof r&&e.appendChild(n.parse(r).node)}return new x(e)},n._.make=w,n._.wrap=C,k.prototype.el=function(t,e){var i=w(t,this.node);return e&&i.attr(e),i},e.on("snap.util.getattr",function(){var t=e.nt();t=t.substring(t.lastIndexOf(".")+1);var i=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});return rt[T](i)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(i):o(this.node,t)});var rt={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};e.on("snap.util.attr",function(t){var i=e.nt(),n={};i=i.substring(i.lastIndexOf(".")+1),n[i]=t;var r=i.replace(/-(\w)/gi,function(t,e){return e.toUpperCase()}),a=i.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});rt[T](a)?this.node.style[r]=null==t?z:t:o(this.node,n)}),function(){}(k.prototype),n.ajax=function(t,i,n,o){var a=new XMLHttpRequest,s=Y();if(a){if(r(i,"function"))o=n,n=i,i=null;else if(r(i,"object")){var l=[];for(var u in i)i.hasOwnProperty(u)&&l.push(encodeURIComponent(u)+"="+encodeURIComponent(i[u]));i=l.join("&")}return a.open(i?"POST":"GET",t,!0),i&&(a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-type","application/x-www-form-urlencoded")),n&&(e.once("snap.ajax."+s+".0",n),e.once("snap.ajax."+s+".200",n),e.once("snap.ajax."+s+".304",n)),a.onreadystatechange=function(){4==a.readyState&&e("snap.ajax."+s+"."+a.status,o,a)},4==a.readyState?a:(a.send(i),a)}},n.load=function(t,e,i){n.ajax(t,function(t){var o=n.parse(t.responseText);i?e.call(i,o):e(o)})};var at=function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,n=i.body,o=i.documentElement,r=o.clientTop||n.clientTop||0,a=o.clientLeft||n.clientLeft||0,s=e.top+(g.win.pageYOffset||o.scrollTop||n.scrollTop)-r,l=e.left+(g.win.pageXOffset||o.scrollLeft||n.scrollLeft)-a;return{y:s,x:l}};return n.getElementByPoint=function(t,e){var i=this,n=(i.canvas,S.doc.elementFromPoint(t,e));if(S.win.opera&&"svg"==n.tagName){var o=at(n),r=n.createSVGRect();r.x=t-o.x,r.y=e-o.y,r.width=r.height=1;var a=n.getIntersectionList(r,null);a.length&&(n=a[a.length-1])}return n?C(n):null},n.plugin=function(t){t(n,b,k,S,x)},S.win.Snap=n,n}();return n.plugin(function(t){function e(t,e,n,o,r,a){return null==e&&"[object SVGMatrix]"==i.call(t)?(this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.e=t.e,void(this.f=t.f)):void(null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+o,this.e=+r,this.f=+a):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0))}var i=Object.prototype.toString,n=String,o=Math,r="";!function(i){function a(t){return t[0]*t[0]+t[1]*t[1]}function s(t){var e=o.sqrt(a(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}i.add=function(t,i,n,o,r,a){var s,l,u,c,h=[[],[],[]],d=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],p=[[t,n,r],[i,o,a],[0,0,1]];for(t&&t instanceof e&&(p=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;3>s;s++)for(l=0;3>l;l++){for(c=0,u=0;3>u;u++)c+=d[s][u]*p[u][l];h[s][l]=c}return this.a=h[0][0],this.b=h[1][0],this.c=h[0][1],this.d=h[1][1],this.e=h[0][2],this.f=h[1][2],this},i.invert=function(){var t=this,i=t.a*t.d-t.b*t.c;return new e(t.d/i,-t.b/i,-t.c/i,t.a/i,(t.c*t.f-t.d*t.e)/i,(t.b*t.e-t.a*t.f)/i)},i.clone=function(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)},i.translate=function(t,e){return this.add(1,0,0,1,t,e)},i.scale=function(t,e,i,n){return null==e&&(e=t),(i||n)&&this.add(1,0,0,1,i,n),this.add(t,0,0,e,0,0),(i||n)&&this.add(1,0,0,1,-i,-n),this},i.rotate=function(e,i,n){e=t.rad(e),i=i||0,n=n||0;var r=+o.cos(e).toFixed(9),a=+o.sin(e).toFixed(9);return this.add(r,a,-a,r,i,n),this.add(1,0,0,1,-i,-n)},i.x=function(t,e){return t*this.a+e*this.c+this.e},i.y=function(t,e){return t*this.b+e*this.d+this.f},i.get=function(t){return+this[n.fromCharCode(97+t)].toFixed(4)},i.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},i.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},i.determinant=function(){return this.a*this.d-this.b*this.c},i.split=function(){var e={};e.dx=this.e,e.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];e.scalex=o.sqrt(a(i[0])),s(i[0]),e.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*e.shear,i[1][1]-i[0][1]*e.shear],e.scaley=o.sqrt(a(i[1])),s(i[1]),e.shear/=e.scaley,this.determinant()<0&&(e.scalex=-e.scalex);var n=-i[0][1],r=i[1][1];return 0>r?(e.rotate=t.deg(o.acos(r)),0>n&&(e.rotate=360-e.rotate)):e.rotate=t.deg(o.asin(n)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},i.toTransformString=function(t){var e=t||this.split();return+e.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[+e.dx.toFixed(4),+e.dy.toFixed(4)]:r)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:r)+(e.rotate?"r"+[+e.rotate.toFixed(4),0,0]:r))}}(e.prototype),t.Matrix=e,t.matrix=function(t,i,n,o,r,a){return new e(t,i,n,o,r,a)}}),n.plugin(function(t,i,n,o,r){function a(n){return function(o){if(e.stop(),o instanceof r&&1==o.node.childNodes.length&&("radialGradient"==o.node.firstChild.tagName||"linearGradient"==o.node.firstChild.tagName||"pattern"==o.node.firstChild.tagName)&&(o=o.node.firstChild,p(this).appendChild(o),o=h(o)),o instanceof i)if("radialGradient"==o.type||"linearGradient"==o.type||"pattern"==o.type){o.node.id||m(o.node,{id:o.id});var a=g(o.node.id)}else a=o.attr(n);else if(a=t.color(o),a.error){var s=t(p(this).ownerSVGElement).gradient(o);s?(s.node.id||m(s.node,{id:s.id}),a=g(s.node.id)):a=o}else a=v(a);var l={};l[n]=a,m(this.node,l),this.node.style[n]=_}}function s(t){e.stop(),t==+t&&(t+="px"),this.node.style.fontSize=t}function l(t){for(var e=[],i=t.childNodes,n=0,o=i.length;o>n;n++){var r=i[n];3==r.nodeType&&e.push(r.nodeValue),"tspan"==r.tagName&&e.push(1==r.childNodes.length&&3==r.firstChild.nodeType?r.firstChild.nodeValue:l(r))}return e}function u(){return e.stop(),this.node.style.fontSize}var c=t._.make,h=t._.wrap,d=t.is,p=t._.getSomeDefs,f=/^url\(#?([^)]+)\)$/,m=t._.$,g=t.url,v=String,y=t._.separator,_="";e.on("snap.util.attr.mask",function(t){if(t instanceof i||t instanceof r){if(e.stop(),t instanceof r&&1==t.node.childNodes.length&&(t=t.node.firstChild,p(this).appendChild(t),t=h(t)),"mask"==t.type)var n=t;else n=c("mask",p(this)),n.node.appendChild(t.node);!n.node.id&&m(n.node,{id:n.id}),m(this.node,{mask:g(n.id)})}}),function(t){e.on("snap.util.attr.clip",t),e.on("snap.util.attr.clip-path",t),e.on("snap.util.attr.clipPath",t)}(function(t){if(t instanceof i||t instanceof r){if(e.stop(),"clipPath"==t.type)var n=t;else n=c("clipPath",p(this)),n.node.appendChild(t.node),!n.node.id&&m(n.node,{id:n.id});m(this.node,{"clip-path":g(n.id)})}}),e.on("snap.util.attr.fill",a("fill")),e.on("snap.util.attr.stroke",a("stroke"));var b=/^([lr])(?:\(([^)]*)\))?(.*)$/i;e.on("snap.util.grad.parse",function(t){t=v(t);var e=t.match(b);if(!e)return null;var i=e[1],n=e[2],o=e[3];return n=n.split(/\s*,\s*/).map(function(t){return+t==t?+t:t}),1==n.length&&0==n[0]&&(n=[]),o=o.split("-"),o=o.map(function(t){t=t.split(":");var e={color:t[0]};return t[1]&&(e.offset=parseFloat(t[1])),e}),{type:i,params:n,stops:o}}),e.on("snap.util.attr.d",function(i){e.stop(),d(i,"array")&&d(i[0],"array")&&(i=t.path.toString.call(i)),i=v(i),i.match(/[ruo]/i)&&(i=t.path.toAbsolute(i)),m(this.node,{d:i})})(-1),e.on("snap.util.attr.#text",function(t){e.stop(),t=v(t);for(var i=o.doc.createTextNode(t);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(i)})(-1),e.on("snap.util.attr.path",function(t){e.stop(),this.attr({d:t})})(-1),e.on("snap.util.attr.class",function(t){e.stop(),this.node.className.baseVal=t})(-1),e.on("snap.util.attr.viewBox",function(t){var i;i=d(t,"object")&&"x"in t?[t.x,t.y,t.width,t.height].join(" "):d(t,"array")?t.join(" "):t,m(this.node,{viewBox:i}),e.stop()})(-1),e.on("snap.util.attr.transform",function(t){this.transform(t),e.stop()})(-1),e.on("snap.util.attr.r",function(t){"rect"==this.type&&(e.stop(),m(this.node,{rx:t,ry:t}))})(-1),e.on("snap.util.attr.textpath",function(t){if(e.stop(),"text"==this.type){var n,o,r;if(!t&&this.textPath){for(o=this.textPath;o.node.firstChild;)this.node.appendChild(o.node.firstChild);return o.remove(),void delete this.textPath}if(d(t,"string")){var a=p(this),s=h(a.parentNode).path(t);a.appendChild(s.node),n=s.id,s.attr({id:n})}else t=h(t),t instanceof i&&(n=t.attr("id"),n||(n=t.id,t.attr({id:n})));if(n)if(o=this.textPath,r=this.node,o)o.attr({"xlink:href":"#"+n});else{for(o=m("textPath",{"xlink:href":"#"+n});r.firstChild;)o.appendChild(r.firstChild);r.appendChild(o),this.textPath=h(o)}}})(-1),e.on("snap.util.attr.text",function(t){if("text"==this.type){for(var i=this.node,n=function(t){var e=m("tspan");if(d(t,"array"))for(var i=0;i<t.length;i++)e.appendChild(n(t[i]));else e.appendChild(o.doc.createTextNode(t));return e.normalize&&e.normalize(),e};i.firstChild;)i.removeChild(i.firstChild);for(var r=n(t);r.firstChild;)i.appendChild(r.firstChild)}e.stop()})(-1),e.on("snap.util.attr.fontSize",s)(-1),e.on("snap.util.attr.font-size",s)(-1),e.on("snap.util.getattr.transform",function(){return e.stop(),this.transform()})(-1),e.on("snap.util.getattr.textpath",function(){return e.stop(),this.textPath})(-1),function(){function i(i){return function(){e.stop();var n=o.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+i);return"none"==n?n:t(o.doc.getElementById(n.match(f)[1]))}}function n(t){return function(i){e.stop();var n="marker"+t.charAt(0).toUpperCase()+t.substring(1);if(""==i||!i)return void(this.node.style[n]="none");if("marker"==i.type){var o=i.node.id;return o||m(i.node,{id:i.id}),void(this.node.style[n]=g(o))}}}e.on("snap.util.getattr.marker-end",i("end"))(-1),e.on("snap.util.getattr.markerEnd",i("end"))(-1),e.on("snap.util.getattr.marker-start",i("start"))(-1),e.on("snap.util.getattr.markerStart",i("start"))(-1),e.on("snap.util.getattr.marker-mid",i("mid"))(-1),e.on("snap.util.getattr.markerMid",i("mid"))(-1),e.on("snap.util.attr.marker-end",n("end"))(-1),e.on("snap.util.attr.markerEnd",n("end"))(-1),e.on("snap.util.attr.marker-start",n("start"))(-1),e.on("snap.util.attr.markerStart",n("start"))(-1),e.on("snap.util.attr.marker-mid",n("mid"))(-1),e.on("snap.util.attr.markerMid",n("mid"))(-1)}(),e.on("snap.util.getattr.r",function(){return"rect"==this.type&&m(this.node,"rx")==m(this.node,"ry")?(e.stop(),m(this.node,"rx")):void 0})(-1),e.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){e.stop();var t=l(this.node);return 1==t.length?t[0]:t}})(-1),e.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),e.on("snap.util.getattr.viewBox",function(){e.stop();var i=m(this.node,"viewBox");return i?(i=i.split(y),t._.box(+i[0],+i[1],+i[2],+i[3])):void 0})(-1),e.on("snap.util.getattr.points",function(){var t=m(this.node,"points");return e.stop(),t?t.split(y):void 0})(-1),e.on("snap.util.getattr.path",function(){var t=m(this.node,"d");return e.stop(),t})(-1),e.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),e.on("snap.util.getattr.fontSize",u)(-1),e.on("snap.util.getattr.font-size",u)(-1)}),n.plugin(function(){function t(t){return t}function i(t){return function(e){return+e.toFixed(3)+t}}var n={"+":function(t,e){return t+e},"-":function(t,e){return t-e},"/":function(t,e){return t/e},"*":function(t,e){return t*e}},o=String,r=/[a-z]+$/i,a=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;e.on("snap.util.attr",function(t){var i=o(t).match(a);if(i){var s=e.nt(),l=s.substring(s.lastIndexOf(".")+1),u=this.attr(l),c={};e.stop();var h=i[3]||"",d=u.match(r),p=n[i[1]];if(d&&d==h?t=p(parseFloat(u),+i[2]):(u=this.asPX(l),t=p(this.asPX(l),this.asPX(l,i[2]+h))),isNaN(u)||isNaN(t))return;c[l]=t,this.attr(c)}})(-10),e.on("snap.util.equal",function(s,l){var u=o(this.attr(s)||""),c=o(l).match(a);if(c){e.stop();var h=c[3]||"",d=u.match(r),p=n[c[1]];return d&&d==h?{from:parseFloat(u),to:p(parseFloat(u),+c[2]),f:i(d)}:(u=this.asPX(s),{from:u,to:p(u,this.asPX(s,c[2]+h)),f:t})}})(-10)}),n.plugin(function(t,i,n,o){var r=n.prototype,a=t.is;r.rect=function(t,e,i,n,o,r){var s;return null==r&&(r=o),a(t,"object")&&"[object Object]"==t?s=t:null!=t&&(s={x:t,y:e,width:i,height:n},null!=o&&(s.rx=o,s.ry=r)),this.el("rect",s)},r.circle=function(t,e,i){var n;return a(t,"object")&&"[object Object]"==t?n=t:null!=t&&(n={cx:t,cy:e,r:i}),this.el("circle",n)};var s=function(){function t(){this.parentNode.removeChild(this)}return function(e,i){var n=o.doc.createElement("img"),r=o.doc.body;n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){i.call(n),n.onload=n.onerror=null,r.removeChild(n)},n.onerror=t,r.appendChild(n),n.src=e}}();r.image=function(e,i,n,o,r){var l=this.el("image");if(a(e,"object")&&"src"in e)l.attr(e);else if(null!=e){var u={"xlink:href":e,preserveAspectRatio:"none"};null!=i&&null!=n&&(u.x=i,u.y=n),null!=o&&null!=r?(u.width=o,u.height=r):s(e,function(){t._.$(l.node,{width:this.offsetWidth,height:this.offsetHeight})}),t._.$(l.node,u)}return l},r.ellipse=function(t,e,i,n){var o;return a(t,"object")&&"[object Object]"==t?o=t:null!=t&&(o={cx:t,cy:e,rx:i,ry:n}),this.el("ellipse",o)},r.path=function(t){var e;return a(t,"object")&&!a(t,"array")?e=t:t&&(e={d:t}),this.el("path",e)},r.group=r.g=function(t){var e=this.el("g");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},r.svg=function(t,e,i,n,o,r,s,l){var u={};return a(t,"object")&&null==e?u=t:(null!=t&&(u.x=t),null!=e&&(u.y=e),null!=i&&(u.width=i),null!=n&&(u.height=n),null!=o&&null!=r&&null!=s&&null!=l&&(u.viewBox=[o,r,s,l])),this.el("svg",u)},r.mask=function(t){var e=this.el("mask");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},r.ptrn=function(t,e,i,n,o,r,s,l){if(a(t,"object"))var u=t;else arguments.length?(u={},null!=t&&(u.x=t),null!=e&&(u.y=e),null!=i&&(u.width=i),null!=n&&(u.height=n),null!=o&&null!=r&&null!=s&&null!=l&&(u.viewBox=[o,r,s,l])):u={patternUnits:"userSpaceOnUse"};return this.el("pattern",u)},r.use=function(t){return null!=t?(make("use",this.node),t instanceof i&&(t.attr("id")||t.attr({id:ID()}),t=t.attr("id")),this.el("use",{"xlink:href":t})):i.prototype.use.call(this)},r.text=function(t,e,i){var n={};return a(t,"object")?n=t:null!=t&&(n={x:t,y:e,text:i||""}),this.el("text",n)},r.line=function(t,e,i,n){var o={};return a(t,"object")?o=t:null!=t&&(o={x1:t,x2:i,y1:e,y2:n}),this.el("line",o)},r.polyline=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return a(t,"object")&&!a(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polyline",e)},r.polygon=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return a(t,"object")&&!a(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polygon",e)},function(){function i(){return this.selectAll("stop")}function n(e,i){var n=u("stop"),o={offset:+i+"%"};return e=t.color(e),o["stop-color"]=e.hex,e.opacity<1&&(o["stop-opacity"]=e.opacity),u(n,o),this.node.appendChild(n),this}function o(){if("linearGradient"==this.type){
var e=u(this.node,"x1")||0,i=u(this.node,"x2")||1,n=u(this.node,"y1")||0,o=u(this.node,"y2")||0;return t._.box(e,n,math.abs(i-e),math.abs(o-n))}var r=this.node.cx||.5,a=this.node.cy||.5,s=this.node.r||0;return t._.box(r-s,a-s,2*s,2*s)}function a(t,i){function n(t,e){for(var i=(e-h)/(t-d),n=d;t>n;n++)a[n].offset=+(+h+i*(n-d)).toFixed(2);d=t,h=e}var o,r=e("snap.util.grad.parse",null,i).firstDefined();if(!r)return null;r.params.unshift(t),o="l"==r.type.toLowerCase()?s.apply(0,r.params):l.apply(0,r.params),r.type!=r.type.toLowerCase()&&u(o.node,{gradientUnits:"userSpaceOnUse"});var a=r.stops,c=a.length,h=0,d=0;c--;for(var p=0;c>p;p++)"offset"in a[p]&&n(p,a[p].offset);for(a[c].offset=a[c].offset||100,n(c,a[c].offset),p=0;c>=p;p++){var f=a[p];o.addStop(f.color,f.offset)}return o}function s(e,r,a,s,l){var c=t._.make("linearGradient",e);return c.stops=i,c.addStop=n,c.getBBox=o,null!=r&&u(c.node,{x1:r,y1:a,x2:s,y2:l}),c}function l(e,r,a,s,l,c){var h=t._.make("radialGradient",e);return h.stops=i,h.addStop=n,h.getBBox=o,null!=r&&u(h.node,{cx:r,cy:a,r:s}),null!=l&&null!=c&&u(h.node,{fx:l,fy:c}),h}var u=t._.$;r.gradient=function(t){return a(this.defs,t)},r.gradientLinear=function(t,e,i,n){return s(this.defs,t,e,i,n)},r.gradientRadial=function(t,e,i,n,o){return l(this.defs,t,e,i,n,o)},r.toString=function(){var e,i=this.node.ownerDocument,n=i.createDocumentFragment(),o=i.createElement("div"),r=this.node.cloneNode(!0);return n.appendChild(o),o.appendChild(r),t._.$(r,{xmlns:"http://www.w3.org/2000/svg"}),e=o.innerHTML,n.removeChild(n.firstChild),e},r.clear=function(){for(var t,e=this.node.firstChild;e;)t=e.nextSibling,"defs"!=e.tagName?e.parentNode.removeChild(e):r.clear.call({node:e}),e=t}}()}),n.plugin(function(t,e){function i(t){var e=i.ps=i.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var i in e)e[R](i)&&i!=t&&(e[i].sleep--,!e[i].sleep&&delete e[i])}),e[t]}function n(t,e,i,n){return null==t&&(t=e=i=n=0),null==e&&(e=t.y,i=t.width,n=t.height,t=t.x),{x:t,y:e,width:i,w:i,height:n,h:n,x2:t+i,y2:e+n,cx:t+i/2,cy:e+n/2,r1:F.min(i,n)/2,r2:F.max(i,n)/2,r0:F.sqrt(i*i+n*n)/2,path:w(t,e,i,n),vb:[t,e,i,n].join(" ")}}function o(){return this.join(",").replace(N,"$1")}function r(t){var e=z(t);return e.toString=o,e}function a(t,e,i,n,o,r,a,s,u){return null==u?p(t,e,i,n,o,r,a,s):l(t,e,i,n,o,r,a,s,f(t,e,i,n,o,r,a,s,u))}function s(i,n){function o(t){return+(+t).toFixed(3)}return t._.cacher(function(t,r,s){t instanceof e&&(t=t.attr("d")),t=D(t);for(var u,c,h,d,p,f="",m={},g=0,v=0,y=t.length;y>v;v++){if(h=t[v],"M"==h[0])u=+h[1],c=+h[2];else{if(d=a(u,c,h[1],h[2],h[3],h[4],h[5],h[6]),g+d>r){if(n&&!m.start){if(p=a(u,c,h[1],h[2],h[3],h[4],h[5],h[6],r-g),f+=["C"+o(p.start.x),o(p.start.y),o(p.m.x),o(p.m.y),o(p.x),o(p.y)],s)return f;m.start=f,f=["M"+o(p.x),o(p.y)+"C"+o(p.n.x),o(p.n.y),o(p.end.x),o(p.end.y),o(h[5]),o(h[6])].join(),g+=d,u=+h[5],c=+h[6];continue}if(!i&&!n)return p=a(u,c,h[1],h[2],h[3],h[4],h[5],h[6],r-g)}g+=d,u=+h[5],c=+h[6]}f+=h.shift()+h}return m.end=f,p=i?g:n?m:l(u,c,h[0],h[1],h[2],h[3],h[4],h[5],1)},null,t._.clone)}function l(t,e,i,n,o,r,a,s,l){var u=1-l,c=W(u,3),h=W(u,2),d=l*l,p=d*l,f=c*t+3*h*l*i+3*u*l*l*o+p*a,m=c*e+3*h*l*n+3*u*l*l*r+p*s,g=t+2*l*(i-t)+d*(o-2*i+t),v=e+2*l*(n-e)+d*(r-2*n+e),y=i+2*l*(o-i)+d*(a-2*o+i),_=n+2*l*(r-n)+d*(s-2*r+n),b=u*t+l*i,x=u*e+l*n,w=u*o+l*a,k=u*r+l*s,C=90-180*F.atan2(g-y,v-_)/B;return{x:f,y:m,m:{x:g,y:v},n:{x:y,y:_},start:{x:b,y:x},end:{x:w,y:k},alpha:C}}function u(e,i,o,r,a,s,l,u){t.is(e,"array")||(e=[e,i,o,r,a,s,l,u]);var c=M.apply(null,e);return n(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)}function c(t,e,i){return e>=t.x&&e<=t.x+t.width&&i>=t.y&&i<=t.y+t.height}function h(t,e){return t=n(t),e=n(e),c(e,t.x,t.y)||c(e,t.x2,t.y)||c(e,t.x,t.y2)||c(e,t.x2,t.y2)||c(t,e.x,e.y)||c(t,e.x2,e.y)||c(t,e.x,e.y2)||c(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}function d(t,e,i,n,o){var r=-3*e+9*i-9*n+3*o,a=t*r+6*e-12*i+6*n;return t*a-3*e+3*i}function p(t,e,i,n,o,r,a,s,l){null==l&&(l=1),l=l>1?1:0>l?0:l;for(var u=l/2,c=12,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,m=0;c>m;m++){var g=u*h[m]+u,v=d(g,t,i,o,a),y=d(g,e,n,r,s),_=v*v+y*y;f+=p[m]*F.sqrt(_)}return u*f}function f(t,e,i,n,o,r,a,s,l){if(!(0>l||p(t,e,i,n,o,r,a,s)<l)){var u,c=1,h=c/2,d=c-h,f=.01;for(u=p(t,e,i,n,o,r,a,s,d);q(u-l)>f;)h/=2,d+=(l>u?1:-1)*h,u=p(t,e,i,n,o,r,a,s,d);return d}}function m(t,e,i,n,o,r,a,s){if(!(H(t,i)<j(o,a)||j(t,i)>H(o,a)||H(e,n)<j(r,s)||j(e,n)>H(r,s))){var l=(t*n-e*i)*(o-a)-(t-i)*(o*s-r*a),u=(t*n-e*i)*(r-s)-(e-n)*(o*s-r*a),c=(t-i)*(r-s)-(e-n)*(o-a);if(c){var h=l/c,d=u/c,p=+h.toFixed(2),f=+d.toFixed(2);if(!(p<+j(t,i).toFixed(2)||p>+H(t,i).toFixed(2)||p<+j(o,a).toFixed(2)||p>+H(o,a).toFixed(2)||f<+j(e,n).toFixed(2)||f>+H(e,n).toFixed(2)||f<+j(r,s).toFixed(2)||f>+H(r,s).toFixed(2)))return{x:h,y:d}}}}function g(t,e,i){var n=u(t),o=u(e);if(!h(n,o))return i?0:[];for(var r=p.apply(0,t),a=p.apply(0,e),s=~~(r/8),c=~~(a/8),d=[],f=[],g={},v=i?0:[],y=0;s+1>y;y++){var _=l.apply(0,t.concat(y/s));d.push({x:_.x,y:_.y,t:y/s})}for(y=0;c+1>y;y++)_=l.apply(0,e.concat(y/c)),f.push({x:_.x,y:_.y,t:y/c});for(y=0;s>y;y++)for(var b=0;c>b;b++){var x=d[y],w=d[y+1],k=f[b],C=f[b+1],S=q(w.x-x.x)<.001?"y":"x",T=q(C.x-k.x)<.001?"y":"x",A=m(x.x,x.y,w.x,w.y,k.x,k.y,C.x,C.y);if(A){if(g[A.x.toFixed(4)]==A.y.toFixed(4))continue;g[A.x.toFixed(4)]=A.y.toFixed(4);var E=x.t+q((A[S]-x[S])/(w[S]-x[S]))*(w.t-x.t),M=k.t+q((A[T]-k[T])/(C[T]-k[T]))*(C.t-k.t);E>=0&&1>=E&&M>=0&&1>=M&&(i?v++:v.push({x:A.x,y:A.y,t1:E,t2:M}))}}return v}function v(t,e){return _(t,e)}function y(t,e){return _(t,e,1)}function _(t,e,i){t=D(t),e=D(e);for(var n,o,r,a,s,l,u,c,h,d,p=i?0:[],f=0,m=t.length;m>f;f++){var v=t[f];if("M"==v[0])n=s=v[1],o=l=v[2];else{"C"==v[0]?(h=[n,o].concat(v.slice(1)),n=h[6],o=h[7]):(h=[n,o,n,o,s,l,s,l],n=s,o=l);for(var y=0,_=e.length;_>y;y++){var b=e[y];if("M"==b[0])r=u=b[1],a=c=b[2];else{"C"==b[0]?(d=[r,a].concat(b.slice(1)),r=d[6],a=d[7]):(d=[r,a,r,a,u,c,u,c],r=u,a=c);var x=g(h,d,i);if(i)p+=x;else{for(var w=0,k=x.length;k>w;w++)x[w].segment1=f,x[w].segment2=y,x[w].bez1=h,x[w].bez2=d;p=p.concat(x)}}}}}return p}function b(t,e,i){var n=x(t);return c(n,e,i)&&_(t,[["M",e,i],["H",n.x2+10]],1)%2==1}function x(t){var e=i(t);if(e.bbox)return z(e.bbox);if(!t)return n();t=D(t);for(var o,r=0,a=0,s=[],l=[],u=0,c=t.length;c>u;u++)if(o=t[u],"M"==o[0])r=o[1],a=o[2],s.push(r),l.push(a);else{var h=M(r,a,o[1],o[2],o[3],o[4],o[5],o[6]);s=s.concat(h.min.x,h.max.x),l=l.concat(h.min.y,h.max.y),r=o[5],a=o[6]}var d=j.apply(0,s),p=j.apply(0,l),f=H.apply(0,s),m=H.apply(0,l),g=n(d,p,f-d,m-p);return e.bbox=z(g),g}function w(t,e,i,n,r){if(r)return[["M",+t+ +r,e],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]];var a=[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]];return a.toString=o,a}function k(t,e,i,n,r){if(null==r&&null==n&&(n=i),t=+t,e=+e,i=+i,n=+n,null!=r)var a=Math.PI/180,s=t+i*Math.cos(-n*a),l=t+i*Math.cos(-r*a),u=e+i*Math.sin(-n*a),c=e+i*Math.sin(-r*a),h=[["M",s,u],["A",i,i,0,+(r-n>180),0,l,c]];else h=[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]];return h.toString=o,h}function C(e){var n=i(e),a=String.prototype.toLowerCase;if(n.rel)return r(n.rel);t.is(e,"array")&&t.is(e&&e[0],"array")||(e=t.parsePathString(e));var s=[],l=0,u=0,c=0,h=0,d=0;"M"==e[0][0]&&(l=e[0][1],u=e[0][2],c=l,h=u,d++,s.push(["M",l,u]));for(var p=d,f=e.length;f>p;p++){var m=s[p]=[],g=e[p];if(g[0]!=a.call(g[0]))switch(m[0]=a.call(g[0]),m[0]){case"a":m[1]=g[1],m[2]=g[2],m[3]=g[3],m[4]=g[4],m[5]=g[5],m[6]=+(g[6]-l).toFixed(3),m[7]=+(g[7]-u).toFixed(3);break;case"v":m[1]=+(g[1]-u).toFixed(3);break;case"m":c=g[1],h=g[2];default:for(var v=1,y=g.length;y>v;v++)m[v]=+(g[v]-(v%2?l:u)).toFixed(3)}else{m=s[p]=[],"m"==g[0]&&(c=g[1]+l,h=g[2]+u);for(var _=0,b=g.length;b>_;_++)s[p][_]=g[_]}var x=s[p].length;switch(s[p][0]){case"z":l=c,u=h;break;case"h":l+=+s[p][x-1];break;case"v":u+=+s[p][x-1];break;default:l+=+s[p][x-2],u+=+s[p][x-1]}}return s.toString=o,n.rel=r(s),s}function S(e){var n=i(e);if(n.abs)return r(n.abs);if(O(e,"array")&&O(e&&e[0],"array")||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var a,s=[],l=0,u=0,c=0,h=0,d=0;"M"==e[0][0]&&(l=+e[0][1],u=+e[0][2],c=l,h=u,d++,s[0]=["M",l,u]);for(var p,f,m=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),g=d,v=e.length;v>g;g++){if(s.push(p=[]),f=e[g],a=f[0],a!=a.toUpperCase())switch(p[0]=a.toUpperCase(),p[0]){case"A":p[1]=f[1],p[2]=f[2],p[3]=f[3],p[4]=f[4],p[5]=f[5],p[6]=+f[6]+l,p[7]=+f[7]+u;break;case"V":p[1]=+f[1]+u;break;case"H":p[1]=+f[1]+l;break;case"R":for(var y=[l,u].concat(f.slice(1)),_=2,b=y.length;b>_;_++)y[_]=+y[_]+l,y[++_]=+y[_]+u;s.pop(),s=s.concat(P(y,m));break;case"O":s.pop(),y=k(l,u,f[1],f[2]),y.push(y[0]),s=s.concat(y);break;case"U":s.pop(),s=s.concat(k(l,u,f[1],f[2],f[3])),p=["U"].concat(s[s.length-1].slice(-2));break;case"M":c=+f[1]+l,h=+f[2]+u;default:for(_=1,b=f.length;b>_;_++)p[_]=+f[_]+(_%2?l:u)}else if("R"==a)y=[l,u].concat(f.slice(1)),s.pop(),s=s.concat(P(y,m)),p=["R"].concat(f.slice(-2));else if("O"==a)s.pop(),y=k(l,u,f[1],f[2]),y.push(y[0]),s=s.concat(y);else if("U"==a)s.pop(),s=s.concat(k(l,u,f[1],f[2],f[3])),p=["U"].concat(s[s.length-1].slice(-2));else for(var x=0,w=f.length;w>x;x++)p[x]=f[x];if(a=a.toUpperCase(),"O"!=a)switch(p[0]){case"Z":l=+c,u=+h;break;case"H":l=p[1];break;case"V":u=p[1];break;case"M":c=p[p.length-2],h=p[p.length-1];default:l=p[p.length-2],u=p[p.length-1]}}return s.toString=o,n.abs=r(s),s}function T(t,e,i,n){return[t,e,i,n,i,n]}function A(t,e,i,n,o,r){var a=1/3,s=2/3;return[a*t+s*i,a*e+s*n,a*o+s*i,a*r+s*n,o,r]}function E(e,i,n,o,r,a,s,l,u,c){var h,d=120*B/180,p=B/180*(+r||0),f=[],m=t._.cacher(function(t,e,i){var n=t*F.cos(i)-e*F.sin(i),o=t*F.sin(i)+e*F.cos(i);return{x:n,y:o}});if(c)C=c[0],S=c[1],w=c[2],k=c[3];else{h=m(e,i,-p),e=h.x,i=h.y,h=m(l,u,-p),l=h.x,u=h.y;var g=(F.cos(B/180*r),F.sin(B/180*r),(e-l)/2),v=(i-u)/2,y=g*g/(n*n)+v*v/(o*o);y>1&&(y=F.sqrt(y),n=y*n,o=y*o);var _=n*n,b=o*o,x=(a==s?-1:1)*F.sqrt(q((_*b-_*v*v-b*g*g)/(_*v*v+b*g*g))),w=x*n*v/o+(e+l)/2,k=x*-o*g/n+(i+u)/2,C=F.asin(((i-k)/o).toFixed(9)),S=F.asin(((u-k)/o).toFixed(9));C=w>e?B-C:C,S=w>l?B-S:S,0>C&&(C=2*B+C),0>S&&(S=2*B+S),s&&C>S&&(C-=2*B),!s&&S>C&&(S-=2*B)}var T=S-C;if(q(T)>d){var A=S,M=l,D=u;S=C+d*(s&&S>C?1:-1),l=w+n*F.cos(S),u=k+o*F.sin(S),f=E(l,u,n,o,r,0,s,M,D,[S,A,w,k])}T=S-C;var I=F.cos(C),P=F.sin(C),L=F.cos(S),O=F.sin(S),z=F.tan(T/4),R=4/3*n*z,N=4/3*o*z,$=[e,i],j=[e+R*P,i-N*I],H=[l+R*O,u-N*L],W=[l,u];if(j[0]=2*$[0]-j[0],j[1]=2*$[1]-j[1],c)return[j,H,W].concat(f);f=[j,H,W].concat(f).join().split(",");for(var V=[],U=0,Y=f.length;Y>U;U++)V[U]=U%2?m(f[U-1],f[U],p).y:m(f[U],f[U+1],p).x;return V}function M(t,e,i,n,o,r,a,s){for(var l,u,c,h,d,p,f,m,g=[],v=[[],[]],y=0;2>y;++y)if(0==y?(u=6*t-12*i+6*o,l=-3*t+9*i-9*o+3*a,c=3*i-3*t):(u=6*e-12*n+6*r,l=-3*e+9*n-9*r+3*s,c=3*n-3*e),q(l)<1e-12){if(q(u)<1e-12)continue;h=-c/u,h>0&&1>h&&g.push(h)}else f=u*u-4*c*l,m=F.sqrt(f),0>f||(d=(-u+m)/(2*l),d>0&&1>d&&g.push(d),p=(-u-m)/(2*l),p>0&&1>p&&g.push(p));for(var _,b=g.length,x=b;b--;)h=g[b],_=1-h,v[0][b]=_*_*_*t+3*_*_*h*i+3*_*h*h*o+h*h*h*a,v[1][b]=_*_*_*e+3*_*_*h*n+3*_*h*h*r+h*h*h*s;return v[0][x]=t,v[1][x]=e,v[0][x+1]=a,v[1][x+1]=s,v[0].length=v[1].length=x+2,{min:{x:j.apply(0,v[0]),y:j.apply(0,v[1])},max:{x:H.apply(0,v[0]),y:H.apply(0,v[1])}}}function D(t,e){var n=!e&&i(t);if(!e&&n.curve)return r(n.curve);for(var o=S(t),a=e&&S(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=(function(t,e,i){var n,o;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(E.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"==i||"S"==i?(n=2*e.x-e.bx,o=2*e.y-e.by):(n=e.x,o=e.y),t=["C",n,o].concat(t.slice(1));break;case"T":"Q"==i||"T"==i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(A(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(A(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(T(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(T(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(T(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(T(e.x,e.y,e.X,e.Y))}return t}),c=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)d[e]="A",a&&(p[e]="A"),t.splice(e++,0,["C"].concat(i.splice(0,6)));t.splice(e,1),v=H(o.length,a&&a.length||0)}},h=function(t,e,i,n,r){t&&e&&"M"==t[r][0]&&"M"!=e[r][0]&&(e.splice(r,0,["M",n.x,n.y]),i.bx=0,i.by=0,i.x=t[r][1],i.y=t[r][2],v=H(o.length,a&&a.length||0))},d=[],p=[],f="",m="",g=0,v=H(o.length,a&&a.length||0);v>g;g++){o[g]&&(f=o[g][0]),"C"!=f&&(d[g]=f,g&&(m=d[g-1])),o[g]=u(o[g],s,m),"A"!=d[g]&&"C"==f&&(d[g]="C"),c(o,g),a&&(a[g]&&(f=a[g][0]),"C"!=f&&(p[g]=f,g&&(m=p[g-1])),a[g]=u(a[g],l,m),"A"!=p[g]&&"C"==f&&(p[g]="C"),c(a,g)),h(o,a,s,l,g),h(a,o,l,s,g);var y=o[g],_=a&&a[g],b=y.length,x=a&&_.length;s.x=y[b-2],s.y=y[b-1],s.bx=$(y[b-4])||s.x,s.by=$(y[b-3])||s.y,l.bx=a&&($(_[x-4])||l.x),l.by=a&&($(_[x-3])||l.y),l.x=a&&_[x-2],l.y=a&&_[x-1]}return a||(n.curve=r(o)),a?[o,a]:o}function I(t,e){if(!e)return t;var i,n,o,r,a,s,l;for(t=D(t),o=0,a=t.length;a>o;o++)for(l=t[o],r=1,s=l.length;s>r;r+=2)i=e.x(l[r],l[r+1]),n=e.y(l[r],l[r+1]),l[r]=i,l[r+1]=n;return t}function P(t,e){for(var i=[],n=0,o=t.length;o-2*!e>n;n+=2){var r=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?o-4==n?r[3]={x:+t[0],y:+t[1]}:o-2==n&&(r[2]={x:+t[0],y:+t[1]},r[3]={x:+t[2],y:+t[3]}):r[0]={x:+t[o-2],y:+t[o-1]}:o-4==n?r[3]=r[2]:n||(r[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-r[0].x+6*r[1].x+r[2].x)/6,(-r[0].y+6*r[1].y+r[2].y)/6,(r[1].x+6*r[2].x-r[3].x)/6,(r[1].y+6*r[2].y-r[3].y)/6,r[2].x,r[2].y])}return i}var L=e.prototype,O=t.is,z=t._.clone,R="hasOwnProperty",N=/,?([a-z]),?/gi,$=parseFloat,F=Math,B=F.PI,j=F.min,H=F.max,W=F.pow,q=F.abs,V=s(1),U=s(),Y=s(0,1),G=t._unit2px,X={path:function(t){return t.attr("path")},circle:function(t){var e=G(t);return k(e.cx,e.cy,e.r)},ellipse:function(t){var e=G(t);return k(e.cx||0,e.cy||0,e.rx,e.ry)},rect:function(t){var e=G(t);return w(e.x||0,e.y||0,e.width,e.height,e.rx,e.ry)},image:function(t){var e=G(t);return w(e.x||0,e.y||0,e.width,e.height)},line:function(t){return"M"+[t.attr("x1")||0,t.attr("y1")||0,t.attr("x2"),t.attr("y2")]},polyline:function(t){return"M"+t.attr("points")},polygon:function(t){return"M"+t.attr("points")+"z"},deflt:function(t){var e=t.node.getBBox();return w(e.x,e.y,e.width,e.height)}};t.path=i,t.path.getTotalLength=V,t.path.getPointAtLength=U,t.path.getSubpath=function(t,e,i){if(this.getTotalLength(t)-i<1e-6)return Y(t,e).end;var n=Y(t,i,1);return e?Y(n,e).end:n},L.getTotalLength=function(){return this.node.getTotalLength?this.node.getTotalLength():void 0},L.getPointAtLength=function(t){return U(this.attr("d"),t)},L.getSubpath=function(e,i){return t.path.getSubpath(this.attr("d"),e,i)},t._.box=n,t.path.findDotsAtSegment=l,t.path.bezierBBox=u,t.path.isPointInsideBBox=c,t.path.isBBoxIntersect=h,t.path.intersection=v,t.path.intersectionNumber=y,t.path.isPointInside=b,t.path.getBBox=x,t.path.get=X,t.path.toRelative=C,t.path.toAbsolute=S,t.path.toCubic=D,t.path.map=I,t.path.toString=o,t.path.clone=r}),n.plugin(function(t){var n=Math.max,o=Math.min,r=function(t){if(this.items=[],this.bindings={},this.length=0,this.type="set",t)for(var e=0,i=t.length;i>e;e++)t[e]&&(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},a=r.prototype;a.push=function(){for(var t,e,i=0,n=arguments.length;n>i;i++)t=arguments[i],t&&(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},a.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},a.forEach=function(t,e){for(var i=0,n=this.items.length;n>i;i++)if(t.call(e,this.items[i],i)===!1)return this;return this},a.animate=function(n,o,r,a){"function"!=typeof r||r.length||(a=r,r=i.linear),n instanceof t._.Animation&&(a=n.callback,r=n.easing,o=r.dur,n=n.attr);var s=arguments;if(t.is(n,"array")&&t.is(s[s.length-1],"array"))var l=!0;var u,c=function(){u?this.b=u:u=this.b},h=0,d=a&&function(){h++==this.length&&a.call(this)};return this.forEach(function(t,i){e.once("snap.animcreated."+t.id,c),l?s[i]&&t.animate.apply(t,s[i]):t.animate(n,o,r,d)})},a.remove=function(){for(;this.length;)this.pop().remove();return this},a.bind=function(t,e,i){var n={};if("function"==typeof e)this.bindings[t]=e;else{var o=i||t;this.bindings[t]=function(t){n[o]=t,e.attr(n)}}return this},a.attr=function(t){var e={};for(var i in t)this.bindings[i]?this.bindings[i](t[i]):e[i]=t[i];for(var n=0,o=this.items.length;o>n;n++)this.items[n].attr(e);return this},a.clear=function(){for(;this.length;)this.pop()},a.splice=function(t,e){t=0>t?n(this.length+t,0):t,e=n(0,o(this.length-t,e));var i,a=[],s=[],l=[];for(i=2;i<arguments.length;i++)l.push(arguments[i]);for(i=0;e>i;i++)s.push(this[t+i]);for(;i<this.length-t;i++)a.push(this[t+i]);var u=l.length;for(i=0;i<u+a.length;i++)this.items[t+i]=this[t+i]=u>i?l[i]:a[i-u];for(i=this.items.length=this.length-=e-u;this[i];)delete this[i++];return new r(s)},a.exclude=function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]==t)return this.splice(e,1),!0;return!1},a.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},a.getBBox=function(){for(var t=[],e=[],i=[],r=[],a=this.items.length;a--;)if(!this.items[a].removed){var s=this.items[a].getBBox();t.push(s.x),e.push(s.y),i.push(s.x+s.width),r.push(s.y+s.height)}return t=o.apply(0,t),e=o.apply(0,e),i=n.apply(0,i),r=n.apply(0,r),{x:t,y:e,x2:i,y2:r,width:i-t,height:r-e,cx:t+(i-t)/2,cy:e+(r-e)/2}},a.clone=function(t){t=new r;for(var e=0,i=this.items.length;i>e;e++)t.push(this.items[e].clone());return t},a.toString=function(){return"Snap\u2018s set"},a.type="set",t.set=function(){var t=new r;return arguments.length&&t.push.apply(t,Array.prototype.slice.call(arguments,0)),t}}),n.plugin(function(t,i){function n(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}}function o(e,i,o){i=d(i).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],i=t.parseTransformString(i)||[];for(var r,a,s,c,h=Math.max(e.length,i.length),p=[],f=[],m=0;h>m;m++){if(s=e[m]||n(i[m]),c=i[m]||n(s),s[0]!=c[0]||"r"==s[0].toLowerCase()&&(s[2]!=c[2]||s[3]!=c[3])||"s"==s[0].toLowerCase()&&(s[3]!=c[3]||s[4]!=c[4])){e=t._.transform2matrix(e,o()),i=t._.transform2matrix(i,o()),p=[["m",e.a,e.b,e.c,e.d,e.e,e.f]],f=[["m",i.a,i.b,i.c,i.d,i.e,i.f]];break}for(p[m]=[],f[m]=[],r=0,a=Math.max(s.length,c.length);a>r;r++)r in s&&(p[m][r]=s[r]),r in c&&(f[m][r]=c[r])}return{from:u(p),to:u(f),f:l(p)}}function r(t){return t}function a(t){return function(e){return+e.toFixed(3)+t}}function s(e){return t.rgb(e[0],e[1],e[2])}function l(t){var e,i,n,o,r,a,s=0,l=[];for(e=0,i=t.length;i>e;e++){for(r="[",a=['"'+t[e][0]+'"'],n=1,o=t[e].length;o>n;n++)a[n]="val["+s++ +"]";r+=a+"]",l[e]=r}return Function("val","return Snap.path.toString.call(["+l+"])")}function u(t){for(var e=[],i=0,n=t.length;n>i;i++)for(var o=1,r=t[i].length;r>o;o++)e.push(t[i][o]);return e}var c={},h=/[a-z]+$/i,d=String;c.stroke=c.fill="colour",i.prototype.equal=function(t,i){return e("snap.util.equal",this,t,i).firstDefined()},e.on("snap.util.equal",function(e,i){var n,p,f=d(this.attr(e)||""),m=this;if(f==+f&&i==+i)return{from:+f,to:+i,f:r};if("colour"==c[e])return n=t.color(f),p=t.color(i),{from:[n.r,n.g,n.b,n.opacity],to:[p.r,p.g,p.b,p.opacity],f:s};if("transform"==e||"gradientTransform"==e||"patternTransform"==e)return i instanceof t.Matrix&&(i=i.toTransformString()),t._.rgTransform.test(i)||(i=t._.svgTransform2string(i)),o(f,i,function(){return m.getBBox(1)});if("d"==e||"path"==e)return n=t.path.toCubic(f,i),{from:u(n[0]),to:u(n[1]),f:l(n[0])};if("points"==e)return n=d(f).split(t._.separator),p=d(i).split(t._.separator),{from:n,to:p,f:function(t){return t}};aUnit=f.match(h);var g=d(i).match(h);return aUnit&&aUnit==g?{from:parseFloat(f),to:parseFloat(i),f:a(aUnit)}:{from:this.asPX(e),to:this.asPX(e,i),f:r}})}),n.plugin(function(t,i,n,o){for(var r=i.prototype,a="hasOwnProperty",s=("createTouch"in o.doc),l=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],u={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},c=(function(t,e){var i="y"==t?"scrollTop":"scrollLeft",n=e&&e.node?e.node.ownerDocument:o.doc;return n[i in n.documentElement?"documentElement":"body"][i]}),h=function(){this.returnValue=!1},d=function(){return this.originalEvent.preventDefault()},p=function(){this.cancelBubble=!0},f=function(){return this.originalEvent.stopPropagation()},m=function(){return o.doc.addEventListener?function(t,e,i,n){var o=s&&u[e]?u[e]:e,r=function(o){var r=c("y",n),l=c("x",n);if(s&&u[a](e))for(var h=0,p=o.targetTouches&&o.targetTouches.length;p>h;h++)if(o.targetTouches[h].target==t||t.contains(o.targetTouches[h].target)){var m=o;o=o.targetTouches[h],o.originalEvent=m,o.preventDefault=d,o.stopPropagation=f;break}var g=o.clientX+l,v=o.clientY+r;return i.call(n,o,g,v)};return e!==o&&t.addEventListener(e,r,!1),t.addEventListener(o,r,!1),function(){return e!==o&&t.removeEventListener(e,r,!1),t.removeEventListener(o,r,!1),!0}}:o.doc.attachEvent?function(t,e,i,n){var o=function(t){t=t||n.node.ownerDocument.window.event;var e=c("y",n),o=c("x",n),r=t.clientX+o,a=t.clientY+e;return t.preventDefault=t.preventDefault||h,t.stopPropagation=t.stopPropagation||p,i.call(n,t,r,a)};t.attachEvent("on"+e,o);var r=function(){return t.detachEvent("on"+e,o),!0};return r}:void 0}(),g=[],v=function(t){for(var i,n=t.clientX,o=t.clientY,r=c("y"),a=c("x"),l=g.length;l--;){if(i=g[l],s){for(var u,h=t.touches&&t.touches.length;h--;)if(u=t.touches[h],u.identifier==i.el._drag.id||i.el.node.contains(u.target)){n=u.clientX,o=u.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var d=i.el.node;d.nextSibling,d.parentNode,d.style.display,n+=a,o+=r,e("snap.drag.move."+i.el.id,i.move_scope||i.el,n-i.el._drag.x,o-i.el._drag.y,n,o,t)}},y=function(i){t.unmousemove(v).unmouseup(y);for(var n,o=g.length;o--;)n=g[o],n.el._drag={},e("snap.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,i);g=[]},_=l.length;_--;)!function(e){t[e]=r[e]=function(i,n){return t.is(i,"function")&&(this.events=this.events||[],this.events.push({name:e,f:i,unbind:m(this.node||document,e,i,n||this)})),this},t["un"+e]=r["un"+e]=function(t){for(var i=this.events||[],n=i.length;n--;)if(i[n].name==e&&(i[n].f==t||!t))return i[n].unbind(),i.splice(n,1),!i.length&&delete this.events,this;return this}}(l[_]);r.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},r.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var b=[];r.drag=function(i,n,o,r,a,s){function l(l,u,c){(l.originalEvent||l).preventDefault(),this._drag.x=u,this._drag.y=c,this._drag.id=l.identifier,!g.length&&t.mousemove(v).mouseup(y),g.push({el:this,move_scope:r,start_scope:a,end_scope:s}),n&&e.on("snap.drag.start."+this.id,n),i&&e.on("snap.drag.move."+this.id,i),o&&e.on("snap.drag.end."+this.id,o),e("snap.drag.start."+this.id,a||r||this,u,c,l)}if(!arguments.length){var u;return this.drag(function(t,e){this.attr({transform:u+(u?"T":"t")+[t,e]})},function(){u=this.transform().local})}return this._drag={},b.push({el:this,start:l}),this.mousedown(l),this},r.undrag=function(){for(var i=b.length;i--;)b[i].el==this&&(this.unmousedown(b[i].start),b.splice(i,1),e.unbind("snap.drag.*."+this.id));return!b.length&&t.unmousemove(v).unmouseup(y),this}}),n.plugin(function(t,i,n){var o=(i.prototype,n.prototype),r=/^\s*url\((.+)\)/,a=String,s=t._.$;t.filter={},o.filter=function(e){var n=this;"svg"!=n.type&&(n=n.paper);var o=t.parse(a(e)),r=t._.id(),l=(n.node.offsetWidth,n.node.offsetHeight,s("filter"));return s(l,{id:r,filterUnits:"userSpaceOnUse"}),l.appendChild(o.node),n.defs.appendChild(l),new i(l)},e.on("snap.util.getattr.filter",function(){e.stop();var i=s(this.node,"filter");if(i){var n=a(i).match(r);return n&&t.select(n[1])}}),e.on("snap.util.attr.filter",function(n){if(n instanceof i&&"filter"==n.type){e.stop();var o=n.node.id;o||(s(n.node,{id:n.id}),o=n.id),s(this.node,{filter:t.url(o)})}n&&"none"!=n||(e.stop(),this.node.removeAttribute("filter"))}),t.filter.blur=function(e,i){null==e&&(e=2);var n=null==i?e:[e,i];return t.format('<feGaussianBlur stdDeviation="{def}"/>',{def:n})},t.filter.blur.toString=function(){return this()},t.filter.shadow=function(e,i,n,o,r){return"string"==typeof n&&(o=n,r=o,n=4),"string"!=typeof o&&(r=o,o="#000"),o=o||"#000",null==n&&(n=4),null==r&&(r=1),null==e&&(e=0,i=2),null==i&&(i=e),o=t.color(o),t.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:o,dx:e,dy:i,blur:n,opacity:r})},t.filter.shadow.toString=function(){return this()},t.filter.grayscale=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},t.filter.grayscale.toString=function(){return this()},t.filter.sepia=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},t.filter.sepia.toString=function(){return this()},t.filter.saturate=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-e})},t.filter.saturate.toString=function(){return this()},t.filter.hueRotate=function(e){return e=e||0,t.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:e})},t.filter.hueRotate.toString=function(){return this()},t.filter.invert=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:e,amount2:1-e})},t.filter.invert.toString=function(){return this()},t.filter.brightness=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:e})},t.filter.brightness.toString=function(){return this()},t.filter.contrast=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:e,amount2:.5-e/2})},t.filter.contrast.toString=function(){return this()}}),n}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery)}(function(t){"use strict";var e=0;t.ajaxTransport("iframe",function(i){if(i.async){var n,o,r,a=i.initialIframeSrc||"javascript:false;";return{send:function(s,l){n=t('<form style="display:none;"></form>'),n.attr("accept-charset",i.formAcceptCharset),r=/\?/.test(i.url)?"&":"?","DELETE"===i.type?(i.url=i.url+r+"_method=DELETE",i.type="POST"):"PUT"===i.type?(i.url=i.url+r+"_method=PUT",i.type="POST"):"PATCH"===i.type&&(i.url=i.url+r+"_method=PATCH",i.type="POST"),e+=1,o=t('<iframe src="'+a+'" name="iframe-transport-'+e+'"></iframe>').bind("load",function(){var e,r=t.isArray(i.paramName)?i.paramName:[i.paramName];o.unbind("load").bind("load",function(){var e;try{if(e=o.contents(),!e.length||!e[0].firstChild)throw new Error}catch(i){e=void 0}l(200,"success",{iframe:e}),t('<iframe src="'+a+'"></iframe>').appendTo(n),window.setTimeout(function(){n.remove()},0)}),n.prop("target",o.prop("name")).prop("action",i.url).prop("method",i.type),i.formData&&t.each(i.formData,function(e,i){t('<input type="hidden"/>').prop("name",i.name).val(i.value).appendTo(n)}),i.fileInput&&i.fileInput.length&&"POST"===i.type&&(e=i.fileInput.clone(),i.fileInput.after(function(t){return e[t]}),i.paramName&&i.fileInput.each(function(e){t(this).prop("name",r[e]||i.paramName)}),n.append(i.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),i.fileInput.removeAttr("form")),n.submit(),e&&e.length&&i.fileInput.each(function(i,n){var o=t(e[i]);t(n).prop("name",o.prop("name")).attr("form",o.attr("form")),o.replaceWith(n)})}),n.append(o).appendTo(document.body)},abort:function(){o&&o.unbind("load").prop("src",a),n&&n.remove()}}}}),t.ajaxSetup({converters:{"iframe text":function(e){return e&&t(e[0].body).text()},"iframe json":function(e){return e&&t.parseJSON(t(e[0].body).text())},"iframe html":function(e){return e&&t(e[0].body).html()},"iframe xml":function(e){var i=e&&e[0];return i&&t.isXMLDoc(i)?i:t.parseXML(i.XMLDocument&&i.XMLDocument.xml||t(i.body).html())},"iframe script":function(e){return e&&t.globalEval(t(e[0].body).text())}}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):t(window.jQuery)}(function(t){"use strict";function e(e){var i="dragover"===e;return function(n){n.dataTransfer=n.originalEvent&&n.originalEvent.dataTransfer;var o=n.dataTransfer;o&&-1!==t.inArray("Files",o.types)&&this._trigger(e,t.Event(e,{delegatedEvent:n}))!==!1&&(n.preventDefault(),i&&(o.dropEffect="copy"))}}t.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||t('<input type="file">').prop("disabled")),t.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,i){return e=this.messages[e]||e.toString(),i&&t.each(i,function(t,i){e=e.replace("{"+t+"}",i)}),e},formData:function(t){return t.serializeArray()},add:function(e,i){return e.isDefaultPrevented()?!1:void((i.autoUpload||i.autoUpload!==!1&&t(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()}))},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,i){var n=t-this.timestamp;return(!this.bitrate||!i||n>i)&&(this.bitrate=(e-this.loaded)*(1e3/n)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var i;return"function"===t.type(e.formData)?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(i=[],t.each(e.formData,function(t,e){i.push({name:t,value:e})}),i):[]},_getTotal:function(e){var i=0;return t.each(e,function(t,e){i+=e.size||1}),i},_initProgressObject:function(e){var i={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,i):e._progress=i},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={};
},_onProgress:function(e,i){if(e.lengthComputable){var n,o=Date.now?Date.now():(new Date).getTime();if(i._time&&i.progressInterval&&o-i._time<i.progressInterval&&e.loaded!==e.total)return;i._time=o,n=Math.floor(e.loaded/e.total*(i.chunkSize||i._progress.total))+(i.uploadedBytes||0),this._progress.loaded+=n-i._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(o,this._progress.loaded,i.bitrateInterval),i._progress.loaded=i.loaded=n,i._progress.bitrate=i.bitrate=i._bitrateTimer.getBitrate(o,n,i.bitrateInterval),this._trigger("progress",t.Event("progress",{delegatedEvent:e}),i),this._trigger("progressall",t.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var i=this,n=e.xhr?e.xhr():t.ajaxSettings.xhr();n.upload&&(t(n.upload).bind("progress",function(t){var n=t.originalEvent;t.lengthComputable=n.lengthComputable,t.loaded=n.loaded,t.total=n.total,i._onProgress(t,e)}),e.xhr=function(){return n})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var i,n=this,o=e.files[0],r=e.multipart||!t.support.xhrFileUpload,a="array"===t.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=t.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),r&&!e.blob&&this._isInstanceOf("File",o)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(o.name)+'"'),r?t.support.xhrFormDataFileUpload&&(e.postMessage?(i=this._getFormData(e),e.blob?i.push({name:a,value:e.blob}):t.each(e.files,function(n,o){i.push({name:"array"===t.type(e.paramName)&&e.paramName[n]||a,value:o})})):(n._isInstanceOf("FormData",e.formData)?i=e.formData:(i=new FormData,t.each(this._getFormData(e),function(t,e){i.append(e.name,e.value)})),e.blob?i.append(a,e.blob,o.name):t.each(e.files,function(o,r){(n._isInstanceOf("File",r)||n._isInstanceOf("Blob",r))&&i.append("array"===t.type(e.paramName)&&e.paramName[o]||a,r,r.uploadName||r.name)})),e.data=i):(e.contentType=o.type||"application/octet-stream",e.data=e.blob||o),e.blob=null},_initIframeSettings:function(e){var i=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&i&&i!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var i=t(e.fileInput),n=e.paramName;return n?t.isArray(n)||(n=[n]):(n=[],i.each(function(){for(var e=t(this),i=e.prop("name")||"files[]",o=(e.prop("files")||[1]).length;o;)n.push(i),o-=1}),n.length||(n=[i.prop("name")||"files[]"])),n},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===t.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var i=t.extend({},this.options,e);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,i,n){var o=t.Deferred(),r=o.promise();return i=i||this.options.context||r,e===!0?o.resolveWith(i,n):e===!1&&o.rejectWith(i,n),r.abort=o.promise,this._enhancePromise(r)},_addConvenienceMethods:function(e,i){var n=this,o=function(e){return t.Deferred().resolveWith(n,e).promise()};i.process=function(e,r){return(e||r)&&(i._processQueue=this._processQueue=(this._processQueue||o([this])).pipe(function(){return i.errorThrown?t.Deferred().rejectWith(n,[i]).promise():o(arguments)}).pipe(e,r)),this._processQueue||o([this])},i.submit=function(){return"pending"!==this.state()&&(i.jqXHR=this.jqXHR=n._trigger("submit",t.Event("submit",{delegatedEvent:e}),this)!==!1&&n._onSend(e,this)),this.jqXHR||n._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",n._trigger("fail",null,this),n._getXHRPromise(!1))},i.state=function(){return this.jqXHR?n._getDeferredState(this.jqXHR):this._processQueue?n._getDeferredState(this._processQueue):void 0},i.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===n._getDeferredState(this._processQueue)},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),i=e&&e.split("-"),n=i&&i.length>1&&parseInt(i[1],10);return n&&n+1},_chunkedUpload:function(e,i){e.uploadedBytes=e.uploadedBytes||0;var n,o,r=this,a=e.files[0],s=a.size,l=e.uploadedBytes,u=e.maxChunkSize||s,c=this._blobSlice,h=t.Deferred(),d=h.promise();return this._isXHRUpload(e)&&c&&(l||s>u)&&!e.data?i?!0:l>=s?(a.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",a.error])):(o=function(){var i=t.extend({},e),d=i._progress.loaded;i.blob=c.call(a,l,l+u,a.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+l+"-"+(l+i.chunkSize-1)+"/"+s,r._initXHRData(i),r._initProgressListener(i),n=(r._trigger("chunksend",null,i)!==!1&&t.ajax(i)||r._getXHRPromise(!1,i.context)).done(function(n,a,u){l=r._getUploadedBytes(u)||l+i.chunkSize,d+i.chunkSize-i._progress.loaded&&r._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-i.uploadedBytes,total:l-i.uploadedBytes}),i),e.uploadedBytes=i.uploadedBytes=l,i.result=n,i.textStatus=a,i.jqXHR=u,r._trigger("chunkdone",null,i),r._trigger("chunkalways",null,i),s>l?o():h.resolveWith(i.context,[n,a,u])}).fail(function(t,e,n){i.jqXHR=t,i.textStatus=e,i.errorThrown=n,r._trigger("chunkfail",null,i),r._trigger("chunkalways",null,i),h.rejectWith(i.context,[t,e,n])})},this._enhancePromise(d),d.abort=function(){return n.abort()},o(),d):!1},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,i,n,o){var r=o._progress.total,a=o._response;o._progress.loaded<r&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:r,total:r}),o),a.result=o.result=e,a.textStatus=o.textStatus=i,a.jqXHR=o.jqXHR=n,this._trigger("done",null,o)},_onFail:function(t,e,i,n){var o=n._response;n.recalculateProgress&&(this._progress.loaded-=n._progress.loaded,this._progress.total-=n._progress.total),o.jqXHR=n.jqXHR=t,o.textStatus=n.textStatus=e,o.errorThrown=n.errorThrown=i,this._trigger("fail",null,n)},_onAlways:function(t,e,i,n){this._trigger("always",null,n)},_onSend:function(e,i){i.submit||this._addConvenienceMethods(e,i);var n,o,r,a,s=this,l=s._getAJAXSettings(i),u=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,n=n||((o||s._trigger("send",t.Event("send",{delegatedEvent:e}),l)===!1)&&s._getXHRPromise(!1,l.context,o)||s._chunkedUpload(l)||t.ajax(l)).done(function(t,e,i){s._onDone(t,e,i,l)}).fail(function(t,e,i){s._onFail(t,e,i,l)}).always(function(t,e,i){if(s._onAlways(t,e,i,l),s._sending-=1,s._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var n=s._slots.shift();n;){if("pending"===s._getDeferredState(n)){n.resolve();break}n=s._slots.shift()}0===s._active&&s._trigger("stop")})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(r=t.Deferred(),this._slots.push(r),a=r.pipe(u)):(this._sequence=this._sequence.pipe(u,u),a=this._sequence),a.abort=function(){return o=[void 0,"abort","abort"],n?n.abort():(r&&r.rejectWith(l.context,o),u())},this._enhancePromise(a)):u()},_onAdd:function(e,i){var n,o,r,a,s=this,l=!0,u=t.extend({},this.options,i),c=i.files,h=c.length,d=u.limitMultiFileUploads,p=u.limitMultiFileUploadSize,f=u.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(u),v=0;if(!p||h&&void 0!==c[0].size||(p=void 0),(u.singleFileUploads||d||p)&&this._isXHRUpload(u))if(u.singleFileUploads||p||!d)if(!u.singleFileUploads&&p)for(r=[],n=[],a=0;h>a;a+=1)m+=c[a].size+f,(a+1===h||m+c[a+1].size+f>p||d&&a+1-v>=d)&&(r.push(c.slice(v,a+1)),o=g.slice(v,a+1),o.length||(o=g),n.push(o),v=a+1,m=0);else n=g;else for(r=[],n=[],a=0;h>a;a+=d)r.push(c.slice(a,a+d)),o=g.slice(a,a+d),o.length||(o=g),n.push(o);else r=[c],n=[g];return i.originalFiles=c,t.each(r||c,function(o,a){var u=t.extend({},i);return u.files=r?a:[a],u.paramName=n[o],s._initResponseObject(u),s._initProgressObject(u),s._addConvenienceMethods(e,u),l=s._trigger("add",t.Event("add",{delegatedEvent:e}),u)}),l},_replaceFileInput:function(e){var i=e.fileInput,n=i.clone(!0);e.fileInputClone=n,t("<form></form>").append(n)[0].reset(),i.after(n).detach(),t.cleanData(i.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,e){return e===i[0]?n[0]:e}),i[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(e,i){var n,o=this,r=t.Deferred(),a=function(t){t&&!t.entry&&(t.entry=e),r.resolve([t])},s=function(t){o._handleFileTreeEntries(t,i+e.name+"/").done(function(t){r.resolve(t)}).fail(a)},l=function(){n.readEntries(function(t){t.length?(u=u.concat(t),l()):s(u)},a)},u=[];return i=i||"",e.isFile?e._file?(e._file.relativePath=i,r.resolve(e._file)):e.file(function(t){t.relativePath=i,r.resolve(t)},a):e.isDirectory?(n=e.createReader(),l()):r.resolve([]),r.promise()},_handleFileTreeEntries:function(e,i){var n=this;return t.when.apply(t,t.map(e,function(t){return n._handleFileTreeEntry(t,i)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var i=e.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(t.map(i,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var i,n,o=e.prop("webkitEntries")||e.prop("entries");if(o&&o.length)return this._handleFileTreeEntries(o);if(i=t.makeArray(e.prop("files")),i.length)void 0===i[0].name&&i[0].fileName&&t.each(i,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(n=e.prop("value"),!n)return t.Deferred().resolve([]).promise();i=[{name:n.replace(/^.*\\/,"")}]}return t.Deferred().resolve(i).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var i=this,n={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(n.fileInput).always(function(o){n.files=o,i.options.replaceFileInput&&i._replaceFileInput(n),i._trigger("change",t.Event("change",{delegatedEvent:e}),n)!==!1&&i._onAdd(e,n)})},_onPaste:function(e){var i=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,n={files:[]};i&&i.length&&(t.each(i,function(t,e){var i=e.getAsFile&&e.getAsFile();i&&n.files.push(i)}),this._trigger("paste",t.Event("paste",{delegatedEvent:e}),n)!==!1&&this._onAdd(e,n))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var i=this,n=e.dataTransfer,o={};n&&n.files&&n.files.length&&(e.preventDefault(),this._getDroppedFiles(n).always(function(n){o.files=n,i._trigger("drop",t.Event("drop",{delegatedEvent:e}),o)!==!1&&i._onAdd(e,o)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),t.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,i){var n=-1!==t.inArray(e,this._specialOptions);n&&this._destroyEventHandlers(),this._super(e,i),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),i=e.pop();return e.shift(),new RegExp(e.join("/"),i)},_isRegExpOption:function(e,i){return"url"!==e&&"string"===t.type(i)&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var e=this,i=this.options,n=t(this.element[0].cloneNode(!1));t.each(n.data(),function(t,o){var r="data-"+t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();n.attr(r)&&(e._isRegExpOption(t,o)&&(o=e._getRegExp(o)),i[t]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var i=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,i._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var i,n,o=this,r=t.Deferred(),a=r.promise();return a.abort=function(){return n=!0,i?i.abort():(r.reject(null,"abort","abort"),a)},this._getFileInputFiles(e.fileInput).always(function(t){if(!n){if(!t.length)return void r.reject();e.files=t,i=o._onSend(null,e),i.then(function(t,e,i){r.resolve(t,e,i)},function(t,e,i){r.reject(t,e,i)})}}),this._enhancePromise(a)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),function(t){var e;e=function(){function e(e,i){t.getJSON(i,function(i){var n=e.getContext("2d"),o={scaleShowGridLines:!0,scaleGridLineColor:"rgba(222,222,222,1)",scaleGridLineWidth:2,bezierCurve:!1,bezierCurveTension:.4,pointDot:!0,pointDotRadius:8,pointDotStrokeWidth:3,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].lineColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};new Chart(n).Line(i,o);t(e).parent().height("auto")})}t(".bar-graph").each(function(i,n){var o=t(n).data("jsonPath");e(n,o)}),t(".graph select").on("change",function(){var i=t(this).closest(".card-body").find("canvas");t(i).parent().height(t(i).parent().height());var n=t(i).after("<canvas class='bar-graph' />").next("canvas");i.remove(),delete Chart.instances[t(i).data("chartId")],e(n[0],this.value)})},t(document).ready(e),t(document).on("page:load",e)}(jQuery),function(){var t=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},createConsumer:function(t){var e;return null==t&&(t=null!=(e=this.getConfig("url"))?e:this.INTERNAL.default_mount_path),new ActionCable.Consumer(this.createWebSocketURL(t))},getConfig:function(t){var e;return e=document.head.querySelector("meta[name='action-cable-"+t+"']"),null!=e?e.getAttribute("content"):void 0},createWebSocketURL:function(t){var e;return t&&!/^wss?:/i.test(t)?(e=document.createElement("a"),e.href=t,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href):t},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],this.debugging?(e.push(Date.now()),console.log.apply(console,["[ActionCable]"].concat(t.call(e)))):void 0}},"undefined"!=typeof window&&null!==window&&(window.ActionCable=this.ActionCable),"undefined"!=typeof module&&null!==module&&(module.exports=this.ActionCable)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};ActionCable.ConnectionMonitor=function(){function e(e){this.connection=e,this.visibilityDidChange=t(this.visibilityDidChange,this),this.reconnectAttempts=0}var i,n,o;return e.pollInterval={min:3,max:30},e.staleThreshold=6,e.prototype.start=function(){return this.isRunning()?void 0:(this.startedAt=n(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),ActionCable.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms"))},e.prototype.stop=function(){return this.isRunning()?(this.stoppedAt=n(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),ActionCable.log("ConnectionMonitor stopped")):void 0},e.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},e.prototype.recordPing=function(){return this.pingedAt=n()},e.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,ActionCable.log("ConnectionMonitor recorded connect")},e.prototype.recordDisconnect=function(){return this.disconnectedAt=n(),ActionCable.log("ConnectionMonitor recorded disconnect")},e.prototype.startPolling=function(){return this.stopPolling(),this.poll()},e.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},e.prototype.poll=function(){return this.pollTimeout=setTimeout(function(t){return function(){return t.reconnectIfStale(),t.poll()}}(this),this.getPollInterval())},e.prototype.getPollInterval=function(){var t,e,n,o;return o=this.constructor.pollInterval,n=o.min,e=o.max,t=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*i(t,n,e))},e.prototype.reconnectIfStale=function(){return this.connectionIsStale()?(ActionCable.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+o(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?ActionCable.log("ConnectionMonitor skipping reopening recent disconnect"):(ActionCable.log("ConnectionMonitor reopening"),this.connection.reopen())):void 0},e.prototype.connectionIsStale=function(){var t;return o(null!=(t=this.pingedAt)?t:this.startedAt)>this.constructor.staleThreshold},e.prototype.disconnectedRecently=function(){return this.disconnectedAt&&o(this.disconnectedAt)<this.constructor.staleThreshold},e.prototype.visibilityDidChange=function(){return"visible"===document.visibilityState?setTimeout(function(t){return function(){return t.connectionIsStale()||!t.connection.isOpen()?(ActionCable.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),t.connection.reopen()):void 0}}(this),200):void 0},n=function(){return(new Date).getTime()},o=function(t){return(n()-t)/1e3},i=function(t,e,i){return Math.max(e,Math.min(i,t))},e}()}.call(this),function(){var t,e,i,n,o,r,a=[].slice,s=function(t,e){return function(){return t.apply(e,arguments)}},l=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};n=ActionCable.INTERNAL,e=n.message_types,i=n.protocols,o=2<=i.length?a.call(i,0,t=i.length-1):(t=0,[]),r=i[t++],ActionCable.Connection=function(){function t(t){this.consumer=t,this.open=s(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new ActionCable.ConnectionMonitor(this),this.disconnected=!0}return t.reopenDelay=500,t.prototype.send=function(t){return this.isOpen()?(this.webSocket.send(JSON.stringify(t)),!0):!1},t.prototype.open=function(){if(this.isActive())throw ActionCable.log("Attempted to open WebSocket, but existing socket is "+this.getState()),new Error("Existing connection must be closed before opening");return ActionCable.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+i),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new WebSocket(this.consumer.url,i),this.installEventHandlers(),this.monitor.start(),!0},t.prototype.close=function(t){var e,i;return e=(null!=t?t:{allowReconnect:!0}).allowReconnect,e||this.monitor.stop(),this.isActive()&&null!=(i=this.webSocket)?i.close():void 0},t.prototype.reopen=function(){var t,e;if(ActionCable.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(e){return t=e,ActionCable.log("Failed to reopen WebSocket",t)}finally{ActionCable.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},t.prototype.getProtocol=function(){var t;return null!=(t=this.webSocket)?t.protocol:void 0},t.prototype.isOpen=function(){return this.isState("open")},t.prototype.isActive=function(){return this.isState("open","connecting")},t.prototype.isProtocolSupported=function(){var t;return t=this.getProtocol(),l.call(o,t)>=0},t.prototype.isState=function(){var t,e;return e=1<=arguments.length?a.call(arguments,0):[],t=this.getState(),l.call(e,t)>=0},t.prototype.getState=function(){var t,e,i;for(e in WebSocket)if(i=WebSocket[e],i===(null!=(t=this.webSocket)?t.readyState:void 0))return e.toLowerCase();return null},t.prototype.installEventHandlers=function(){var t,e;for(t in this.events)e=this.events[t].bind(this),this.webSocket["on"+t]=e},t.prototype.uninstallEventHandlers=function(){var t;for(t in this.events)this.webSocket["on"+t]=function(){}},t.prototype.events={message:function(t){var i,n,o,r;if(this.isProtocolSupported())switch(o=JSON.parse(t.data),i=o.identifier,n=o.message,r=o.type,r){case e.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case e.ping:return this.monitor.recordPing();case e.confirmation:return this.subscriptions.notify(i,"connected");case e.rejection:return this.subscriptions.reject(i);default:return this.subscriptions.notify(i,"received",n)}},open:function(){return ActionCable.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,this.isProtocolSupported()?void 0:(ActionCable.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1}))},close:function(){return ActionCable.log("WebSocket onclose event"),this.disconnected?void 0:(this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()}))},error:function(){return ActionCable.log("WebSocket onerror event")}},t}()}.call(this),function(){var t=[].slice;ActionCable.Subscriptions=function(){function e(t){this.consumer=t,this.subscriptions=[]}return e.prototype.create=function(t,e){var i,n,o;return i=t,n="object"==typeof i?i:{channel:i},o=new ActionCable.Subscription(this.consumer,n,e),this.add(o)},e.prototype.add=function(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.sendCommand(t,"subscribe"),t},e.prototype.remove=function(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t},e.prototype.reject=function(t){var e,i,n,o,r;for(n=this.findAll(t),o=[],e=0,i=n.length;i>e;e++)r=n[e],this.forget(r),this.notify(r,"rejected"),o.push(r);return o},e.prototype.forget=function(t){var e;return this.subscriptions=function(){var i,n,o,r;for(o=this.subscriptions,r=[],i=0,n=o.length;n>i;i++)e=o[i],e!==t&&r.push(e);return r}.call(this),t},e.prototype.findAll=function(t){var e,i,n,o,r;for(n=this.subscriptions,o=[],e=0,i=n.length;i>e;e++)r=n[e],r.identifier===t&&o.push(r);return o},e.prototype.reload=function(){var t,e,i,n,o;for(i=this.subscriptions,n=[],t=0,e=i.length;e>t;t++)o=i[t],n.push(this.sendCommand(o,"subscribe"));return n},e.prototype.notifyAll=function(){var e,i,n,o,r,a,s;for(i=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],r=this.subscriptions,a=[],n=0,o=r.length;o>n;n++)s=r[n],a.push(this.notify.apply(this,[s,i].concat(t.call(e))));return a},e.prototype.notify=function(){var e,i,n,o,r,a,s;for(a=arguments[0],i=arguments[1],e=3<=arguments.length?t.call(arguments,2):[],s="string"==typeof a?this.findAll(a):[a],r=[],n=0,o=s.length;o>n;n++)a=s[n],r.push("function"==typeof a[i]?a[i].apply(a,e):void 0);return r},e.prototype.sendCommand=function(t,e){var i;return i=t.identifier,this.consumer.send({command:e,identifier:i})},e}()}.call(this),function(){ActionCable.Subscription=function(){function t(t,i,n){this.consumer=t,null==i&&(i={}),this.identifier=JSON.stringify(i),e(this,n)}var e;return t.prototype.perform=function(t,e){return null==e&&(e={}),e.action=t,this.send(e)},t.prototype.send=function(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})},t.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},e=function(t,e){var i,n;if(null!=e)for(i in e)n=e[i],t[i]=n;return t},t}()}.call(this),function(){ActionCable.Consumer=function(){function t(t){this.url=t,this.subscriptions=new ActionCable.Subscriptions(this),this.connection=new ActionCable.Connection(this)}return t.prototype.send=function(t){return this.connection.send(t)},t.prototype.connect=function(){return this.connection.open()},t.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},t.prototype.ensureActiveConnection=function(){return this.connection.isActive()?void 0:this.connection.open()},t}()}.call(this),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),function(){}.call(this),function(){}.call(this);var tagBody="(?:[^\"'>]|\"[^\"]*\"|'[^']*')*",tagOrComment=new RegExp("<(?:!--(?:(?:-*[^->])*--+|-?)|script\\b"+tagBody+">[\\s\\S]*?</script\\s*|style\\b"+tagBody+">[\\s\\S]*?</style\\s*|/?[a-z]"+tagBody+")>","gi");!function(t){t.DateRangePicker=function(e){function i(t){var e=t.getFullYear().toString().substring(2),i=t.getMonth()+1,n=t.getDate();if("ru-RU"==u.locale){10>i&&(i="0"+i),10>n&&(n="0"+n);var o=n+"."+i+"."+e}else if("en-US"==u.locale)var o=i+"/"+n+"/"+e;return o}function n(){if(s(),""==u.date_at)h.find("span.date_at").text(u.l.at);else{var t=new Date(u.date_at),e=i(t);h.find("span.date_at").html(e)}if(""==u.date_to)h.find("span.date_to").text(u.l.to);else{var n=new Date(u.date_to),o=i(n);h.find("span.date_to").html(o)}}function o(e,i,n,o){void 0===o&&(o=4);for(var a,s=1,l=s;o>=l;l++){for(var c=new Date(e,i+l,0).getDate(),h=new Date(e,i+l-1,c),f=(new Date(h.getFullYear(),h.getMonth(),c).getDay(),new Date(h.getFullYear(),h.getMonth(),1).getDay()),a="<tr>",m=0;6>=m;m++)a+="<th>"+u.l.days[m]+"</th>";if(a+="</tr>",0!=f)for(var m=1;f>m;m++)a+="<td>&nbsp;</td>";else for(var m=0;6>m;m++)a+="<td>&nbsp;</td>";for(var m=1;c>=m;m++)a+=new Date(h.getFullYear(),h.getMonth(),m+1)<new Date&&1==u.inactive?'<td class="valid'+r(h.getFullYear(),h.getMonth(),m)+'" data-year="'+h.getFullYear()+'" data-month="'+(h.getMonth()+1)+'">'+m+"</td>":'<td class="valid'+r(h.getFullYear(),h.getMonth(),m)+'" data-year="'+h.getFullYear()+'" data-month="'+(h.getMonth()+1)+'">'+m+"</td>",0==new Date(h.getFullYear(),h.getMonth(),m).getDay()&&(a+="<tr>");if(a='<table data-year="'+h.getFullYear()+'" data-month="'+h.getMonth()+'"><caption>'+u.l.months[h.getMonth()]+" "+h.getFullYear()+"</caption>"+a+"</table>","prev"==n){var g=p.find("table").innerWidth()+10;d.find("table:last").remove(),p.animate({left:"10px"},200,function(){p.css("left","-"+g+"px").prepend(a)})}else if("next"==n){var g=p.find("table").innerWidth()+10;p.animate({left:"-"+(2*g+10)+"px"},200,function(){d.find("table:first").fadeOut(0,function(){t(this).remove(),p.css("left","-"+g+"px")})}).append(a)}else p.append(a)}}function r(t,e,i){var n=t+"-"+("0"+(e+1)).slice(-2)+"-"+("0"+i).slice(-2);if(""!=u.date_at&&u.date_at==n)return" start";if(""!=u.date_to&&u.date_to==n)return" end";var o=new Date(u.date_at),r=new Date(u.date_to),a=new Date(n);return a>o&&r>a?" intermediate":""}function a(e,i){d.find("td").removeClass("intermediate-hover intermediate");var n=Number(e.data("year")),o=Number(e.data("month")),r=Number(e.text()),a=new Date(u.date_at),s=new Date(n+"-"+o+"-"+r);if(""!=u.date_at&&s>a){e.addClass("hovered");var l=p.find("td.valid"),c=!1;if(!l.hasClass("start"))var c=!0;t.each(l,function(){var e=t(this).attr("class");e.indexOf("start")+1&&(""==u.date_to||"click"==i)?c=!0:e.indexOf("hovered")+1&&(c=!1),1==c&&("click"==i?t(this).addClass("intermediate"):t(this).addClass("intermediate-hover"))})}}function s(){""==u.date_at&&""==u.date_to||h.find(".clear").show()}function l(){c.find("input.date_at").val(u.date_at),c.find("input.date_to").val(u.date_to),c.removeClass("active").find(".value").removeClass("active"),p.empty(),t("body").css("position","")}var u=t.extend({},t.DateRangePicker.defaults,e),c=t(u.container),h=c.find(".values"),d=c.find(".calendar-range"),p=c.find(".container-range");n(),t(document).click(function(e){t(e.target).closest(u.container).length||(l(),e.stopPropagation())}),h.on("click","span",function(){if(d.is(":hidden"))if(""!=u.date_at){var e=u.date_at.split("-"),i=Number(e[0]),n=Number(e[1])-2;o(i,n,"")}else{var i=(new Date).getFullYear(),n=Number((new Date).getMonth())-1;o(i,n,"")}c.addClass("active").find(".value").removeClass("active"),t(this).parent(".value").addClass("active"),u.inputActive=t(this).attr("class"),d.css("top","100%")}),d.on("click",".button-prev",function(){var t=p.find("table:first").data("year"),e=parseFloat(p.find("table:first").data("month"))-1,i=1;o(t,e,"prev",i)}),d.on("click",".button-next",function(){var t=p.find("table:last").data("year"),e=parseFloat(p.find("table:last").data("month"))+1,i=1;o(t,e,"next",i)}),d.on("click","td.valid",function(){var e=Number(t(this).data("year")),n=Number(t(this).data("month"));if("date_at"==u.inputActive){t(this).text();d.find("td.valid").removeClass("start"),t(this).addClass("start"),u.date_at=e+"-"+("0"+n).slice(-2)+"-"+("0"+t(this).text()).slice(-2);var o=new Date(u.date_at),r=new Date(u.date_to);c.find("span.date_at").html(i(o)),u.inputActive="date_to",c.find(".value").removeClass("active"),c.find(".value.date_to").addClass("active"),o>r&&(date_to="",c.find("input.date_to").val(""),c.find("span.date_to").text(c.find("span.date_to").data("text")),d.find("td.valid").removeClass("end")),a(d.find("td.valid.end"),"click")}else{t(this).text();d.find("td.valid").removeClass("end"),t(this).addClass("end"),u.date_to=e+"-"+("0"+n).slice(-2)+"-"+("0"+t(this).text()).slice(-2);var o=new Date(u.date_at),r=new Date(u.date_to);c.find("span.date_to").html(i(r)),o>r&&(date_at="",c.find("input.date_at").val(""),c.find("span.date_at").text(c.find("span.date_at").data("text")),d.find("td.valid").removeClass("start")),a(d.find("td.valid.start"),"click"),""!=u.date_at?l():(u.inputActive="date_at",c.find(".value").removeClass("active"),c.find(".value.date_at").addClass("active"))}if(""!=u.date_at&&""!=u.date_to&&d.is(":hidden")){c.find("input.date_at").val(u.date_at).change(),c.find("input.date_to").val(u.date_to).change();var o=new Date(u.date_at),r=(i(o),new Date(u.date_to));i(r);h.find(".close").trigger("click")}s()}),h.on("click",".clear",function(){h.find(".clear").hide(),h.find("span.date_at").text(u.l.at),h.find("span.date_to").text(u.l.to),u.date_at="",u.date_to="",d.find("td").removeClass("start intermediate end"),h.find(".value").find("input").val("").change()}),d.on("mouseenter","td.valid",function(){""!=u.date_at&&""==u.date_to&&a(t(this),"hover")}).on("mouseleave","td",function(){""!=u.date_at&&""==u.date_to&&(t(this).removeClass("hovered"),d.find("td").removeClass("intermediate-hover intermediate"))})},t.DateRangePicker.defaults={container:"#DateRangePicker",inputActive:"date_at",inactive:!0,
date_at:"",date_to:"",locale:"",l:{label:"",at:"",to:"",days:[],months:[]}}}(jQuery),function(){var t;t=function(){function t(){dynamically_change_sizes(),viewWidth=$(window).width(),$("[class*=line-clamp]").trigger("update.dot"),viewWidth<600?($("html").removeClass("half-mode"),$("html").addClass("mobile-mode"),$("html").removeClass("sidebar-open"),$("html").removeClass("nav-minimized")):viewWidth<1200?($("html").removeClass("mobile-mode"),$("html").addClass("half-mode")):($("html").removeClass("mobile-mode"),$("html").removeClass("half-mode")),e()}function e(){$("#max-length-sidebar").removeClass("overflow-scroll").css({height:"auto"}),0==$("html").hasClass("mobile-mode")&&($(window).height()<600?(ul_bottom_height=$("ul.bottom").height(),$("#max-length-sidebar").addClass("overflow-scroll").css({height:"calc(100vh - "+(ul_bottom_height+120)+"px)"}),console.log("resized sidebar")):$("#max-length-sidebar").removeClass("overflow-scroll").css({height:"auto"}))}$("[class*=line-clamp]").each(function(t,e){lines=e.className.match(/line\-clamp\-([0-9]+)/)[1],$(e).text()&&$(e).dotdotdot({watch:"window"})}),$(function(){$('[data-toggle="tooltip"]').tooltip({container:"body",delay:100})}),$("a.submit").on("click",function(t){$(t.target).closest("form").submit()}),$(document).off("page:before-change").on("page:before-change",function(){$("div#transition-overlay").fadeIn()}),$(document).off("page:change").on("page:change",function(){"block"==$("div#transition-overlay").css("display")&&$("div#transition-overlay").fadeOut(),$("html").removeClass("mobileNav-open")}),window.setTimeout(function(){$(".scrollable").perfectScrollbar({suppressScrollX:!0,includePadding:!0})},200),$(".navbar-toggle").click(function(){$("html").toggleClass("mobileNav-open"),e()}),$(window).resize(function(){t()}),t(),$("#open-nav").click(function(){$("html").toggleClass("sidebar-open"),dynamically_change_sizes()}),$(".exit-nav").click(function(){$("html").toggleClass("sidebar-open"),dynamically_change_sizes()}),$(".sidebar").hover(function(){0==$("html").hasClass("mobile-mode")&&0==$("html").hasClass("half-mode")&&$("html").removeClass("nav-minimized")},function(){0==$("html").hasClass("mobile-mode")&&0==$("html").hasClass("half-mode")&&$("html").addClass("nav-minimized")}),$(".toggle-nav").click(function(){$("html").toggleClass("nav-minimized"),window.setTimeout(function(){$(window).trigger("resize");for(var t in Chart.instances){var e=Chart.instances[t];e.resize(e.render,!0)}$("[class*=line-clamp]").trigger("update.dot")},300)}),$(".profile-menu, .notifications").click(function(){var t=$(this).find(".dropdown");$(".activated").not(t).removeClass("activated"),t.toggleClass("activated")}),$(".content").click(function(){$(".activated").removeClass("activated")}),$("p.alert button.close").click(function(){$(".container-fluid.notifications").fadeOut(),setTimeout(function(){$(".container-fluid.notifications").remove()},300)}),$(".load-delay").addClass("visibled"),run_custom_bar_stats(),$(document).on("click","[data-see-more-btn=true]",function(){$(this).closest(".card").find("[data-see-more=true]").attr("data-see-more",!1),$(this).hide()}),$(document).on("mouseenter",".dotted-menu",function(){$(this).find(".dotted-menu-dropdown").removeClass("hidden")}),$(document).on("mouseleave",".dotted-menu",function(){$(this).find(".dotted-menu-dropdown").addClass("hidden")}),$(document).on("mouseenter",".dotted-menu-dropdown",function(){$(this).removeClass("hidden")}),$(document).on("mouseleave",".dotted-menu-dropdown",function(){$(this).addClass("hidden")}),$(document).on("mouseenter","[data-function=dropdown-menu-wrapper-hover]",function(){$(this).find(".small-dropdown-menu-wrapper").removeClass("hidden")}),$(document).on("mouseleave","[data-function=dropdown-menu-wrapper-hover]",function(){$(this).find(".small-dropdown-menu-wrapper").addClass("hidden")}),$(document).on("mouseenter",".small-dropdown-menu-wrapper",function(){$(this).removeClass("hidden")}),$(document).on("mouseleave",".small-dropdown-menu-wrapper",function(){$(this).addClass("hidden")}),$(document).on("mouseenter","[data-truncate-to]",function(){$(this).find(".hover-info").removeClass("hidden")}),$(document).on("mouseleave","[data-truncate-to]",function(){$(this).find(".hover-info").addClass("hidden")}),$(".custompicker").selectpicker(),submenu(),validate_form(),secondary_menu(),submenu_bottom(),activate_helpers(),filter_time_picker(),initClock(),updateClock()},$(document).ready(t),$(document).on("page:load",t)}(),function(t){var e;e=function(){function e(e,n){t.getJSON(n,function(t){var n=e.getContext("2d"),o={segmentShowStroke:!1,segmentStrokeColor:"#000",segmentStrokeWidth:2,percentageInnerCutout:60,animationSteps:100,animationEasing:"easeInOut",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"><%=segments[i].value%></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'},r=new Chart(n).Doughnut(t,o);i(r,e)})}function i(e,i){var n=e.total,o=e.generateLegend(),r=t(i).data("noun");t(i).closest(".graph").find(".legend").html(o),t(i).closest(".graph").find(".total").html(n+"<br />"+r)}t(".doughnut-graph").each(function(i,n){var o=t(n).data("jsonPath");e(n,o)})},t(document).ready(e),t(document).on("page:load",e)}(jQuery),function(){this.GoogleAnalytics=function(){function t(){}return t.load=function(){return function(t,e,i,n,o,r,a){return t.GoogleAnalyticsObject=o,t[o]=t[o]||function(){return(t[o].q=t[o].q||[]).push(arguments)},t[o].l=1*new Date,r=e.createElement(i),a=e.getElementsByTagName(i)[0],r.async=1,r.src=n,a.parentNode.insertBefore(r,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),"undefined"!=typeof ga&&(ga("create",t.analyticsId(),"auto"),ga("send","pageview"),ga("require","displayfeatures"),ga("require","ecommerce","ecommerce.js")),"undefined"!=typeof Turbolinks&&Turbolinks.supported?document.addEventListener("page:change",function(){return t.trackPageview()},!0):t.trackPageview()},t.trackPageview=function(e){var i,n,o;return"purchase"===$("body").attr("data-ga-action")&&(i=$("body").attr("data-ga-amount"),n=$("body").attr("data-ga-plan"),o=$("body").attr("data-ga-targetid"),console.log("google analytics - target_id : "+o+", target_amount : "+i+", target_plan : "+n),t.trackEcommerceTransaction(o,i),t.addEcommerceItem(o,i,n),t.trackEcommerce()),void 0===typeof ga&&conole.log("missing ga in item"),t.isLocalRequest()?void 0:e?ga("send","pageview",e):(ga("set","location",location.href.split("#")[0]),ga("send","pageview"))},t.addEcommerceItem=function(e,i,n){return void 0===typeof ga&&conole.log("missing ga in item"),t.isLocalRequest()?void 0:ga("ecommerce:addItem",{id:e,sku:n,category:n,price:i,quantity:"1"})},t.trackEcommerceTransaction=function(e,i){return void 0===typeof ga&&conole.log("missing ga in transaction"),t.isLocalRequest()?void 0:(console.log("trackEcommerceTransaction"),ga("ecommerce:addTransaction",{id:e,revenue:i}))},t.trackEcommerce=function(){return t.isLocalRequest()?void 0:ga("ecommerce:send")},t.isLocalRequest=function(){return t.documentDomainIncludes("localhost")?!0:t.documentDomainIncludes("127.0.0.1")?!0:t.documentDomainIncludes("staging")?!0:void 0},t.documentDomainIncludes=function(t){return-1!==document.domain.indexOf(t)},t.analyticsId=function(){return"UA-102560797-1"},t}(),GoogleAnalytics.load()}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,document,window,navigator)}):"object"==typeof exports?t(require("jquery"),document,window,navigator):t(jQuery,document,window,navigator)}(function(t,e,i,n,o){"use strict";var r=0,a=function(){var e,i=n.userAgent,o=/msie\s\d+/i;return i.search(o)>0&&(e=o.exec(i).toString(),e=e.split(" ")[1],9>e)?(t("html").addClass("lt-ie9"),!0):!1}();Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,i=[].slice;if("function"!=typeof e)throw new TypeError;var n=i.call(arguments,1),o=function(){if(this instanceof o){var r=function(){};r.prototype=e.prototype;var a=new r,s=e.apply(a,n.concat(i.call(arguments)));return Object(s)===s?s:a}return e.apply(t,n.concat(i.call(arguments)))};return o}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i;if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return-1;var r=+e||0;if(Math.abs(r)===1/0&&(r=0),r>=o)return-1;for(i=Math.max(r>=0?r:o-Math.abs(r),0);o>i;){if(i in n&&n[i]===t)return i;i++}return-1});var s='<span class="irs"><span class="irs-line" tabindex="0"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span><span class="irs-bar"></span>',l='<span class="irs-bar-edge"></span><span class="irs-shadow shadow-single"></span><span class="irs-slider single"></span>',u='<span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>',c='<span class="irs-disable-mask"></span>',h=function(n,r,a){this.VERSION="2.2.0",this.input=n,this.plugin_count=a,this.current_plugin=0,this.calc_count=0,this.update_tm=0,this.old_from=0,this.old_to=0,this.old_min_interval=null,this.raf_id=null,this.dragging=!1,this.force_redraw=!1,this.no_diapason=!1,this.has_tab_index=!0,this.is_key=!1,this.is_update=!1,this.is_start=!0,this.is_finish=!1,this.is_active=!1,this.is_resize=!1,this.is_click=!1,r=r||{},this.$cache={win:t(i),body:t(e.body),input:t(n),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var s,l,u,c=this.$cache.input,h=c.prop("value");s={type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!0,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:" \u2014 ",input_values_separator:";",disable:!1,block:!1,extra_classes:"",scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null},"INPUT"!==c[0].nodeName&&console&&console.warn&&console.warn("Base element should be <input>!",c[0]),l={type:c.data("type"),min:c.data("min"),max:c.data("max"),from:c.data("from"),to:c.data("to"),step:c.data("step"),min_interval:c.data("minInterval"),max_interval:c.data("maxInterval"),drag_interval:c.data("dragInterval"),values:c.data("values"),from_fixed:c.data("fromFixed"),from_min:c.data("fromMin"),from_max:c.data("fromMax"),from_shadow:c.data("fromShadow"),to_fixed:c.data("toFixed"),to_min:c.data("toMin"),to_max:c.data("toMax"),to_shadow:c.data("toShadow"),prettify_enabled:c.data("prettifyEnabled"),prettify_separator:c.data("prettifySeparator"),force_edges:c.data("forceEdges"),keyboard:c.data("keyboard"),grid:c.data("grid"),grid_margin:c.data("gridMargin"),grid_num:c.data("gridNum"),grid_snap:c.data("gridSnap"),hide_min_max:c.data("hideMinMax"),hide_from_to:c.data("hideFromTo"),prefix:c.data("prefix"),postfix:c.data("postfix"),max_postfix:c.data("maxPostfix"),decorate_both:c.data("decorateBoth"),values_separator:c.data("valuesSeparator"),input_values_separator:c.data("inputValuesSeparator"),disable:c.data("disable"),block:c.data("block"),extra_classes:c.data("extraClasses")},l.values=l.values&&l.values.split(",");for(u in l)l.hasOwnProperty(u)&&(l[u]!==o&&""!==l[u]||delete l[u]);h!==o&&""!==h&&(h=h.split(l.input_values_separator||r.input_values_separator||";"),h[0]&&h[0]==+h[0]&&(h[0]=+h[0]),h[1]&&h[1]==+h[1]&&(h[1]=+h[1]),r&&r.values&&r.values.length?(s.from=h[0]&&r.values.indexOf(h[0]),s.to=h[1]&&r.values.indexOf(h[1])):(s.from=h[0]&&+h[0],s.to=h[1]&&+h[1])),t.extend(s,r),t.extend(s,l),this.options=s,this.update_check={},this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()};h.prototype={init:function(t){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),t?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){var t='<span class="irs js-irs-'+this.plugin_count+" "+this.options.extra_classes+'"></span>';this.$cache.input.before(t),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html(s),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append(l),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append(u),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.input[0].disabled=!1,this.removeDisableMask(),this.bindEvents()),this.options.disable||(this.options.block?this.appendDisableMask():this.removeDisableMask()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var t=this.options.min,e=this.options.max,i=this.options.from,n=this.options.to;i>t&&n===e?this.$cache.s_from.addClass("type_last"):e>n&&this.$cache.s_to.addClass("type_last")},changeLevel:function(t){switch(t){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake),this.$cache.s_single.addClass("state_hover");break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append(c),this.$cache.cont.addClass("irs-disabled")},removeDisableMask:function(){this.$cache.cont.remove(".irs-disable-mask"),this.$cache.cont.removeClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),a&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("focus.irs_"+this.plugin_count,this.pointerFocus.bind(this)),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),a&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerFocus:function(){if(!this.target){var t,e;e="single"===this.options.type?this.$cache.single:this.$cache.from,t=e.offset().left,t+=e.width()/2-1,this.pointerClick("single",{preventDefault:function(){},pageX:t})}},pointerMove:function(t){if(this.dragging){var e=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;this.coords.x_pointer=e-this.coords.x_gap,this.calc()}},pointerUp:function(e){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,a&&t("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(t.contains(this.$cache.cont[0],e.target)||this.dragging)&&this.callOnFinish(),this.dragging=!1)},pointerDown:function(e,i){i.preventDefault();var n=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;2!==i.button&&("both"===e&&this.setTempMinInterval(),e||(e=this.target||"from"),this.current_plugin=this.plugin_count,this.target=e,this.is_active=!0,this.dragging=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=n-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(e),a&&t("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(t,e){e.preventDefault();var i=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;2!==e.button&&(this.current_plugin=this.plugin_count,this.target=t,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(i-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(t,e){if(!(this.current_plugin!==this.plugin_count||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){switch(e.which){case 83:case 65:case 40:case 37:e.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:e.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(t){var e=this.coords.p_pointer,i=(this.options.max-this.options.min)/100;i=this.options.step/i,t?e+=i:e-=i,this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*e),this.is_key=!0,this.calc()},setMinMax:function(){if(this.options){if(this.options.hide_min_max)return this.$cache.min[0].style.display="none",void(this.$cache.max[0].style.display="none");if(this.options.values.length)this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]));else{var t=this._prettify(this.options.min),e=this._prettify(this.options.max);this.result.min_pretty=t,this.result.max_pretty=e,this.$cache.min.html(this.decorate(t,this.options.min)),this.$cache.max.html(this.decorate(e,this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)}},setTempMinInterval:function(){var t=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=t},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(t){if(this.options&&(this.calc_count++,(10===this.calc_count||t)&&(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){this.calcPointerPercent();var e=this.getHandleX();switch("both"===this.target&&(this.coords.p_gap=0,e=this.getHandleX()),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,e=this.getHandleX(),this.options.drag_interval?this.target="both_one":this.target=this.chooseHandle(e)),this.target){case"base":var i=(this.options.max-this.options.min)/100,n=(this.result.from-this.options.min)/i,o=(this.result.to-this.options.min)/i;this.coords.p_single_real=this.toFixed(n),this.coords.p_from_real=this.toFixed(n),this.coords.p_to_real=this.toFixed(o),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(e),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(e),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(e),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;e=this.toFixed(e+.001*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(e)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(e)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed)break;var r=this.convertToRealPercent(e),a=this.result.from_percent,s=this.result.to_percent,l=s-a,u=l/2,c=r-u,h=r+u;0>c&&(c=0,h=c+l),h>100&&(h=100,c=h-l),this.coords.p_from_real=this.calcWithStep(c),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(h),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.result.from_pretty=this._prettify(this.result.from),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.from_pretty=this._prettify(this.result.from),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.result.to_pretty=this._prettify(this.result.to),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){return this.coords.w_rs?(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),void(this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100))):void(this.coords.p_pointer=0)},convertToRealPercent:function(t){var e=100-this.coords.p_handle;return t/e*100},convertToFakePercent:function(t){var e=100-this.coords.p_handle;return t/100*e},getHandleX:function(){var t=100-this.coords.p_handle,e=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return 0>e?e=0:e>t&&(e=t),e},calcHandlePercent:function(){"single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(t){if("single"===this.options.type)return"single";var e=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2;return t>=e?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),
this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%",this.$cache.single[0].style.left=this.labels.p_single_left+"%"):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",(this.old_from!==this.result.from||this.force_redraw)&&(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&(this.$cache.to[0].style.left=this.labels.p_to_left+"%"),this.$cache.single[0].style.left=this.labels.p_single_left+"%"),this.writeToInput(),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||(this.$cache.input.trigger("change"),this.$cache.input.trigger("input")),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_key=!1,this.is_click=!1,this.callOnFinish()),this.is_update=!1,this.is_resize=!1,this.is_finish=!1),this.is_start=!1,this.is_key=!1,this.is_click=!1,this.force_redraw=!1))},drawLabels:function(){if(this.options){var t,e,i,n,o,r=this.options.values.length,a=this.options.p_values;if(!this.options.hide_from_to)if("single"===this.options.type)r?(t=this.decorate(a[this.result.from]),this.$cache.single.html(t)):(n=this._prettify(this.result.from),t=this.decorate(n,this.result.from),this.$cache.single.html(t)),this.calcLabels(),this.labels.p_single_left<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible";else{r?(this.options.decorate_both?(t=this.decorate(a[this.result.from]),t+=this.options.values_separator,t+=this.decorate(a[this.result.to])):t=this.decorate(a[this.result.from]+this.options.values_separator+a[this.result.to]),e=this.decorate(a[this.result.from]),i=this.decorate(a[this.result.to]),this.$cache.single.html(t),this.$cache.from.html(e),this.$cache.to.html(i)):(n=this._prettify(this.result.from),o=this._prettify(this.result.to),this.options.decorate_both?(t=this.decorate(n,this.result.from),t+=this.options.values_separator,t+=this.decorate(o,this.result.to)):t=this.decorate(n+this.options.values_separator+o,this.result.to),e=this.decorate(n,this.result.from),i=this.decorate(o,this.result.to),this.$cache.single.html(t),this.$cache.from.html(e),this.$cache.to.html(i)),this.calcLabels();var s=Math.min(this.labels.p_single_left,this.labels.p_from_left),l=this.labels.p_single_left+this.labels.p_single_fake,u=this.labels.p_to_left+this.labels.p_to_fake,c=Math.max(l,u);this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",c=u):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",c=Math.max(l,u))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),s<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",c>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible"}}},drawShadow:function(){var t,e,i,n,o=this.options,r=this.$cache,a="number"==typeof o.from_min&&!isNaN(o.from_min),s="number"==typeof o.from_max&&!isNaN(o.from_max),l="number"==typeof o.to_min&&!isNaN(o.to_min),u="number"==typeof o.to_max&&!isNaN(o.to_max);"single"===o.type?o.from_shadow&&(a||s)?(t=this.convertToPercent(a?o.from_min:o.min),e=this.convertToPercent(s?o.from_max:o.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,r.shad_single[0].style.display="block",r.shad_single[0].style.left=t+"%",r.shad_single[0].style.width=e+"%"):r.shad_single[0].style.display="none":(o.from_shadow&&(a||s)?(t=this.convertToPercent(a?o.from_min:o.min),e=this.convertToPercent(s?o.from_max:o.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,r.shad_from[0].style.display="block",r.shad_from[0].style.left=t+"%",r.shad_from[0].style.width=e+"%"):r.shad_from[0].style.display="none",o.to_shadow&&(l||u)?(i=this.convertToPercent(l?o.to_min:o.min),n=this.convertToPercent(u?o.to_max:o.max)-i,i=this.toFixed(i-this.coords.p_handle/100*i),n=this.toFixed(n-this.coords.p_handle/100*n),i+=this.coords.p_handle/2,r.shad_to[0].style.display="block",r.shad_to[0].style.left=i+"%",r.shad_to[0].style.width=n+"%"):r.shad_to[0].style.display="none")},writeToInput:function(){"single"===this.options.type?(this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))},callOnStart:function(){this.writeToInput(),this.options.onStart&&"function"==typeof this.options.onStart&&(this.options.scope?this.options.onStart.call(this.options.scope,this.result):this.options.onStart(this.result))},callOnChange:function(){this.writeToInput(),this.options.onChange&&"function"==typeof this.options.onChange&&(this.options.scope?this.options.onChange.call(this.options.scope,this.result):this.options.onChange(this.result))},callOnFinish:function(){this.writeToInput(),this.options.onFinish&&"function"==typeof this.options.onFinish&&(this.options.scope?this.options.onFinish.call(this.options.scope,this.result):this.options.onFinish(this.result))},callOnUpdate:function(){this.writeToInput(),this.options.onUpdate&&"function"==typeof this.options.onUpdate&&(this.options.scope?this.options.onUpdate.call(this.options.scope,this.result):this.options.onUpdate(this.result))},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input"),this.has_tab_index?this.$cache.input.prop("tabindex",-1):this.$cache.input.removeProp("tabindex"),this.has_tab_index=!this.has_tab_index},convertToPercent:function(t,e){var i,n,o=this.options.max-this.options.min,r=o/100;return o?(i=e?t:t-this.options.min,n=i/r,this.toFixed(n)):(this.no_diapason=!0,0)},convertToValue:function(t){var e,i,n=this.options.min,o=this.options.max,r=n.toString().split(".")[1],a=o.toString().split(".")[1],s=0,l=0;if(0===t)return this.options.min;if(100===t)return this.options.max;r&&(e=r.length,s=e),a&&(i=a.length,s=i),e&&i&&(s=e>=i?e:i),0>n&&(l=Math.abs(n),n=+(n+l).toFixed(s),o=+(o+l).toFixed(s));var u,c=(o-n)/100*t+n,h=this.options.step.toString().split(".")[1];return h?c=+c.toFixed(h.length):(c/=this.options.step,c*=this.options.step,c=+c.toFixed(0)),l&&(c-=l),u=h?+c.toFixed(h.length):this.toFixed(c),u<this.options.min?u=this.options.min:u>this.options.max&&(u=this.options.max),u},calcWithStep:function(t){var e=Math.round(t/this.coords.p_step)*this.coords.p_step;return e>100&&(e=100),100===t&&(e=100),this.toFixed(e)},checkMinInterval:function(t,e,i){var n,o,r=this.options;return r.min_interval?(n=this.convertToValue(t),o=this.convertToValue(e),"from"===i?o-n<r.min_interval&&(n=o-r.min_interval):n-o<r.min_interval&&(n=o+r.min_interval),this.convertToPercent(n)):t},checkMaxInterval:function(t,e,i){var n,o,r=this.options;return r.max_interval?(n=this.convertToValue(t),o=this.convertToValue(e),"from"===i?o-n>r.max_interval&&(n=o-r.max_interval):n-o>r.max_interval&&(n=o+r.max_interval),this.convertToPercent(n)):t},checkDiapason:function(t,e,i){var n=this.convertToValue(t),o=this.options;return"number"!=typeof e&&(e=o.min),"number"!=typeof i&&(i=o.max),e>n&&(n=e),n>i&&(n=i),this.convertToPercent(n)},toFixed:function(t){return t=t.toFixed(20),+t},_prettify:function(t){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(t):this.prettify(t):t},prettify:function(t){var e=t.toString();return e.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(t,e){return this.options.force_edges?(0>t?t=0:t>100-e&&(t=100-e),this.toFixed(t)):this.toFixed(t)},validate:function(){var t,e,i=this.options,n=this.result,o=i.values,r=o.length;if("string"==typeof i.min&&(i.min=+i.min),"string"==typeof i.max&&(i.max=+i.max),"string"==typeof i.from&&(i.from=+i.from),"string"==typeof i.to&&(i.to=+i.to),"string"==typeof i.step&&(i.step=+i.step),"string"==typeof i.from_min&&(i.from_min=+i.from_min),"string"==typeof i.from_max&&(i.from_max=+i.from_max),"string"==typeof i.to_min&&(i.to_min=+i.to_min),"string"==typeof i.to_max&&(i.to_max=+i.to_max),"string"==typeof i.grid_num&&(i.grid_num=+i.grid_num),i.max<i.min&&(i.max=i.min),r)for(i.p_values=[],i.min=0,i.max=r-1,i.step=1,i.grid_num=i.max,i.grid_snap=!0,e=0;r>e;e++)t=+o[e],isNaN(t)?t=o[e]:(o[e]=t,t=this._prettify(t)),i.p_values.push(t);("number"!=typeof i.from||isNaN(i.from))&&(i.from=i.min),("number"!=typeof i.to||isNaN(i.to))&&(i.to=i.max),"single"===i.type?(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max)):(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max),i.to<i.min&&(i.to=i.min),i.to>i.max&&(i.to=i.max),this.update_check.from&&(this.update_check.from!==i.from&&i.from>i.to&&(i.from=i.to),this.update_check.to!==i.to&&i.to<i.from&&(i.to=i.from)),i.from>i.to&&(i.from=i.to),i.to<i.from&&(i.to=i.from)),("number"!=typeof i.step||isNaN(i.step)||!i.step||i.step<0)&&(i.step=1),"number"==typeof i.from_min&&i.from<i.from_min&&(i.from=i.from_min),"number"==typeof i.from_max&&i.from>i.from_max&&(i.from=i.from_max),"number"==typeof i.to_min&&i.to<i.to_min&&(i.to=i.to_min),"number"==typeof i.to_max&&i.from>i.to_max&&(i.to=i.to_max),n&&(n.min!==i.min&&(n.min=i.min),n.max!==i.max&&(n.max=i.max),(n.from<n.min||n.from>n.max)&&(n.from=i.from),(n.to<n.min||n.to>n.max)&&(n.to=i.to)),("number"!=typeof i.min_interval||isNaN(i.min_interval)||!i.min_interval||i.min_interval<0)&&(i.min_interval=0),("number"!=typeof i.max_interval||isNaN(i.max_interval)||!i.max_interval||i.max_interval<0)&&(i.max_interval=0),i.min_interval&&i.min_interval>i.max-i.min&&(i.min_interval=i.max-i.min),i.max_interval&&i.max_interval>i.max-i.min&&(i.max_interval=i.max-i.min)},decorate:function(t,e){var i="",n=this.options;return n.prefix&&(i+=n.prefix),i+=t,n.max_postfix&&(n.values.length&&t===n.p_values[n.max]?(i+=n.max_postfix,n.postfix&&(i+=" ")):e===n.max&&(i+=n.max_postfix,n.postfix&&(i+=" "))),n.postfix&&(i+=n.postfix),i},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.result.from_pretty=this._prettify(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.result.to_pretty=this._prettify(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var t,e,i,n,o,r=this.options,a=r.max-r.min,s=r.grid_num,l=0,u=0,c=4,h=0,d="";for(this.calcGridMargin(),r.grid_snap?a>50?(s=50/r.step,l=this.toFixed(r.step/.5)):(s=a/r.step,l=this.toFixed(r.step/(a/100))):l=this.toFixed(100/s),s>4&&(c=3),s>7&&(c=2),s>14&&(c=1),s>28&&(c=0),t=0;s+1>t;t++){for(i=c,u=this.toFixed(l*t),u>100&&(u=100),this.coords.big[t]=u,n=(u-l*(t-1))/(i+1),e=1;i>=e&&0!==u;e++)h=this.toFixed(u-n*e),d+='<span class="irs-grid-pol small" style="left: '+h+'%"></span>';d+='<span class="irs-grid-pol" style="left: '+u+'%"></span>',o=this.convertToValue(u),o=r.values.length?r.p_values[o]:this._prettify(o),d+='<span class="irs-grid-text js-grid-text-'+t+'" style="left: '+u+'%">'+o+"</span>"}this.coords.big_num=Math.ceil(s+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(d),this.cacheGridLabels()}},cacheGridLabels:function(){var t,e,i=this.coords.big_num;for(e=0;i>e;e++)t=this.$cache.grid.find(".js-grid-text-"+e),this.$cache.grid_labels.push(t);this.calcGridLabels()},calcGridLabels:function(){var t,e,i=[],n=[],o=this.coords.big_num;for(t=0;o>t;t++)this.coords.big_w[t]=this.$cache.grid_labels[t].outerWidth(!1),this.coords.big_p[t]=this.toFixed(this.coords.big_w[t]/this.coords.w_rs*100),this.coords.big_x[t]=this.toFixed(this.coords.big_p[t]/2),i[t]=this.toFixed(this.coords.big[t]-this.coords.big_x[t]),n[t]=this.toFixed(i[t]+this.coords.big_p[t]);for(this.options.force_edges&&(i[0]<-this.coords.grid_gap&&(i[0]=-this.coords.grid_gap,n[0]=this.toFixed(i[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),n[o-1]>100+this.coords.grid_gap&&(n[o-1]=100+this.coords.grid_gap,i[o-1]=this.toFixed(n[o-1]-this.coords.big_p[o-1]),this.coords.big_x[o-1]=this.toFixed(this.coords.big_p[o-1]-this.coords.grid_gap))),this.calcGridCollision(2,i,n),this.calcGridCollision(4,i,n),t=0;o>t;t++)e=this.$cache.grid_labels[t][0],this.coords.big_x[t]!==Number.POSITIVE_INFINITY&&(e.style.marginLeft=-this.coords.big_x[t]+"%")},calcGridCollision:function(t,e,i){var n,o,r,a=this.coords.big_num;for(n=0;a>n&&(o=n+t/2,!(o>=a));n+=t)r=this.$cache.grid_labels[o][0],i[n]<=e[o]?r.style.visibility="visible":r.style.visibility="hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&("single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(e){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=t.extend(this.options,e),this.validate(),this.updateResult(e),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),t.data(this.input,"ionRangeSlider",null),this.remove(),this.input=null,this.options=null)}},t.fn.ionRangeSlider=function(e){return this.each(function(){t.data(this,"ionRangeSlider")||t.data(this,"ionRangeSlider",new h(this,e,r++))})},function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!i.requestAnimationFrame;++n)i.requestAnimationFrame=i[e[n]+"RequestAnimationFrame"],i.cancelAnimationFrame=i[e[n]+"CancelAnimationFrame"]||i[e[n]+"CancelRequestAnimationFrame"];i.requestAnimationFrame||(i.requestAnimationFrame=function(e){var n=(new Date).getTime(),o=Math.max(0,16-(n-t)),r=i.setTimeout(function(){e(n+o)},o);return t=n+o,r}),i.cancelAnimationFrame||(i.cancelAnimationFrame=function(t){clearTimeout(t)})}()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(e){var i,n,o,r=arguments.length,a=window[e],s=arguments,l=s[1];if(2>r)throw new Error("Minimum 2 arguments must be given");if(t.isArray(l)){n={};for(var u in l){i=l[u];try{n[i]=JSON.parse(a.getItem(i))}catch(c){n[i]=a.getItem(i)}}return n}if(2!=r){try{n=JSON.parse(a.getItem(l))}catch(c){throw new ReferenceError(l+" is not defined in this storage")}for(var u=2;r-1>u;u++)if(n=n[s[u]],void 0===n)throw new ReferenceError([].slice.call(s,1,u+1).join(".")+" is not defined in this storage");if(t.isArray(s[u])){o=n,n={};for(var h in s[u])n[s[u][h]]=o[s[u][h]];return n}return n[s[u]]}try{return JSON.parse(a.getItem(l))}catch(c){return a.getItem(l)}}function i(e){var i,n,o=arguments.length,r=window[e],a=arguments,s=a[1],l=a[2],u={};if(2>o||!t.isPlainObject(s)&&3>o)throw new Error("Minimum 3 arguments must be given or second parameter must be an object");if(t.isPlainObject(s)){for(var c in s)i=s[c],t.isPlainObject(i)?r.setItem(c,JSON.stringify(i)):r.setItem(c,i);return s}if(3==o)return"object"==typeof l?r.setItem(s,JSON.stringify(l)):r.setItem(s,l),l;try{n=r.getItem(s),null!=n&&(u=JSON.parse(n))}catch(h){}n=u;for(var c=2;o-2>c;c++)i=a[c],n[i]&&t.isPlainObject(n[i])||(n[i]={}),n=n[i];return n[a[c]]=a[c+1],r.setItem(s,JSON.stringify(u)),u}function n(e){var i,n,o=arguments.length,r=window[e],a=arguments,s=a[1];if(2>o)throw new Error("Minimum 2 arguments must be given");if(t.isArray(s)){for(var l in s)r.removeItem(s[l]);return!0}if(2==o)return r.removeItem(s),!0;try{i=n=JSON.parse(r.getItem(s))}catch(u){throw new ReferenceError(s+" is not defined in this storage")}for(var l=2;o-1>l;l++)if(n=n[a[l]],void 0===n)throw new ReferenceError([].slice.call(a,1,l).join(".")+" is not defined in this storage");if(t.isArray(a[l]))for(var c in a[l])delete n[a[l][c]];else delete n[a[l]];return r.setItem(s,JSON.stringify(i)),!0}function o(e,i){var o=s(e);for(var r in o)n(e,o[r]);if(i)for(var r in t.namespaceStorages)l(r)}function r(i){var n=arguments.length,o=arguments,a=(window[i],o[1]);if(1==n)return 0==s(i).length;if(t.isArray(a)){for(var l=0;l<a.length;l++)if(!r(i,a[l]))return!1;return!0}try{var u=e.apply(this,arguments);t.isArray(o[n-1])||(u={totest:u});for(var l in u)if(!(t.isPlainObject(u[l])&&t.isEmptyObject(u[l])||t.isArray(u[l])&&!u[l].length)&&u[l])return!1;return!0}catch(c){return!0}}function a(i){var n=arguments.length,o=arguments,r=(window[i],o[1]);if(2>n)throw new Error("Minimum 2 arguments must be given");if(t.isArray(r)){for(var s=0;s<r.length;s++)if(!a(i,r[s]))return!1;return!0}try{var l=e.apply(this,arguments);t.isArray(o[n-1])||(l={totest:l});for(var s in l)if(void 0===l[s]||null===l[s])return!1;return!0}catch(u){return!1}}function s(i){var n=arguments.length,o=window[i],r=arguments,a=(r[1],[]),s={};if(s=n>1?e.apply(this,r):o,s._cookie)for(var l in t.cookie())""!=l&&a.push(l.replace(s._prefix,""));else for(var u in s)a.push(u);return a}function l(e){if(!e||"string"!=typeof e)throw new Error("First parameter must be a string");d?(window.localStorage.getItem(e)||window.localStorage.setItem(e,"{}"),window.sessionStorage.getItem(e)||window.sessionStorage.setItem(e,"{}")):(window.localCookieStorage.getItem(e)||window.localCookieStorage.setItem(e,"{}"),window.sessionCookieStorage.getItem(e)||window.sessionCookieStorage.setItem(e,"{}"));var i={localStorage:t.extend({},t.localStorage,{_ns:e}),sessionStorage:t.extend({},t.sessionStorage,{_ns:e})};return t.cookie&&(window.cookieStorage.getItem(e)||window.cookieStorage.setItem(e,"{}"),i.cookieStorage=t.extend({},t.cookieStorage,{_ns:e})),t.namespaceStorages[e]=i,i}function u(t){if(!window[t])return!1;var e="jsapi";try{return window[t].setItem(e,e),window[t].removeItem(e),!0}catch(i){return!1}}var c="ls_",h="ss_",d=u("localStorage"),p={_type:"",_ns:"",_callMethod:function(t,e){var i=[this._type],e=Array.prototype.slice.call(e),n=e[0];return this._ns&&i.push(this._ns),"string"==typeof n&&-1!==n.indexOf(".")&&(e.shift(),[].unshift.apply(e,n.split("."))),[].push.apply(i,e),t.apply(this,i)},get:function(){return this._callMethod(e,arguments)},set:function(){var e=arguments.length,n=arguments,o=n[0];if(1>e||!t.isPlainObject(o)&&2>e)throw new Error("Minimum 2 arguments must be given or first parameter must be an object");if(t.isPlainObject(o)&&this._ns){for(var r in o)i(this._type,this._ns,r,o[r]);return o}var a=this._callMethod(i,n);return this._ns?a[o.split(".")[0]]:a},remove:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return this._callMethod(n,arguments)},removeAll:function(t){return this._ns?(i(this._type,this._ns,{}),!0):o(this._type,t)},isEmpty:function(){return this._callMethod(r,arguments)},isSet:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return this._callMethod(a,arguments)},keys:function(){return this._callMethod(s,arguments)}};if(t.cookie){window.name||(window.name=Math.floor(1e8*Math.random()));var f={_cookie:!0,_prefix:"",_expires:null,_path:null,_domain:null,setItem:function(e,i){t.cookie(this._prefix+e,i,{expires:this._expires,path:this._path,domain:this._domain})},getItem:function(e){return t.cookie(this._prefix+e)},removeItem:function(e){return t.removeCookie(this._prefix+e)},clear:function(){for(var e in t.cookie())""!=e&&(!this._prefix&&-1===e.indexOf(c)&&-1===e.indexOf(h)||this._prefix&&0===e.indexOf(this._prefix))&&t.removeCookie(e)},setExpires:function(t){return this._expires=t,this},setPath:function(t){return this._path=t,this},setDomain:function(t){return this._domain=t,this},setConf:function(t){return t.path&&(this._path=t.path),t.domain&&(this._domain=t.domain),t.expires&&(this._expires=t.expires),this},setDefaultConf:function(){this._path=this._domain=this._expires=null}};d||(window.localCookieStorage=t.extend({},f,{_prefix:c,_expires:3650}),window.sessionCookieStorage=t.extend({},f,{_prefix:h+window.name+"_"})),window.cookieStorage=t.extend({},f),t.cookieStorage=t.extend({},p,{_type:"cookieStorage",setExpires:function(t){return window.cookieStorage.setExpires(t),this},setPath:function(t){return window.cookieStorage.setPath(t),this},setDomain:function(t){return window.cookieStorage.setDomain(t),this},setConf:function(t){return window.cookieStorage.setConf(t),this},setDefaultConf:function(){return window.cookieStorage.setDefaultConf(),this}})}t.initNamespaceStorage=function(t){return l(t)},d?(t.localStorage=t.extend({},p,{_type:"localStorage"}),t.sessionStorage=t.extend({},p,{_type:"sessionStorage"})):(t.localStorage=t.extend({},p,{_type:"localCookieStorage"}),t.sessionStorage=t.extend({},p,{_type:"sessionCookieStorage"})),t.namespaceStorages={},t.removeAllStorages=function(e){t.localStorage.removeAll(e),t.sessionStorage.removeAll(e),t.cookieStorage&&t.cookieStorage.removeAll(e),e||(t.namespaceStorages={})}}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.IdleTimeoutPlus=e(t.jQuery)}(this,function(t){function e(){console.log("Data store init."),null===tt&&(tt=t.localStorage?t.initNamespaceStorage("jqueryIdleTimeoutPlus").localStorage:{})}function i(t,e){J.multiWindowSupport?tt.set(t,e):tt[t]=e}function n(t,e){if(e="undefined"==typeof e?null:e,J.multiWindowSupport){if(tt.isSet(t))return tt.get(t)}else if(t in tt)return tt[t];return e}function o(){i("warningStartTime",-1),i("lockStartTime",-1),r(),J.idleCallback!==!1&&J.idleCallback(J)}function r(){a(),i("lastActivity",t.now()),it=setInterval(s,J.idleCheckHeartbeat)}function a(){clearInterval(it)}function s(){var e=n("lastActivity",t.now())+J.idleTimeLimit;return n("logoutTriggered")===!0?(console.log("alternate document logout detected"),H()):-1!==n("lockStartTime",-1)?(a(),A()):t.now()>=e?(console.log("inactivity has exceeded idle time limit."),a(),J.warnEnabled?h():(console.log("warning dialog disabled"),J.lockEnabled?T():W())):void 0}function l(){t(document).on(J.activityEvents,function(t){if("mousemove"===t.type){if(t.clientX===at[0]&&t.clientY===at[1])return;at[0]=t.clientX,at[1]=t.clientY}-1===n("warningStartTime",-1)&&-1===n("lockStartTime",-1)?r():console.log("warning/lockscreen active: activity ignored")})}function u(){console.log("start startKeepSessionAlive"),c(),nt=setInterval(function(){console.log("sending ping to keepAliveUrl"),t.ajax({type:J.keepAliveAjaxType,url:J.keepAliveUrl,data:J.keepAliveAjaxData,success:function(e){J.keepAliveResponse!==!1&&t.trim(e)!==J.keepAliveResponse&&window.location.replace(J.keepAliveBadUrl)}})},J.keepAliveInterval)}function c(){console.log("stop keep session alive"),clearInterval(nt)}function h(){console.log("Warning initialized"),p(),J.warnCallback!==!1&&(st=J.warnCallback(J)),g()}function d(){f(),v(),i("warningStartTime",-1),o()}function p(){console.log("Warning timer started."),i("warningStartTime",t.now()),ot=setInterval(m,500)}function f(){console.log("Warning timer stop."),clearInterval(ot)}function m(){if(n("logoutTriggered")===!0)return console.log("alternate window logout detected"),f(),H();if(-1===n("warningStartTime",-1))return console.log("warningClear trigger"),d();var e=n("warningStartTime")+J.warnTimeLimit-1;return t.now()>=e?(f(),J.lockEnabled?(v(),T()):W()):void y()}function g(){st&&(_(),y(),J.bootstrap?(ut.modal("show"),ut.focus()):ut.dialog("open"),lt=!0)}function v(){lt=!1,null!==ut&&(J.bootstrap?(ut.modal("hide"),Q.removeClass("modal-open"),t("div.modal-backdrop").remove()):ut.dialog("close"))}function y(){if(null!==ut&&(null!==ct||null!==ht)){var e=t.now(),i=Math.floor((n("warningStartTime",e)+J.warnTimeLimit-e)/1e3);if(null!==ct&&ct.html(Z(i)),null!==ht){var o=Math.floor(i/(J.warnTimeLimit/1e3)*100);J.bootstrap?ht.css("width",o+"%"):ht.progressbar("value",o)}}}function _(){console.log("Warning dialog initialized."),null!==ut&&(ut=t("#jitp-warn-display"));var e="";e=J.warnContentCallback===!1?J.bootstrap?w():k():J.warnContentCallback(J),J.bootstrap?b(e):x(e)}function b(e){Q.append(e),null!==J.warnLogoutButton&&t("#jitp-warn-logout").on("click",function(){C()}),t("#jitp-warn-alive").on("click",function(){S()}),ut=t("#jitp-warn-display"),(null!==J.warnCountdownMessage||J.warnCountdownBar)&&(ct=ut.find(".jitp-countdown-holder")),J.warnCountdownBar&&(ht=t("#jitp-warn-bar"))}function x(e){console.log("createWarningJquery called");var i=[];null!==J.warnLogoutButton&&i.push({text:J.warnLogoutButton,click:function(){C()}}),i.push({text:J.warnStayAliveButton,click:function(){S()}}),t(e).dialog({buttons:i,closeOnEscape:!1,modal:!0,title:J.warnTitle,minWidth:320,autoOpen:!1,open:function(){null===J.warnTitle?t(this).closest(".ui-dialog").find(".ui-dialog-titlebar").hide():t(this).closest(".ui-dialog").find(".ui-dialog-titlebar-close").hide(),t(this).parent().find("button:nth-child(2)").focus()}}),ut=t("#jitp-warn-display"),null!==J.warnCountdownMessage&&(ct=ut.find(".jitp-countdown-holder")),J.warnCountdownBar&&(ht=t("#jitp-warn-bar"),ht.progressbar({value:0,max:100}))}function w(){var t=null===J.warnTitle?"":'<div class="modal-header"><h4 class="modal-title">'+J.warnTitle+"</h4></div>",e=null===J.warnCountdownMessage?"":"<p>"+J.warnCountdownMessage.replace(/\{timer}/g,'<span class="jitp-countdown-holder"></span>')+"</p>",i=null===J.warnLogoutButton?"":'<button id="jitp-warn-logout" type="button" class="btn btn-default">'+J.warnLogoutButton+"</button>",n=null===J.warnCountdownBar?"":'<div class="progress"><div id="jitp-warn-bar" class="progress-bar progress-bar-striped active" role="progressbar" style="min-width: 15px; width: 100%;"><span class="jitp-countdown-holder"></span></div></div>';return'<div class="modal fade" id="jitp-warn-display" data-backdrop="static" data-keyboard="false" tabindex="-1"><div class="modal-dialog"><div class="modal-content">'+t+'<div class="modal-body"><p>'+J.warnMessage+"</p>"+e+n+'</div><div class="modal-footer">'+i+'<button id="jitp-warn-alive" type="button" class="btn btn-primary">'+J.warnStayAliveButton+"</button></div></div></div></div>"}function k(){var t=null===J.warnCountdownMessage?"":"<p>"+J.warnCountdownMessage.replace(/\{timer}/g,'<span class="jitp-countdown-holder"></span>')+"</p>",e=null===J.warnCountdownBar?"":'<div id="jitp-warn-bar"></div>';return'<div id="jitp-warn-display"><p>'+J.warnMessage+"</p>"+t+e+"</div>"}function C(){f(),j()}function S(){console.log("keeping session active"),d()}function T(){J.lockHaltKeepAlive&&c(),M(),J.lockCallback!==!1&&(dt=J.lockCallback(J)),P()}function A(){J.lockHaltKeepAlive?c():J.keepAliveInterval&&u(),-1===n("lockStartTime",-1)?M():rt=setInterval(I,500),P()}function E(){D(),L(),t("#jitp-lock-pass").val(""),J.keepAliveInterval&&u(),i("lockStartTime",-1),o()}function M(){i("lockStartTime",t.now()),rt=setInterval(I,500)}function D(){clearInterval(rt)}function I(){if(n("logoutTriggered")===!0)return console.log("alternate document logout detected"),D(),H();if(-1===n("lockStartTime",-1))return console.log("lockClear triggered"),E();var e=n("lockStartTime")+J.lockTimeLimit-1;return t.now()>=e?(D(),n("logoutTriggered")===!0?H():W()):void O()}function P(){if(dt){z(),O();var e={message:t("#jitp-lock-display")};e=t.extend(e,J.lockBlockUiConfig),t.blockUI(e),pt=!0}}function L(){t.unblockUI(),pt=!1}function O(){if(null!==mt){var e=t.now(),i=Math.floor((n("lockStartTime",e)+J.lockTimeLimit-e)/1e3);mt.html(Z(i))}}function z(){if(null===ft){var e="";e=J.lockContentCallback===!1?J.bootstrap?R():N():J.lockContentCallback(J),Q.append(e),ft=t("#jitp-lock-display"),J.lockCountdownMessage!==!1&&(mt=ft.find(".jitp-countdown-holder")),t("#jitp-lock-logout").on("click",function(){$()}),t("#jitp-lock-unlock").on("click",function(){F()}),t("#jitp-lock-form").length&&t("#jitp-lock-form").submit(function(){return F(),!1}),O()}}function R(){console.log("getLockContentBootstrap called");var t=null===J.lockTitle?"":'<div class="panel-heading"><h2 class="panel-title">'+J.lockTitle+"</h2></div>",e=J.lockLogoutButton.replace(/\{username}/g,J.lockUsername),i=null===J.lockCountdownMessage?"":'<div class="panel-footer">'+J.lockCountdownMessage.replace(/\{timer}/g,'<span class="jitp-countdown-holder"></span>')+"</div>";return'<div id="jitp-lock-display" class="jitp-lock-back" style="display: none;"><div class="panel panel-default jitp-lock-panel">'+t+'<div class="panel-body"><h4>'+J.lockUsername+"</h4><p>"+J.lockMessage+'</p><div class="input-group"><input id="jitp-lock-pass" type="password" class="form-control" placeholder="Password..."/><span class="input-group-btn"><button id="jitp-lock-unlock" class="btn btn-primary" type="button">'+J.lockUnlockButton+'</button></span></div><a id="jitp-lock-logout" href="javascript:;">'+e+"</a></div>"+i+"</div></div>"}function N(){var t=null===J.lockTitle?"":"<header>"+J.lockTitle+"</header>",e=J.lockLogoutButton.replace(/\{username}/g,J.lockUsername),i=null===J.lockCountdownMessage?"":"<footer>"+J.lockCountdownMessage.replace(/\{timer}/g,'<span class="jitp-countdown-holder"></span>')+"</footer>";return'<div id="jitp-lock-display" class="jitp-lock-back" style="display: none;"><div class="jitp-lock-panel jitp-lock-jqpanel">'+t+'<div class="jitp-lock-jqpanel-body"><h2>'+J.lockUsername+"</h2><p>"+J.lockMessage+'</p><div><input id="jitp-lock-pass" type="text" class="form-control" placeholder="Password..."/></div><button id="jitp-lock-unlock" type="button">'+J.lockUnlockButton+'</button><a id="jitp-lock-logout" href="javascript:;">'+e+"</a></div>"+i+"</div></div>"}function $(){D(),j()}function F(){console.log("onUnlockButton called"),J.lockPassCallback(t("#jitp-lock-pass").val())}function B(){c(),a(),f(),D()}function j(){console.log("handleLogout called"),B(),i("logoutTriggered",!0),("function"!=typeof J.logoutCallback||J.logoutCallback(J))&&window.location.replace(J.logoutUrl)}function H(){console.log("handleLogoutTrigger called"),B(),("function"!=typeof J.logoutAutoCallback||J.logoutAutoCallback(J))&&window.location.replace(J.logoutAutoUrl)}function W(){return console.log("handleRedirect called"),B(),J.multiWindowSupport?void setTimeout(q,K(100,500)):q()}function q(){return n("logoutTriggered",!1)?H():(i("logoutTriggered",!0),void(("function"!=typeof J.redirectCallback||J.redirectCallback(J))&&window.location.replace(J.redirectUrl)))}function V(){i("activityEvents",J.activityEvents)}function U(){t(document).on("dialogopen shown.bs.modal",function(){lt||pt?console.log("--------| Warning Dialog Opened |------------"):(console.log("a dialog other than warning/lockscreen dialog opened. Recheck for iframes."),Y())})}function Y(){var t,e=function(){"complete"===document.readyState&&(clearInterval(t),G())};t=setInterval(e,1e3)}function G(e){e||(e=t(document));var i=0;e.find("iframe,frame").each(function(){if(console.log("start of find iframes"),t(this).hasClass("jitp-inspected")===!1){console.log("first time inpection of iframe - no jitp-inspected class");
try{G(t(this).contents()),t(this).on("load",X(t(this))),console.log("iframeCount: "+i+".");var e=t(this)[i];e.attachEvent&&(console.log("attach event to iframe. Browser IE < 11"),e.attachEvent("onload",X(t(this)))),i++}catch(n){console.log('found cross-site iframe - add classes "jitp-inspected" & "cross-site"'),t(this).addClass("jitp-inspected cross-site")}}else console.log("iframe already has class jitp-inspected")})}function X(e){console.log("start attachEventIframe"),console.log("config.activityEvents: "+J.activityEvents+".");var i=e.contents(),o=n("activityEvents","");try{i.on(o,function(e){console.log("bubbling iframe activity event to body of page event: "+e.type+"."),t("body").trigger(e)}),e.addClass("jitp-inspected")}catch(r){console.log("problem with attachment of activity events to this iframe")}}function Z(t){var e=Math.floor(t/60);if(15>=e){var i=t%60,n=e>0?e+"m ":"";return n+=i+"s"}if(75>=e)return 22>=e?"about 15 mins":37>=e?"about 30 mins":52>=e?"about 25 mins":"about 1 hour";var o=Math.floor(e/60);return e%=60,15>=e?"about "+o+" hours":e>52?"about "+(o+1)+" hours":"about "+o+"&frac12; hours"}function K(t,e){return Math.floor(Math.random()*(e-t))+t}console.log("jitp: library load");var J={idleTimeLimit:3600,idleCallback:!1,idleCheckHeartbeat:10,bootstrap:!0,activityEvents:"click keypress scroll wheel mousewheel mousemove touchmove",warnEnabled:!0,warnTimeLimit:180,warnCallback:!1,warnContentCallback:!1,warnTitle:"Session Timeout",warnMessage:"Your session is about to expire!",warnStayAliveButton:"Stay Connected",warnLogoutButton:"Logout",warnCountdownMessage:"Time remaining: {timer}",warnCountdownBar:!1,redirectUrl:"/timed-out",logoutUrl:"/logout",logoutAutoUrl:null,redirectCallback:!1,logoutCallback:!1,logoutAutoCallback:!1,keepAliveInterval:600,keepAliveUrl:window.location.href,keepAliveAjaxType:"GET",keepAliveAjaxData:"",keepAliveResponse:!1,keepAliveBadUrl:window.location.href,lockEnabled:!1,lockTimeLimit:7200,lockHaltKeepAlive:!0,lockCallback:!1,lockContentCallback:!1,lockPassCallback:!1,lockTitle:null,lockUsername:"System User",lockMessage:"Enter your password to unlock the screen",lockUnlockButton:"UnLock",lockLogoutButton:"Not {username} ?",lockCountdownMessage:"Auto-logout in: {timer}",lockBlockUiConfig:{},lockLoadActive:!1,iframesSupport:!1,multiWindowSupport:!1},Q=t("body"),tt=null,et={};et.start=function(o){if(console.log("Idle timer started!"),J=t.extend(J,o),J=t.extend(J,o),null==J.logoutAutoUrl&&(J.logoutAutoUrl=J.logoutUrl),J.idleTimeLimit*=1e3,J.idleCheckHeartbeat*=1e3,J.warnTimeLimit*=1e3,J.lockTimeLimit*=1e3,J.keepAliveInterval*=1e3,J.multiWindowSupport&&!t.localStorage)return console.error("jitp: Multi-Window support requested but JQuery Storage API is unavailable."),!1;if(J.warnEnabled&&J.warnCallback===!1||J.lockEnabled&&J.lockCallback===!1)if(J.bootstrap){if("undefined"==typeof t.fn.modal)return console.error("jitp: Bootstrap library is unavailable"),!1}else if("undefined"==typeof t.ui)return console.error("jitp: jQueryUI library is unavailable"),!1;if(J.lockEnabled&&!J.multiWindowSupport)return console.error("jitp: Lock screen requested but multi-window support is not enabled."),!1;if(J.lockEnabled&&J.lockCallback===!1){if("undefined"==typeof t.blockUI)return console.error("jitp: Lock screen requested but blockUI library is unavailable."),!1;if(J.lockPassCallback===!1)return console.error("jitp: Lock screen requested but lockPassCallback function is not set."),!1}return J.iframesSupport&&!J.multiWindowSupport?(console.error("jitp: IFrame support requested but Multi-Window support disabled."),!1):(e(),J.lockEnabled&&(J.lockLoadActive||n("lockStartTime",-1)>0)?A():(i("logoutTriggered",!1),i("warningStartTime",-1),i("lockStartTime",-1),i("lastActivity",t.now()),r(),J.keepAliveInterval&&u()),J.keepAliveInterval&&u(),V(),U(),l(),Y(),!0)},et.cleanUpLockScreen=function(){console.log("manual cleanUpLockScreen"),e(),t.localStorage&&tt.set("lockStartTime",-99)},et.logout=function(){console.log("manual logout"),j()},et.displayWarning=function(){console.log("displayWarning called"),g()},et.displayLockScreen=function(){console.log("displayLockScreen called"),P()},et.initLockScreen=function(){console.log("displayLockScreen called"),a(),f(),T()},et.setIdleTimeLimit=function(t){console.log("setIdleTimeLimit called"),"number"==typeof t&&(console.log("Updating idleTimeLimit from "+J.idleTimeLimit/1e3+" to "+t),J.idleTimeLimit=1e3*t,et.rollback())},et.setWarnTimeLimit=function(t){console.log("setWarnTimeLimit called"),"number"==typeof t&&(console.log("Updating warnTimeLimit from "+J.warnTimeLimit/1e3+" to "+t),J.warnTimeLimit=1e3*t,et.rollback())},et.setLockTimeLimit=function(t){console.log("setLockTimeLimit called"),"number"==typeof t&&(console.log("Updating lockTimeLimit from "+J.lockTimeLimit/1e3+" to "+t),J.lockTimeLimit=1e3*t,et.rollback())},et.rollback=function(){console.log("rollback called"),E(),d()},et.iframeRecheck=function(){console.log("iframeRecheck called"),Y()};var it,nt,ot,rt,at=[-1,-1],st=!0,lt=!1,ut=null,ct=null,ht=null,dt=!0,pt=!1,ft=null,mt=null;return et}),!function(t){var e=function(){"use strict";var t="s",i={DAY:864e5,HOUR:36e5,MINUTE:6e4,SECOND:1e3,BASELINE_YEAR:2014,MAX_SCORE:864e6,AMBIGUITIES:{"America/Denver":["America/Mazatlan"],"Europe/London":["Africa/Casablanca"],"America/Chicago":["America/Mexico_City"],"America/Asuncion":["America/Campo_Grande","America/Santiago"],"America/Montevideo":["America/Sao_Paulo","America/Santiago"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Europe/Helsinki","Asia/Damascus","Africa/Cairo","Asia/Gaza","Europe/Minsk"],"Pacific/Auckland":["Pacific/Fiji"],"America/Los_Angeles":["America/Santa_Isabel"],"America/New_York":["America/Havana"],"America/Halifax":["America/Goose_Bay"],"America/Godthab":["America/Miquelon"],"Asia/Dubai":["Asia/Yerevan"],"Asia/Jakarta":["Asia/Krasnoyarsk"],"Asia/Shanghai":["Asia/Irkutsk","Australia/Perth"],"Australia/Sydney":["Australia/Lord_Howe"],"Asia/Tokyo":["Asia/Yakutsk"],"Asia/Dhaka":["Asia/Omsk"],"Asia/Baku":["Asia/Yerevan"],"Australia/Brisbane":["Asia/Vladivostok"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Majuro":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk","Europe/Moscow"],"Asia/Karachi":["Asia/Yekaterinburg"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]}},n=function(t){var e=-t.getTimezoneOffset();return null!==e?e:0},o=function(){var e=n(new Date(i.BASELINE_YEAR,0,2)),o=n(new Date(i.BASELINE_YEAR,5,2)),r=e-o;return 0>r?e+",1":r>0?o+",1,"+t:e+",0"},r=function(){var t,e;return"undefined"!=typeof Intl&&"undefined"!=typeof Intl.DateTimeFormat&&(t=Intl.DateTimeFormat(),"undefined"!=typeof t&&"undefined"!=typeof t.resolvedOptions)?(e=t.resolvedOptions().timeZone,e&&(e.indexOf("/")>-1||"UTC"===e)?e:void 0):void 0},a=function(t){for(var e=new Date(t,0,1,0,0,1,0).getTime(),i=new Date(t,12,31,23,59,59).getTime(),n=e,o=new Date(n).getTimezoneOffset(),r=null,a=null;i-864e5>n;){var l=new Date(n),u=l.getTimezoneOffset();u!==o&&(o>u&&(r=l),u>o&&(a=l),o=u),n+=864e5}return r&&a?{s:s(r).getTime(),e:s(a).getTime()}:!1},s=function d(t,e,n){"undefined"==typeof e&&(e=i.DAY,n=i.HOUR);for(var o=new Date(t.getTime()-e).getTime(),r=t.getTime()+e,a=new Date(o).getTimezoneOffset(),s=o,l=null;r-n>s;){var u=new Date(s),c=u.getTimezoneOffset();if(c!==a){l=u;break}s+=n}return e===i.DAY?d(l,i.HOUR,i.MINUTE):e===i.HOUR?d(l,i.MINUTE,i.SECOND):l},l=function(t,e,i,n){if("N/A"!==i)return i;if("Asia/Beirut"===e){if("Africa/Cairo"===n.name&&13983768e5===t[6].s&&14116788e5===t[6].e)return 0;if("Asia/Jerusalem"===n.name&&13959648e5===t[6].s&&14118588e5===t[6].e)return 0}else if("America/Santiago"===e){if("America/Asuncion"===n.name&&14124816e5===t[6].s&&1397358e6===t[6].e)return 0;if("America/Campo_Grande"===n.name&&14136912e5===t[6].s&&13925196e5===t[6].e)return 0}else if("America/Montevideo"===e){if("America/Sao_Paulo"===n.name&&14136876e5===t[6].s&&1392516e6===t[6].e)return 0}else if("Pacific/Auckland"===e&&"Pacific/Fiji"===n.name&&14142456e5===t[6].s&&13961016e5===t[6].e)return 0;return i},u=function(t,n){for(var o=function(e){for(var o=0,r=0;r<t.length;r++)if(e.rules[r]&&t[r]){if(!(t[r].s>=e.rules[r].s&&t[r].e<=e.rules[r].e)){o="N/A";break}if(o=0,o+=Math.abs(t[r].s-e.rules[r].s),o+=Math.abs(e.rules[r].e-t[r].e),o>i.MAX_SCORE){o="N/A";break}}return o=l(t,n,o,e)},r={},a=e.olson.dst_rules.zones,s=a.length,u=i.AMBIGUITIES[n],c=0;s>c;c++){var h=a[c],d=o(a[c]);"N/A"!==d&&(r[h.name]=d)}for(var p in r)if(r.hasOwnProperty(p))for(var f=0;f<u.length;f++)if(u[f]===p)return p;return n},c=function(t){var i=function(){for(var t=[],i=0;i<e.olson.dst_rules.years.length;i++){var n=a(e.olson.dst_rules.years[i]);t.push(n)}return t},n=function(t){for(var e=0;e<t.length;e++)if(t[e]!==!1)return!0;return!1},o=i(),r=n(o);return r?u(o,t):t},h=function(){var t=r();return t||(t=e.olson.timezones[o()],"undefined"!=typeof i.AMBIGUITIES[t]&&(t=c(t))),{name:function(){return t}}};return{determine:h}}();e.olson=e.olson||{},e.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-660,1,s":"Pacific/Apia","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Majuro","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},e.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:"Africa/Cairo",rules:[{e:12199572e5,s:12090744e5},{e:1250802e6,s:1240524e6},{e:12858804e5,s:12840696e5},!1,!1,!1,{e:14116788e5,s:1406844e6}]},{name:"Africa/Casablanca",rules:[{e:12202236e5,s:12122784e5},{e:12508092e5,s:12438144e5},{e:1281222e6,s:12727584e5},{e:13120668e5,s:13017888e5},{e:13489704e5,s:1345428e6},{e:13828392e5,s:13761e8},{e:14142888e5,s:14069448e5}]},{name:"America/Asuncion",rules:[{e:12050316e5,s:12243888e5},{e:12364812e5,s:12558384e5},{e:12709548e5,s:12860784e5},{e:13024044e5,s:1317528e6},{e:1333854e6,s:13495824e5},{e:1364094e6,s:1381032e6},{e:13955436e5,s:14124816e5}]},{name:"America/Campo_Grande",rules:[{e:12032172e5,s:12243888e5},{e:12346668e5,s:12558384e5},{e:12667212e5,s:1287288e6},{e:12981708e5,s:13187376e5},{e:13302252e5,s:1350792e6},{e:136107e7,s:13822416e5},{e:13925196e5,s:14136912e5}]},{name:"America/Goose_Bay",rules:[{e:122559486e4,s:120503526e4},{e:125704446e4,s:123648486e4},{e:128909886e4,s:126853926e4},{e:13205556e5,s:129998886e4},{e:13520052e5,s:13314456e5},{e:13834548e5,s:13628952e5},{e:14149044e5,s:13943448e5}]},{name:"America/Havana",rules:[{e:12249972e5,s:12056436e5},{e:12564468e5,s:12364884e5},{e:12885012e5,s:12685428e5},{e:13211604e5,s:13005972e5},{e:13520052e5,s:13332564e5},{e:13834548e5,s:13628916e5},{e:14149044e5,s:13943412e5}]},{name:"America/Mazatlan",rules:[{e:1225008e6,s:12074724e5},{e:12564576e5,s:1238922e6},{e:1288512e6,s:12703716e5},{e:13199616e5,s:13018212e5},{e:13514112e5,s:13332708e5},{e:13828608e5,s:13653252e5},{e:14143104e5,s:13967748e5}]},{name:"America/Mexico_City",rules:[{e:12250044e5,s:12074688e5},{e:1256454e6,s:12389184e5},{e:12885084e5,s:1270368e6},{e:1319958e6,s:13018176e5},{e:13514076e5,s:13332672e5},{e:13828572e5,s:13653216e5},{e:14143068e5,s:13967712e5}]},{name:"America/Miquelon",rules:[{e:12255984e5,s:12050388e5},{e:1257048e6,s:12364884e5},{e:12891024e5,s:12685428e5},{e:1320552e6,s:12999924e5},{e:13520016e5,s:1331442e6},{e:13834512e5,s:13628916e5},{e:14149008e5,s:13943412e5}]},{name:"America/Santa_Isabel",rules:[{e:12250116e5,s:1207476e6},{e:12564612e5,s:12389256e5},{e:12885156e5,s:12703752e5},{e:13199652e5,s:13018248e5},{e:13514148e5,s:13332744e5},{e:13828644e5,s:13653288e5},{e:1414314e6,s:13967784e5}]},{name:"America/Santiago",rules:[{e:1206846e6,s:1223784e6},{e:1237086e6,s:12552336e5},{e:127035e7,s:12866832e5},{e:13048236e5,s:13138992e5},{e:13356684e5,s:13465584e5},{e:1367118e6,s:13786128e5},{e:13985676e5,s:14100624e5}]},{name:"America/Sao_Paulo",rules:[{e:12032136e5,s:12243852e5},{e:12346632e5,s:12558348e5},{e:12667176e5,s:12872844e5},{e:12981672e5,s:1318734e6},{e:13302216e5,s:13507884e5},{e:13610664e5,s:1382238e6},{e:1392516e6,s:14136876e5}]},{name:"Asia/Amman",rules:[{e:1225404e6,s:12066552e5},{e:12568536e5,s:12381048e5},{e:12883032e5,s:12695544e5},{e:13197528e5,s:13016088e5},!1,!1,{e:14147064e5,s:13959576e5}]},{name:"Asia/Damascus",rules:[{e:12254868e5,s:120726e7},{e:125685e7,s:12381048e5},{e:12882996e5,s:12701592e5},{e:13197492e5,s:13016088e5},{e:13511988e5,s:13330584e5},{e:13826484e5,s:1364508e6},{e:14147028e5,s:13959576e5}]},{name:"Asia/Dubai",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:"Asia/Gaza",rules:[{e:12199572e5,s:12066552e5},{e:12520152e5,s:12381048e5},{e:1281474e6,s:126964086e4},{e:1312146e6,s:130160886e4},{e:13481784e5,s:13330584e5},{e:13802292e5,s:1364508e6},{e:1414098e6,s:13959576e5}]},{name:"Asia/Irkutsk",rules:[{e:12249576e5,s:12068136e5},{e:12564072e5,s:12382632e5},{e:12884616e5,s:12697128e5},!1,!1,!1,!1]},{name:"Asia/Jerusalem",rules:[{e:12231612e5,s:12066624e5},{e:1254006e6,s:1238112e6},{e:1284246e6,s:12695616e5},{e:131751e7,s:1301616e6},{e:13483548e5,s:13330656e5},{e:13828284e5,s:13645152e5},{e:1414278e6,s:13959648e5}]},{name:"Asia/Kamchatka",rules:[{e:12249432e5,s:12067992e5},{e:12563928e5,s:12382488e5},{e:12884508e5,s:12696984e5},!1,!1,!1,!1]},{name:"Asia/Krasnoyarsk",rules:[{e:12249612e5,s:12068172e5},{e:12564108e5,s:12382668e5},{e:12884652e5,s:12697164e5},!1,!1,!1,!1]},{name:"Asia/Omsk",rules:[{e:12249648e5,s:12068208e5},{e:12564144e5,s:12382704e5},{e:12884688e5,s:126972e7},!1,!1,!1,!1]},{name:"Asia/Vladivostok",rules:[{e:12249504e5,s:12068064e5},{e:12564e8,s:1238256e6},{e:12884544e5,s:12697056e5},!1,!1,!1,!1]},{name:"Asia/Yakutsk",rules:[{e:1224954e6,s:120681e7},{e:12564036e5,s:12382596e5},{e:1288458e6,s:12697092e5},!1,!1,!1,!1]},{name:"Asia/Yekaterinburg",rules:[{e:12249684e5,s:12068244e5},{e:1256418e6,s:1238274e6},{e:12884724e5,s:12697236e5},!1,!1,!1,!1]},{name:"Asia/Yerevan",rules:[{e:1224972e6,s:1206828e6},{e:12564216e5,s:12382776e5},{e:1288476e6,s:12697272e5},{e:13199256e5,s:13011768e5},!1,!1,!1]},{name:"Australia/Lord_Howe",rules:[{e:12074076e5,s:12231342e5},{e:12388572e5,s:12545838e5},{e:12703068e5,s:12860334e5},{e:13017564e5,s:1317483e6},{e:1333206e6,s:13495374e5},{e:13652604e5,s:1380987e6},{e:139671e7,s:14124366e5}]},{name:"Australia/Perth",rules:[{e:12068136e5,s:12249576e5},!1,!1,!1,!1,!1,!1]},{name:"Europe/Helsinki",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:"Europe/Minsk",rules:[{e:12249792e5,s:12068352e5},{e:12564288e5,s:12382848e5},{e:12884832e5,s:12697344e5},!1,!1,!1,!1]},{name:"Europe/Moscow",rules:[{e:12249756e5,s:12068316e5},{e:12564252e5,s:12382812e5},{e:12884796e5,s:12697308e5},!1,!1,!1,!1]},{name:"Pacific/Apia",rules:[!1,!1,!1,{e:13017528e5,s:13168728e5},{e:13332024e5,s:13489272e5},{e:13652568e5,s:13803768e5},{e:13967064e5,s:14118264e5}]},{name:"Pacific/Fiji",rules:[!1,!1,{e:12696984e5,s:12878424e5},{e:13271544e5,s:1319292e6},{e:1358604e6,s:13507416e5},{e:139005e7,s:1382796e6},{e:14215032e5,s:14148504e5}]},{name:"Europe/London",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]}]},"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=e:"undefined"!=typeof define&&null!==define&&null!=define.amd?define([],function(){return e}):"undefined"==typeof t?window.jstz=e:t.jstz=e}();var mapZones={};mapZones["International Date Line West"]="Pacific/Midway",mapZones["Midway Island"]="Pacific/Midway",mapZones["American Samoa"]="Pacific/Pago_Pago",mapZones.Hawaii="Pacific/Honolulu",mapZones.Alaska="America/Juneau",mapZones["Pacific Time (US & Canada)"]="America/Los_Angeles",mapZones.Tijuana="America/Tijuana",mapZones["Mountain Time (US & Canada)"]="America/Denver",mapZones.Arizona="America/Phoenix",mapZones.Chihuahua="America/Chihuahua",mapZones.Mazatlan="America/Mazatlan",mapZones["Central Time (US & Canada)"]="America/Chicago",mapZones.Saskatchewan="America/Regina",mapZones.Guadalajara="America/Mexico_City",mapZones["Mexico City"]="America/Mexico_City",mapZones.Monterrey="America/Monterrey",mapZones["Central America"]="America/Guatemala",mapZones["Eastern Time (US & Canada)"]="America/New_York",mapZones["Indiana (East)"]="America/Indiana/Indianapolis",mapZones.Bogota="America/Bogota",mapZones.Lima="America/Lima",mapZones.Quito="America/Lima",mapZones["Atlantic Time (Canada)"]="America/Halifax",mapZones.Caracas="America/Caracas",mapZones["La Paz"]="America/La_Paz",mapZones.Santiago="America/Santiago",mapZones.Newfoundland="America/St_Johns",mapZones.Brasilia="America/Sao_Paulo",mapZones["Buenos Aires"]="America/Argentina/Buenos_Aires",mapZones.Georgetown="America/Guyana",mapZones.Greenland="America/Godthab",mapZones["Mid-Atlantic"]="Atlantic/South_Georgia",mapZones.Azores="Atlantic/Azores",mapZones["Cape Verde Is."]="Atlantic/Cape_Verde",mapZones.Dublin="Europe/Dublin",mapZones.Edinburgh="Europe/London",mapZones.Lisbon="Europe/Lisbon",mapZones.London="Europe/London",mapZones.Casablanca="Africa/Casablanca",mapZones.Monrovia="Africa/Monrovia",mapZones.UTC="Etc/UTC",mapZones.Belgrade="Europe/Belgrade",mapZones.Bratislava="Europe/Bratislava",mapZones.Budapest="Europe/Budapest",mapZones.Ljubljana="Europe/Ljubljana",mapZones.Prague="Europe/Prague",mapZones.Sarajevo="Europe/Sarajevo",mapZones.Skopje="Europe/Skopje",mapZones.Warsaw="Europe/Warsaw",mapZones.Zagreb="Europe/Zagreb",mapZones.Brussels="Europe/Brussels",mapZones.Copenhagen="Europe/Copenhagen",mapZones.Madrid="Europe/Madrid",mapZones.Paris="Europe/Paris",mapZones.Amsterdam="Europe/Amsterdam",mapZones.Berlin="Europe/Berlin",mapZones.Bern="Europe/Berlin",mapZones.Rome="Europe/Rome",mapZones.Stockholm="Europe/Stockholm",mapZones.Vienna="Europe/Vienna",mapZones["West Central Africa"]="Africa/Algiers",mapZones.Bucharest="Europe/Bucharest",mapZones.Cairo="Africa/Cairo",mapZones.Helsinki="Europe/Helsinki",mapZones.Kyiv="Europe/Kiev",mapZones.Riga="Europe/Riga",mapZones.Sofia="Europe/Sofia",mapZones.Tallinn="Europe/Tallinn",mapZones.Vilnius="Europe/Vilnius",mapZones.Athens="Europe/Athens",mapZones.Istanbul="Europe/Istanbul",mapZones.Minsk="Europe/Minsk",mapZones.Jerusalem="Asia/Jerusalem",mapZones.Harare="Africa/Harare",mapZones.Pretoria="Africa/Johannesburg",mapZones.Moscow="Europe/Moscow",mapZones["St. Petersburg"]="Europe/Moscow",mapZones.Volgograd="Europe/Moscow",mapZones.Kuwait="Asia/Kuwait",mapZones.Riyadh="Asia/Riyadh",mapZones.Nairobi="Africa/Nairobi",mapZones.Baghdad="Asia/Baghdad",mapZones.Tehran="Asia/Tehran",mapZones["Abu Dhabi"]="Asia/Muscat",mapZones.Muscat="Asia/Muscat",mapZones.Baku="Asia/Baku",mapZones.Tbilisi="Asia/Tbilisi",mapZones.Yerevan="Asia/Yerevan",mapZones.Kabul="Asia/Kabul",mapZones.Ekaterinburg="Asia/Yekaterinburg",mapZones.Islamabad="Asia/Karachi",mapZones.Karachi="Asia/Karachi",mapZones.Tashkent="Asia/Tashkent",mapZones.Chennai="Asia/Kolkata",mapZones.Kolkata="Asia/Kolkata",mapZones.Mumbai="Asia/Kolkata",mapZones["New Delhi"]="Asia/Kolkata",mapZones.Kathmandu="Asia/Kathmandu",mapZones.Astana="Asia/Dhaka",mapZones.Dhaka="Asia/Dhaka",mapZones["Sri Jayawardenepura"]="Asia/Colombo",mapZones.Almaty="Asia/Almaty",mapZones.Novosibirsk="Asia/Novosibirsk",mapZones.Rangoon="Asia/Rangoon",mapZones.Bangkok="Asia/Bangkok",mapZones.Hanoi="Asia/Bangkok",mapZones.Jakarta="Asia/Jakarta",mapZones.Krasnoyarsk="Asia/Krasnoyarsk",mapZones.Beijing="Asia/Shanghai",mapZones.Chongqing="Asia/Chongqing",mapZones["Hong Kong"]="Asia/Hong_Kong",mapZones.Urumqi="Asia/Urumqi",mapZones["Kuala Lumpur"]="Asia/Kuala_Lumpur",mapZones.Singapore="Asia/Singapore",mapZones.Taipei="Asia/Taipei",mapZones.Perth="Australia/Perth",mapZones.Irkutsk="Asia/Irkutsk",mapZones["Ulaan Bataar"]="Asia/Ulaanbaatar",mapZones.Seoul="Asia/Seoul",mapZones.Osaka="Asia/Tokyo",mapZones.Sapporo="Asia/Tokyo",mapZones.Tokyo="Asia/Tokyo",mapZones.Yakutsk="Asia/Yakutsk",mapZones.Darwin="Australia/Darwin",mapZones.Adelaide="Australia/Adelaide",mapZones.Canberra="Australia/Melbourne",mapZones.Melbourne="Australia/Melbourne",mapZones.Sydney="Australia/Sydney",mapZones.Brisbane="Australia/Brisbane",mapZones.Hobart="Australia/Hobart",mapZones.Vladivostok="Asia/Vladivostok",mapZones.Guam="Pacific/Guam",mapZones["Port Moresby"]="Pacific/Port_Moresby",mapZones.Magadan="Asia/Magadan",mapZones["Solomon Is."]="Pacific/Guadalcanal",mapZones["New Caledonia"]="Pacific/Noumea",mapZones.Fiji="Pacific/Fiji",mapZones.Kamchatka="Asia/Kamchatka",mapZones["Marshall Is."]="Pacific/Majuro",mapZones.Auckland="Pacific/Auckland",mapZones.Wellington="Pacific/Auckland",mapZones["Nuku'alofa"]="Pacific/Tongatapu",mapZones["Tokelau Is."]="Pacific/Fakaofo",mapZones.Samoa="Pacific/Apia";var convertJsToRuby=function(t){for(var e in mapZones)if(mapZones[e]==t)return e;return"not found"};!function(t){"use strict";function e(t,e){for(var i=0;i<t.length;++i)e(t[i],i)}function i(e,i){this.$select=t(e),this.options=this.mergeOptions(t.extend({},i,this.$select.data())),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.lastToggledInput=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=t.proxy(this.options.onChange,this),this.options.onDropdownShow=t.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=t.proxy(this.options.onDropdownHide,this),this.options.onDropdownShown=t.proxy(this.options.onDropdownShown,this),this.options.onDropdownHidden=t.proxy(this.options.onDropdownHidden,this),this.buildContainer(),this.buildButton(),this.buildDropdown(),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&t("option",this.$select).length<=0&&this.disable(),this.$select.hide().after(this.$container)}"undefined"!=typeof ko&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect&&(ko.bindingHandlers.multiselect={after:["options","value","selectedOptions"],init:function(e,i,n){var o=t(e),r=ko.toJS(i());if(o.multiselect(r),n.has("options")){var a=n.get("options");ko.isObservable(a)&&ko.computed({read:function(){a(),setTimeout(function(){var t=o.data("multiselect");t&&t.updateOriginalOptions(),o.multiselect("rebuild")},1)},disposeWhenNodeIsRemoved:e})}if(n.has("value")){var s=n.get("value");ko.isObservable(s)&&ko.computed({read:function(){s(),setTimeout(function(){o.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0})}if(n.has("selectedOptions")){var l=n.get("selectedOptions");ko.isObservable(l)&&ko.computed({read:function(){l(),setTimeout(function(){o.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0})}ko.utils.domNodeDisposal.addDisposeCallback(e,function(){o.multiselect("destroy")})},update:function(e,i){var n=t(e),o=ko.toJS(i());n.multiselect("setOptions",o),n.multiselect("rebuild")}}),i.prototype={defaults:{buttonText:function(e,i){if(0===e.length)return this.nonSelectedText;if(this.allSelectedText&&e.length==t("option",t(i)).length)return this.selectAllNumber?this.allSelectedText+" ("+e.length+")":this.allSelectedText;if(e.length>this.numberDisplayed)return e.length+" "+this.nSelectedText;var n="";return e.each(function(){var e=void 0!==t(this).attr("label")?t(this).attr("label"):t(this).text();n+=e+", "}),n.substr(0,n.length-2)},buttonTitle:function(e){if(0===e.length)return this.nonSelectedText;var i="";return e.each(function(){i+=t(this).text()+", "}),i.substr(0,i.length-2)},optionLabel:function(e){return t(e).attr("label")||t(e).text()},onChange:function(){},onDropdownShow:function(){},onDropdownHide:function(){},onDropdownShown:function(){},onDropdownHidden:function(){},onSelectAll:function(){},buttonClass:"btn btn-default",inheritClass:!1,buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',dropRight:!1,selectedClass:"active",maxHeight:!1,checkboxName:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,selectAllNumber:!0,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableClickableOptGroups:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filter:'<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="glyphicon glyphicon-remove-circle"></i></button></span>',li:'<li><a tabindex="0"><label></label></a></li>',divider:'<li class="multiselect-item divider"></li>',liGroup:'<li class="multiselect-item multiselect-group"><label></label></li>'}},constructor:i,buildContainer:function(){this.$container=t(this.options.buttonContainer),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide),this.$container.on("shown.bs.dropdown",this.options.onDropdownShown),this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=t(this.options.templates.button).addClass(this.options.buttonClass),this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class")),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:this.options.buttonWidth,overflow:"hidden","text-overflow":"ellipsis"}),this.$container.css({width:this.options.buttonWidth}));var e=this.$select.attr("tabindex");e&&this.$button.attr("tabindex",e),this.$container.prepend(this.$button)},buildDropdown:function(){this.$ul=t(this.options.templates.ul),this.options.dropRight&&this.$ul.addClass("pull-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(t.proxy(function(e,i){var n=t(i),o=n.prop("tagName").toLowerCase();n.prop("value")!==this.options.selectAllValue&&("optgroup"===o?this.createOptgroup(i):"option"===o&&("divider"===n.data("role")?this.createDivider():this.createOptionValue(i)))},this)),t("li input",this.$ul).on("change",t.proxy(function(e){var i=t(e.target),n=i.prop("checked")||!1,o=i.val()===this.options.selectAllValue;this.options.selectedClass&&(n?i.closest("li").addClass(this.options.selectedClass):i.closest("li").removeClass(this.options.selectedClass));var r=i.val(),a=this.getOptionByValue(r),s=t("option",this.$select).not(a),l=t("input",this.$container).not(i);return o&&(n?this.selectAll():this.deselectAll()),o||(n?(a.prop("selected",!0),this.options.multiple?a.prop("selected",!0):(this.options.selectedClass&&t(l).closest("li").removeClass(this.options.selectedClass),t(l).prop("checked",!1),s.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&s.closest("a").css("outline","")):a.prop("selected",!1)),this.$select.change(),this.updateButtonText(),this.updateSelectAll(),this.options.onChange(a,n),this.options.preventInputChangeEvent?!1:void 0},this)),t("li a",this.$ul).on("mousedown",function(t){return t.shiftKey?!1:void 0}),t("li a",this.$ul).on("touchstart click",t.proxy(function(e){e.stopPropagation();var i=t(e.target);if(e.shiftKey&&this.options.multiple){i.is("label")&&(e.preventDefault(),i=i.find("input"),i.prop("checked",!i.prop("checked")));var n=i.prop("checked")||!1;if(null!==this.lastToggledInput&&this.lastToggledInput!==i){var o=i.closest("li").index(),r=this.lastToggledInput.closest("li").index();if(o>r){var a=r;r=o,o=a}++r;var s=this.$ul.find("li").slice(o,r).find("input");s.prop("checked",n),this.options.selectedClass&&s.closest("li").toggleClass(this.options.selectedClass,n);for(var l=0,u=s.length;u>l;l++){var c=t(s[l]),h=this.getOptionByValue(c.val());h.prop("selected",n)}}i.trigger("change")}i.is("input")&&!i.closest("li").is(".multiselect-item")&&(this.lastToggledInput=i),i.blur()},this)),this.$container.off("keydown.multiselect").on("keydown.multiselect",t.proxy(function(e){if(!t('input[type="text"]',this.$container).is(":focus"))if(9===e.keyCode&&this.$container.hasClass("open"))this.$button.click();else{var i=t(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible");if(!i.length)return;var n=i.index(i.filter(":focus"));38===e.keyCode&&n>0?n--:40===e.keyCode&&n<i.length-1?n++:~n||(n=0);var o=i.eq(n);if(o.focus(),32===e.keyCode||13===e.keyCode){var r=o.find("input");r.prop("checked",!r.prop("checked")),r.change()}e.stopPropagation(),e.preventDefault()}},this)),this.options.enableClickableOptGroups&&this.options.multiple&&t("li.multiselect-group",this.$ul).on("click",t.proxy(function(e){e.stopPropagation();var i=t(e.target).parent(),n=i.nextUntil("li.multiselect-group"),o=n.filter(":visible"),r=!0,a=o.find("input");a.each(function(){r=r&&t(this).prop("checked")}),a.prop("checked",!r).trigger("change")},this))},createOptionValue:function(e){var i=t(e);i.is(":selected")&&i.prop("selected",!0);var n=this.options.optionLabel(e),o=i.val(),r=this.options.multiple?"checkbox":"radio",a=t(this.options.templates.li),s=t("label",a);s.addClass(r);var l=t("<input/>").attr("type",r);this.options.checkboxName&&l.attr("name",this.options.checkboxName),s.append(l);var u=i.prop("selected")||!1;l.val(o),o===this.options.selectAllValue&&(a.addClass("multiselect-item multiselect-all"),l.parent().parent().addClass("multiselect-all")),s.append(" "+n),s.attr("title",i.attr("title")),this.$ul.append(a),i.is(":disabled")&&l.attr("disabled","disabled").prop("disabled",!0).closest("a").attr("tabindex","-1").closest("li").addClass("disabled"),l.prop("checked",u),u&&this.options.selectedClass&&l.closest("li").addClass(this.options.selectedClass)},createDivider:function(){var e=t(this.options.templates.divider);this.$ul.append(e)},createOptgroup:function(e){var i=t(e).prop("label"),n=t(this.options.templates.liGroup);t("label",n).text(i),this.options.enableClickableOptGroups&&n.addClass("multiselect-group-clickable"),this.$ul.append(n),t(e).is(":disabled")&&n.addClass("disabled"),t("option",e).each(t.proxy(function(t,e){this.createOptionValue(e)},this))},buildSelectAll:function(){"number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString());var e=this.hasSelectAll();if(!e&&this.options.includeSelectAllOption&&this.options.multiple&&t("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$ul.prepend(t(this.options.templates.divider));
var i=t(this.options.templates.li);t("label",i).addClass("checkbox"),this.options.selectAllName?t("label",i).append('<input type="checkbox" name="'+this.options.selectAllName+'" />'):t("label",i).append('<input type="checkbox" />');var n=t("input",i);n.val(this.options.selectAllValue),i.addClass("multiselect-item multiselect-all"),n.parent().parent().addClass("multiselect-all"),t("label",i).append(" "+this.options.selectAllText),this.$ul.prepend(i),n.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var e=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);if(this.$select.find("option").length>=e){if(this.$filter=t(this.options.templates.filter),t("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn){var i=t(this.options.templates.filterClearBtn);i.on("click",t.proxy(function(){clearTimeout(this.searchTimeout),this.$filter.find(".multiselect-search").val(""),t("li",this.$ul).show().removeClass("filter-hidden"),this.updateSelectAll()},this)),this.$filter.find(".input-group").append(i)}this.$ul.prepend(this.$filter),this.$filter.val(this.query).on("click",function(t){t.stopPropagation()}).on("input keydown",t.proxy(function(e){13===e.which&&e.preventDefault(),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(t.proxy(function(){if(this.query!==e.target.value){this.query=e.target.value;var i,n;t.each(t("li",this.$ul),t.proxy(function(e,o){var r=t("input",o).length>0?t("input",o).val():"",a=t("label",o).text(),s="";if("text"===this.options.filterBehavior?s=a:"value"===this.options.filterBehavior?s=r:"both"===this.options.filterBehavior&&(s=a+"\n"+r),r!==this.options.selectAllValue&&a){var l=!1;this.options.enableCaseInsensitiveFiltering&&s.toLowerCase().indexOf(this.query.toLowerCase())>-1?l=!0:s.indexOf(this.query)>-1&&(l=!0),t(o).toggle(l).toggleClass("filter-hidden",!l),t(o).hasClass("multiselect-group")?(i=o,n=l):(l&&t(i).show().removeClass("filter-hidden"),!l&&n&&t(o).show().removeClass("filter-hidden"))}},this))}this.updateSelectAll()},this),300,this)},this))}}},destroy:function(){this.$container.remove(),this.$select.show(),this.$select.data("multiselect",null)},refresh:function(){t("option",this.$select).each(t.proxy(function(e,i){var n=t("li input",this.$ul).filter(function(){return t(this).val()===t(i).val()});t(i).is(":selected")?(n.prop("checked",!0),this.options.selectedClass&&n.closest("li").addClass(this.options.selectedClass)):(n.prop("checked",!1),this.options.selectedClass&&n.closest("li").removeClass(this.options.selectedClass)),t(i).is(":disabled")?n.attr("disabled","disabled").prop("disabled",!0).closest("li").addClass("disabled"):n.prop("disabled",!1).closest("li").removeClass("disabled")},this)),this.updateButtonText(),this.updateSelectAll()},select:function(e,i){t.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var o=e[n];if(null!==o&&void 0!==o){var r=this.getOptionByValue(o),a=this.getInputByValue(o);void 0!==r&&void 0!==a&&(this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&a.closest("li").addClass(this.options.selectedClass),a.prop("checked",!0),r.prop("selected",!0))}}this.updateButtonText(),this.updateSelectAll(),i&&1===e.length&&this.options.onChange(r,!0)},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll()},deselect:function(e,i){t.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var o=e[n];if(null!==o&&void 0!==o){var r=this.getOptionByValue(o),a=this.getInputByValue(o);void 0!==r&&void 0!==a&&(this.options.selectedClass&&a.closest("li").removeClass(this.options.selectedClass),a.prop("checked",!1),r.prop("selected",!1))}}this.updateButtonText(),this.updateSelectAll(),i&&1===e.length&&this.options.onChange(r,!1)},selectAll:function(e,i){var e="undefined"==typeof e?!0:e,n=t("li input[type='checkbox']:enabled",this.$ul),o=n.filter(":visible"),r=n.length,a=o.length;if(e?(o.prop("checked",!0),t("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").addClass(this.options.selectedClass)):(n.prop("checked",!0),t("li:not(.divider):not(.disabled)",this.$ul).addClass(this.options.selectedClass)),r===a||e===!1)t("option:enabled",this.$select).prop("selected",!0);else{var s=o.map(function(){return t(this).val()}).get();t("option:enabled",this.$select).filter(function(){return-1!==t.inArray(t(this).val(),s)}).prop("selected",!0)}i&&this.options.onSelectAll()},deselectAll:function(e){var e="undefined"==typeof e?!0:e;if(e){var i=t("li input[type='checkbox']:not(:disabled)",this.$ul).filter(":visible");i.prop("checked",!1);var n=i.map(function(){return t(this).val()}).get();t("option:enabled",this.$select).filter(function(){return-1!==t.inArray(t(this).val(),n)}).prop("selected",!1),this.options.selectedClass&&t("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").removeClass(this.options.selectedClass)}else t("li input[type='checkbox']:enabled",this.$ul).prop("checked",!1),t("option:enabled",this.$select).prop("selected",!1),this.options.selectedClass&&t("li:not(.divider):not(.disabled)",this.$ul).removeClass(this.options.selectedClass)},rebuild:function(){this.$ul.html(""),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&t("option",this.$select).length<=0?this.disable():this.enable(),this.options.dropRight&&this.$ul.addClass("pull-right")},dataprovider:function(i){var n=0,o=this.$select.empty();t.each(i,function(i,r){var a;t.isArray(r.children)?(n++,a=t("<optgroup/>").attr({label:r.label||"Group "+n,disabled:!!r.disabled}),e(r.children,function(e){a.append(t("<option/>").attr({value:e.value,label:e.label||e.value,title:e.title,selected:!!e.selected,disabled:!!e.disabled}))})):a=t("<option/>").attr({value:r.value,label:r.label||r.value,title:r.title,selected:!!r.selected,disabled:!!r.disabled}),o.append(a)}),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(t){this.options=this.mergeOptions(t)},mergeOptions:function(e){return t.extend(!0,{},this.defaults,this.options,e)},hasSelectAll:function(){return t("li."+this.options.selectAllValue,this.$ul).length>0},updateSelectAll:function(){if(this.hasSelectAll()){var e=t("li:not(.multiselect-item):not(.filter-hidden) input:enabled",this.$ul),i=e.length,n=e.filter(":checked").length,o=t("li."+this.options.selectAllValue,this.$ul),r=o.find("input");n>0&&n===i?(r.prop("checked",!0),o.addClass(this.options.selectedClass),this.options.onSelectAll()):(r.prop("checked",!1),o.removeClass(this.options.selectedClass))}},updateButtonText:function(){var e=this.getSelected();t(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(e,this.$select)),t(".multiselect",this.$container).attr("title",this.options.buttonTitle(e,this.$select))},getSelected:function(){return t("option",this.$select).filter(":selected")},getOptionByValue:function(e){for(var i=t("option",this.$select),n=e.toString(),o=0;o<i.length;o+=1){var r=i[o];if(r.value===n)return t(r)}},getInputByValue:function(e){for(var i=t("li input",this.$ul),n=e.toString(),o=0;o<i.length;o+=1){var r=i[o];if(r.value===n)return t(r)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(t,e,i){var n=Array.prototype.slice.call(arguments,3);return setTimeout(function(){t.apply(i||window,n)},e)},setAllSelectedText:function(t){this.options.allSelectedText=t,this.updateButtonText()}},t.fn.multiselect=function(e,n,o){return this.each(function(){var r=t(this).data("multiselect"),a="object"==typeof e&&e;r||(r=new i(this,a),t(this).data("multiselect",r)),"string"==typeof e&&(r[e](n,o),"destroy"===e&&t(this).data("multiselect",!1))})},t.fn.multiselect.Constructor=i,t(function(){t("select[data-role=multiselect]").multiselect()})}(window.jQuery),function(t){"use strict";function e(t,e){return t.toUpperCase().indexOf(e.toUpperCase())>-1}function i(e){var i=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return t.each(i,function(){e=e.replace(this.re,this.ch)}),e}function n(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i="(?:"+Object.keys(e).join("|")+")",n=new RegExp(i),o=new RegExp(i,"g"),r=null==t?"":""+t;return n.test(r)?r.replace(o,function(t){return e[t]}):r}function o(e,i){var n=arguments,o=e,e=n[0],i=n[1];[].shift.apply(n),"undefined"==typeof e&&(e=o);var a,s=this.each(function(){var o=t(this);if(o.is("select")){var s=o.data("selectpicker"),l="object"==typeof e&&e;if(s){if(l)for(var u in l)l.hasOwnProperty(u)&&(s.options[u]=l[u])}else{var c=t.extend({},r.DEFAULTS,t.fn.selectpicker.defaults||{},o.data(),l);o.data("selectpicker",s=new r(this,c,i))}"string"==typeof e&&(a=s[e]instanceof Function?s[e].apply(s,n):s.options[e])}});return"undefined"!=typeof a?a:s}t.expr[":"].icontains=function(i,n,o){return e(t(i).text(),o[3])},t.expr[":"].aicontains=function(i,n,o){return e(t(i).data("normalizedText")||t(i).text(),o[3])};var r=function(e,i,n){n&&(n.stopPropagation(),n.preventDefault()),this.$element=t(e),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=i,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=r.prototype.val,this.render=r.prototype.render,this.refresh=r.prototype.refresh,this.setStyle=r.prototype.setStyle,this.selectAll=r.prototype.selectAll,this.deselectAll=r.prototype.deselectAll,this.destroy=r.prototype.remove,this.remove=r.prototype.remove,this.show=r.prototype.show,this.hide=r.prototype.hide,this.init()};r.VERSION="1.6.3",r.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:function(t){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){var i=[];return i[0]=1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",i[1]=1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)",i},selectAllText:"Select All",deselectAllText:"Deselect All",multipleSeparator:", ",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,searchAccentInsensitive:!1},r.prototype={constructor:r,init:function(){var e=this,i=this.$element.attr("id");this.$element.hide(),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$menu=this.$newElement.find("> .dropdown-menu"),this.$button=this.$newElement.find("> button"),this.$searchbox=this.$newElement.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof i&&(this.$button.attr("data-id",i),t('label[for="'+i+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.liHeight(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile()},createDropdown:function(){var e=this.multiple?" show-tick":"",i=this.$element.parent().hasClass("input-group")?" input-group-btn":"",n=this.autofocus?" autofocus":"",o=this.$element.parents().hasClass("form-group-lg")?" btn-lg":this.$element.parents().hasClass("form-group-sm")?" btn-sm":"",r=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",a=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="input-block-level form-control" autocomplete="off" /></div>':"",s=this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">'+this.options.selectAllText+'</button><button class="actions-btn bs-deselect-all btn btn-sm btn-default">'+this.options.deselectAllText+"</button></div></div>":"",l='<div class="btn-group bootstrap-select'+e+i+'"><button type="button" class="btn dropdown-toggle selectpicker'+o+'" data-toggle="dropdown"'+n+'><span class="filter-option pull-left"></span>&nbsp;<span class="glyphicon glyphicon-chevron-down"></span></button><div class="dropdown-menu open">'+r+a+s+'<ul class="dropdown-menu inner selectpicker" role="menu"></ul></div></div>';return t(l)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul").append(e),t},reloadLi:function(){this.destroyLi();var t=this.createLi();this.$menu.find("ul").append(t)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var e=this,o=[],r=0,a=function(t,e,i){return"<li"+("undefined"!=typeof i?' class="'+i+'"':"")+("undefined"!=typeof e|null===e?' data-original-index="'+e+'"':"")+">"+t+"</li>"},s=function(t,o,r,a){var s=i(n(t));return'<a tabindex="0"'+("undefined"!=typeof o?' class="'+o+'"':"")+("undefined"!=typeof r?' style="'+r+'"':"")+("undefined"!=typeof a?'data-optgroup="'+a+'"':"")+' data-normalized-text="'+s+'">'+t+'<span class="'+e.options.iconBase+" "+e.options.tickIcon+' check-mark"></span></a>'};return this.$element.find("option").each(function(){var i=t(this),n=i.attr("class")||"",l=i.attr("style"),u=i.data("content")?i.data("content"):i.html(),c="undefined"!=typeof i.data("subtext")?'<small class="muted text-muted">'+i.data("subtext")+"</small>":"",h="undefined"!=typeof i.data("icon")?'<span class="'+e.options.iconBase+" "+i.data("icon")+'"></span> ':"",d=i.is(":disabled")||i.parent().is(":disabled"),p=i[0].index;if(""!==h&&d&&(h="<span>"+h+"</span>"),i.data("content")||(u=h+'<span class="text">'+u+c+"</span>"),!e.options.hideDisabled||!d)if(i.parent().is("optgroup")&&i.data("divider")!==!0){if(0===i.index()){r+=1;var f=i.parent().attr("label"),m="undefined"!=typeof i.parent().data("subtext")?'<small class="muted text-muted">'+i.parent().data("subtext")+"</small>":"",g=i.parent().data("icon")?'<span class="'+e.options.iconBase+" "+i.parent().data("icon")+'"></span> ':"";f=g+'<span class="text">'+f+m+"</span>",0!==p&&o.length>0&&o.push(a("",null,"divider")),o.push(a(f,null,"dropdown-header"))}o.push(a(s(u,"opt "+n,l,r),p))}else i.data("divider")===!0?o.push(a("",p,"divider")):i.data("hidden")===!0?o.push(a(s(u,n,l),p,"hide is-hidden")):o.push(a(s(u,n,l),p))}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),t(o.join(""))},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var i=this;e!==!1&&this.$element.find("option").each(function(e){i.setDisabled(e,t(this).is(":disabled")||t(this).parent().is(":disabled")),i.setSelected(e,t(this).is(":selected"))}),this.tabIndex();var o=this.options.hideDisabled?":not([disabled])":"",r=this.$element.find("option:selected"+o).map(function(){var e,n=t(this),o=n.data("icon")&&i.options.showIcon?'<i class="'+i.options.iconBase+" "+n.data("icon")+'"></i> ':"";return e=i.options.showSubtext&&n.attr("data-subtext")&&!i.multiple?' <small class="muted text-muted">'+n.data("subtext")+"</small>":"",n.data("content")&&i.options.showContent?n.data("content"):"undefined"!=typeof n.attr("title")?n.attr("title"):o+n.html()+e}).toArray(),a=this.multiple?r.join(this.options.multipleSeparator):r[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var s=this.options.selectedTextFormat.split(">");if(s.length>1&&r.length>s[1]||1==s.length&&r.length>=2){o=this.options.hideDisabled?", [disabled]":"";var l=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+o).length,u="function"==typeof this.options.countSelectedText?this.options.countSelectedText(r.length,l):this.options.countSelectedText;a=u.replace("{0}",r.length.toString()).replace("{1}",l.toString())}}this.options.title=this.$element.attr("title"),"static"==this.options.selectedTextFormat&&(a=this.options.title),a||(a="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",n(a)),this.$newElement.find(".filter-option").html(a)},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|validate\[.*\]/gi,""));var i=t?t:this.options.style;"add"==e?this.$button.addClass(i):"remove"==e?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(){if(this.options.size!==!1){var t=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),e=t.addClass("open").find("> .dropdown-menu"),i=e.find("li").not(".divider").not(".dropdown-header").filter(":visible").children("a").outerHeight(),n=this.options.header?e.find(".popover-title").outerHeight():0,o=this.options.liveSearch?e.find(".bs-searchbox").outerHeight():0,r=this.options.actionsBox?e.find(".bs-actionsbox").outerHeight():0;t.remove(),this.$newElement.data("liHeight",i).data("headerHeight",n).data("searchHeight",o).data("actionsHeight",r)}},setSize:function(){this.findLis();var e,i,n,o=this,r=this.$menu,a=r.find(".inner"),s=this.$newElement.outerHeight(),l=this.$newElement.data("liHeight"),u=this.$newElement.data("headerHeight"),c=this.$newElement.data("searchHeight"),h=this.$newElement.data("actionsHeight"),d=this.$lis.filter(".divider").outerHeight(!0),p=parseInt(r.css("padding-top"))+parseInt(r.css("padding-bottom"))+parseInt(r.css("border-top-width"))+parseInt(r.css("border-bottom-width")),f=this.options.hideDisabled?", .disabled":"",m=t(window),g=p+parseInt(r.css("margin-top"))+parseInt(r.css("margin-bottom"))+2,v=function(){i=o.$newElement.offset().top-m.scrollTop(),n=m.height()-i-s};if(v(),this.options.header&&r.css("padding-top",0),"auto"==this.options.size){var y=function(){var t,s=o.$lis.not(".hide");v(),e=n-g,o.options.dropupAuto&&o.$newElement.toggleClass("dropup",i>n&&e-g<r.height()),o.$newElement.hasClass("dropup")&&(e=i-g),t=s.length+s.filter(".dropdown-header").length>3?3*l+g-2:0,r.css({"max-height":e+"px",overflow:"hidden","min-height":t+u+c+h+"px"}),a.css({"max-height":e-u-c-h-p+"px","overflow-y":"auto","min-height":Math.max(t-p,0)+"px"})};y(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",y),t(window).off("resize.getSize").on("resize.getSize",y),t(window).off("scroll.getSize").on("scroll.getSize",y)}else if(this.options.size&&"auto"!=this.options.size&&r.find("li"+f).length>this.options.size){var _=this.$lis.not(".divider"+f).find(" > *").slice(0,this.options.size).last().parent().index(),b=this.$lis.slice(0,_+1).filter(".divider").length;e=l*this.options.size+b*d+p,o.options.dropupAuto&&this.$newElement.toggleClass("dropup",i>n&&e<r.height()),r.css({"max-height":e+u+c+h+"px",overflow:"hidden"}),a.css({"max-height":e-p+"px","overflow-y":"auto"})}},setWidth:function(){if("auto"==this.options.width){this.$menu.css("min-width","0");var t=this.$newElement.clone().appendTo("body"),e=t.find("> .dropdown-menu").css("width"),i=t.css("width","auto").find("> button").css("width");t.remove(),this.$newElement.css("width",Math.max(parseInt(e),parseInt(i))+"px")}else"fit"==this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var e,i,n=this,o="<div />",r=t(o),a=function(t){r.addClass(t.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",t.hasClass("dropup")),e=t.offset(),i=t.hasClass("dropup")?0:t[0].offsetHeight,r.css({top:e.top+i,left:e.left,width:t[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){n.isDisabled()||(a(t(this)),r.appendTo(n.options.container),r.toggleClass("open",!t(this).hasClass("open")),r.append(n.$menu))}),t(window).resize(function(){a(n.$newElement)}),t(window).on("scroll",function(){a(n.$newElement)}),t("html").on("click",function(e){t(e.target).closest(n.$newElement).length<1&&r.removeClass("open")})},setSelected:function(t,e){this.findLis(),this.$lis.filter('[data-original-index="'+t+'"]').toggleClass("selected",e)},setDisabled:function(t,e){this.findLis(),e?this.$lis.filter('[data-original-index="'+t+'"]').addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):this.$lis.filter('[data-original-index="'+t+'"]').removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var t=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),-1==this.$button.attr("tabindex")&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))),this.$button.click(function(){return!t.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var e=this;this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(t){t.stopPropagation()}),this.$newElement.on("click",function(){e.setSize(),e.options.liveSearch||e.multiple||setTimeout(function(){e.$menu.find(".selected a").focus()},10)}),this.$menu.on("click","li a",function(i){var n=t(this),o=n.parent().data("originalIndex"),r=e.$element.val(),a=e.$element.prop("selectedIndex");if(e.multiple&&i.stopPropagation(),i.preventDefault(),!e.isDisabled()&&!n.parent().hasClass("disabled")){var s=e.$element.find("option"),l=s.eq(o),u=l.prop("selected"),c=l.parent("optgroup"),h=e.options.maxOptions,d=c.data("maxOptions")||!1;if(e.multiple){if(l.prop("selected",!u),e.setSelected(o,!u),n.blur(),h!==!1||d!==!1){var p=h<s.filter(":selected").length,f=d<c.find("option:selected").length;if(h&&p||d&&f)if(h&&1==h)s.prop("selected",!1),l.prop("selected",!0),e.$menu.find(".selected").removeClass("selected"),e.setSelected(o,!0);else if(d&&1==d){c.find("option:selected").prop("selected",!1),l.prop("selected",!0);var m=n.data("optgroup");e.$menu.find(".selected").has('a[data-optgroup="'+m+'"]').removeClass("selected"),e.setSelected(o,!0)}else{var g="function"==typeof e.options.maxOptionsText?e.options.maxOptionsText(h,d):e.options.maxOptionsText,v=g[0].replace("{n}",h),y=g[1].replace("{n}",d),_=t('<div class="notify"></div>');g[2]&&(v=v.replace("{var}",g[2][h>1?0:1]),y=y.replace("{var}",g[2][d>1?0:1])),l.prop("selected",!1),e.$menu.append(_),h&&p&&(_.append(t("<div>"+v+"</div>")),e.$element.trigger("maxReached.bs.select")),d&&f&&(_.append(t("<div>"+y+"</div>")),e.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){e.setSelected(o,!1)},10),_.delay(750).fadeOut(300,function(){t(this).remove()})}}}else s.prop("selected",!1),l.prop("selected",!0),e.$menu.find(".selected").removeClass("selected"),e.setSelected(o,!0);e.multiple?e.options.liveSearch&&e.$searchbox.focus():e.$button.focus(),(r!=e.$element.val()&&e.multiple||a!=e.$element.prop("selectedIndex")&&!e.multiple)&&e.$element.change()}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(t){t.target==this&&(t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.focus():e.$button.focus())}),this.$menu.on("click","li.divider, li.dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.focus():e.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){e.$button.focus()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){e.options.liveSearch?e.$searchbox.focus():e.$button.focus(),i.preventDefault(),i.stopPropagation(),t(this).is(".bs-select-all")?e.selectAll():e.deselectAll(),e.$element.change()}),this.$element.change(function(){e.render(!1)})},liveSearchListener:function(){var e=this,o=t('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){e.$menu.find(".active").removeClass("active"),e.$searchbox.val()&&(e.$searchbox.val(""),e.$lis.not(".is-hidden").removeClass("hide"),o.parent().length&&o.remove()),e.multiple||e.$menu.find(".selected").addClass("active"),setTimeout(function(){e.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){e.$searchbox.val()?(e.options.searchAccentInsensitive?e.$lis.not(".is-hidden").removeClass("hide").find("a").not(":aicontains("+i(e.$searchbox.val())+")").parent().addClass("hide"):e.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains("+e.$searchbox.val()+")").parent().addClass("hide"),e.$menu.find("li").filter(":visible:not(.no-results)").length?o.parent().length&&o.remove():(o.parent().length&&o.remove(),o.html(e.options.noneResultsText+' "'+n(e.$searchbox.val())+'"').show(),e.$menu.find("li").last().after(o))):(e.$lis.not(".is-hidden").removeClass("hide"),o.parent().length&&o.remove()),e.$menu.find("li.active").removeClass("active"),e.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus(),t(this).focus()})},val:function(t){return"undefined"!=typeof t?(this.$element.val(t),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis(),this.$lis.not(".divider").not(".disabled").not(".selected").filter(":visible").find("a").click()},deselectAll:function(){this.findLis(),this.$lis.not(".divider").not(".disabled").filter(".selected").filter(":visible").find("a").click()},keydown:function(e){var n,o,r,a,s,l,u,c,h,d=t(this),p=d.is("input")?d.parent().parent():d.parent(),f=p.data("this"),m={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(f.options.liveSearch&&(p=d.parent().parent()),f.options.container&&(p=f.$menu),n=t("[role=menu] li a",p),h=f.$menu.parent().hasClass("open"),!h&&/([0-9]|[A-z])/.test(String.fromCharCode(e.keyCode))&&(f.options.container?f.$newElement.trigger("click"):(f.setSize(),f.$menu.parent().addClass("open"),h=!0),f.$searchbox.focus()),f.options.liveSearch&&(/(^9$|27)/.test(e.keyCode.toString(10))&&h&&0===f.$menu.find(".active").length&&(e.preventDefault(),f.$menu.parent().removeClass("open"),f.$button.focus()),n=t("[role=menu] li:not(.divider):not(.dropdown-header):visible",p),d.val()||/(38|40)/.test(e.keyCode.toString(10))||0===n.filter(".active").length&&(n=f.options.searchAccentInsensitive?f.$newElement.find("li").filter(":aicontains("+i(m[e.keyCode])+")"):f.$newElement.find("li").filter(":icontains("+m[e.keyCode]+")"))),n.length){if(/(38|40)/.test(e.keyCode.toString(10)))o=n.index(n.filter(":focus")),a=n.parent(":not(.disabled):visible").first().index(),s=n.parent(":not(.disabled):visible").last().index(),r=n.eq(o).parent().nextAll(":not(.disabled):visible").eq(0).index(),l=n.eq(o).parent().prevAll(":not(.disabled):visible").eq(0).index(),u=n.eq(r).parent().prevAll(":not(.disabled):visible").eq(0).index(),f.options.liveSearch&&(n.each(function(e){t(this).is(":not(.disabled)")&&t(this).data("index",e)}),o=n.index(n.filter(".active")),a=n.filter(":not(.disabled):visible").first().data("index"),s=n.filter(":not(.disabled):visible").last().data("index"),r=n.eq(o).nextAll(":not(.disabled):visible").eq(0).data("index"),l=n.eq(o).prevAll(":not(.disabled):visible").eq(0).data("index"),u=n.eq(r).prevAll(":not(.disabled):visible").eq(0).data("index")),c=d.data("prevIndex"),38==e.keyCode&&(f.options.liveSearch&&(o-=1),o!=u&&o>l&&(o=l),a>o&&(o=a),o==c&&(o=s)),40==e.keyCode&&(f.options.liveSearch&&(o+=1),-1==o&&(o=0),o!=u&&r>o&&(o=r),o>s&&(o=s),o==c&&(o=a)),d.data("prevIndex",o),f.options.liveSearch?(e.preventDefault(),d.is(".dropdown-toggle")||(n.removeClass("active"),n.eq(o).addClass("active").find("a").focus(),d.focus())):n.eq(o).focus();else if(!d.is("input")){var g,v,y=[];n.each(function(){t(this).parent().is(":not(.disabled)")&&t.trim(t(this).text().toLowerCase()).substring(0,1)==m[e.keyCode]&&y.push(t(this).parent().index())}),g=t(document).data("keycount"),g++,t(document).data("keycount",g),v=t.trim(t(":focus").text().toLowerCase()).substring(0,1),v!=m[e.keyCode]?(g=1,t(document).data("keycount",g)):g>=y.length&&(t(document).data("keycount",0),g>y.length&&(g=1)),n.eq(y[g-1]).focus()}(/(13|32)/.test(e.keyCode.toString(10))||/(^9$)/.test(e.keyCode.toString(10))&&f.options.selectOnTab)&&h&&(/(32)/.test(e.keyCode.toString(10))||e.preventDefault(),f.options.liveSearch?/(32)/.test(e.keyCode.toString(10))||(f.$menu.find(".active a").click(),d.focus()):t(":focus").click(),t(document).data("keycount",0)),(/(^9$|27)/.test(e.keyCode.toString(10))&&h&&(f.multiple||f.options.liveSearch)||/(27)/.test(e.keyCode.toString(10))&&!h)&&(f.$menu.parent().removeClass("open"),f.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},update:function(){this.reloadLi(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()}};var a=t.fn.selectpicker;t.fn.selectpicker=o,t.fn.selectpicker.Constructor=r,t.fn.selectpicker.noConflict=function(){return t.fn.selectpicker=a,this},t(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",r.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",function(t){t.stopPropagation()}),t(window).on("load.bs.select.data-api",function(){t(".selectpicker").each(function(){var e=t(this);o.call(e,e.data())})})}(jQuery),function(){var t=[].slice;!function(e,i){"use strict";var n;return n=function(){function t(t,i){null==i&&(i={}),this.$element=e(t),this.options=e.extend({},e.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},i),this.$wrapper=e("<div>",{"class":function(t){return function(){var e;return e=[""+t.options.baseClass].concat(t._getClasses(t.options.wrapperClass)),e.push(t.options.state?""+t.options.baseClass+"-on":""+t.options.baseClass+"-off"),null!=t.options.size&&e.push(""+t.options.baseClass+"-"+t.options.size),t.options.disabled&&e.push(""+t.options.baseClass+"-disabled"),t.options.readonly&&e.push(""+t.options.baseClass+"-readonly"),t.options.indeterminate&&e.push(""+t.options.baseClass+"-indeterminate"),t.options.inverse&&e.push(""+t.options.baseClass+"-inverse"),
t.$element.attr("id")&&e.push(""+t.options.baseClass+"-id-"+t.$element.attr("id")),e.join(" ")}}(this)()}),this.$container=e("<div>",{"class":""+this.options.baseClass+"-container"}),this.$on=e("<span>",{html:this.options.onText,"class":""+this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=e("<span>",{html:this.options.offText,"class":""+this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=e("<span>",{html:this.options.labelText,"class":""+this.options.baseClass+"-label"}),this.$element.on("init.bootstrapSwitch",function(e){return function(){return e.options.onInit.apply(t,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(e){return function(){return e.options.onSwitchChange.apply(t,arguments)}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._width(),this._containerPosition(this.options.state,function(t){return function(){return t.options.animate?t.$wrapper.addClass(""+t.options.baseClass+"-animate"):void 0}}(this)),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch")}return t.prototype._constructor=t,t.prototype.state=function(t,e){return"undefined"==typeof t?this.options.state:this.options.disabled||this.options.readonly?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.options.indeterminate?(this.indeterminate(!1),t=!0):t=!!t,this.$element.prop("checked",t).trigger("change.bootstrapSwitch",e),this.$element)},t.prototype.toggleState=function(t){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",t)},t.prototype.size=function(t){return"undefined"==typeof t?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(""+this.options.baseClass+"-"+this.options.size),t&&this.$wrapper.addClass(""+this.options.baseClass+"-"+t),this._width(),this.options.size=t,this.$element)},t.prototype.animate=function(t){return"undefined"==typeof t?this.options.animate:(t=!!t,this.options.animate=t,this.$wrapper[t?"addClass":"removeClass"](""+this.options.baseClass+"-animate"),this.$element)},t.prototype.toggleAnimate=function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(""+this.options.baseClass+"-animate"),this.$element},t.prototype.disabled=function(t){return"undefined"==typeof t?this.options.disabled:(t=!!t,this.options.disabled=t,this.$element.prop("disabled",t),this.$wrapper[t?"addClass":"removeClass"](""+this.options.baseClass+"-disabled"),this.$element)},t.prototype.toggleDisabled=function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(""+this.options.baseClass+"-disabled"),this.$element},t.prototype.readonly=function(t){return"undefined"==typeof t?this.options.readonly:(t=!!t,this.options.readonly=t,this.$element.prop("readonly",t),this.$wrapper[t?"addClass":"removeClass"](""+this.options.baseClass+"-readonly"),this.$element)},t.prototype.toggleReadonly=function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(""+this.options.baseClass+"-readonly"),this.$element},t.prototype.indeterminate=function(t){return"undefined"==typeof t?this.options.indeterminate:(t=!!t,this.options.indeterminate=t,this.$element.prop("indeterminate",t),this.$wrapper[t?"addClass":"removeClass"](""+this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element)},t.prototype.toggleIndeterminate=function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",!this.options.indeterminate),this.$wrapper.toggleClass(""+this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element},t.prototype.inverse=function(t){var e,i;return"undefined"==typeof t?this.options.inverse:(t=!!t,this.$wrapper[t?"addClass":"removeClass"](""+this.options.baseClass+"-inverse"),i=this.$on.clone(!0),e=this.$off.clone(!0),this.$on.replaceWith(e),this.$off.replaceWith(i),this.$on=e,this.$off=i,this.options.inverse=t,this.$element)},t.prototype.toggleInverse=function(){var t,e;return this.$wrapper.toggleClass(""+this.options.baseClass+"-inverse"),e=this.$on.clone(!0),t=this.$off.clone(!0),this.$on.replaceWith(t),this.$off.replaceWith(e),this.$on=t,this.$off=e,this.options.inverse=!this.options.inverse,this.$element},t.prototype.onColor=function(t){var e;return e=this.options.onColor,"undefined"==typeof t?e:(null!=e&&this.$on.removeClass(""+this.options.baseClass+"-"+e),this.$on.addClass(""+this.options.baseClass+"-"+t),this.options.onColor=t,this.$element)},t.prototype.offColor=function(t){var e;return e=this.options.offColor,"undefined"==typeof t?e:(null!=e&&this.$off.removeClass(""+this.options.baseClass+"-"+e),this.$off.addClass(""+this.options.baseClass+"-"+t),this.options.offColor=t,this.$element)},t.prototype.onText=function(t){return"undefined"==typeof t?this.options.onText:(this.$on.html(t),this._width(),this._containerPosition(),this.options.onText=t,this.$element)},t.prototype.offText=function(t){return"undefined"==typeof t?this.options.offText:(this.$off.html(t),this._width(),this._containerPosition(),this.options.offText=t,this.$element)},t.prototype.labelText=function(t){return"undefined"==typeof t?this.options.labelText:(this.$label.html(t),this._width(),this.options.labelText=t,this.$element)},t.prototype.handleWidth=function(t){return"undefined"==typeof t?this.options.handleWidth:(this.options.handleWidth=t,this._width(),this._containerPosition(),this.$element)},t.prototype.labelWidth=function(t){return"undefined"==typeof t?this.options.labelWidth:(this.options.labelWidth=t,this._width(),this._containerPosition(),this.$element)},t.prototype.baseClass=function(){return this.options.baseClass},t.prototype.wrapperClass=function(t){return"undefined"==typeof t?this.options.wrapperClass:(t||(t=e.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(t).join(" ")),this.options.wrapperClass=t,this.$element)},t.prototype.radioAllOff=function(t){return"undefined"==typeof t?this.options.radioAllOff:(this.options.radioAllOff=t,this.$element)},t.prototype.onInit=function(t){return"undefined"==typeof t?this.options.onInit:(t||(t=e.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=t,this.$element)},t.prototype.onSwitchChange=function(t){return"undefined"==typeof t?this.options.onSwitchChange:(t||(t=e.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=t,this.$element)},t.prototype.destroy=function(){var t;return t=this.$element.closest("form"),t.length&&t.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},t.prototype._width=function(){var t,e;return t=this.$on.add(this.$off),t.add(this.$label).css("width",""),e="auto"===this.options.handleWidth?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth,t.width(e),this.$label.width(function(t){return function(i,n){return"auto"!==t.options.labelWidth?t.options.labelWidth:e>n?e:n}}(this)),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)},t.prototype._containerPosition=function(t,i){return null==t&&(t=this.options.state),this.$container.css("margin-left",function(e){return function(){var i;return i=[0,"-"+e._handleWidth+"px"],e.options.indeterminate?"-"+e._handleWidth/2+"px":t?e.options.inverse?i[1]:i[0]:e.options.inverse?i[0]:i[1]}}(this)),i?e.support.transition?this.$container.one("bsTransitionEnd",i).emulateTransitionEnd(500):i():void 0},t.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(t){return function(i,n){var o;return i.preventDefault(),i.stopImmediatePropagation(),o=t.$element.is(":checked"),t._containerPosition(o),o!==t.options.state?(t.options.state=o,t.$wrapper.toggleClass(""+t.options.baseClass+"-off").toggleClass(""+t.options.baseClass+"-on"),n?void 0:(t.$element.is(":radio")&&e("[name='"+t.$element.attr("name")+"']").not(t.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),t.$element.trigger("switchChange.bootstrapSwitch",[o]))):void 0}}(this),"focus.bootstrapSwitch":function(t){return function(e){return e.preventDefault(),t.$wrapper.addClass(""+t.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(t){return function(e){return e.preventDefault(),t.$wrapper.removeClass(""+t.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(t){return function(e){if(e.which&&!t.options.disabled&&!t.options.readonly)switch(e.which){case 37:return e.preventDefault(),e.stopImmediatePropagation(),t.state(!1);case 39:return e.preventDefault(),e.stopImmediatePropagation(),t.state(!0)}}}(this)})},t.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(t){return function(){return t.state(!1),t.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(t){return function(){return t.state(!0),t.$element.trigger("focus.bootstrapSwitch")}}(this))},t.prototype._labelHandlers=function(){return this.$label.on({"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(t){return function(e){return t._dragStart||t.options.disabled||t.options.readonly?void 0:(e.preventDefault(),t._dragStart=(e.pageX||e.originalEvent.touches[0].pageX)-parseInt(t.$container.css("margin-left"),10),t.options.animate&&t.$wrapper.removeClass(""+t.options.baseClass+"-animate"),t.$element.trigger("focus.bootstrapSwitch"))}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(t){return function(e){var i;return null==t._dragStart||(e.preventDefault(),i=(e.pageX||e.originalEvent.touches[0].pageX)-t._dragStart,i<-t._handleWidth||i>0)?void 0:(t._dragEnd=i,t.$container.css("margin-left",""+t._dragEnd+"px"))}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(t){return function(e){var i;return t._dragStart?(e.preventDefault(),t.options.animate&&t.$wrapper.addClass(""+t.options.baseClass+"-animate"),t._dragEnd?(i=t._dragEnd>-(t._handleWidth/2),t._dragEnd=!1,t.state(t.options.inverse?!i:i)):t.state(!t.options.state),t._dragStart=!1):void 0}}(this),"mouseleave.bootstrapSwitch":function(t){return function(){return t.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},t.prototype._externalLabelHandler=function(){var t;return t=this.$element.closest("label"),t.on("click",function(e){return function(i){return i.preventDefault(),i.stopImmediatePropagation(),i.target===t[0]?e.toggleState():void 0}}(this))},t.prototype._formHandler=function(){var t;return t=this.$element.closest("form"),t.data("bootstrap-switch")?void 0:t.on("reset.bootstrapSwitch",function(){return i.setTimeout(function(){return t.find("input").filter(function(){return e(this).data("bootstrap-switch")}).each(function(){return e(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},t.prototype._getClasses=function(t){var i,n,o,r;if(!e.isArray(t))return[""+this.options.baseClass+"-"+t];for(n=[],o=0,r=t.length;r>o;o++)i=t[o],n.push(""+this.options.baseClass+"-"+i);return n},t}(),e.fn.bootstrapSwitch=function(){var i,o,r;return o=arguments[0],i=2<=arguments.length?t.call(arguments,1):[],r=this,this.each(function(){var t,a;return t=e(this),a=t.data("bootstrap-switch"),a||t.data("bootstrap-switch",a=new n(this,o)),"string"==typeof o?r=a[o].apply(a,i):void 0}),r},e.fn.bootstrapSwitch.Constructor=n,e.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}(window.jQuery,window)}.call(this),!function(t,e,i){"use strict";function n(t){return"string"==typeof t&&-1!=t.indexOf("%")}function o(){return"undefined"!=typeof i.performance&&i.performance.now?i.performance.now():Date.now()}Date.now||(Date.now=function(){return(new Date).getTime()});for(var r=["webkit","moz"],a=0;a<r.length&&!i.requestAnimationFrame;++a){var s=r[a];i.requestAnimationFrame=i[s+"RequestAnimationFrame"],i.cancelAnimationFrame=i[s+"CancelAnimationFrame"]||i[s+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS (6|7)/.test(i.navigator.userAgent)||!i.requestAnimationFrame||!i.cancelAnimationFrame){var l=0;i.requestAnimationFrame=function(t){var e=Date.now(),i=Math.max(l+16,e);return setTimeout(function(){t(l=i)},i-e)},i.cancelAnimationFrame=clearTimeout}var u=function(i,n){var o=e.createElementNS("http://www.w3.org/2000/svg",i);return t.each(n,function(t,e){o.setAttribute(t,e)}),o},c="createElementNS"in e&&new u("svg",{}).createSVGRect,h="asPieProgress",d=t[h]=function(e,i){this.element=e,this.$element=t(e),this.options=t.extend({},d.defaults,i,this.$element.data()),this.namespace=this.options.namespace,this.classes={number:this.namespace+"__number",content:this.namespace+"__content"},this.$element.addClass(this.namespace),this.min=this.$element.attr("aria-valuemin"),this.max=this.$element.attr("aria-valuemax"),this.min=this.min?parseInt(this.min,10):this.options.min,this.max=this.max?parseInt(this.max,10):this.options.max,this.first=this.$element.attr("aria-valuenow"),this.first=this.first?parseInt(this.first,10):this.min,this.now=this.first,this.goal=this.options.goal,this._frameId=null,this.initialized=!1,this._trigger("init"),this.init()};d.defaults={namespace:"asPieProgress",min:0,max:100,goal:100,size:160,speed:15,barcolor:"#ef1e25",barsize:"4",trackcolor:"#f2f2f2",fillcolor:"none",numberCallback:function(t){var e=this.getPercentage(t);return e+"%"},contentCallback:null},d.prototype={constructor:d,init:function(){this.$number=this.$element.find("."+this.classes.number),this.$content=this.$element.find("."+this.classes.content),this.size=this.options.size,this.width=this.size,this.height=this.size,this.prepare(),this.initialized=!0,this._trigger("ready")},prepare:function(){c&&(this.svg=new u("svg",{width:this.width,height:this.height}),this.buildTrack(),this.buildBar(),this.$element.append(this.svg))},buildTrack:function(){var t=this.size,e=this.size,i=t/2,n=e/2,o=this.options.barsize,r=new u("ellipse",{rx:i-o/2,ry:n-o/2,cx:i,cy:n,stroke:this.options.trackcolor,fill:this.options.fillcolor,"stroke-width":o});this.svg.appendChild(r)},buildBar:function(){if(c){var t=new u("path",{fill:"none","stroke-width":this.options.barsize,stroke:this.options.barcolor});this.bar=t,this.svg.appendChild(t),this._drawBar(this.goal),this._updateBar()}},_drawBar:function(t){if(c){this.bar_goal=t;var e=this.size,i=this.size,n=e/2,o=i/2,r=0,a=this.options.barsize,s=Math.min(n,o)-a/2;this.r=s;var l=this.getPercentage(t);100===l&&(l-=1e-4);var u=r+l*Math.PI*2/100,h=n+s*Math.sin(r),d=o-s*Math.cos(r),p=n+s*Math.sin(u),f=o-s*Math.cos(u),m=0;u-r>Math.PI&&(m=1);var g="M"+h+","+d+" A"+s+","+s+" 0 "+m+" 1 "+p+","+f;this.bar.setAttribute("d",g)}},_updateBar:function(){if(c){var t=this.getPercentage(this.now),e=this.bar.getTotalLength(),i=e*(1-t/this.getPercentage(this.bar_goal));this.bar.style.strokeDasharray=e+" "+e,this.bar.style.strokeDashoffset=i}},_trigger:function(t){var e=Array.prototype.slice.call(arguments,1),i=[this].concat(e);this.$element.trigger(h+"::"+t,i),t=t.replace(/\b\w+\b/g,function(t){return t.substring(0,1).toUpperCase()+t.substring(1)});var n="on"+t;"function"==typeof this.options[n]&&this.options[n].apply(this,e)},getPercentage:function(t){return Math.round(100*(t-this.min)/(this.max-this.min))},go:function(t){var e=this;this._clear(),n(t)&&(t=parseInt(t.replace("%",""),10),t=Math.round(this.min+t/100*(this.max-this.min))),"undefined"==typeof t&&(t=this.goal),t>this.max?t=this.max:t<this.min&&(t=this.min),this.bar_goal<t&&this._drawBar(t);var r=e.now,a=o(),s=function(n){var o=(n-a)/e.options.speed,l=Math.round(o/100*(e.max-e.min));t>r?(l=r+l,l>t&&(l=t)):(l=r-l,t>l&&(l=t)),e._update(l),l===t?(i.cancelAnimationFrame(e._frameId),e._frameId=null,e.now===e.goal&&e._trigger("finish")):e._frameId=i.requestAnimationFrame(s)};e._frameId=i.requestAnimationFrame(s)},_update:function(t){this.now=t,this._updateBar(),this.$element.attr("aria-valuenow",this.now),this.$number.length>0&&"function"==typeof this.options.numberCallback&&this.$number.html(this.options.numberCallback.call(this,[this.now])),this.$content.length>0&&"function"==typeof this.options.contentCallback&&this.$content.html(this.options.contentCallback.call(this,[this.now])),this._trigger("update",t)},_clear:function(){this._frameId&&(i.cancelAnimationFrame(this._frameId),this._frameId=null)},get:function(){return this.now},start:function(){this._clear(),this._trigger("start"),this.go(this.goal)},reset:function(){this._clear(),this._drawBar(this.goal),this._update(this.first),this._trigger("reset")},stop:function(){this._clear(),this._trigger("stop")},finish:function(){this._clear(),this._update(this.goal),this._trigger("finish")},destory:function(){this.$element.data(h,null),this._trigger("destory")}},t.fn[h]=function(e){if("string"!=typeof e)return this.each(function(){t.data(this,h)||t.data(this,h,new d(this,e))});var i=e,n=Array.prototype.slice.call(arguments,1);if(/^\_/.test(i))return!1;if(!/^(get)$/.test(i))return this.each(function(){var e=t.data(this,h);e&&"function"==typeof e[i]&&e[i].apply(e,n)});var o=this.first().data(h);return o&&"function"==typeof o[i]?o[i].apply(o,n):void 0}}(jQuery,document,window),function(t){t.fn.confirm=function(e){return"undefined"==typeof e&&(e={}),this.click(function(i){i.preventDefault();var n=t.extend({button:t(this)},e);t.confirm(n,i)}),this},t.confirm=function(e,i){if(!(t(".confirmation-modal").length>0)){var n={};if(e.button){var o={title:"title",text:"text","confirm-button":"confirmButton","cancel-button":"cancelButton","confirm-button-class":"confirmButtonClass"};t.each(o,function(t,i){var o=e.button.data(t);o&&(n[i]=o)})}var r=t.extend({},t.confirm.options,{confirm:function(){var n=i&&("string"==typeof i&&i||i.currentTarget&&i.currentTarget.attributes.href.value);if(n)if(e.post){var o=t('<form method="post" class="hide" action="'+n+'"></form>');t("body").append(o),o.submit()}else window.location=n},cancel:function(){},button:null},n,e),a="";""!==r.title&&(a='<div class=modal-header><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">'+r.title+"</h4></div>");var s='<div class="confirmation-modal modal fade" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content">'+a+'<div class="modal-body">'+r.text+'</div><div class="modal-footer"><button class="confirm btn '+r.confirmButtonClass+'" type="button" data-dismiss="modal">'+r.confirmButton+'</button><button class="cancel btn btn-default" type="button" data-dismiss="modal">'+r.cancelButton+"</div></div></div></div></div>",l=t(s);l.on("shown.bs.modal",function(){l.find(".btn-primary:first").focus()}),l.on("hidden.bs.modal",function(){l.remove()}),l.find(".confirm").click(function(){r.confirm(r.button)}),l.find(".cancel").click(function(){r.cancel(r.button)}),t("body").append(l),l.modal("show")}},t.confirm.options={text:"Are you sure?",title:"",confirmButton:"Yes",cancelButton:"Cancel",post:!1,confirmButtonClass:"btn-primary"}}(jQuery),function(t,e){function i(t,e,i){var n=t.children(),o=!1;t.empty();for(var a=0,s=n.length;s>a;a++){var l=n.eq(a);if(t.append(l),i&&t.append(i),r(t,e)){l.remove(),o=!0;break}i&&i.detach()}return o}function n(e,i,a,s,l){var u=!1,c="a table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",h="script, .dotdotdot-keep";return e.contents().detach().each(function(){var d=this,p=t(d);if("undefined"==typeof d||3==d.nodeType&&0==t.trim(d.data).length)return!0;if(p.is(h))e.append(p);else{if(u)return!0;e.append(p),!l||p.is(s.after)||p.find(s.after).length||e[e.is(c)?"after":"append"](l),r(a,s)&&(u=3==d.nodeType?o(p,i,a,s,l):n(p,i,a,s,l),u||(p.detach(),u=!0)),u||l&&l.detach()}}),u}function o(e,i,n,o,s){var c=e[0];if(!c)return!1;var d=u(c),p=-1!==d.indexOf(" ")?" ":"\u3000",f="letter"==o.wrap?"":p,m=d.split(f),g=-1,v=-1,y=0,_=m.length-1;for(o.fallbackToLetter&&0==y&&0==_&&(f="",m=d.split(f),_=m.length-1);_>=y&&(0!=y||0!=_);){var b=Math.floor((y+_)/2);if(b==v)break;v=b,l(c,m.slice(0,v+1).join(f)+o.ellipsis),r(n,o)?(_=v,o.fallbackToLetter&&0==y&&0==_&&(f="",m=m[0].split(f),g=-1,v=-1,y=0,_=m.length-1)):(g=v,y=v)}if(-1==g||1==m.length&&0==m[0].length){var x=e.parent();e.detach();var w=s&&s.closest(x).length?s.length:0;x.contents().length>w?c=h(x.contents().eq(-1-w),i):(c=h(x,i,!0),w||x.detach()),c&&(d=a(u(c),o),l(c,d),w&&s&&t(c).parent().append(s))}else d=a(m.slice(0,g+1).join(f),o),l(c,d);return!0}function r(t,e){return t.innerHeight()>e.maxHeight}function a(e,i){for(;t.inArray(e.slice(-1),i.lastCharacter.remove)>-1;)e=e.slice(0,-1);return t.inArray(e.slice(-1),i.lastCharacter.noEllipsis)<0&&(e+=i.ellipsis),e}function s(t){return{width:t.innerWidth(),height:t.innerHeight()}}function l(t,e){t.innerText?t.innerText=e:t.nodeValue?t.nodeValue=e:t.textContent&&(t.textContent=e)}function u(t){return t.innerText?t.innerText:t.nodeValue?t.nodeValue:t.textContent?t.textContent:""}function c(t){do t=t.previousSibling;while(t&&1!==t.nodeType&&3!==t.nodeType);return t}function h(e,i,n){var o,r=e&&e[0];if(r){if(!n){if(3===r.nodeType)return r;if(t.trim(e.text()))return h(e.contents().last(),i)}for(o=c(r);!o;){if(e=e.parent(),e.is(i)||!e.length)return!1;o=c(e[0])}if(o)return h(t(o),i)}return!1}function d(e,i){return e?"string"==typeof e?(e=t(e,i),e.length?e:!1):e.jquery?e:!1:!1}function p(t){for(var e=t.innerHeight(),i=["paddingTop","paddingBottom"],n=0,o=i.length;o>n;n++){var r=parseInt(t.css(i[n]),10);isNaN(r)&&(r=0),e-=r}return e}if(!t.fn.dotdotdot){t.fn.dotdotdot=function(e){if(0==this.length)return t.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){t(this).dotdotdot(e)});var o=this;o.data("dotdotdot")&&o.trigger("destroy.dot"),o.data("dotdotdot-style",o.attr("style")||""),o.css("word-wrap","break-word"),"nowrap"===o.css("white-space")&&o.css("white-space","normal"),o.bind_events=function(){return o.bind("update.dot",function(e,s){e.preventDefault(),e.stopPropagation(),l.maxHeight="number"==typeof l.height?l.height:p(o),l.maxHeight+=l.tolerance,"undefined"!=typeof s&&(("string"==typeof s||s instanceof HTMLElement)&&(s=t("<div />").append(s).contents()),s instanceof t&&(a=s)),m=o.wrapInner('<div class="dotdotdot" />').children(),m.contents().detach().end().append(a.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var c=!1,h=!1;return u.afterElement&&(c=u.afterElement.clone(!0),c.show(),u.afterElement.detach()),r(m,l)&&(h="children"==l.wrap?i(m,l,c):n(m,o,m,l,c)),m.replaceWith(m.contents()),m=null,t.isFunction(l.callback)&&l.callback.call(o[0],h,a),u.isTruncated=h,h}).bind("isTruncated.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(o[0],u.isTruncated),u.isTruncated}).bind("originalContent.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(o[0],a),a}).bind("destroy.dot",function(t){t.preventDefault(),t.stopPropagation(),o.unwatch().unbind_events().contents().detach().end().append(a).attr("style",o.data("dotdotdot-style")||"").data("dotdotdot",!1)}),o},o.unbind_events=function(){return o.unbind(".dot"),o},o.watch=function(){if(o.unwatch(),"window"==l.watch){var e=t(window),i=e.width(),n=e.height();e.bind("resize.dot"+u.dotId,function(){i==e.width()&&n==e.height()&&l.windowResizeFix||(i=e.width(),n=e.height(),h&&clearInterval(h),h=setTimeout(function(){o.trigger("update.dot")},100))})}else c=s(o),h=setInterval(function(){if(o.is(":visible")){var t=s(o);c.width==t.width&&c.height==t.height||(o.trigger("update.dot"),c=t)}},500);return o},o.unwatch=function(){return t(window).unbind("resize.dot"+u.dotId),h&&clearInterval(h),o};var a=o.contents(),l=t.extend(!0,{},t.fn.dotdotdot.defaults,e),u={},c={},h=null,m=null;return l.lastCharacter.remove instanceof Array||(l.lastCharacter.remove=t.fn.dotdotdot.defaultArrays.lastCharacter.remove),l.lastCharacter.noEllipsis instanceof Array||(l.lastCharacter.noEllipsis=t.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),u.afterElement=d(l.after,o),u.isTruncated=!1,u.dotId=f++,o.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&o.watch(),o},t.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},t.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","\u3000",",",";",".","!","?"],noEllipsis:[]}},t.fn.dotdotdot.debug=function(){};var f=1,m=t.fn.html;t.fn.html=function(i){return i!=e&&!t.isFunction(i)&&this.data("dotdotdot")?this.trigger("update",[i]):m.apply(this,arguments)};var g=t.fn.text;t.fn.text=function(i){return i!=e&&!t.isFunction(i)&&this.data("dotdotdot")?(i=t("<div />").text(i).html(),this.trigger("update",[i])):g.apply(this,arguments)}}}(jQuery),function(t){"use strict";var e={init:function(i){return this.each(function(){this.self=t(this),e.destroy.call(this.self),this.opt=t.extend(!0,{},t.fn.raty.defaults,i),e._adjustCallback.call(this),e._adjustNumber.call(this),e._adjustHints.call(this),this.opt.score=e._adjustedScore.call(this,this.opt.score),"img"!==this.opt.starType&&e._adjustStarType.call(this),e._adjustPath.call(this),e._createStars.call(this),this.opt.cancel&&e._createCancel.call(this),this.opt.precision&&e._adjustPrecision.call(this),e._createScore.call(this),e._apply.call(this,this.opt.score),e._setTitle.call(this,this.opt.score),e._target.call(this,this.opt.score),this.opt.readOnly?e._lock.call(this):(this.style.cursor="pointer",e._binds.call(this))})},_adjustCallback:function(){for(var t=["number","readOnly","score","scoreName","target","path"],e=0;e<t.length;e++)"function"==typeof this.opt[t[e]]&&(this.opt[t[e]]=this.opt[t[e]].call(this))},_adjustedScore:function(t){return t?e._between(t,0,this.opt.number):t},_adjustHints:function(){if(this.opt.hints||(this.opt.hints=[]),this.opt.halfShow||this.opt.half)for(var t=this.opt.precision?10:2,e=0;e<this.opt.number;e++){var i=this.opt.hints[e];"[object Array]"!==Object.prototype.toString.call(i)&&(i=[i]),this.opt.hints[e]=[];for(var n=0;t>n;n++){var o=i[n],r=i[i.length-1];void 0===r&&(r=null),this.opt.hints[e][n]=void 0===o?r:o}}},_adjustNumber:function(){this.opt.number=e._between(this.opt.number,1,this.opt.numberMax)},_adjustPath:function(){this.opt.path=this.opt.path||"",this.opt.path&&"/"!==this.opt.path.charAt(this.opt.path.length-1)&&(this.opt.path+="/")},_adjustPrecision:function(){this.opt.half=!0},_adjustStarType:function(){var t=["cancelOff","cancelOn","starHalf","starOff","starOn"];this.opt.path="";for(var e=0;e<t.length;e++)this.opt[t[e]]=this.opt[t[e]].replace(".","-")},_apply:function(t){e._fill.call(this,t),t&&(t>0&&this.score.val(t),e._roundStars.call(this,t))},_between:function(t,e,i){return Math.min(Math.max(parseFloat(t),e),i)},_binds:function(){this.cancel&&(e._bindOverCancel.call(this),e._bindClickCancel.call(this),e._bindOutCancel.call(this)),e._bindOver.call(this),e._bindClick.call(this),e._bindOut.call(this)},_bindClick:function(){var i=this;i.stars.on("click.raty",function(n){var o=!0,r=i.opt.half||i.opt.precision?i.self.data("score"):this.alt||t(this).data("alt");i.opt.click&&(o=i.opt.click.call(i,+r,n)),(o||void 0===o)&&(i.opt.half&&!i.opt.precision&&(r=e._roundHalfScore.call(i,r)),e._apply.call(i,r))})},_bindClickCancel:function(){var t=this;t.cancel.on("click.raty",function(e){t.score.removeAttr("value"),t.opt.click&&t.opt.click.call(t,null,e)})},_bindOut:function(){var t=this;t.self.on("mouseleave.raty",function(i){var n=+t.score.val()||void 0;e._apply.call(t,n),e._target.call(t,n,i),e._resetTitle.call(t),t.opt.mouseout&&t.opt.mouseout.call(t,n,i)})},_bindOutCancel:function(){var t=this;t.cancel.on("mouseleave.raty",function(i){var n=t.opt.cancelOff;if("img"!==t.opt.starType&&(n=t.opt.cancelClass+" "+n),e._setIcon.call(t,this,n),t.opt.mouseout){var o=+t.score.val()||void 0;t.opt.mouseout.call(t,o,i)}})},_bindOver:function(){var t=this,i=t.opt.half?"mousemove.raty":"mouseover.raty";t.stars.on(i,function(i){var n=e._getScoreByPosition.call(t,i,this);e._fill.call(t,n),t.opt.half&&(e._roundStars.call(t,n,i),e._setTitle.call(t,n,i),t.self.data("score",n)),e._target.call(t,n,i),t.opt.mouseover&&t.opt.mouseover.call(t,n,i)})},_bindOverCancel:function(){var t=this;t.cancel.on("mouseover.raty",function(i){var n=t.opt.path+t.opt.starOff,o=t.opt.cancelOn;"img"===t.opt.starType?t.stars.attr("src",n):(o=t.opt.cancelClass+" "+o,t.stars.attr("class",n)),e._setIcon.call(t,this,o),e._target.call(t,null,i),t.opt.mouseover&&t.opt.mouseover.call(t,null)})},_buildScoreField:function(){return t("<input />",{name:this.opt.scoreName,type:"hidden"}).appendTo(this)},_createCancel:function(){var e=this.opt.path+this.opt.cancelOff,i=t("<"+this.opt.starType+" />",{title:this.opt.cancelHint,"class":this.opt.cancelClass});"img"===this.opt.starType?i.attr({src:e,alt:"x"}):i.attr("data-alt","x").addClass(e),"left"===this.opt.cancelPlace?this.self.prepend("&#160;").prepend(i):this.self.append("&#160;").append(i),this.cancel=i},_createScore:function(){var i=t(this.opt.targetScore);this.score=i.length?i:e._buildScoreField.call(this)},_createStars:function(){for(var i=1;i<=this.opt.number;i++){var n=e._nameForIndex.call(this,i),o={alt:i,src:this.opt.path+this.opt[n]};"img"!==this.opt.starType&&(o={"data-alt":i,"class":o.src}),o.title=e._getHint.call(this,i),t("<"+this.opt.starType+" />",o).appendTo(this),this.opt.space&&this.self.append(i<this.opt.number?"&#160;":"")}this.stars=this.self.children(this.opt.starType)},_error:function(e){t(this).text(e),t.error(e)},_fill:function(t){for(var i=0,n=1;n<=this.stars.length;n++){var o,r=this.stars[n-1],a=e._turnOn.call(this,n,t);if(this.opt.iconRange&&this.opt.iconRange.length>i){var s=this.opt.iconRange[i];o=e._getRangeIcon.call(this,s,a),n<=s.range&&e._setIcon.call(this,r,o),n===s.range&&i++}else o=this.opt[a?"starOn":"starOff"],e._setIcon.call(this,r,o)}},_getFirstDecimal:function(t){var e=t.toString().split(".")[1],i=0;return e&&(i=parseInt(e.charAt(0),10),"9999"===e.slice(1,5)&&i++),i},_getRangeIcon:function(t,e){return e?t.on||this.opt.starOn:t.off||this.opt.starOff},_getScoreByPosition:function(i,n){var o=parseInt(n.alt||n.getAttribute("data-alt"),10);if(this.opt.half){var r=e._getWidth.call(this),a=parseFloat((i.pageX-t(n).offset().left)/r);o=o-1+a}return o},_getHint:function(t,i){if(0!==t&&!t)return this.opt.noRatedMsg;var n=e._getFirstDecimal.call(this,t),o=Math.ceil(t),r=this.opt.hints[(o||1)-1],a=r,s=!i||this.move;return this.opt.precision?(s&&(n=0===n?9:n-1),a=r[n]):(this.opt.halfShow||this.opt.half)&&(n=s&&0===n?1:n>5?1:0,a=r[n]),""===a?"":a||t},_getWidth:function(){var t=this.stars[0].width||parseFloat(this.stars.eq(0).css("font-size"));return t||e._error.call(this,"Could not get the icon width!"),t},_lock:function(){var t=e._getHint.call(this,this.score.val());this.style.cursor="",this.title=t,this.score.prop("readonly",!0),this.stars.prop("title",t),this.cancel&&this.cancel.hide(),this.self.data("readonly",!0)},_nameForIndex:function(t){return this.opt.score&&this.opt.score>=t?"starOn":"starOff"},_resetTitle:function(){for(var t=0;t<this.opt.number;t++)this.stars[t].title=e._getHint.call(this,t+1)},_roundHalfScore:function(t){var i=parseInt(t,10),n=e._getFirstDecimal.call(this,t);return 0!==n&&(n=n>5?1:.5),i+n},_roundStars:function(t,i){var n,o=(t%1).toFixed(2);if(i||this.move?n=o>.5?"starOn":"starHalf":o>this.opt.round.down&&(n="starOn",this.opt.halfShow&&o<this.opt.round.up?n="starHalf":o<this.opt.round.full&&(n="starOff")),
n){var r=this.opt[n],a=this.stars[Math.ceil(t)-1];e._setIcon.call(this,a,r)}},_setIcon:function(t,e){t["img"===this.opt.starType?"src":"className"]=this.opt.path+e},_setTarget:function(t,e){e&&(e=this.opt.targetFormat.toString().replace("{score}",e)),t.is(":input")?t.val(e):t.html(e)},_setTitle:function(t,i){if(t){var n=parseInt(Math.ceil(t),10),o=this.stars[n-1];o.title=e._getHint.call(this,t,i)}},_target:function(i,n){if(this.opt.target){var o=t(this.opt.target);o.length||e._error.call(this,"Target selector invalid or missing!");var r=n&&"mouseover"===n.type;if(void 0===i)i=this.opt.targetText;else if(null===i)i=r?this.opt.cancelHint:this.opt.targetText;else{"hint"===this.opt.targetType?i=e._getHint.call(this,i,n):this.opt.precision&&(i=parseFloat(i).toFixed(1));var a=n&&"mousemove"===n.type;r||a||this.opt.targetKeep||(i=this.opt.targetText)}e._setTarget.call(this,o,i)}},_turnOn:function(t,e){return this.opt.single?t===e:e>=t},_unlock:function(){this.style.cursor="pointer",this.removeAttribute("title"),this.score.removeAttr("readonly"),this.self.data("readonly",!1);for(var t=0;t<this.opt.number;t++)this.stars[t].title=e._getHint.call(this,t+1);this.cancel&&this.cancel.css("display","")},cancel:function(i){return this.each(function(){var n=t(this);n.data("readonly")!==!0&&(e[i?"click":"score"].call(n,null),this.score.removeAttr("value"))})},click:function(i){return this.each(function(){t(this).data("readonly")!==!0&&(i=e._adjustedScore.call(this,i),e._apply.call(this,i),this.opt.click&&this.opt.click.call(this,i,t.Event("click")),e._target.call(this,i))})},destroy:function(){return this.each(function(){var e=t(this),i=e.data("raw");i?e.off(".raty").empty().css({cursor:i.style.cursor}).removeData("readonly"):e.data("raw",e.clone()[0])})},getScore:function(){var t,e=[];return this.each(function(){t=this.score.val(),e.push(t?+t:void 0)}),e.length>1?e:e[0]},move:function(i){return this.each(function(){var n=parseInt(i,10),o=e._getFirstDecimal.call(this,i);n>=this.opt.number&&(n=this.opt.number-1,o=10);var r=e._getWidth.call(this),a=r/10,s=t(this.stars[n]),l=s.offset().left+a*o,u=t.Event("mousemove",{pageX:l});this.move=!0,s.trigger(u),this.move=!1})},readOnly:function(i){return this.each(function(){var n=t(this);n.data("readonly")!==i&&(i?(n.off(".raty").children("img").off(".raty"),e._lock.call(this)):(e._binds.call(this),e._unlock.call(this)),n.data("readonly",i))})},reload:function(){return e.set.call(this,{})},score:function(){var i=t(this);return arguments.length?e.setScore.apply(i,arguments):e.getScore.call(i)},set:function(e){return this.each(function(){t(this).raty(t.extend({},this.opt,e))})},setScore:function(i){return this.each(function(){t(this).data("readonly")!==!0&&(i=e._adjustedScore.call(this,i),e._apply.call(this,i),e._target.call(this,i))})}};t.fn.raty=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist!"):e.init.apply(this,arguments)},t.fn.raty.defaults={cancel:!1,cancelClass:"raty-cancel",cancelHint:"Cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:5,numberMax:20,path:void 0,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,space:!0,starHalf:"star-half.png",starOff:"star-off.png",starOn:"star-on.png",starType:"img",target:void 0,targetFormat:"{score}",targetKeep:!1,targetScore:void 0,targetText:"",targetType:"hint"}}(jQuery),$.fn.scrollTo=function(t,e,i){"function"==typeof e&&2==arguments.length&&(i=e,e=t);var n=$.extend({scrollTarget:t,offsetTop:50,duration:500,easing:"swing"},e);return this.each(function(){var t=$(this),e="number"==typeof n.scrollTarget?n.scrollTarget:$(n.scrollTarget),o="number"==typeof e?e:e.offset().top+t.scrollTop()-parseInt(n.offsetTop);t.animate({scrollTop:o},parseInt(n.duration),n.easing,function(){"function"==typeof i&&i.call(this)})})},!function(t){function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function o(e,i){t.fn[e]=function(o){if("string"==typeof o){for(var a=n.call(arguments,1),s=0,l=this.length;l>s;s++){var u=this[s],c=t.data(u,e);if(c)if(t.isFunction(c[o])&&"_"!==o.charAt(0)){var h=c[o].apply(c,a);if(void 0!==h)return h}else r("no such method '"+o+"' for "+e+" instance");else r("cannot call methods on "+e+" prior to initialization; attempted to call '"+o+"'")}return this}return this.each(function(){var n=t.data(this,e);n?(n.option(o),n._init()):(n=new i(this,o),t.data(this,e,n))})}}if(t){var r="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){i(e),o(t,e)},t.bridget}}var n=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i("object"==typeof exports?require("jquery"):t.jQuery)}(window),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent("on"+i,t[i+n])});var o=function(){};i.removeEventListener?o=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(o=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var r={bind:n,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:t.eventie=r}(this),function(t){function e(t){"function"==typeof t&&(e.isReady?t():a.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==r.readyState;e.isReady||i||n()}function n(){e.isReady=!0;for(var t=0,i=a.length;i>t;t++){var n=a[t];n()}}function o(o){return"complete"===r.readyState?n():(o.bind(r,"DOMContentLoaded",i),o.bind(r,"readystatechange",i),o.bind(t,"load",i)),e}var r=t.document,a=[];e.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],o):"object"==typeof exports?module.exports=o(require("eventie")):t.docReady=o(t.eventie)}(window),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,o=this,r=o.EventEmitter;n.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},n.addListener=function(t,i){var n,o=this.getListenersAsObject(t),r="object"==typeof i;for(n in o)o.hasOwnProperty(n)&&-1===e(o[n],i)&&o[n].push(r?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,i){var n,o,r=this.getListenersAsObject(t);for(o in r)r.hasOwnProperty(o)&&(n=e(r[o],i),-1!==n&&r[o].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,o,r=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)r.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(o=e[n])&&("function"==typeof o?r.call(this,n,o):a.call(this,n,o));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var i,n,o,r,a=this.getListenersAsObject(t);for(o in a)if(a.hasOwnProperty(o))for(n=a[o].length;n--;)i=a[o][n],i.once===!0&&this.removeListener(t,i.listener),r=i.listener.apply(this,e||[]),r===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return o.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:o.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof n[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,o=0,r=i.length;r>o;o++)if(e=i[o]+t,"string"==typeof n[e])return e}}var i="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t),i=-1===t.indexOf("%")&&!isNaN(e);return i&&e}function i(){}function n(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=a.length;i>e;e++){var n=a[e];t[n]=0}return t}function o(i){function o(){if(!d){d=!0;var n=t.getComputedStyle;if(u=function(){var t=n?function(t){return n(t,null)}:function(t){return t.currentStyle};return function(e){var i=t(e);return i||r("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),i}}(),c=i("boxSizing")){var o=document.createElement("div");o.style.width="200px",o.style.padding="1px 2px 3px 4px",o.style.borderStyle="solid",o.style.borderWidth="1px 2px 3px 4px",o.style[c]="border-box";var a=document.body||document.documentElement;a.appendChild(o);var s=u(o);h=200===e(s.width),a.removeChild(o)}}}function s(t){if(o(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var i=u(t);if("none"===i.display)return n();var r={};r.width=t.offsetWidth,r.height=t.offsetHeight;for(var s=r.isBorderBox=!(!c||!i[c]||"border-box"!==i[c]),d=0,p=a.length;p>d;d++){var f=a[d],m=i[f];m=l(t,m);var g=parseFloat(m);r[f]=isNaN(g)?0:g}var v=r.paddingLeft+r.paddingRight,y=r.paddingTop+r.paddingBottom,_=r.marginLeft+r.marginRight,b=r.marginTop+r.marginBottom,x=r.borderLeftWidth+r.borderRightWidth,w=r.borderTopWidth+r.borderBottomWidth,k=s&&h,C=e(i.width);C!==!1&&(r.width=C+(k?0:v+x));var S=e(i.height);return S!==!1&&(r.height=S+(k?0:y+w)),r.innerWidth=r.width-(v+x),r.innerHeight=r.height-(y+w),r.outerWidth=r.width+_,r.outerHeight=r.height+b,r}}function l(e,i){if(t.getComputedStyle||-1===i.indexOf("%"))return i;var n=e.style,o=n.left,r=e.runtimeStyle,a=r&&r.left;return a&&(r.left=e.currentStyle.left),n.left=i,i=n.pixelLeft,n.left=o,a&&(r.left=a),i}var u,c,h,d=!1;return s}var r="undefined"==typeof console?i:function(t){console.error(t)},a=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],o):"object"==typeof exports?module.exports=o(require("desandro-get-style-property")):t.getSize=o(t.getStyleProperty)}(window),function(t){function e(t,e){return t[a](e)}function i(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function n(t,e){i(t);for(var n=t.parentNode.querySelectorAll(e),o=0,r=n.length;r>o;o++)if(n[o]===t)return!0;return!1}function o(t,n){return i(t),e(t,n)}var r,a=function(){if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0,n=e.length;n>i;i++){var o=e[i],r=o+"MatchesSelector";if(t[r])return r}}();if(a){var s=document.createElement("div"),l=e(s,"div");r=l?e:o}else r=n;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return r}):"object"==typeof exports?module.exports=r:window.matchesSelector=r}(Element.prototype),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){for(var e in t)return!1;return e=null,!0}function n(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function o(t,o,r){function s(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var l=r("transition"),u=r("transform"),c=l&&u,h=!!r("perspective"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],p=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var t={},e=0,i=p.length;i>e;e++){var n=p[e],o=r(n);o&&o!==n&&(t[n]=o)}return t}();e(s.prototype,t.prototype),s.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},s.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.prototype.getSize=function(){this.size=o(this.element)},s.prototype.css=function(t){var e=this.element.style;for(var i in t){var n=f[i]||i;e[n]=t[i]}},s.prototype.getPosition=function(){var t=a(this.element),e=this.layout.options,i=e.isOriginLeft,n=e.isOriginTop,o=parseInt(t[i?"left":"right"],10),r=parseInt(t[n?"top":"bottom"],10);o=isNaN(o)?0:o,r=isNaN(r)?0:r;var s=this.layout.size;o-=i?s.paddingLeft:s.paddingRight,r-=n?s.paddingTop:s.paddingBottom,this.position.x=o,this.position.y=r},s.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={};e.isOriginLeft?(i.left=this.position.x+t.paddingLeft+"px",i.right=""):(i.right=this.position.x+t.paddingRight+"px",i.left=""),e.isOriginTop?(i.top=this.position.y+t.paddingTop+"px",i.bottom=""):(i.bottom=this.position.y+t.paddingBottom+"px",i.top=""),this.css(i),this.emitEvent("layout",[this])};var m=h?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};s.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),r=parseInt(e,10),a=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),a&&!this.isTransitioning)return void this.layoutPosition();var s=t-i,l=e-n,u={},c=this.layout.options;s=c.isOriginLeft?s:-s,l=c.isOriginTop?l:-l,u.transform=m(s,l),this.transition({to:u,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},s.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},s.prototype.moveTo=c?s.prototype._transitionTo:s.prototype.goTo,s.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},s.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},s.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var g=u&&n(u)+",opacity";s.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:g,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(d,this,!1))},s.prototype.transition=s.prototype[l?"_transition":"_nonTransition"],s.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},s.prototype.onotransitionend=function(t){this.ontransitionend(t)};var v={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};s.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=v[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd){var o=e.onEnd[n];o.call(this),delete e.onEnd[n]}this.emitEvent("transitionEnd",[this])}},s.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(d,this,!1),this.isTransitioning=!1},s.prototype._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var y={transitionProperty:"",transitionDuration:""};return s.prototype.removeTransitionStyles=function(){this.css(y)},s.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},s.prototype.remove=function(){if(!l||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()},s.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},s.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},s.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s}var r=t.getComputedStyle,a=r?function(t){return r(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],o):"object"==typeof exports?module.exports=o(require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property")):(t.Outlayer={},t.Outlayer.Item=o(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){return"[object Array]"===h.call(t)}function n(t){var e=[];if(i(t))e=t;else if(t&&"number"==typeof t.length)for(var n=0,o=t.length;o>n;n++)e.push(t[n]);else e.push(t);return e}function o(t,e){var i=p(e,t);-1!==i&&e.splice(i,1)}function r(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()}function a(i,a,h,p,f,m){function g(t,i){if("string"==typeof t&&(t=s.querySelector(t)),!t||!d(t))return void(l&&l.error("Bad "+this.constructor.namespace+" element: "+t));this.element=t,this.options=e({},this.constructor.defaults),this.option(i);var n=++v;this.element.outlayerGUID=n,y[n]=this,this._create(),this.options.isInitLayout&&this.layout()}var v=0,y={};return g.namespace="outlayer",g.Item=m,g.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(g.prototype,h.prototype),g.prototype.option=function(t){e(this.options,t)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},g.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0,r=e.length;r>o;o++){var a=e[o],s=new i(a,this);n.push(s)}return n},g.prototype._filterFindItemElements=function(t){t=n(t);for(var e=this.options.itemSelector,i=[],o=0,r=t.length;r>o;o++){var a=t[o];if(d(a))if(e){f(a,e)&&i.push(a);for(var s=a.querySelectorAll(e),l=0,u=s.length;u>l;l++)i.push(s[l])}else i.push(a)}return i},g.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e].element);return t},g.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=p(this.element)},g.prototype._getMeasurement=function(t,e){var i,n=this.options[t];n?("string"==typeof n?i=this.element.querySelector(n):d(n)&&(i=n),this[t]=i?p(i)[e]:n):this[t]=0},g.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},g.prototype._getItemsForLayout=function(t){for(var e=[],i=0,n=t.length;n>i;i++){var o=t[i];o.isIgnored||e.push(o)}return e},g.prototype._layoutItems=function(t,e){function i(){n.emitEvent("layoutComplete",[n,t])}var n=this;if(!t||!t.length)return void i();this._itemsOn(t,"layout",i);for(var o=[],r=0,a=t.length;a>r;r++){var s=t[r],l=this._getItemLayoutPosition(s);l.item=s,l.isInstant=e||s.isLayoutInstant,o.push(l)}this._processLayoutQueue(o)},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;i>e;e++){var n=t[e];this._positionItem(n.item,n.x,n.y,n.isInstant)}},g.prototype._positionItem=function(t,e,i,n){n?t.goTo(e,i):t.moveTo(e,i)},g.prototype._postLayout=function(){this.resizeContainer()},g.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},g.prototype._getContainerSize=c,g.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},g.prototype._itemsOn=function(t,e,i){function n(){return o++,o===r&&i.call(a),!0}for(var o=0,r=t.length,a=this,s=0,l=t.length;l>s;s++){var u=t[s];u.on(e,n)}},g.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},g.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},g.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;i>e;e++){var n=t[e];this.ignore(n)}}},g.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,i=t.length;i>e;e++){var n=t[e];o(n,this.stamps),this.unignore(n)}},g.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n(t)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var i=this.stamps[t];this._manageStamp(i)}}},g.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},g.prototype._manageStamp=c,g.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,n=p(t),o={left:e.left-i.left-n.marginLeft,top:e.top-i.top-n.marginTop,right:i.right-e.right-n.marginRight,bottom:i.bottom-e.bottom-n.marginBottom};return o},g.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},g.prototype.bindResize=function(){this.isResizeBound||(i.bind(t,"resize",this),this.isResizeBound=!0)},g.prototype.unbindResize=function(){this.isResizeBound&&i.unbind(t,"resize",this),this.isResizeBound=!1},g.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},g.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},g.prototype.needsResizeLayout=function(){var t=p(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},g.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},g.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},g.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},g.prototype.reveal=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){var n=t[i];n.reveal()}},g.prototype.hide=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){var n=t[i];n.hide()}},g.prototype.getItem=function(t){for(var e=0,i=this.items.length;i>e;e++){var n=this.items[e];if(n.element===t)return n}},g.prototype.getItems=function(t){if(t&&t.length){for(var e=[],i=0,n=t.length;n>i;i++){var o=t[i],r=this.getItem(o);r&&e.push(r)}return e}},g.prototype.remove=function(t){t=n(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var i=0,r=e.length;r>i;i++){var a=e[i];a.remove(),o(a,this.items)}}},g.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;i>e;e++){var n=this.items[e];n.destroy()}this.unbindResize();var o=this.element.outlayerGUID;delete y[o],delete this.element.outlayerGUID,u&&u.removeData(this.element,this.constructor.namespace)},g.data=function(t){var e=t&&t.outlayerGUID;return e&&y[e]},g.create=function(t,i){function n(){g.apply(this,arguments)}return Object.create?n.prototype=Object.create(g.prototype):e(n.prototype,g.prototype),n.prototype.constructor=n,n.defaults=e({},g.defaults),e(n.defaults,i),n.prototype.settings={},n.namespace=t,n.data=g.data,n.Item=function(){m.apply(this,arguments)},n.Item.prototype=new m,a(function(){for(var e=r(t),i=s.querySelectorAll(".js-"+e),o="data-"+e+"-options",a=0,c=i.length;c>a;a++){var h,d=i[a],p=d.getAttribute(o);try{h=p&&JSON.parse(p)}catch(f){l&&l.error("Error parsing "+o+" on "+d.nodeName.toLowerCase()+(d.id?"#"+d.id:"")+": "+f);continue}var m=new n(d,h);u&&u.data(d,t,m)}}),u&&u.bridget&&u.bridget(t,n),n},g.Item=m,g}var s=t.document,l=t.console,u=t.jQuery,c=function(){},h=Object.prototype.toString,d="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},p=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],a):"object"==typeof exports?module.exports=a(require("eventie"),require("doc-ready"),require("wolfy87-eventemitter"),require("get-size"),require("desandro-matches-selector"),require("./item")):t.Outlayer=a(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function e(t,e){var n=t.create("masonry");return n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},n.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},n.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},n.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=e&&1>e?"round":"ceil",o=Math[n](t.size.outerWidth/this.columnWidth);o=Math.min(o,this.cols);for(var r=this._getColGroup(o),a=Math.min.apply(Math,r),s=i(r,a),l={x:this.columnWidth*s,y:a},u=a+t.size.outerHeight,c=this.cols+1-r.length,h=0;c>h;h++)this.colYs[s+h]=u;return l},n.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++){var o=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e},n.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this.options.isOriginLeft?n.left:n.right,r=o+i.outerWidth,a=Math.floor(o/this.columnWidth);a=Math.max(0,a);var s=Math.floor(r/this.columnWidth);s-=r%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var l=(this.options.isOriginTop?n.top:n.bottom)+i.outerHeight,u=a;s>=u;u++)this.colYs[u]=Math.max(l,this.colYs[u])},n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},n.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},n}var i=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++){var o=t[i];if(o===e)return i}return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window),$(document).ready(function(){window.setTimeout(function(){$("canvas").each(function(){if(void 0===$(this).attr("dots_x"))return!0;for(x_coords=$(this).attr("dots_x").split(","),y_coords=$(this).attr("dots_y").split(","),label_headers=$(this).attr("data-label-headers").split(","),label_results=$(this).attr("data-label-results").split(","),chart_color=$(this).attr("data-color"),dots_array=[],y_maxer_array=[],x=0;x<x_coords.length;x++)dots_array.push([x_coords[x],y_coords[x]]),y_maxer_array.push(parseInt(y_coords[x]));temp_max=9999;for(var t=0;t<y_maxer_array.length;t++)y_maxer_array[t]<temp_max&&(max_index=t,temp_max=y_maxer_array[t]);pos={x:parseInt(x_coords[max_index]),y:parseInt(y_coords[max_index])+1},draw("e",$(this),dots_array,label_headers,label_results,chart_color,pos)})},1e3)}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use strict";function e(t){return"string"==typeof t?parseInt(t,10):~~t}var i={wheelSpeed:1,wheelPropagation:!1,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},n=0,o=function(){var t=n++;return function(e){var i=".perfect-scrollbar-"+t;return void 0===e?i:e+i}};t.fn.perfectScrollbar=function(n,r){return this.each(function(){function a(t,i){var n=t+i,o=T-L;O=0>n?0:n>o?o:n;var r=e(O*(E-T)/(T-L));k.scrollTop(r)}function s(t,i){var n=t+i,o=S-D;I=0>n?0:n>o?o:n;var r=e(I*(A-S)/(S-D));k.scrollLeft(r)}function l(t){return w.minScrollbarLength&&(t=Math.max(t,w.minScrollbarLength)),w.maxScrollbarLength&&(t=Math.min(t,w.maxScrollbarLength)),t}function u(){var t={width:S};t.left=z?k.scrollLeft()+S-A:k.scrollLeft(),j?t.bottom=B-k.scrollTop():t.top=H+k.scrollTop(),$.css(t);var e={top:k.scrollTop(),height:T};Y?e.right=z?A-k.scrollLeft()-U-V.outerWidth():U-k.scrollLeft():e.left=z?k.scrollLeft()+2*S-A-G-V.outerWidth():G+k.scrollLeft(),q.css(e),F.css({left:I,width:D-W}),V.css({top:O,height:L-X})}function c(){k.removeClass("ps-active-x"),k.removeClass("ps-active-y"),S=w.includePadding?k.innerWidth():k.width(),T=w.includePadding?k.innerHeight():k.height(),A=k.prop("scrollWidth"),E=k.prop("scrollHeight"),!w.suppressScrollX&&A>S+w.scrollXMarginOffset?(M=!0,D=l(e(S*S/A)),I=e(k.scrollLeft()*(S-D)/(A-S))):(M=!1,D=0,I=0,k.scrollLeft(0)),!w.suppressScrollY&&E>T+w.scrollYMarginOffset?(P=!0,L=l(e(T*T/E)),O=e(k.scrollTop()*(T-L)/(E-T))):(P=!1,L=0,O=0,k.scrollTop(0)),I>=S-D&&(I=S-D),O>=T-L&&(O=T-L),u(),M&&k.addClass("ps-active-x"),P&&k.addClass("ps-active-y");
}function h(){var e,i,n=!1;F.bind(R("mousedown"),function(t){i=t.pageX,e=F.position().left,$.addClass("in-scrolling"),n=!0,t.stopPropagation(),t.preventDefault()}),t(N).bind(R("mousemove"),function(t){n&&(s(e,t.pageX-i),c(),t.stopPropagation(),t.preventDefault())}),t(N).bind(R("mouseup"),function(){n&&(n=!1,$.removeClass("in-scrolling"))}),e=i=null}function d(){var e,i,n=!1;V.bind(R("mousedown"),function(t){i=t.pageY,e=V.position().top,n=!0,q.addClass("in-scrolling"),t.stopPropagation(),t.preventDefault()}),t(N).bind(R("mousemove"),function(t){n&&(a(e,t.pageY-i),c(),t.stopPropagation(),t.preventDefault())}),t(N).bind(R("mouseup"),function(){n&&(n=!1,q.removeClass("in-scrolling"))}),e=i=null}function p(t,e){var i=k.scrollTop();if(0===t){if(!P)return!1;if(0===i&&e>0||i>=E-T&&0>e)return!w.wheelPropagation}var n=k.scrollLeft();if(0===e){if(!M)return!1;if(0===n&&0>t||n>=A-S&&t>0)return!w.wheelPropagation}return!0}function f(){function t(t){var e=t.originalEvent.deltaX,i=-1*t.originalEvent.deltaY;return(void 0===e||void 0===i)&&(e=-1*t.originalEvent.wheelDeltaX/6,i=t.originalEvent.wheelDeltaY/6),t.originalEvent.deltaMode&&1===t.originalEvent.deltaMode&&(e*=10,i*=10),e!==e&&i!==i&&(e=0,i=t.originalEvent.wheelDelta),[e,i]}function e(e){var n=t(e),o=n[0],r=n[1];i=!1,w.useBothWheelAxes?P&&!M?(r?k.scrollTop(k.scrollTop()-r*w.wheelSpeed):k.scrollTop(k.scrollTop()+o*w.wheelSpeed),i=!0):M&&!P&&(o?k.scrollLeft(k.scrollLeft()+o*w.wheelSpeed):k.scrollLeft(k.scrollLeft()-r*w.wheelSpeed),i=!0):(k.scrollTop(k.scrollTop()-r*w.wheelSpeed),k.scrollLeft(k.scrollLeft()+o*w.wheelSpeed)),c(),i=i||p(o,r),i&&(e.stopPropagation(),e.preventDefault())}var i=!1;void 0!==window.onwheel?k.bind(R("wheel"),e):void 0!==window.onmousewheel&&k.bind(R("mousewheel"),e)}function m(){var e=!1;k.bind(R("mouseenter"),function(){e=!0}),k.bind(R("mouseleave"),function(){e=!1});var i=!1;t(N).bind(R("keydown"),function(n){if((!n.isDefaultPrevented||!n.isDefaultPrevented())&&e){for(var o=document.activeElement?document.activeElement:N.activeElement;o.shadowRoot;)o=o.shadowRoot.activeElement;if(!t(o).is(":input,[contenteditable]")){var r=0,a=0;switch(n.which){case 37:r=-30;break;case 38:a=30;break;case 39:r=30;break;case 40:a=-30;break;case 33:a=90;break;case 32:case 34:a=-90;break;case 35:a=n.ctrlKey?-E:-T;break;case 36:a=n.ctrlKey?k.scrollTop():T;break;default:return}k.scrollTop(k.scrollTop()-a),k.scrollLeft(k.scrollLeft()+r),i=p(r,a),i&&n.preventDefault()}}})}function g(){function t(t){t.stopPropagation()}V.bind(R("click"),t),q.bind(R("click"),function(t){var i=e(L/2),n=t.pageY-q.offset().top-i,o=T-L,r=n/o;0>r?r=0:r>1&&(r=1),k.scrollTop((E-T)*r)}),F.bind(R("click"),t),$.bind(R("click"),function(t){var i=e(D/2),n=t.pageX-$.offset().left-i,o=S-D,r=n/o;0>r?r=0:r>1&&(r=1),k.scrollLeft((A-S)*r)})}function v(){function e(){var t=window.getSelection?window.getSelection():document.getSlection?document.getSlection():{rangeCount:0};return 0===t.rangeCount?null:t.getRangeAt(0).commonAncestorContainer}function i(){o||(o=setInterval(function(){return C()?(k.scrollTop(k.scrollTop()+r.top),k.scrollLeft(k.scrollLeft()+r.left),void c()):void clearInterval(o)},50))}function n(){o&&(clearInterval(o),o=null),$.removeClass("in-scrolling"),q.removeClass("in-scrolling")}var o=null,r={top:0,left:0},a=!1;t(N).bind(R("selectionchange"),function(){t.contains(k[0],e())?a=!0:(a=!1,n())}),t(window).bind(R("mouseup"),function(){a&&(a=!1,n())}),t(window).bind(R("mousemove"),function(t){if(a){var e={x:t.pageX,y:t.pageY},o=k.offset(),s={left:o.left,right:o.left+k.outerWidth(),top:o.top,bottom:o.top+k.outerHeight()};e.x<s.left+3?(r.left=-5,$.addClass("in-scrolling")):e.x>s.right-3?(r.left=5,$.addClass("in-scrolling")):r.left=0,e.y<s.top+3?(r.top=5>s.top+3-e.y?-5:-20,q.addClass("in-scrolling")):e.y>s.bottom-3?(r.top=5>e.y-s.bottom+3?5:20,q.addClass("in-scrolling")):r.top=0,0===r.top&&0===r.left?n():i()}})}function y(e,i){function n(t,e){k.scrollTop(k.scrollTop()-e),k.scrollLeft(k.scrollLeft()-t),c()}function o(){g=!0}function r(){g=!1}function a(t){return t.originalEvent.targetTouches?t.originalEvent.targetTouches[0]:t.originalEvent}function s(t){var e=t.originalEvent;return e.targetTouches&&1===e.targetTouches.length?!0:!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function l(t){if(s(t)){v=!0;var e=a(t);d.pageX=e.pageX,d.pageY=e.pageY,p=(new Date).getTime(),null!==m&&clearInterval(m),t.stopPropagation()}}function u(t){if(!g&&v&&s(t)){var e=a(t),i={pageX:e.pageX,pageY:e.pageY},o=i.pageX-d.pageX,r=i.pageY-d.pageY;n(o,r),d=i;var l=(new Date).getTime(),u=l-p;u>0&&(f.x=o/u,f.y=r/u,p=l),t.stopPropagation(),t.preventDefault()}}function h(){!g&&v&&(v=!1,clearInterval(m),m=setInterval(function(){return C()?.01>Math.abs(f.x)&&.01>Math.abs(f.y)?void clearInterval(m):(n(30*f.x,30*f.y),f.x*=.8,void(f.y*=.8)):void clearInterval(m)},10))}var d={},p=0,f={},m=null,g=!1,v=!1;e&&(t(window).bind(R("touchstart"),o),t(window).bind(R("touchend"),r),k.bind(R("touchstart"),l),k.bind(R("touchmove"),u),k.bind(R("touchend"),h)),i&&(window.PointerEvent?(t(window).bind(R("pointerdown"),o),t(window).bind(R("pointerup"),r),k.bind(R("pointerdown"),l),k.bind(R("pointermove"),u),k.bind(R("pointerup"),h)):window.MSPointerEvent&&(t(window).bind(R("MSPointerDown"),o),t(window).bind(R("MSPointerUp"),r),k.bind(R("MSPointerDown"),l),k.bind(R("MSPointerMove"),u),k.bind(R("MSPointerUp"),h)))}function _(){k.bind(R("scroll"),function(){c()})}function b(){k.unbind(R()),t(window).unbind(R()),t(N).unbind(R()),k.data("perfect-scrollbar",null),k.data("perfect-scrollbar-update",null),k.data("perfect-scrollbar-destroy",null),F.remove(),V.remove(),$.remove(),q.remove(),k=$=q=F=V=M=P=S=T=A=E=D=I=B=j=H=L=O=U=Y=G=z=R=null}function x(){c(),_(),h(),d(),g(),v(),f(),(Z||K)&&y(Z,K),w.useKeyboard&&m(),k.data("perfect-scrollbar",k),k.data("perfect-scrollbar-update",c),k.data("perfect-scrollbar-destroy",b)}var w=t.extend(!0,{},i),k=t(this),C=function(){return!!k};if("object"==typeof n?t.extend(!0,w,n):r=n,"update"===r)return k.data("perfect-scrollbar-update")&&k.data("perfect-scrollbar-update")(),k;if("destroy"===r)return k.data("perfect-scrollbar-destroy")&&k.data("perfect-scrollbar-destroy")(),k;if(k.data("perfect-scrollbar"))return k.data("perfect-scrollbar");k.addClass("ps-container");var S,T,A,E,M,D,I,P,L,O,z="rtl"===k.css("direction"),R=o(),N=this.ownerDocument||document,$=t("<div class='ps-scrollbar-x-rail'>").appendTo(k),F=t("<div class='ps-scrollbar-x'>").appendTo($),B=e($.css("bottom")),j=B===B,H=j?null:e($.css("top")),W=e($.css("borderLeftWidth"))+e($.css("borderRightWidth")),q=t("<div class='ps-scrollbar-y-rail'>").appendTo(k),V=t("<div class='ps-scrollbar-y'>").appendTo(q),U=e(q.css("right")),Y=U===U,G=Y?null:e(q.css("left")),X=e(q.css("borderTopWidth"))+e(q.css("borderBottomWidth")),Z="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,K=null!==window.navigator.msMaxTouchPoints;return x(),k})}}),!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.salvattore=e()}(this,function(){window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var e=document.createElement("style"),i=document.getElementsByTagName("script")[0],n=null;e.type="text/css",e.id="matchmediajs-test",i.parentNode.insertBefore(e,i),n="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle,t={matchMedium:function(t){var i="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=i:e.textContent=i,"1px"===n.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),function(){"use strict";if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var t=window.matchMedia,e=t("only all").matches,i=!1,n=0,o=[],r=function(){clearTimeout(n),n=setTimeout(function(){for(var e=0,i=o.length;i>e;e++){var n=o[e].mql,r=o[e].listeners||[],a=t(n.media).matches;if(a!==n.matches){n.matches=a;for(var s=0,l=r.length;l>s;s++)r[s].call(window,n)}}},30)};window.matchMedia=function(n){var a=t(n),s=[],l=0;return a.addListener=function(t){e&&(i||(i=!0,window.addEventListener("resize",r,!0)),0===l&&(l=o.push({mql:a,listeners:s})),s.push(t))},a.removeListener=function(t){for(var e=0,i=s.length;i>e;e++)s[e]===t&&s.splice(e,1)},a}}(),function(){"use strict";for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-t)),o=window.setTimeout(function(){e(i+n)},n);return t=i+n,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),"function"!=typeof window.CustomEvent&&!function(){"use strict";function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}t.prototype=window.Event.prototype,window.CustomEvent=t}();var t=function(t,e){"use strict";var i={},n=[],o=[],r=[],a=function(t,e,i){t.dataset?t.dataset[e]=i:t.setAttribute("data-"+e,i)};return i.obtainGridSettings=function(e){var i=t.getComputedStyle(e,":before"),n=i.getPropertyValue("content").slice(1,-1),o=n.match(/^\s*(\d+)(?:\s?\.(.+))?\s*$/),r=1,a=[];return o?(r=o[1],a=o[2],a=a?a.split("."):["column"]):(o=n.match(/^\s*\.(.+)\s+(\d+)\s*$/),o&&(a=o[1],r=o[2],r&&(r=r.split(".")))),{numberOfColumns:r,columnClasses:a}},i.addColumns=function(t,n){for(var o,r=i.obtainGridSettings(t),s=r.numberOfColumns,l=r.columnClasses,u=new Array(+s),c=e.createDocumentFragment(),h=s;0!==h--;)o="[data-columns] > *:nth-child("+s+"n-"+h+")",u.push(n.querySelectorAll(o));u.forEach(function(t){var i=e.createElement("div"),n=e.createDocumentFragment();i.className=l.join(" "),Array.prototype.forEach.call(t,function(t){n.appendChild(t)}),i.appendChild(n),c.appendChild(i)}),t.appendChild(c),a(t,"columns",s)},i.removeColumns=function(i){var n=e.createRange();n.selectNodeContents(i);var o=Array.prototype.filter.call(n.extractContents().childNodes,function(e){return e instanceof t.HTMLElement}),r=o.length,s=o[0].childNodes.length,l=new Array(s*r);Array.prototype.forEach.call(o,function(t,e){Array.prototype.forEach.call(t.children,function(t,i){l[i*r+e]=t})});var u=e.createElement("div");return a(u,"columns",0),l.filter(function(t){return!!t}).forEach(function(t){u.appendChild(t)}),u},i.recreateColumns=function(e){t.requestAnimationFrame(function(){i.addColumns(e,i.removeColumns(e));var t=new CustomEvent("columnsChange");e.dispatchEvent(t)})},i.mediaQueryChange=function(t){t.matches&&Array.prototype.forEach.call(n,i.recreateColumns)},i.getCSSRules=function(t){var e;try{e=t.sheet.cssRules||t.sheet.rules}catch(i){return[]}return e||[]},i.getStylesheets=function(){return Array.prototype.concat.call(Array.prototype.slice.call(e.querySelectorAll("style[type='text/css']")),Array.prototype.slice.call(e.querySelectorAll("link[rel='stylesheet']")))},i.mediaRuleHasColumnsSelector=function(t){var e,i;try{e=t.length}catch(n){e=0}for(;e--;)if(i=t[e],i.selectorText&&i.selectorText.match(/\[data-columns\](.*)::?before$/))return!0;return!1},i.scanMediaQueries=function(){var e=[];if(t.matchMedia){i.getStylesheets().forEach(function(t){Array.prototype.forEach.call(i.getCSSRules(t),function(t){t.media&&t.cssRules&&i.mediaRuleHasColumnsSelector(t.cssRules)&&e.push(t)})});var n=o.filter(function(t){return-1===e.indexOf(t)});r.filter(function(t){return-1!==n.indexOf(t.rule)}).forEach(function(t){t.mql.removeListener(i.mediaQueryChange)}),r=r.filter(function(t){return-1===n.indexOf(t.rule)}),e.filter(function(t){return-1==o.indexOf(t)}).forEach(function(e){var n=t.matchMedia(e.media.mediaText);n.addListener(i.mediaQueryChange),r.push({rule:e,mql:n})}),o.length=0,o=e}},i.rescanMediaQueries=function(){i.scanMediaQueries(),Array.prototype.forEach.call(n,i.recreateColumns)},i.nextElementColumnIndex=function(t,e){var i,n,o,r=t.children,a=r.length,s=0,l=0;for(o=0;a>o;o++)i=r[o],n=i.children.length+(e[o].children||e[o].childNodes).length,0===s&&(s=n),s>n&&(l=o,s=n);return l},i.createFragmentsList=function(t){for(var i=new Array(t),n=0;n!==t;)i[n]=e.createDocumentFragment(),n++;return i},i.appendElements=function(t,e){var n=t.children,o=n.length,r=i.createFragmentsList(o);Array.prototype.forEach.call(e,function(e){var n=i.nextElementColumnIndex(t,r);r[n].appendChild(e)}),Array.prototype.forEach.call(n,function(t,e){t.appendChild(r[e])})},i.prependElements=function(t,n){var o=t.children,r=o.length,a=i.createFragmentsList(r),s=r-1;n.forEach(function(t){var e=a[s];e.insertBefore(t,e.firstChild),0===s?s=r-1:s--}),Array.prototype.forEach.call(o,function(t,e){t.insertBefore(a[e],t.firstChild)});for(var l=e.createDocumentFragment(),u=n.length%r;0!==u--;)l.appendChild(t.lastChild);t.insertBefore(l,t.firstChild)},i.registerGrid=function(o){if("none"!==t.getComputedStyle(o).display){var r=e.createRange();r.selectNodeContents(o);var s=e.createElement("div");s.appendChild(r.extractContents()),a(s,"columns",0),i.addColumns(o,s),n.push(o)}},i.init=function(){var t=e.createElement("style");t.innerHTML="[data-columns]::before{visibility:hidden;position:absolute;font-size:1px;}",e.head.appendChild(t);var n=e.querySelectorAll("[data-columns]");Array.prototype.forEach.call(n,i.registerGrid),i.scanMediaQueries()},i.init(),{appendElements:i.appendElements,prependElements:i.prependElements,registerGrid:i.registerGrid,recreateColumns:i.recreateColumns,rescanMediaQueries:i.rescanMediaQueries,append_elements:i.appendElements,prepend_elements:i.prependElements,register_grid:i.registerGrid,recreate_columns:i.recreateColumns,rescan_media_queries:i.rescanMediaQueries}}(window,window.document);return t}),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return pn.apply(null,arguments)}function e(t){pn=t}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function n(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){var e;for(e in t)return!1;return!0}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function a(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var i in e)s(e,i)&&(t[i]=e[i]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function u(t,e,i,n){return ge(t,e,i,n,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function h(t){return null==t._pf&&(t._pf=c()),t._pf}function d(t){if(null==t._isValid){var e=h(t),i=fn.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function p(t){var e=u(NaN);return null!=t?l(h(e),t):h(e).userInvalidated=!0,e}function f(t){return void 0===t}function m(t,e){var i,n,o;if(f(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),f(e._i)||(t._i=e._i),f(e._f)||(t._f=e._f),f(e._l)||(t._l=e._l),f(e._strict)||(t._strict=e._strict),f(e._tzm)||(t._tzm=e._tzm),f(e._isUTC)||(t._isUTC=e._isUTC),f(e._offset)||(t._offset=e._offset),f(e._pf)||(t._pf=h(e)),f(e._locale)||(t._locale=e._locale),mn.length>0)for(i in mn)n=mn[i],o=e[n],f(o)||(t[n]=o);return t}function g(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),gn===!1&&(gn=!0,t.updateOffset(this),gn=!1)}function v(t){return t instanceof g||null!=t&&null!=t._isAMomentObject}function y(t){return 0>t?Math.ceil(t)||0:Math.floor(t)}function _(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=y(e)),i}function b(t,e,i){var n,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),a=0;for(n=0;o>n;n++)(i&&t[n]!==e[n]||!i&&_(t[n])!==_(e[n]))&&a++;return a+r}function x(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function w(e,i){var n=!0;return l(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),n){for(var o,r=[],a=0;a<arguments.length;a++){if(o="","object"==typeof arguments[a]){o+="\n["+a+"] ";for(var s in arguments[0])o+=s+": "+arguments[0][s]+", ";o=o.slice(0,-2)}else o=arguments[a];r.push(o)}x(e+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function k(e,i){null!=t.deprecationHandler&&t.deprecationHandler(e,i),vn[e]||(x(i),vn[e]=!0)}function C(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function S(t){var e,i;for(i in t)e=t[i],C(e)?this[i]=e:this["_"+i]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function T(t,e){var i,o=l({},t);for(i in e)s(e,i)&&(n(t[i])&&n(e[i])?(o[i]={},l(o[i],t[i]),l(o[i],e[i])):null!=e[i]?o[i]=e[i]:delete o[i]);for(i in t)s(t,i)&&!s(e,i)&&n(t[i])&&(o[i]=l({},o[i]));return o}function A(t){null!=t&&this.set(t)}function E(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return C(n)?n.call(e,i):n}function M(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function D(){return this._invalidDate}function I(t){return this._ordinal.replace("%d",t)}function P(t,e,i,n){var o=this._relativeTime[i];return C(o)?o(t,e,i,n):o.replace(/%d/i,t)}function L(t,e){var i=this._relativeTime[t>0?"future":"past"];return C(i)?i(e):i.replace(/%s/i,e)}function O(t,e){var i=t.toLowerCase();Tn[i]=Tn[i+"s"]=Tn[e]=t}function z(t){return"string"==typeof t?Tn[t]||Tn[t.toLowerCase()]:void 0}function R(t){var e,i,n={};for(i in t)s(t,i)&&(e=z(i),e&&(n[e]=t[i]));return n}function N(t,e){An[t]=e}function $(t){var e=[];for(var i in t)e.push({unit:i,priority:An[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}function F(e,i){return function(n){return null!=n?(j(this,e,n),t.updateOffset(this,i),this):B(this,e)}}function B(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function j(t,e,i){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](i)}function H(t){return t=z(t),C(this[t])?this[t]():this}function W(t,e){if("object"==typeof t){t=R(t);for(var i=$(t),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit])}else if(t=z(t),C(this[t]))return this[t](e);return this}function q(t,e,i){var n=""+Math.abs(t),o=e-n.length,r=t>=0;return(r?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}function V(t,e,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),t&&(In[t]=o),e&&(In[e[0]]=function(){return q(o.apply(this,arguments),e[1],e[2])}),i&&(In[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function U(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Y(t){var e,i,n=t.match(En);for(e=0,i=n.length;i>e;e++)In[n[e]]?n[e]=In[n[e]]:n[e]=U(n[e]);return function(e){var o,r="";for(o=0;i>o;o++)r+=n[o]instanceof Function?n[o].call(e,t):n[o];return r}}function G(t,e){return t.isValid()?(e=X(e,t.localeData()),Dn[e]=Dn[e]||Y(e),Dn[e](t)):t.localeData().invalidDate()}function X(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(Mn.lastIndex=0;n>=0&&Mn.test(t);)t=t.replace(Mn,i),Mn.lastIndex=0,n-=1;return t}function Z(t,e,i){Xn[t]=C(e)?e:function(t){return t&&i?i:e}}function K(t,e){return s(Xn,t)?Xn[t](e._strict,e._locale):new RegExp(J(t))}function J(t){return Q(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,o){return e||i||n||o}))}function Q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function tt(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(n=function(t,i){i[e]=_(t)}),i=0;i<t.length;i++)Zn[t[i]]=n}function et(t,e){tt(t,function(t,i,n,o){n._w=n._w||{},e(t,n._w,n,o)})}function it(t,e,i){null!=e&&s(Zn,t)&&Zn[t](e,i._a,i,t)}function nt(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function ot(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ao).test(e)?"format":"standalone"][t.month()]:this._months}function rt(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ao.test(e)?"format":"standalone"][t.month()]:this._monthsShort}function at(t,e,i){var n,o,r,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;12>n;++n)r=u([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();return i?"MMM"===e?(o=_n.call(this._shortMonthsParse,a),-1!==o?o:null):(o=_n.call(this._longMonthsParse,a),-1!==o?o:null):"MMM"===e?(o=_n.call(this._shortMonthsParse,a),-1!==o?o:(o=_n.call(this._longMonthsParse,a),-1!==o?o:null)):(o=_n.call(this._longMonthsParse,a),-1!==o?o:(o=_n.call(this._shortMonthsParse,a),-1!==o?o:null))}function st(t,e,i){var n,o,r;if(this._monthsParseExact)return at.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(o=u([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function lt(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=_(e);else if(e=t.localeData().monthsParse(e),"number"!=typeof e)return t;return i=Math.min(t.date(),nt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function ut(e){return null!=e?(lt(this,e),t.updateOffset(this,!0),this):B(this,"Month")}function ct(){return nt(this.year(),this.month())}function ht(t){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=uo),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function dt(t){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=co),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function pt(){function t(t,e){return e.length-t.length}var e,i,n=[],o=[],r=[];for(e=0;12>e;e++)i=u([2e3,e]),n.push(this.monthsShort(i,"")),o.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(n.sort(t),o.sort(t),r.sort(t),e=0;12>e;e++)n[e]=Q(n[e]),o[e]=Q(o[e]);for(e=0;24>e;e++)r[e]=Q(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function ft(t){return mt(t)?366:365}function mt(t){return t%4===0&&t%100!==0||t%400===0}function gt(){return mt(this.year())}function vt(t,e,i,n,o,r,a){var s=new Date(t,e,i,n,o,r,a);return 100>t&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function yt(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function _t(t,e,i){var n=7+e-i,o=(7+yt(t,0,n).getUTCDay()-e)%7;return-o+n-1}function bt(t,e,i,n,o){var r,a,s=(7+i-n)%7,l=_t(t,n,o),u=1+7*(e-1)+s+l;return 0>=u?(r=t-1,a=ft(r)+u):u>ft(t)?(r=t+1,a=u-ft(t)):(r=t,a=u),{year:r,dayOfYear:a}}function xt(t,e,i){var n,o,r=_t(t.year(),e,i),a=Math.floor((t.dayOfYear()-r-1)/7)+1;return 1>a?(o=t.year()-1,n=a+wt(o,e,i)):a>wt(t.year(),e,i)?(n=a-wt(t.year(),e,i),o=t.year()+1):(o=t.year(),n=a),{week:n,year:o}}function wt(t,e,i){var n=_t(t,e,i),o=_t(t+1,e,i);return(ft(t)-n+o)/7}function kt(t){return xt(t,this._week.dow,this._week.doy).week}function Ct(){return this._week.dow}function St(){return this._week.doy}function Tt(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function At(t){var e=xt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Et(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Mt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Dt(t,e){return t?i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:this._weekdays}function It(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Pt(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Lt(t,e,i){var n,o,r,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;7>n;++n)r=u([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();return i?"dddd"===e?(o=_n.call(this._weekdaysParse,a),-1!==o?o:null):"ddd"===e?(o=_n.call(this._shortWeekdaysParse,a),-1!==o?o:null):(o=_n.call(this._minWeekdaysParse,a),-1!==o?o:null):"dddd"===e?(o=_n.call(this._weekdaysParse,a),-1!==o?o:(o=_n.call(this._shortWeekdaysParse,a),-1!==o?o:(o=_n.call(this._minWeekdaysParse,a),-1!==o?o:null))):"ddd"===e?(o=_n.call(this._shortWeekdaysParse,a),-1!==o?o:(o=_n.call(this._weekdaysParse,a),-1!==o?o:(o=_n.call(this._minWeekdaysParse,a),-1!==o?o:null))):(o=_n.call(this._minWeekdaysParse,a),-1!==o?o:(o=_n.call(this._weekdaysParse,a),-1!==o?o:(o=_n.call(this._shortWeekdaysParse,a),-1!==o?o:null)))}function Ot(t,e,i){var n,o,r;if(this._weekdaysParseExact)return Lt.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;7>n;n++){if(o=u([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}}function zt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Et(t,this.localeData()),this.add(t-e,"d")):e}function Rt(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Nt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Mt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function $t(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||jt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=vo),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ft(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||jt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=yo),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Bt(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||jt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=_o),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function jt(){function t(t,e){return e.length-t.length}var e,i,n,o,r,a=[],s=[],l=[],c=[];for(e=0;7>e;e++)i=u([2e3,1]).day(e),n=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),r=this.weekdays(i,""),a.push(n),s.push(o),l.push(r),c.push(n),c.push(o),c.push(r);for(a.sort(t),s.sort(t),l.sort(t),c.sort(t),e=0;7>e;e++)s[e]=Q(s[e]),l[e]=Q(l[e]),c[e]=Q(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ht(){return this.hours()%12||12}function Wt(){return this.hours()||24}function qt(t,e){V(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Vt(t,e){return e._meridiemParse}function Ut(t){return"p"===(t+"").toLowerCase().charAt(0)}function Yt(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function Gt(t){return t?t.toLowerCase().replace("_","-"):t}function Xt(t){for(var e,i,n,o,r=0;r<t.length;){for(o=Gt(t[r]).split("-"),e=o.length,i=Gt(t[r+1]),i=i?i.split("-"):null;e>0;){if(n=Zt(o.slice(0,e).join("-")))return n;if(i&&i.length>=e&&b(o,i,!0)>=e-1)break;e--}r++}return null}function Zt(t){var e=null;if(!Co[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=bo._abbr,require("./locale/"+t),Kt(e)}catch(i){}return Co[t]}function Kt(t,e){var i;return t&&(i=f(e)?te(t):Jt(t,e),i&&(bo=i)),bo._abbr}function Jt(t,e){if(null!==e){var i=ko;return e.abbr=t,null!=Co[t]?(k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Co[t]._config):null!=e.parentLocale&&(null!=Co[e.parentLocale]?i=Co[e.parentLocale]._config:k("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),Co[t]=new A(T(i,e)),Kt(t),Co[t]}return delete Co[t],null}function Qt(t,e){if(null!=e){var i,n=ko;null!=Co[t]&&(n=Co[t]._config),e=T(n,e),i=new A(e),i.parentLocale=Co[t],Co[t]=i,Kt(t)}else null!=Co[t]&&(null!=Co[t].parentLocale?Co[t]=Co[t].parentLocale:null!=Co[t]&&delete Co[t]);return Co[t]}function te(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return bo;if(!i(t)){if(e=Zt(t))return e;t=[t]}return Xt(t)}function ee(){return yn(Co)}function ie(t){var e,i=t._a;return i&&-2===h(t).overflow&&(e=i[Jn]<0||i[Jn]>11?Jn:i[Qn]<1||i[Qn]>nt(i[Kn],i[Jn])?Qn:i[to]<0||i[to]>24||24===i[to]&&(0!==i[eo]||0!==i[io]||0!==i[no])?to:i[eo]<0||i[eo]>59?eo:i[io]<0||i[io]>59?io:i[no]<0||i[no]>999?no:-1,h(t)._overflowDayOfYear&&(Kn>e||e>Qn)&&(e=Qn),h(t)._overflowWeeks&&-1===e&&(e=oo),h(t)._overflowWeekday&&-1===e&&(e=ro),h(t).overflow=e),t}function ne(t){var e,i,n,o,r,a,s=t._i,l=So.exec(s)||To.exec(s);if(l){for(h(t).iso=!0,e=0,i=Eo.length;i>e;e++)if(Eo[e][1].exec(l[1])){o=Eo[e][0],n=Eo[e][2]!==!1;break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,i=Mo.length;i>e;e++)if(Mo[e][1].exec(l[3])){r=(l[2]||" ")+Mo[e][0];break}if(null==r)return void(t._isValid=!1)}if(!n&&null!=r)return void(t._isValid=!1);if(l[4]){if(!Ao.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=o+(r||"")+(a||""),ue(t)}else t._isValid=!1}function oe(e){var i=Do.exec(e._i);return null!==i?void(e._d=new Date(+i[1])):(ne(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function re(t,e,i){return null!=t?t:null!=e?e:i}function ae(e){var i=new Date(t.now());return e._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function se(t){var e,i,n,o,r=[];if(!t._d){for(n=ae(t),t._w&&null==t._a[Qn]&&null==t._a[Jn]&&le(t),t._dayOfYear&&(o=re(t._a[Kn],n[Kn]),
t._dayOfYear>ft(o)&&(h(t)._overflowDayOfYear=!0),i=yt(o,0,t._dayOfYear),t._a[Jn]=i.getUTCMonth(),t._a[Qn]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=r[e]=n[e];for(;7>e;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[to]&&0===t._a[eo]&&0===t._a[io]&&0===t._a[no]&&(t._nextDay=!0,t._a[to]=0),t._d=(t._useUTC?yt:vt).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[to]=24)}}function le(t){var e,i,n,o,r,a,s,l;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(r=1,a=4,i=re(e.GG,t._a[Kn],xt(ve(),1,4).year),n=re(e.W,1),o=re(e.E,1),(1>o||o>7)&&(l=!0)):(r=t._locale._week.dow,a=t._locale._week.doy,i=re(e.gg,t._a[Kn],xt(ve(),r,a).year),n=re(e.w,1),null!=e.d?(o=e.d,(0>o||o>6)&&(l=!0)):null!=e.e?(o=e.e+r,(e.e<0||e.e>6)&&(l=!0)):o=r),1>n||n>wt(i,r,a)?h(t)._overflowWeeks=!0:null!=l?h(t)._overflowWeekday=!0:(s=bt(i,n,o,r,a),t._a[Kn]=s.year,t._dayOfYear=s.dayOfYear)}function ue(e){if(e._f===t.ISO_8601)return void ne(e);e._a=[],h(e).empty=!0;var i,n,o,r,a,s=""+e._i,l=s.length,u=0;for(o=X(e._f,e._locale).match(En)||[],i=0;i<o.length;i++)r=o[i],n=(s.match(K(r,e))||[])[0],n&&(a=s.substr(0,s.indexOf(n)),a.length>0&&h(e).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),u+=n.length),In[r]?(n?h(e).empty=!1:h(e).unusedTokens.push(r),it(r,n,e)):e._strict&&!n&&h(e).unusedTokens.push(r);h(e).charsLeftOver=l-u,s.length>0&&h(e).unusedInput.push(s),e._a[to]<=12&&h(e).bigHour===!0&&e._a[to]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[to]=ce(e._locale,e._a[to],e._meridiem),se(e),ie(e)}function ce(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&12>e&&(e+=12),n||12!==e||(e=0),e):e}function he(t){var e,i,n,o,r;if(0===t._f.length)return h(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)r=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],ue(e),d(e)&&(r+=h(e).charsLeftOver,r+=10*h(e).unusedTokens.length,h(e).score=r,(null==n||n>r)&&(n=r,i=e));l(t,i||e)}function de(t){if(!t._d){var e=R(t._i);t._a=a([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),se(t)}}function pe(t){var e=new g(ie(fe(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function fe(t){var e=t._i,n=t._f;return t._locale=t._locale||te(t._l),null===e||void 0===n&&""===e?p({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),v(e)?new g(ie(e)):(i(n)?he(t):r(e)?t._d=e:n?ue(t):me(t),d(t)||(t._d=null),t))}function me(e){var n=e._i;void 0===n?e._d=new Date(t.now()):r(n)?e._d=new Date(n.valueOf()):"string"==typeof n?oe(e):i(n)?(e._a=a(n.slice(0),function(t){return parseInt(t,10)}),se(e)):"object"==typeof n?de(e):"number"==typeof n?e._d=new Date(n):t.createFromInputFallback(e)}function ge(t,e,r,a,s){var l={};return"boolean"==typeof r&&(a=r,r=void 0),(n(t)&&o(t)||i(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=r,l._i=t,l._f=e,l._strict=a,pe(l)}function ve(t,e,i,n){return ge(t,e,i,n,!1)}function ye(t,e){var n,o;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return ve();for(n=e[0],o=1;o<e.length;++o)e[o].isValid()&&!e[o][t](n)||(n=e[o]);return n}function _e(){var t=[].slice.call(arguments,0);return ye("isBefore",t)}function be(){var t=[].slice.call(arguments,0);return ye("isAfter",t)}function xe(t){var e=R(t),i=e.year||0,n=e.quarter||0,o=e.month||0,r=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*r,this._months=+o+3*n+12*i,this._data={},this._locale=te(),this._bubble()}function we(t){return t instanceof xe}function ke(t){return 0>t?-1*Math.round(-1*t):Math.round(t)}function Ce(t,e){V(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+q(~~(t/60),2)+e+q(~~t%60,2)})}function Se(t,e){var i=(e||"").match(t)||[],n=i[i.length-1]||[],o=(n+"").match(Oo)||["-",0,0],r=+(60*o[1])+_(o[2]);return"+"===o[0]?r:-r}function Te(e,i){var n,o;return i._isUTC?(n=i.clone(),o=(v(e)||r(e)?e.valueOf():ve(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),t.updateOffset(n,!1),n):ve(e).local()}function Ae(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ee(e,i){var n,o=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Se(Un,e):Math.abs(e)<16&&(e=60*e),!this._isUTC&&i&&(n=Ae(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==e&&(!i||this._changeInProgress?qe(this,Fe(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:Ae(this):null!=e?this:NaN}function Me(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function De(t){return this.utcOffset(0,t)}function Ie(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ae(this),"m")),this}function Pe(){if(this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var t=Se(Vn,this._i);0===t?this.utcOffset(0,!0):this.utcOffset(Se(Vn,this._i))}return this}function Le(t){return this.isValid()?(t=t?ve(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Oe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ze(){if(!f(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),t=fe(t),t._a){var e=t._isUTC?u(t._a):ve(t._a);this._isDSTShifted=this.isValid()&&b(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Re(){return this.isValid()?!this._isUTC:!1}function Ne(){return this.isValid()?this._isUTC:!1}function $e(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Fe(t,e){var i,n,o,r=t,a=null;return we(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(r={},e?r[e]=t:r.milliseconds=t):(a=zo.exec(t))?(i="-"===a[1]?-1:1,r={y:0,d:_(a[Qn])*i,h:_(a[to])*i,m:_(a[eo])*i,s:_(a[io])*i,ms:_(ke(1e3*a[no]))*i}):(a=Ro.exec(t))?(i="-"===a[1]?-1:1,r={y:Be(a[2],i),M:Be(a[3],i),w:Be(a[4],i),d:Be(a[5],i),h:Be(a[6],i),m:Be(a[7],i),s:Be(a[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=He(ve(r.from),ve(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),n=new xe(r),we(t)&&s(t,"_locale")&&(n._locale=t._locale),n}function Be(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function je(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function He(t,e){var i;return t.isValid()&&e.isValid()?(e=Te(e,t),t.isBefore(e)?i=je(t,e):(i=je(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function We(t,e){return function(i,n){var o,r;return null===n||isNaN(+n)||(k(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),i="string"==typeof i?+i:i,o=Fe(i,n),qe(this,o,t),this}}function qe(e,i,n,o){var r=i._milliseconds,a=ke(i._days),s=ke(i._months);e.isValid()&&(o=null==o?!0:o,r&&e._d.setTime(e._d.valueOf()+r*n),a&&j(e,"Date",B(e,"Date")+a*n),s&&lt(e,B(e,"Month")+s*n),o&&t.updateOffset(e,a||s))}function Ve(t,e){var i=t.diff(e,"days",!0);return-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse"}function Ue(e,i){var n=e||ve(),o=Te(n,this).startOf("day"),r=t.calendarFormat(this,o)||"sameElse",a=i&&(C(i[r])?i[r].call(this,n):i[r]);return this.format(a||this.localeData().calendar(r,this,ve(n)))}function Ye(){return new g(this)}function Ge(t,e){var i=v(t)?t:ve(t);return this.isValid()&&i.isValid()?(e=z(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf()):!1}function Xe(t,e){var i=v(t)?t:ve(t);return this.isValid()&&i.isValid()?(e=z(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf()):!1}function Ze(t,e,i,n){return n=n||"()",("("===n[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===n[1]?this.isBefore(e,i):!this.isAfter(e,i))}function Ke(t,e){var i,n=v(t)?t:ve(t);return this.isValid()&&n.isValid()?(e=z(e||"millisecond"),"millisecond"===e?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf())):!1}function Je(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Qe(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function ti(t,e,i){var n,o,r,a;return this.isValid()?(n=Te(t,this),n.isValid()?(o=6e4*(n.utcOffset()-this.utcOffset()),e=z(e),"year"===e||"month"===e||"quarter"===e?(a=ei(this,n),"quarter"===e?a/=3:"year"===e&&(a/=12)):(r=this-n,a="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-o)/864e5:"week"===e?(r-o)/6048e5:r),i?a:y(a)):NaN):NaN}function ei(t,e){var i,n,o=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(o,"months");return 0>e-r?(i=t.clone().add(o-1,"months"),n=(e-r)/(r-i)):(i=t.clone().add(o+1,"months"),n=(e-r)/(i-r)),-(o+n)||0}function ii(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ni(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?C(Date.prototype.toISOString)?this.toDate().toISOString():G(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):G(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function oi(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var i=G(this,e);return this.localeData().postformat(i)}function ri(t,e){return this.isValid()&&(v(t)&&t.isValid()||ve(t).isValid())?Fe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ai(t){return this.from(ve(),t)}function si(t,e){return this.isValid()&&(v(t)&&t.isValid()||ve(t).isValid())?Fe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function li(t){return this.to(ve(),t)}function ui(t){var e;return void 0===t?this._locale._abbr:(e=te(t),null!=e&&(this._locale=e),this)}function ci(){return this._locale}function hi(t){switch(t=z(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function di(t){return t=z(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function pi(){return this._d.valueOf()-6e4*(this._offset||0)}function fi(){return Math.floor(this.valueOf()/1e3)}function mi(){return new Date(this.valueOf())}function gi(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function vi(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function yi(){return this.isValid()?this.toISOString():null}function _i(){return d(this)}function bi(){return l({},h(this))}function xi(){return h(this).overflow}function wi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function ki(t,e){V(0,[t,t.length],0,e)}function Ci(t){return Ei.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Si(t){return Ei.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ti(){return wt(this.year(),1,4)}function Ai(){var t=this.localeData()._week;return wt(this.year(),t.dow,t.doy)}function Ei(t,e,i,n,o){var r;return null==t?xt(this,n,o).year:(r=wt(t,n,o),e>r&&(e=r),Mi.call(this,t,e,i,n,o))}function Mi(t,e,i,n,o){var r=bt(t,e,i,n,o),a=yt(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Di(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ii(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Pi(t,e){e[no]=_(1e3*("0."+t))}function Li(){return this._isUTC?"UTC":""}function Oi(){return this._isUTC?"Coordinated Universal Time":""}function zi(t){return ve(1e3*t)}function Ri(){return ve.apply(null,arguments).parseZone()}function Ni(t){return t}function $i(t,e,i,n){var o=te(),r=u().set(n,e);return o[i](r,t)}function Fi(t,e,i){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return $i(t,e,i,"month");var n,o=[];for(n=0;12>n;n++)o[n]=$i(t,n,i,"month");return o}function Bi(t,e,i,n){"boolean"==typeof t?("number"==typeof e&&(i=e,e=void 0),e=e||""):(e=t,i=e,t=!1,"number"==typeof e&&(i=e,e=void 0),e=e||"");var o=te(),r=t?o._week.dow:0;if(null!=i)return $i(e,(i+r)%7,n,"day");var a,s=[];for(a=0;7>a;a++)s[a]=$i(e,(a+r)%7,n,"day");return s}function ji(t,e){return Fi(t,e,"months")}function Hi(t,e){return Fi(t,e,"monthsShort")}function Wi(t,e,i){return Bi(t,e,i,"weekdays")}function qi(t,e,i){return Bi(t,e,i,"weekdaysShort")}function Vi(t,e,i){return Bi(t,e,i,"weekdaysMin")}function Ui(){var t=this._data;return this._milliseconds=Go(this._milliseconds),this._days=Go(this._days),this._months=Go(this._months),t.milliseconds=Go(t.milliseconds),t.seconds=Go(t.seconds),t.minutes=Go(t.minutes),t.hours=Go(t.hours),t.months=Go(t.months),t.years=Go(t.years),this}function Yi(t,e,i,n){var o=Fe(e,i);return t._milliseconds+=n*o._milliseconds,t._days+=n*o._days,t._months+=n*o._months,t._bubble()}function Gi(t,e){return Yi(this,t,e,1)}function Xi(t,e){return Yi(this,t,e,-1)}function Zi(t){return 0>t?Math.floor(t):Math.ceil(t)}function Ki(){var t,e,i,n,o,r=this._milliseconds,a=this._days,s=this._months,l=this._data;return r>=0&&a>=0&&s>=0||0>=r&&0>=a&&0>=s||(r+=864e5*Zi(Qi(s)+a),a=0,s=0),l.milliseconds=r%1e3,t=y(r/1e3),l.seconds=t%60,e=y(t/60),l.minutes=e%60,i=y(e/60),l.hours=i%24,a+=y(i/24),o=y(Ji(a)),s+=o,a-=Zi(Qi(o)),n=y(s/12),s%=12,l.days=a,l.months=s,l.years=n,this}function Ji(t){return 4800*t/146097}function Qi(t){return 146097*t/4800}function tn(t){var e,i,n=this._milliseconds;if(t=z(t),"month"===t||"year"===t)return e=this._days+n/864e5,i=this._months+Ji(e),"month"===t?i:i/12;switch(e=this._days+Math.round(Qi(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function en(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)}function nn(t){return function(){return this.as(t)}}function on(t){return t=z(t),this[t+"s"]()}function rn(t){return function(){return this._data[t]}}function an(){return y(this.days()/7)}function sn(t,e,i,n,o){return o.relativeTime(e||1,!!i,t,n)}function ln(t,e,i){var n=Fe(t).abs(),o=cr(n.as("s")),r=cr(n.as("m")),a=cr(n.as("h")),s=cr(n.as("d")),l=cr(n.as("M")),u=cr(n.as("y")),c=o<hr.s&&["s",o]||1>=r&&["m"]||r<hr.m&&["mm",r]||1>=a&&["h"]||a<hr.h&&["hh",a]||1>=s&&["d"]||s<hr.d&&["dd",s]||1>=l&&["M"]||l<hr.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=i,sn.apply(null,c)}function un(t){return void 0===t?cr:"function"==typeof t?(cr=t,!0):!1}function cn(t,e){return void 0===hr[t]?!1:void 0===e?hr[t]:(hr[t]=e,!0)}function hn(t){var e=this.localeData(),i=ln(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function dn(){var t,e,i,n=dr(this._milliseconds)/1e3,o=dr(this._days),r=dr(this._months);t=y(n/60),e=y(t/60),n%=60,t%=60,i=y(r/12),r%=12;var a=i,s=r,l=o,u=e,c=t,h=n,d=this.asSeconds();return d?(0>d?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||h?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var pn,fn;fn=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;i>n;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var mn=t.momentProperties=[],gn=!1,vn={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var yn;yn=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)s(t,e)&&i.push(e);return i};var _n,bn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},xn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},wn="Invalid date",kn="%d",Cn=/\d{1,2}/,Sn={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Tn={},An={},En=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Mn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Dn={},In={},Pn=/\d/,Ln=/\d\d/,On=/\d{3}/,zn=/\d{4}/,Rn=/[+-]?\d{6}/,Nn=/\d\d?/,$n=/\d\d\d\d?/,Fn=/\d\d\d\d\d\d?/,Bn=/\d{1,3}/,jn=/\d{1,4}/,Hn=/[+-]?\d{1,6}/,Wn=/\d+/,qn=/[+-]?\d+/,Vn=/Z|[+-]\d\d:?\d\d/gi,Un=/Z|[+-]\d\d(?::?\d\d)?/gi,Yn=/[+-]?\d+(\.\d{1,3})?/,Gn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xn={},Zn={},Kn=0,Jn=1,Qn=2,to=3,eo=4,io=5,no=6,oo=7,ro=8;_n=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},V("M",["MM",2],"Mo",function(){return this.month()+1}),V("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),V("MMMM",0,0,function(t){return this.localeData().months(this,t)}),O("month","M"),N("month",8),Z("M",Nn),Z("MM",Nn,Ln),Z("MMM",function(t,e){return e.monthsShortRegex(t)}),Z("MMMM",function(t,e){return e.monthsRegex(t)}),tt(["M","MM"],function(t,e){e[Jn]=_(t)-1}),tt(["MMM","MMMM"],function(t,e,i,n){var o=i._locale.monthsParse(t,n,i._strict);null!=o?e[Jn]=o:h(i).invalidMonth=t});var ao=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,so="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),lo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),uo=Gn,co=Gn;V("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),V(0,["YY",2],0,function(){return this.year()%100}),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),O("year","y"),N("year",1),Z("Y",qn),Z("YY",Nn,Ln),Z("YYYY",jn,zn),Z("YYYYY",Hn,Rn),Z("YYYYYY",Hn,Rn),tt(["YYYYY","YYYYYY"],Kn),tt("YYYY",function(e,i){i[Kn]=2===e.length?t.parseTwoDigitYear(e):_(e)}),tt("YY",function(e,i){i[Kn]=t.parseTwoDigitYear(e)}),tt("Y",function(t,e){e[Kn]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)};var ho=F("FullYear",!0);V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),O("week","w"),O("isoWeek","W"),N("week",5),N("isoWeek",5),Z("w",Nn),Z("ww",Nn,Ln),Z("W",Nn),Z("WW",Nn,Ln),et(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=_(t)});var po={dow:0,doy:6};V("d",0,"do","day"),V("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),V("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),V("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),O("day","d"),O("weekday","e"),O("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),Z("d",Nn),Z("e",Nn),Z("E",Nn),Z("dd",function(t,e){return e.weekdaysMinRegex(t)}),Z("ddd",function(t,e){return e.weekdaysShortRegex(t)}),Z("dddd",function(t,e){return e.weekdaysRegex(t)}),et(["dd","ddd","dddd"],function(t,e,i,n){var o=i._locale.weekdaysParse(t,n,i._strict);null!=o?e.d=o:h(i).invalidWeekday=t}),et(["d","e","E"],function(t,e,i,n){e[n]=_(t)});var fo="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),mo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),go="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),vo=Gn,yo=Gn,_o=Gn;V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Ht),V("k",["kk",2],0,Wt),V("hmm",0,0,function(){return""+Ht.apply(this)+q(this.minutes(),2)}),V("hmmss",0,0,function(){return""+Ht.apply(this)+q(this.minutes(),2)+q(this.seconds(),2)}),V("Hmm",0,0,function(){return""+this.hours()+q(this.minutes(),2)}),V("Hmmss",0,0,function(){return""+this.hours()+q(this.minutes(),2)+q(this.seconds(),2)}),qt("a",!0),qt("A",!1),O("hour","h"),N("hour",13),Z("a",Vt),Z("A",Vt),Z("H",Nn),Z("h",Nn),Z("HH",Nn,Ln),Z("hh",Nn,Ln),Z("hmm",$n),Z("hmmss",Fn),Z("Hmm",$n),Z("Hmmss",Fn),tt(["H","HH"],to),tt(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),tt(["h","hh"],function(t,e,i){e[to]=_(t),h(i).bigHour=!0}),tt("hmm",function(t,e,i){var n=t.length-2;e[to]=_(t.substr(0,n)),e[eo]=_(t.substr(n)),h(i).bigHour=!0}),tt("hmmss",function(t,e,i){var n=t.length-4,o=t.length-2;e[to]=_(t.substr(0,n)),e[eo]=_(t.substr(n,2)),e[io]=_(t.substr(o)),h(i).bigHour=!0}),tt("Hmm",function(t,e){var i=t.length-2;e[to]=_(t.substr(0,i)),e[eo]=_(t.substr(i))}),tt("Hmmss",function(t,e){var i=t.length-4,n=t.length-2;e[to]=_(t.substr(0,i)),e[eo]=_(t.substr(i,2)),e[io]=_(t.substr(n))});var bo,xo=/[ap]\.?m?\.?/i,wo=F("Hours",!0),ko={calendar:bn,longDateFormat:xn,invalidDate:wn,ordinal:kn,ordinalParse:Cn,relativeTime:Sn,months:so,monthsShort:lo,week:po,weekdays:fo,weekdaysMin:go,weekdaysShort:mo,meridiemParse:xo},Co={},So=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,To=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ao=/Z|[+-]\d\d(?::?\d\d)?/,Eo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Mo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Do=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=w("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){};var Io=w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ve.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:p()}),Po=w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ve.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:p()}),Lo=function(){return Date.now?Date.now():+new Date};Ce("Z",":"),Ce("ZZ",""),Z("Z",Un),Z("ZZ",Un),tt(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Se(Un,t)});var Oo=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var zo=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ro=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Fe.fn=xe.prototype;var No=We(1,"add"),$o=We(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Fo=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});V(0,["gg",2],0,function(){return this.weekYear()%100}),V(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ki("gggg","weekYear"),ki("ggggg","weekYear"),ki("GGGG","isoWeekYear"),ki("GGGGG","isoWeekYear"),O("weekYear","gg"),O("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),Z("G",qn),Z("g",qn),Z("GG",Nn,Ln),Z("gg",Nn,Ln),Z("GGGG",jn,zn),Z("gggg",jn,zn),Z("GGGGG",Hn,Rn),Z("ggggg",Hn,Rn),et(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=_(t)}),et(["gg","GG"],function(e,i,n,o){i[o]=t.parseTwoDigitYear(e)}),V("Q",0,"Qo","quarter"),O("quarter","Q"),N("quarter",7),Z("Q",Pn),tt("Q",function(t,e){e[Jn]=3*(_(t)-1)}),V("D",["DD",2],"Do","date"),O("date","D"),N("date",9),Z("D",Nn),Z("DD",Nn,Ln),Z("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),tt(["D","DD"],Qn),tt("Do",function(t,e){e[Qn]=_(t.match(Nn)[0],10)});var Bo=F("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),O("dayOfYear","DDD"),N("dayOfYear",4),Z("DDD",Bn),Z("DDDD",On),tt(["DDD","DDDD"],function(t,e,i){i._dayOfYear=_(t)}),V("m",["mm",2],0,"minute"),O("minute","m"),N("minute",14),Z("m",Nn),Z("mm",Nn,Ln),tt(["m","mm"],eo);var jo=F("Minutes",!1);V("s",["ss",2],0,"second"),O("second","s"),N("second",15),Z("s",Nn),Z("ss",Nn,Ln),tt(["s","ss"],io);var Ho=F("Seconds",!1);V("S",0,0,function(){return~~(this.millisecond()/100)}),V(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,function(){return 10*this.millisecond()}),V(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),V(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),V(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),V(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),V(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),O("millisecond","ms"),N("millisecond",16),Z("S",Bn,Pn),Z("SS",Bn,Ln),Z("SSS",Bn,On);var Wo;for(Wo="SSSS";Wo.length<=9;Wo+="S")Z(Wo,Wn);for(Wo="S";Wo.length<=9;Wo+="S")tt(Wo,Pi);var qo=F("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var Vo=g.prototype;Vo.add=No,Vo.calendar=Ue,Vo.clone=Ye,Vo.diff=ti,Vo.endOf=di,Vo.format=oi,Vo.from=ri,Vo.fromNow=ai,Vo.to=si,Vo.toNow=li,Vo.get=H,Vo.invalidAt=xi,Vo.isAfter=Ge,Vo.isBefore=Xe,Vo.isBetween=Ze,Vo.isSame=Ke,Vo.isSameOrAfter=Je,Vo.isSameOrBefore=Qe,Vo.isValid=_i,Vo.lang=Fo,Vo.locale=ui,Vo.localeData=ci,Vo.max=Po,Vo.min=Io,Vo.parsingFlags=bi,Vo.set=W,Vo.startOf=hi,Vo.subtract=$o,Vo.toArray=gi,Vo.toObject=vi,Vo.toDate=mi,Vo.toISOString=ni,Vo.toJSON=yi,Vo.toString=ii,Vo.unix=fi,Vo.valueOf=pi,Vo.creationData=wi,Vo.year=ho,Vo.isLeapYear=gt,Vo.weekYear=Ci,Vo.isoWeekYear=Si,Vo.quarter=Vo.quarters=Di,Vo.month=ut,Vo.daysInMonth=ct,Vo.week=Vo.weeks=Tt,Vo.isoWeek=Vo.isoWeeks=At,Vo.weeksInYear=Ai,Vo.isoWeeksInYear=Ti,Vo.date=Bo,Vo.day=Vo.days=zt,Vo.weekday=Rt,Vo.isoWeekday=Nt,Vo.dayOfYear=Ii,Vo.hour=Vo.hours=wo,Vo.minute=Vo.minutes=jo,Vo.second=Vo.seconds=Ho,Vo.millisecond=Vo.milliseconds=qo,Vo.utcOffset=Ee,Vo.utc=De,Vo.local=Ie,Vo.parseZone=Pe,Vo.hasAlignedHourOffset=Le,Vo.isDST=Oe,Vo.isLocal=Re,Vo.isUtcOffset=Ne,Vo.isUtc=$e,Vo.isUTC=$e,Vo.zoneAbbr=Li,Vo.zoneName=Oi,Vo.dates=w("dates accessor is deprecated. Use date instead.",Bo),Vo.months=w("months accessor is deprecated. Use month instead",ut),Vo.years=w("years accessor is deprecated. Use year instead",ho),Vo.zone=w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Me),Vo.isDSTShifted=w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ze);var Uo=Vo,Yo=A.prototype;Yo.calendar=E,Yo.longDateFormat=M,Yo.invalidDate=D,Yo.ordinal=I,Yo.preparse=Ni,Yo.postformat=Ni,Yo.relativeTime=P,Yo.pastFuture=L,Yo.set=S,Yo.months=ot,Yo.monthsShort=rt,Yo.monthsParse=st,Yo.monthsRegex=dt,Yo.monthsShortRegex=ht,Yo.week=kt,Yo.firstDayOfYear=St,Yo.firstDayOfWeek=Ct,Yo.weekdays=Dt,Yo.weekdaysMin=Pt,Yo.weekdaysShort=It,Yo.weekdaysParse=Ot,Yo.weekdaysRegex=$t,Yo.weekdaysShortRegex=Ft,Yo.weekdaysMinRegex=Bt,Yo.isPM=Ut,Yo.meridiem=Yt,Kt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),t.lang=w("moment.lang is deprecated. Use moment.locale instead.",Kt),t.langData=w("moment.langData is deprecated. Use moment.localeData instead.",te);var Go=Math.abs,Xo=nn("ms"),Zo=nn("s"),Ko=nn("m"),Jo=nn("h"),Qo=nn("d"),tr=nn("w"),er=nn("M"),ir=nn("y"),nr=rn("milliseconds"),or=rn("seconds"),rr=rn("minutes"),ar=rn("hours"),sr=rn("days"),lr=rn("months"),ur=rn("years"),cr=Math.round,hr={s:45,m:45,h:22,d:26,M:11},dr=Math.abs,pr=xe.prototype;pr.abs=Ui,pr.add=Gi,pr.subtract=Xi,pr.as=tn,pr.asMilliseconds=Xo,pr.asSeconds=Zo,pr.asMinutes=Ko,pr.asHours=Jo,pr.asDays=Qo,pr.asWeeks=tr,pr.asMonths=er,pr.asYears=ir,pr.valueOf=en,pr._bubble=Ki,pr.get=on,pr.milliseconds=nr,pr.seconds=or,pr.minutes=rr,pr.hours=ar,pr.days=sr,pr.weeks=an,pr.months=lr,pr.years=ur,pr.humanize=hn,pr.toISOString=dn,pr.toString=dn,pr.toJSON=dn,pr.locale=ui,pr.localeData=ci,pr.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",dn),pr.lang=Fo,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Z("x",qn),Z("X",Yn),tt("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),tt("x",function(t,e,i){i._d=new Date(_(t))}),t.version="2.15.1",e(ve),t.fn=Uo,t.min=_e,t.max=be,t.now=Lo,t.utc=u,t.unix=zi,t.months=ji,t.isDate=r,t.locale=Kt,t.invalid=p,t.duration=Fe,t.isMoment=v,t.weekdays=Wi,t.parseZone=Ri,t.localeData=te,t.isDuration=we,t.monthsShort=Hi,t.weekdaysMin=Vi,t.defineLocale=Jt,t.updateLocale=Qt,t.locales=ee,t.weekdaysShort=qi,t.normalizeUnits=z,t.relativeTimeRounding=un,t.relativeTimeThreshold=cn,t.calendarFormat=Ve,t.prototype=Uo;var fr=t;return fr}),function(){}.call(this),$(document).on("turbolinks:load",function(){if($("#map").length>0){var t=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/light-v9",zoom:15,interactive:!0,attributionControl:!1});t.on("load",function(){$.ajax({dataType:"text",url:"/professionals.json",success:function(e){function i(t){for(var e=[],i=0;i<o.features.length;i++){var n=o.features[i];-1!==n.properties.address.toLowerCase().search(t.toLowerCase())&&(n.place_name="\ud83d\udccc "+n.properties.address,n.center=n.geometry.coordinates,n.place_type=["location"],e.push(n))}return e}var n;n=$.parseJSON(e);var o={type:"FeatureCollection",features:n};t.addControl(new MapboxGeocoder({accessToken:mapboxgl.accessToken,localGeocoder:i,zoom:17,placeholder:"Zip or State"})),o.features.forEach(function(e){var i=new mapboxgl.Popup({offset:[0,-10],closeButton:!1,closeOnClick:!0}).setLngLat(e.geometry.coordinates).setHTML("<h4>"+e.properties.name+'</h4><p> <span class="rating">'+e.properties.rating+'% </span> <span class="reviews">'+e.properties.reviews+" Reviews </span></p>").setLngLat(e.geometry.coordinates).addTo(t),n=document.createElement("div");n.className="marker",n.style.color=e.properties.iconColor,new mapboxgl.Marker(n).setLngLat(e.geometry.coordinates).setPopup(i).addTo(t)}),t.jumpTo({center:o.features[0].geometry.coordinates,zoom:15})},error:function(){alert("Could not load the events")}})})}}),function(){var t,e;e=function(){return $("#resources").length>0?($("body").on("change","#resources_share_share_type",function(){return t(),$("#resources_share_url").focus()}),t()):void 0},t=function(){var t;return t=$("#resources_share_url"),"book"===$("#resources_share_share_type").val()?t.autocomplete({source:Routes.resources_books_search_path()}):t.autocomplete("instance")?t.autocomplete("destroy"):void 0},$(document).on("ready turbolinks:load",e)}.call(this),function t(e,i,n){function o(a,s){if(!i[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[a]={exports:{}};e[a][0].call(c.exports,function(t){var i=e[a][1][t];return o(i?i:t)},c,c.exports,t,e,i,n)}return i[a].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(){n(this,t)}return o(t,null,[{key:"getCookieExpiresString",value:function(t){var e=new Date,i=new Date(e.getTime()+t);return"expires="+i.toGMTString()+";"}},{key:"bake",value:function(e){document.cookie="smartbanner_exited=1; "+(e?t.getCookieExpiresString(e):"");
}},{key:"unbake",value:function(){document.cookie="smartbanner_exited=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}},{key:"baked",get:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)smartbanner_exited\s*\=\s*([^;]*).*$)|^.*$/,"$1");return"1"===t}}]),t}();i["default"]=r},{}],2:[function(t,e,i){(function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function i(){e(this,i)}return n(i,null,[{key:"platform",value:function(){return/iPhone|iPad|iPod/i.test(window.navigator.userAgent)?"ios":/Android/i.test(window.navigator.userAgent)?"android":void 0}},{key:"userAgentMatchesRegex",value:function(t){return new RegExp(t).test(window.navigator.userAgent)}},{key:"jQueryMobilePage",value:function(){return"undefined"!=typeof t.$&&"undefined"!==t.$.mobile&&null!==document.querySelector(".ui-page")}},{key:"wrapperElement",value:function(){var t=i.jQueryMobilePage()?".ui-page":"html";return document.querySelectorAll(t)}}]),i}();i["default"]=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var i=t("./smartbanner.js"),n=e(i),o=void 0;window.addEventListener("load",function(){o=new n["default"],o.publish()})},{"./smartbanner.js":7}],4:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return-1!==t.indexOf("smartbanner:")&&t.split(":")[1].length>0}function r(t){var e=t.split("-");return e.map(function(t,i){i>0&&(e[i]=t.charAt(0).toUpperCase()+t.substring(1))}),e.join("")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();t("./polyfills/array/from.js"),t("./polyfills/array/includes.js");var s=function(){function t(){n(this,t)}return a(t,[{key:"parse",value:function(){var t=document.getElementsByTagName("meta"),e={},i=null;return Array.from(t).forEach(function(t){var n=t.getAttribute("name"),a=t.getAttribute("content");n&&a&&o(n)&&a.length>0&&(i=n.split(":")[1],Array.from(i).includes("-")&&(i=r(i)),e[i]=a)}),e}}]),t}();i["default"]=s},{"./polyfills/array/from.js":5,"./polyfills/array/includes.js":6}],5:[function(){"use strict";Array.from||(Array.from=function(){var t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},i=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},n=Math.pow(2,53)-1,o=function(t){var e=i(t);return Math.min(Math.max(e,0),n)};return function(t){var i=this,n=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var r,a=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof a){if(!e(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(r=arguments[2])}for(var s,l=o(n.length),u=e(i)?Object(new i(l)):new Array(l),c=0;l>c;)s=n[c],a?u[c]="undefined"==typeof r?a(s,c):a.call(r,s,c):u[c]=s,c+=1;return u.length=l,u}}())},{}],6:[function(){"use strict";Array.prototype.includes||(Array.prototype.includes=function(t){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var e=Object(this),i=parseInt(e.length,10)||0;if(0===i)return!1;var n,o=parseInt(arguments[1],10)||0;o>=0?n=o:(n=i+o,0>n&&(n=0));for(var r;i>n;){if(r=e[n],t===r||t!==t&&r!==r)return!0;n++}return!1})},{}],7:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){e.exit(),t.preventDefault()}function a(t){this.positioningDisabled||u(t.data.height)}function s(t){var e=document.querySelector(".js_smartbanner__exit");e.addEventListener("click",function(e){return r(e,t)}),m["default"].jQueryMobilePage()&&$(document).on("pagebeforeshow",t,a)}function l(){m["default"].jQueryMobilePage()&&$(document).off("pagebeforeshow",a)}function u(t){for(var e,i=m["default"].wrapperElement(),n=0,o=i.length;o>n;n++)if(e=i[n],m["default"].jQueryMobilePage()){if(e.getAttribute(_.originalTop))continue;var r=parseFloat(getComputedStyle(e).top);e.setAttribute(_.originalTop,isNaN(r)?0:r),e.style.top=t+"px"}else{if(e.getAttribute(_.originalMarginTop))continue;var a=parseFloat(getComputedStyle(e).marginTop);e.setAttribute(_.originalMarginTop,isNaN(a)?0:a),e.style.marginTop=t+"px"}}function c(){for(var t,e=m["default"].wrapperElement(),i=0,n=e.length;n>i;i++)t=e[i],m["default"].jQueryMobilePage()&&t.getAttribute(_.originalTop)?t.style.top=t.getAttribute(_.originalTop)+"px":t.getAttribute(_.originalMarginTop)&&(t.style.marginTop=t.getAttribute(_.originalMarginTop)+"px")}Object.defineProperty(i,"__esModule",{value:!0});var h=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),d=t("./optionparser.js"),p=n(d),f=t("./detector.js"),m=n(f),g=t("./bakery.js"),v=n(g),y="android,ios",_={originalTop:"data-smartbanner-original-top",originalMarginTop:"data-smartbanner-original-margin-top"},b=function(){function t(){o(this,t);var e=new p["default"];this.options=e.parse(),this.platform=m["default"].platform()}return h(t,[{key:"publish",value:function(){if(0===Object.keys(this.options).length)throw new Error("No options detected. Please consult documentation.");if(v["default"].baked)return!1;if(this.userAgentExcluded)return!1;if(!this.platformEnabled&&!this.userAgentIncluded)return!1;var t=document.createElement("div");document.querySelector("body").appendChild(t),t.outerHTML=this.html,this.positioningDisabled||u(this.height),s(this)}},{key:"exit",value:function(){l(),this.positioningDisabled||c();var t=document.querySelector(".js_smartbanner");document.querySelector("body").removeChild(t),v["default"].bake(this.hideTtl)}},{key:"originalTop",get:function(){var t=m["default"].wrapperElement()[0];return parseFloat(t.getAttribute(_.originalTop))}},{key:"originalTopMargin",get:function(){var t=m["default"].wrapperElement()[0];return parseFloat(t.getAttribute(_.originalMarginTop))}},{key:"priceSuffix",get:function(){return"ios"===this.platform?this.options.priceSuffixApple:"android"===this.platform?this.options.priceSuffixGoogle:""}},{key:"icon",get:function(){return"android"===this.platform?this.options.iconGoogle:this.options.iconApple}},{key:"buttonUrl",get:function(){return"android"===this.platform?this.options.buttonUrlGoogle:"ios"===this.platform?this.options.buttonUrlApple:"#"}},{key:"html",get:function(){var t=this.options.customDesignModifier?this.options.customDesignModifier:this.platform;return'<div class="smartbanner smartbanner--'+t+' js_smartbanner">\n      <a href="javascript:void();" class="smartbanner__exit js_smartbanner__exit"></a>\n      <div class="smartbanner__icon" style="background-image: url('+this.icon+');"></div>\n      <div class="smartbanner__info">\n        <div>\n          <div class="smartbanner__info__title">'+this.options.title+'</div>\n          <div class="smartbanner__info__author">'+this.options.author+'</div>\n          <div class="smartbanner__info__price">'+this.options.price+this.priceSuffix+'</div>\n        </div>\n      </div>\n      <a href="'+this.buttonUrl+'" target="_blank" class="smartbanner__button"><span class="smartbanner__button__label">'+this.options.button+"</span></a>\n    </div>"}},{key:"height",get:function(){var t=document.querySelector(".js_smartbanner").offsetHeight;return void 0!==t?t:0}},{key:"platformEnabled",get:function(){var t=this.options.enabledPlatforms||y;return t&&-1!==t.replace(/\s+/g,"").split(",").indexOf(this.platform)}},{key:"positioningDisabled",get:function(){return"true"===this.options.disablePositioning}},{key:"userAgentExcluded",get:function(){return this.options.excludeUserAgentRegex?m["default"].userAgentMatchesRegex(this.options.excludeUserAgentRegex):!1}},{key:"userAgentIncluded",get:function(){return this.options.includeUserAgentRegex?m["default"].userAgentMatchesRegex(this.options.includeUserAgentRegex):!1}},{key:"hideTtl",get:function(){return this.options.hideTtl?parseInt(this.options.hideTtl):!1}}]),t}();i["default"]=b},{"./bakery.js":1,"./detector.js":2,"./optionparser.js":4}]},{},[3]),$(document).on("click","#student-verification .choose-student-id",function(){$(this).closest(".nested-form-fields").find(".not-so-visible-file-field input").click()}),$(document).on("click","#student-verification .add_fields",function(){check_for_more_than_three()}),$(document).on("click","#student-verification .fa-trash",function(){window.setTimeout(function(){check_for_more_than_three()},100)}),function(){}.call(this),function(){}.call(this),function(){$.rails.allowAction=function(t){return t.attr("data-confirm")?($.rails.showConfirmDialog(t),!1):!0},$.rails.confirmed=function(t){return t.removeAttr("data-confirm"),t.trigger("click.rails")},$.rails.showConfirmDialog=function(t){var e,i,n,o;return o=t.attr("data-confirm"),i="confirm",null!=t.attr("data-agree")&&""!==t.attr("data-agree")&&(i=t.attr("data-agree")),n='<div class="modal fade" id="confirmationDialog">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>\n        <h4 class="modal-title">Confirmation Required</h4>\n      </div>\n      <div class="modal-body">\n        <p>'+o+'</p>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="pull-left button btn-pink-white" data-dismiss="modal">Cancel</button>\n        <button type="button" class="button btn-blue confirm" data-dismiss="modal">'+i+"</button>\n      </div>\n    </div><!-- /.modal-content -->\n  </div><!-- /.modal-dialog -->\n</div><!-- /.modal -->",$("body").append(n),e=$("#confirmationDialog"),e.on("show.bs.modal",function(){return $(".confirm",e).on("click",function(){return $.rails.confirmed(t)})}),e.on("hidden.bs.modal",function(){return $("#confirmationDialog").remove(),$(".modal.fade.in").length>0?$("body").addClass("modal-open"):void 0}),e.modal()}}.call(this),function(){}.call(this),function(t){var e;e=function(){function e(e,n){t.getJSON(n,function(t){var n=e.getContext("2d"),o={scaleBeginAtZero:!0,scaleShowGridLines:!1,barShowStroke:!1,barStrokeWidth:3,barValueSpacing:5,barDatasetSpacing:7,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"><%=datasets[i].bars[0].value%></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},r=new Chart(n).Bar(t,o);i(r,e)})}function i(e,i){var n=e.generateLegend();t(i).closest(".graph").find(".legend").html(n)}t(".vertical-bar-graph").each(function(i,n){var o=t(n).data("jsonPath");e(n,o)})},t(document).ready(e),t(document).on("page:load",e)}(jQuery),function(t){var e=0,i=function(){return(new Date).getTime()+e++},n=function(t){return"["+t+"]$1"},o=function(t){return"_"+t+"_$1"},r=function(e,i,n){return e?"function"==typeof e?(i&&console.warn("association-insertion-traversal is ignored, because association-insertion-node is given as a function."),e(n)):"string"==typeof e?i?n[i](e):"this"==e?n:t(e):void 0:n.parent()};t(document).on("click",".add_fields",function(e){e.preventDefault();var a=t(this),s=a.data("association"),l=a.data("associations"),u=a.data("association-insertion-template"),c=a.data("association-insertion-method")||a.data("association-insertion-position")||"before",h=a.data("association-insertion-node"),d=a.data("association-insertion-traversal"),p=parseInt(a.data("count"),10),f=new RegExp("\\[new_"+s+"\\](.*?\\s)","g"),m=new RegExp("_new_"+s+"_(\\w*)","g"),g=i(),v=u.replace(f,n(g)),y=[];for(v==u&&(f=new RegExp("\\[new_"+l+"\\](.*?\\s)","g"),m=new RegExp("_new_"+l+"_(\\w*)","g"),v=u.replace(f,n(g))),v=v.replace(m,o(g)),y=[v],p=isNaN(p)?1:Math.max(p,1),p-=1;p;)g=i(),v=u.replace(f,n(g)),v=v.replace(m,o(g)),y.push(v),p-=1;var _=r(h,d,a);_&&0!=_.length||console.warn("Couldn't find the element to insert the template. Make sure your `data-association-insertion-*` on `link_to_add_association` is correct."),t.each(y,function(e,i){var n=t(i);_.trigger("cocoon:before-insert",[n]);_[c](n);_.trigger("cocoon:after-insert",[n])})}),t(document).on("click",".remove_fields.dynamic, .remove_fields.existing",function(e){var i=t(this),n=i.data("wrapper-class")||"nested-fields",o=i.closest("."+n),r=o.parent();e.preventDefault(),r.trigger("cocoon:before-remove",[o]);var a=r.data("remove-timeout")||0;setTimeout(function(){i.hasClass("dynamic")?o.remove():(i.prev("input[type=hidden]").val("1"),o.hide()),r.trigger("cocoon:after-remove",[o])},a)}),t(document).on("ready page:load",function(){t(".remove_fields.existing.destroyed").each(function(){var e=t(this),i=e.data("wrapper-class")||"nested-fields";e.closest("."+i).hide()})})}(jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var e=window.Slick||{};e=function(){function e(e,n){var o,r=this;r.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:t(e),appendDots:t(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,i){return t('<button type="button" data-role="none" role="button" tabindex="0" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},r.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},t.extend(r,r.initials),r.activeBreakpoint=null,r.animType=null,r.animProp=null,r.breakpoints=[],r.breakpointSettings=[],r.cssTransitions=!1,r.focussed=!1,r.interrupted=!1,r.hidden="hidden",r.paused=!0,r.positionProp=null,r.respondTo=null,r.rowCount=1,r.shouldClick=!0,r.$slider=t(e),r.$slidesCache=null,r.transformType=null,r.transitionType=null,r.visibilityChange="visibilitychange",r.windowWidth=0,r.windowTimer=null,o=t(e).data("slick")||{},r.options=t.extend({},r.defaults,n,o),r.currentSlide=r.options.initialSlide,r.originalSettings=r.options,"undefined"!=typeof document.mozHidden?(r.hidden="mozHidden",r.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(r.hidden="webkitHidden",r.visibilityChange="webkitvisibilitychange"),r.autoPlay=t.proxy(r.autoPlay,r),r.autoPlayClear=t.proxy(r.autoPlayClear,r),r.autoPlayIterator=t.proxy(r.autoPlayIterator,r),r.changeSlide=t.proxy(r.changeSlide,r),r.clickHandler=t.proxy(r.clickHandler,r),r.selectHandler=t.proxy(r.selectHandler,r),r.setPosition=t.proxy(r.setPosition,r),r.swipeHandler=t.proxy(r.swipeHandler,r),r.dragHandler=t.proxy(r.dragHandler,r),r.keyHandler=t.proxy(r.keyHandler,r),r.instanceUid=i++,r.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,r.registerBreakpoints(),r.init(!0)}var i=0;return e}(),e.prototype.activateADA=function(){var t=this;t.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,i,n){var o=this;if("boolean"==typeof i)n=i,i=null;else if(0>i||i>=o.slideCount)return!1;o.unload(),"number"==typeof i?0===i&&0===o.$slides.length?t(e).appendTo(o.$slideTrack):n?t(e).insertBefore(o.$slides.eq(i)):t(e).insertAfter(o.$slides.eq(i)):n===!0?t(e).prependTo(o.$slideTrack):t(e).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each(function(e,i){t(i).attr("data-slick-index",e)}),o.$slidesCache=o.$slides,o.reinit()},e.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&t.options.adaptiveHeight===!0&&t.options.vertical===!1){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},e.prototype.animateSlide=function(e,i){var n={},o=this;o.animateHeight(),o.options.rtl===!0&&o.options.vertical===!1&&(e=-e),o.transformsEnabled===!1?o.options.vertical===!1?o.$slideTrack.animate({left:e},o.options.speed,o.options.easing,i):o.$slideTrack.animate({top:e},o.options.speed,o.options.easing,i):o.cssTransitions===!1?(o.options.rtl===!0&&(o.currentLeft=-o.currentLeft),t({animStart:o.currentLeft}).animate({animStart:e},{duration:o.options.speed,easing:o.options.easing,step:function(t){t=Math.ceil(t),o.options.vertical===!1?(n[o.animType]="translate("+t+"px, 0px)",o.$slideTrack.css(n)):(n[o.animType]="translate(0px,"+t+"px)",o.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(o.applyTransition(),e=Math.ceil(e),o.options.vertical===!1?n[o.animType]="translate3d("+e+"px, 0px, 0px)":n[o.animType]="translate3d(0px,"+e+"px, 0px)",o.$slideTrack.css(n),i&&setTimeout(function(){o.disableTransition(),i.call()},o.options.speed))},e.prototype.getNavTarget=function(){var e=this,i=e.options.asNavFor;return i&&null!==i&&(i=t(i).not(e.$slider)),i},e.prototype.asNavFor=function(e){var i=this,n=i.getNavTarget();null!==n&&"object"==typeof n&&n.each(function(){var i=t(this).slick("getSlick");i.unslicked||i.slideHandler(e,!0)})},e.prototype.applyTransition=function(t){var e=this,i={};e.options.fade===!1?i[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:i[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,e.options.fade===!1?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.autoPlay=function(){var t=this;t.autoPlayClear(),t.slideCount>t.options.slidesToShow&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(t.options.infinite===!1&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1===0&&(t.direction=1))),t.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;e.options.arrows===!0&&(e.$prevArrow=t(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=t(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),e.options.infinite!==!0&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,i,n=this;if(n.options.dots===!0&&n.slideCount>n.options.slidesToShow){for(n.$slider.addClass("slick-dotted"),i=t("<ul />").addClass(n.options.dotsClass),e=0;e<=n.getDotCount();e+=1)i.append(t("<li />").append(n.options.customPaging.call(this,n,e)));n.$dots=i.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,i){t(i).attr("data-slick-index",e).data("originalStyling",t(i).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?t('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),e.options.centerMode!==!0&&e.options.swipeToSlide!==!0||(e.options.slidesToScroll=1),t("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.options.draggable===!0&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var t,e,i,n,o,r,a,s=this;if(n=document.createDocumentFragment(),r=s.$slider.children(),s.options.rows>1){for(a=s.options.slidesPerRow*s.options.rows,o=Math.ceil(r.length/a),t=0;o>t;t++){var l=document.createElement("div");for(e=0;e<s.options.rows;e++){var u=document.createElement("div");for(i=0;i<s.options.slidesPerRow;i++){var c=t*a+(e*s.options.slidesPerRow+i);r.get(c)&&u.appendChild(r.get(c))}l.appendChild(u)}n.appendChild(l)}s.$slider.empty().append(n),s.$slider.children().children().children().css({width:100/s.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,i){var n,o,r,a=this,s=!1,l=a.$slider.width(),u=window.innerWidth||t(window).width();if("window"===a.respondTo?r=u:"slider"===a.respondTo?r=l:"min"===a.respondTo&&(r=Math.min(u,l)),a.options.responsive&&a.options.responsive.length&&null!==a.options.responsive){o=null;for(n in a.breakpoints)a.breakpoints.hasOwnProperty(n)&&(a.originalSettings.mobileFirst===!1?r<a.breakpoints[n]&&(o=a.breakpoints[n]):r>a.breakpoints[n]&&(o=a.breakpoints[n]));null!==o?null!==a.activeBreakpoint?(o!==a.activeBreakpoint||i)&&(a.activeBreakpoint=o,"unslick"===a.breakpointSettings[o]?a.unslick(o):(a.options=t.extend({},a.originalSettings,a.breakpointSettings[o]),e===!0&&(a.currentSlide=a.options.initialSlide),a.refresh(e)),s=o):(a.activeBreakpoint=o,"unslick"===a.breakpointSettings[o]?a.unslick(o):(a.options=t.extend({},a.originalSettings,a.breakpointSettings[o]),e===!0&&(a.currentSlide=a.options.initialSlide),a.refresh(e)),s=o):null!==a.activeBreakpoint&&(a.activeBreakpoint=null,a.options=a.originalSettings,e===!0&&(a.currentSlide=a.options.initialSlide),a.refresh(e),s=o),e||s===!1||a.$slider.trigger("breakpoint",[a,s])}},e.prototype.changeSlide=function(e,i){var n,o,r,a=this,s=t(e.currentTarget);switch(s.is("a")&&e.preventDefault(),s.is("li")||(s=s.closest("li")),r=a.slideCount%a.options.slidesToScroll!==0,n=r?0:(a.slideCount-a.currentSlide)%a.options.slidesToScroll,e.data.message){case"previous":o=0===n?a.options.slidesToScroll:a.options.slidesToShow-n,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide-o,!1,i);break;case"next":o=0===n?a.options.slidesToScroll:n,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide+o,!1,i);break;case"index":var l=0===e.data.index?0:e.data.index||s.index()*a.options.slidesToScroll;a.slideHandler(a.checkNavigable(l),!1,i),s.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(t){var e,i,n=this;if(e=n.getNavigableIndexes(),i=0,t>e[e.length-1])t=e[e.length-1];else for(var o in e){if(t<e[o]){t=i;break}i=e[o]}return t},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&t("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",t.proxy(e.interrupt,e,!0)).off("mouseleave.slick",t.proxy(e.interrupt,e,!1)),e.$slider.off("focus.slick blur.slick"),e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide)),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),t(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),e.options.accessibility===!0&&e.$list.off("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&t(e.$slideTrack).children().off("click.slick",e.selectHandler),t(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),t(window).off("resize.slick.slick-"+e.instanceUid,e.resize),t("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),t(window).off("load.slick.slick-"+e.instanceUid,e.setPosition),t(document).off("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var t,e=this;e.options.rows>1&&(t=e.$slides.children().children(),t.removeAttr("style"),e.$slider.empty().append(t))},e.prototype.clickHandler=function(t){var e=this;e.shouldClick===!1&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},e.prototype.destroy=function(e){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),t(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){t(this).attr("style",t(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.$slider.removeClass("slick-dotted"),i.unslicked=!0,e||i.$slider.trigger("destroy",[i])},e.prototype.disableTransition=function(t){var e=this,i={};i[e.transitionType]="",e.options.fade===!1?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.fadeSlide=function(t,e){var i=this;i.cssTransitions===!1?(i.$slides.eq(t).css({zIndex:i.options.zIndex}),i.$slides.eq(t).animate({opacity:1},i.options.speed,i.options.easing,e)):(i.applyTransition(t),i.$slides.eq(t).css({opacity:1,zIndex:i.options.zIndex}),e&&setTimeout(function(){i.disableTransition(t),e.call()},i.options.speed))},e.prototype.fadeSlideOut=function(t){var e=this;e.cssTransitions===!1?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(t){var e=this;null!==t&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*:not(.slick-arrow)",function(i){i.stopImmediatePropagation();var n=t(this);setTimeout(function(){e.options.pauseOnFocus&&(e.focussed=n.is(":focus"),e.autoPlay())},0)})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){var t=this;return t.currentSlide},e.prototype.getDotCount=function(){var t=this,e=0,i=0,n=0;if(t.options.infinite===!0)for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(t.options.centerMode===!0)n=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else n=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return n-1},e.prototype.getLeft=function(t){var e,i,n,o=this,r=0;return o.slideOffset=0,i=o.$slides.first().outerHeight(!0),o.options.infinite===!0?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=o.slideWidth*o.options.slidesToShow*-1,r=i*o.options.slidesToShow*-1),o.slideCount%o.options.slidesToScroll!==0&&t+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(t>o.slideCount?(o.slideOffset=(o.options.slidesToShow-(t-o.slideCount))*o.slideWidth*-1,r=(o.options.slidesToShow-(t-o.slideCount))*i*-1):(o.slideOffset=o.slideCount%o.options.slidesToScroll*o.slideWidth*-1,r=o.slideCount%o.options.slidesToScroll*i*-1))):t+o.options.slidesToShow>o.slideCount&&(o.slideOffset=(t+o.options.slidesToShow-o.slideCount)*o.slideWidth,r=(t+o.options.slidesToShow-o.slideCount)*i),o.slideCount<=o.options.slidesToShow&&(o.slideOffset=0,r=0),o.options.centerMode===!0&&o.options.infinite===!0?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:o.options.centerMode===!0&&(o.slideOffset=0,o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),e=o.options.vertical===!1?t*o.slideWidth*-1+o.slideOffset:t*i*-1+r,o.options.variableWidth===!0&&(n=o.slideCount<=o.options.slidesToShow||o.options.infinite===!1?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow),e=o.options.rtl===!0?n[0]?-1*(o.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,o.options.centerMode===!0&&(n=o.slideCount<=o.options.slidesToShow||o.options.infinite===!1?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow+1),e=o.options.rtl===!0?n[0]?-1*(o.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,e+=(o.$list.width()-n.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(t){var e=this;return e.options[t]},e.prototype.getNavigableIndexes=function(){var t,e=this,i=0,n=0,o=[];for(e.options.infinite===!1?t=e.slideCount:(i=-1*e.options.slidesToScroll,n=-1*e.options.slidesToScroll,t=2*e.slideCount);t>i;)o.push(i),i=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return o},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,i,n,o=this;return n=o.options.centerMode===!0?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,o.options.swipeToSlide===!0?(o.$slideTrack.find(".slick-slide").each(function(e,r){return r.offsetLeft-n+t(r).outerWidth()/2>-1*o.swipeLeft?(i=r,!1):void 0}),e=Math.abs(t(i).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(t,e){var i=this;i.changeSlide({data:{message:"index",index:parseInt(t)}},e)},e.prototype.init=function(e){var i=this;t(i.$slider).hasClass("slick-initialized")||(t(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler()),e&&i.$slider.trigger("init",[i]),i.options.accessibility===!0&&i.initADA(),i.options.autoplay&&(i.paused=!1,i.autoPlay())},e.prototype.initADA=function(){var e=this;e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"
}),e.$slideTrack.attr("role","listbox"),e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(i){t(this).attr({role:"option","aria-describedby":"slick-slide"+e.instanceUid+i})}),null!==e.$dots&&e.$dots.attr("role","tablist").find("li").each(function(i){t(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+e.instanceUid+i,id:"slick-slide"+e.instanceUid+i})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),e.activateADA()},e.prototype.initArrowEvents=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.off("click.slick").on("click.slick",{message:"next"},t.changeSlide))},e.prototype.initDotEvents=function(){var e=this;e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&t("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),e.options.dots===!0&&e.options.pauseOnDotsHover===!0&&t("li",e.$dots).on("mouseenter.slick",t.proxy(e.interrupt,e,!0)).on("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",t.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),t(document).on(e.visibilityChange,t.proxy(e.visibility,e)),e.options.accessibility===!0&&e.$list.on("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),t(window).on("orientationchange.slick.slick-"+e.instanceUid,t.proxy(e.orientationChange,e)),t(window).on("resize.slick.slick-"+e.instanceUid,t.proxy(e.resize,e)),t("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),t(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),t(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.initUI=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&t.$dots.show()},e.prototype.keyHandler=function(t){var e=this;t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&e.options.accessibility===!0?e.changeSlide({data:{message:e.options.rtl===!0?"next":"previous"}}):39===t.keyCode&&e.options.accessibility===!0&&e.changeSlide({data:{message:e.options.rtl===!0?"previous":"next"}}))},e.prototype.lazyLoad=function(){function e(e){t("img[data-lazy]",e).each(function(){var e=t(this),i=t(this).attr("data-lazy"),n=document.createElement("img");n.onload=function(){e.animate({opacity:0},100,function(){e.attr("src",i).animate({opacity:1},200,function(){e.removeAttr("data-lazy").removeClass("slick-loading")}),a.$slider.trigger("lazyLoaded",[a,e,i])})},n.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),a.$slider.trigger("lazyLoadError",[a,e,i])},n.src=i})}var i,n,o,r,a=this;a.options.centerMode===!0?a.options.infinite===!0?(o=a.currentSlide+(a.options.slidesToShow/2+1),r=o+a.options.slidesToShow+2):(o=Math.max(0,a.currentSlide-(a.options.slidesToShow/2+1)),r=2+(a.options.slidesToShow/2+1)+a.currentSlide):(o=a.options.infinite?a.options.slidesToShow+a.currentSlide:a.currentSlide,r=Math.ceil(o+a.options.slidesToShow),a.options.fade===!0&&(o>0&&o--,r<=a.slideCount&&r++)),i=a.$slider.find(".slick-slide").slice(o,r),e(i),a.slideCount<=a.options.slidesToShow?(n=a.$slider.find(".slick-slide"),e(n)):a.currentSlide>=a.slideCount-a.options.slidesToShow?(n=a.$slider.find(".slick-cloned").slice(0,a.options.slidesToShow),e(n)):0===a.currentSlide&&(n=a.$slider.find(".slick-cloned").slice(-1*a.options.slidesToShow),e(n))},e.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){var t=this;t.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var t=this;t.checkResponsive(),t.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var t=this;t.autoPlayClear(),t.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var t=this;t.autoPlay(),t.options.autoplay=!0,t.paused=!1,t.focussed=!1,t.interrupted=!1},e.prototype.postSlide=function(t){var e=this;e.unslicked||(e.$slider.trigger("afterChange",[e,t]),e.animating=!1,e.setPosition(),e.swipeLeft=null,e.options.autoplay&&e.autoPlay(),e.options.accessibility===!0&&e.initADA())},e.prototype.prev=e.prototype.slickPrev=function(){var t=this;t.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(t){t.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var i,n,o,r=this,a=t("img[data-lazy]",r.$slider);a.length?(i=a.first(),n=i.attr("data-lazy"),o=document.createElement("img"),o.onload=function(){i.attr("src",n).removeAttr("data-lazy").removeClass("slick-loading"),r.options.adaptiveHeight===!0&&r.setPosition(),r.$slider.trigger("lazyLoaded",[r,i,n]),r.progressiveLazyLoad()},o.onerror=function(){3>e?setTimeout(function(){r.progressiveLazyLoad(e+1)},500):(i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,i,n]),r.progressiveLazyLoad())},o.src=n):r.$slider.trigger("allImagesLoaded",[r])},e.prototype.refresh=function(e){var i,n,o=this;n=o.slideCount-o.options.slidesToShow,!o.options.infinite&&o.currentSlide>n&&(o.currentSlide=n),o.slideCount<=o.options.slidesToShow&&(o.currentSlide=0),i=o.currentSlide,o.destroy(!0),t.extend(o,o.initials,{currentSlide:i}),o.init(),e||o.changeSlide({data:{message:"index",index:i}},!1)},e.prototype.registerBreakpoints=function(){var e,i,n,o=this,r=o.options.responsive||null;if("array"===t.type(r)&&r.length){o.respondTo=o.options.respondTo||"window";for(e in r)if(n=o.breakpoints.length-1,i=r[e].breakpoint,r.hasOwnProperty(e)){for(;n>=0;)o.breakpoints[n]&&o.breakpoints[n]===i&&o.breakpoints.splice(n,1),n--;o.breakpoints.push(i),o.breakpointSettings[i]=r[e].settings}o.breakpoints.sort(function(t,e){return o.options.mobileFirst?t-e:e-t})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),e.options.focusOnSelect===!0&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;t(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=t(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(t,e,i){var n=this;return"boolean"==typeof t?(e=t,t=e===!0?0:n.slideCount-1):t=e===!0?--t:t,n.slideCount<1||0>t||t>n.slideCount-1?!1:(n.unload(),i===!0?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(t).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,void n.reinit())},e.prototype.setCSS=function(t){var e,i,n=this,o={};n.options.rtl===!0&&(t=-t),e="left"==n.positionProp?Math.ceil(t)+"px":"0px",i="top"==n.positionProp?Math.ceil(t)+"px":"0px",o[n.positionProp]=t,n.transformsEnabled===!1?n.$slideTrack.css(o):(o={},n.cssTransitions===!1?(o[n.animType]="translate("+e+", "+i+")",n.$slideTrack.css(o)):(o[n.animType]="translate3d("+e+", "+i+", 0px)",n.$slideTrack.css(o)))},e.prototype.setDimensions=function(){var t=this;t.options.vertical===!1?t.options.centerMode===!0&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),t.options.centerMode===!0&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),t.options.vertical===!1&&t.options.variableWidth===!1?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):t.options.variableWidth===!0?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();t.options.variableWidth===!1&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},e.prototype.setFade=function(){var e,i=this;i.$slides.each(function(n,o){e=i.slideWidth*n*-1,i.options.rtl===!0?t(o).css({position:"relative",right:e,top:0,zIndex:i.options.zIndex-2,opacity:0}):t(o).css({position:"relative",left:e,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&t.options.adaptiveHeight===!0&&t.options.vertical===!1){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,i,n,o,r,a=this,s=!1;if("object"===t.type(arguments[0])?(n=arguments[0],s=arguments[1],r="multiple"):"string"===t.type(arguments[0])&&(n=arguments[0],o=arguments[1],s=arguments[2],"responsive"===arguments[0]&&"array"===t.type(arguments[1])?r="responsive":"undefined"!=typeof arguments[1]&&(r="single")),"single"===r)a.options[n]=o;else if("multiple"===r)t.each(n,function(t,e){a.options[t]=e});else if("responsive"===r)for(i in o)if("array"!==t.type(a.options.responsive))a.options.responsive=[o[i]];else{for(e=a.options.responsive.length-1;e>=0;)a.options.responsive[e].breakpoint===o[i].breakpoint&&a.options.responsive.splice(e,1),e--;a.options.responsive.push(o[i])}s&&(a.unload(),a.reinit())},e.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),t.options.fade===!1?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},e.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=t.options.vertical===!0?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||t.options.useCSS===!0&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&t.animType!==!1&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&t.animType!==!1},e.prototype.setSlideClasses=function(t){var e,i,n,o,r=this;i=r.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),r.$slides.eq(t).addClass("slick-current"),r.options.centerMode===!0?(e=Math.floor(r.options.slidesToShow/2),r.options.infinite===!0&&(t>=e&&t<=r.slideCount-1-e?r.$slides.slice(t-e,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(n=r.options.slidesToShow+t,i.slice(n-e+1,n+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?i.eq(i.length-1-r.options.slidesToShow).addClass("slick-center"):t===r.slideCount-1&&i.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(t).addClass("slick-center")):t>=0&&t<=r.slideCount-r.options.slidesToShow?r.$slides.slice(t,t+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=r.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(o=r.slideCount%r.options.slidesToShow,n=r.options.infinite===!0?r.options.slidesToShow+t:t,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-t<r.options.slidesToShow?i.slice(n-(r.options.slidesToShow-o),n+o).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===r.options.lazyLoad&&r.lazyLoad()},e.prototype.setupInfinite=function(){var e,i,n,o=this;if(o.options.fade===!0&&(o.options.centerMode=!1),o.options.infinite===!0&&o.options.fade===!1&&(i=null,o.slideCount>o.options.slidesToShow)){for(n=o.options.centerMode===!0?o.options.slidesToShow+1:o.options.slidesToShow,e=o.slideCount;e>o.slideCount-n;e-=1)i=e-1,t(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(e=0;n>e;e+=1)i=e,t(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each(function(){t(this).attr("id","")})}},e.prototype.interrupt=function(t){var e=this;t||e.autoPlay(),e.interrupted=t},e.prototype.selectHandler=function(e){var i=this,n=t(e.target).is(".slick-slide")?t(e.target):t(e.target).parents(".slick-slide"),o=parseInt(n.attr("data-slick-index"));return o||(o=0),i.slideCount<=i.options.slidesToShow?(i.setSlideClasses(o),void i.asNavFor(o)):void i.slideHandler(o)},e.prototype.slideHandler=function(t,e,i){var n,o,r,a,s,l=null,u=this;return e=e||!1,u.animating===!0&&u.options.waitForAnimate===!0||u.options.fade===!0&&u.currentSlide===t||u.slideCount<=u.options.slidesToShow?void 0:(e===!1&&u.asNavFor(t),n=t,l=u.getLeft(n),a=u.getLeft(u.currentSlide),u.currentLeft=null===u.swipeLeft?a:u.swipeLeft,u.options.infinite===!1&&u.options.centerMode===!1&&(0>t||t>u.getDotCount()*u.options.slidesToScroll)?void(u.options.fade===!1&&(n=u.currentSlide,i!==!0?u.animateSlide(a,function(){u.postSlide(n)}):u.postSlide(n))):u.options.infinite===!1&&u.options.centerMode===!0&&(0>t||t>u.slideCount-u.options.slidesToScroll)?void(u.options.fade===!1&&(n=u.currentSlide,i!==!0?u.animateSlide(a,function(){u.postSlide(n)}):u.postSlide(n))):(u.options.autoplay&&clearInterval(u.autoPlayTimer),o=0>n?u.slideCount%u.options.slidesToScroll!==0?u.slideCount-u.slideCount%u.options.slidesToScroll:u.slideCount+n:n>=u.slideCount?u.slideCount%u.options.slidesToScroll!==0?0:n-u.slideCount:n,u.animating=!0,u.$slider.trigger("beforeChange",[u,u.currentSlide,o]),r=u.currentSlide,u.currentSlide=o,u.setSlideClasses(u.currentSlide),u.options.asNavFor&&(s=u.getNavTarget(),s=s.slick("getSlick"),s.slideCount<=s.options.slidesToShow&&s.setSlideClasses(u.currentSlide)),u.updateDots(),u.updateArrows(),u.options.fade===!0?(i!==!0?(u.fadeSlideOut(r),u.fadeSlide(o,function(){u.postSlide(o)})):u.postSlide(o),void u.animateHeight()):void(i!==!0?u.animateSlide(l,function(){u.postSlide(o)}):u.postSlide(o))))},e.prototype.startLoad=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var t,e,i,n,o=this;return t=o.touchObject.startX-o.touchObject.curX,e=o.touchObject.startY-o.touchObject.curY,i=Math.atan2(e,t),n=Math.round(180*i/Math.PI),0>n&&(n=360-Math.abs(n)),45>=n&&n>=0?o.options.rtl===!1?"left":"right":360>=n&&n>=315?o.options.rtl===!1?"left":"right":n>=135&&225>=n?o.options.rtl===!1?"right":"left":o.options.verticalSwiping===!0?n>=35&&135>=n?"down":"up":"vertical"},e.prototype.swipeEnd=function(){var t,e,i=this;if(i.dragging=!1,i.interrupted=!1,i.shouldClick=!(i.touchObject.swipeLength>10),void 0===i.touchObject.curX)return!1;if(i.touchObject.edgeHit===!0&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe){switch(e=i.swipeDirection()){case"left":case"down":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.currentDirection=0;break;case"right":case"up":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.currentDirection=1}"vertical"!=e&&(i.slideHandler(t),i.touchObject={},i.$slider.trigger("swipe",[i,e]))}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},e.prototype.swipeHandler=function(t){var e=this;if(!(e.options.swipe===!1||"ontouchend"in document&&e.options.swipe===!1||e.options.draggable===!1&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,e.options.verticalSwiping===!0&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},e.prototype.swipeMove=function(t){var e,i,n,o,r,a=this;return r=void 0!==t.originalEvent?t.originalEvent.touches:null,!a.dragging||r&&1!==r.length?!1:(e=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==r?r[0].pageX:t.clientX,a.touchObject.curY=void 0!==r?r[0].pageY:t.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),a.options.verticalSwiping===!0&&(a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2)))),i=a.swipeDirection(),"vertical"!==i?(void 0!==t.originalEvent&&a.touchObject.swipeLength>4&&t.preventDefault(),o=(a.options.rtl===!1?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),a.options.verticalSwiping===!0&&(o=a.touchObject.curY>a.touchObject.startY?1:-1),n=a.touchObject.swipeLength,a.touchObject.edgeHit=!1,a.options.infinite===!1&&(0===a.currentSlide&&"right"===i||a.currentSlide>=a.getDotCount()&&"left"===i)&&(n=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),a.options.vertical===!1?a.swipeLeft=e+n*o:a.swipeLeft=e+n*(a.$list.height()/a.listWidth)*o,a.options.verticalSwiping===!0&&(a.swipeLeft=e+n*o),a.options.fade===!0||a.options.touchMove===!1?!1:a.animating===!0?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft)):void 0)},e.prototype.swipeStart=function(t){var e,i=this;return i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==e?e.pageX:t.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==e?e.pageY:t.clientY,void(i.dragging=!0))},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},e.prototype.unload=function(){var e=this;t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(t){var e=this;e.$slider.trigger("unslick",[e,t]),e.destroy()},e.prototype.updateArrows=function(){var t,e=this;t=Math.floor(e.options.slidesToShow/2),e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&e.options.centerMode===!1?(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-1&&e.options.centerMode===!0&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},e.prototype.visibility=function(){var t=this;t.options.autoplay&&(document[t.hidden]?t.interrupted=!0:t.interrupted=!1)},t.fn.slick=function(){var t,i,n=this,o=arguments[0],r=Array.prototype.slice.call(arguments,1),a=n.length;for(t=0;a>t;t++)if("object"==typeof o||"undefined"==typeof o?n[t].slick=new e(n[t],o):i=n[t].slick[o].apply(n[t].slick,r),"undefined"!=typeof i)return i;return n}}),function(t){var e;t.remotipart=e={setup:function(i){var n=i.data("ujs:submit-button"),o=t('meta[name="csrf-param"]').attr("content"),r=t('meta[name="csrf-token"]').attr("content"),a=i.find('input[name="'+o+'"]').length;i.one("ajax:beforeSend.remotipart",function(s,l,u){return delete u.beforeSend,u.iframe=!0,u.files=t(t.rails.fileInputSelector,i),u.data=i.serializeArray(),n&&u.data.push(n),u.files.each(function(t,e){for(var i=u.data.length-1;i>=0;i--)u.data[i].name==e.name&&u.data.splice(i,1)}),u.processData=!1,void 0===u.dataType&&(u.dataType="script *"),u.data.push({name:"remotipart_submitted",value:!0}),r&&o&&!a&&u.data.push({name:o,value:r}),t.rails.fire(i,"ajax:remotipartSubmit",[l,u])&&(t.rails.ajax(u).complete(function(e){t.rails.fire(i,"ajax:remotipartComplete",[e])}),setTimeout(function(){t.rails.disableFormElements(i)},20)),e.teardown(i),!1}).data("remotipartSubmitted",!0)},teardown:function(t){t.unbind("ajax:beforeSend.remotipart").removeData("remotipartSubmitted")}},t(document).on("ajax:aborted:file","form",function(){var i=t(this);return e.setup(i),t.rails.handleRemote(i),!1})}(jQuery),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},o=function(){return i.apply(this instanceof n&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,o.prototype=new n,o});var wysihtml5={version:"0.3.0",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};window.rangy=function(){function t(t,e){var i=typeof t[e];return i==h||!(i!=c||!t[e])||"unknown"==i}function e(t,e){return!(typeof t[e]!=c||!t[e])}function i(t,e){return typeof t[e]!=d}function n(t){return function(e,i){for(var n=i.length;n--;)if(!t(e,i[n]))return!1;return!0}}function o(t){return t&&v(t,g)&&_(t,m)}function r(t){window.alert("Rangy not supported in your browser. Reason: "+t),b.initialized=!0,b.supported=!1}function a(t){var e="Rangy warning: "+t;b.config.alertOnWarn?window.alert(e):typeof window.console!=d&&typeof window.console.log!=d&&window.console.log(e)}function s(){if(!b.initialized){var i,n=!1,a=!1;t(document,"createRange")&&(i=document.createRange(),v(i,f)&&_(i,p)&&(n=!0),i.detach());var s=e(document,"body")?document.body:document.getElementsByTagName("body")[0];s&&t(s,"createTextRange")&&(i=s.createTextRange(),o(i)&&(a=!0)),n||a||r("Neither Range nor TextRange are implemented"),b.initialized=!0,b.features={implementsDomRange:n,implementsTextRange:a};for(var l=w.concat(x),u=0,c=l.length;c>u;++u)try{l[u](b)}catch(h){e(window,"console")&&t(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",h)}}}function l(t){t=t||window,s();for(var e=0,i=k.length;i>e;++e)k[e](t)}function u(t){this.name=t,this.initialized=!1,this.supported=!1}var c="object",h="function",d="undefined",p=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"],f=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],m=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],g=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"],v=n(t),y=n(e),_=n(i),b={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:t,isHostObject:e,isHostProperty:i,areHostMethods:v,areHostObjects:y,areHostProperties:_,isTextRange:o},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};b.fail=r,b.warn=a,{}.hasOwnProperty?b.util.extend=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])}:r("hasOwnProperty not supported");var x=[],w=[];b.init=s,b.addInitListener=function(t){b.initialized?t(b):x.push(t)};var k=[];b.addCreateMissingNativeApiListener=function(t){k.push(t)},b.createMissingNativeApi=l,u.prototype.fail=function(t){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+t)},u.prototype.warn=function(t){b.warn("Module "+this.name+": "+t)},u.prototype.createError=function(t){return new Error("Error in Rangy "+this.name+" module: "+t)},b.createModule=function(t,e){var i=new u(t);b.modules[t]=i,w.push(function(t){e(t,i),i.initialized=!0,i.supported=!0})},b.requireModules=function(t){for(var e,i,n=0,o=t.length;o>n;++n){if(i=t[n],e=b.modules[i],!(e&&e instanceof u))throw new Error("Module '"+i+"' not found");if(!e.supported)throw new Error("Module '"+i+"' not supported")}};var C=!1,S=function(){C||(C=!0,b.initialized||s())};return typeof window==d?void r("No window found"):typeof document==d?void r("No document found"):(t(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",S,!1),t(window,"addEventListener")?window.addEventListener("load",S,!1):t(window,"attachEvent")?window.attachEvent("onload",S):r("Window does not have required addEventListener or attachEvent method"),b)}(),rangy.createModule("DomUtil",function(t,e){function i(t){var e;return typeof t.namespaceURI==S||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e}function n(t){var e=t.parentNode;return 1==e.nodeType?e:null}function o(t){for(var e=0;t=t.previousSibling;)e++;return e}function r(t){var e;return u(t)?t.length:(e=t.childNodes)?e.length:0}function a(t,e){var i,n=[];for(i=t;i;i=i.parentNode)n.push(i);for(i=e;i;i=i.parentNode)if(M(n,i))return i;return null}function s(t,e,i){for(var n=i?e:e.parentNode;n;){if(n===t)return!0;n=n.parentNode}return!1}function l(t,e,i){for(var n,o=i?t:t.parentNode;o;){if(n=o.parentNode,n===e)return o;o=n}return null}function u(t){var e=t.nodeType;return 3==e||4==e||8==e}function c(t,e){var i=e.nextSibling,n=e.parentNode;return i?n.insertBefore(t,i):n.appendChild(t),t}function h(t,e){var i=t.cloneNode(!1);return i.deleteData(0,e),t.deleteData(e,t.length-e),c(i,t),i}function d(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=S)return t.ownerDocument;if(typeof t.document!=S)return t.document;if(t.parentNode)return d(t.parentNode);throw new Error("getDocument: no document found for node")}function p(t){var e=d(t);if(typeof e.defaultView!=S)return e.defaultView;if(typeof e.parentWindow!=S)return e.parentWindow;throw new Error("Cannot get a window object for node")}function f(t){if(typeof t.contentDocument!=S)return t.contentDocument;if(typeof t.contentWindow!=S)return t.contentWindow.document;throw new Error("getIframeWindow: No Document object found for iframe element")}function m(t){if(typeof t.contentWindow!=S)return t.contentWindow;if(typeof t.contentDocument!=S)return t.contentDocument.defaultView;throw new Error("getIframeWindow: No Window object found for iframe element")}function g(t){return T.isHostObject(t,"body")?t.body:t.getElementsByTagName("body")[0]}function v(t){for(var e;e=t.parentNode;)t=e;return t}function y(t,e,i,n){var r,s,u,c,h;if(t==i)return e===n?0:n>e?-1:1;if(r=l(i,t,!0))return e<=o(r)?-1:1;if(r=l(t,i,!0))return o(r)<n?-1:1;if(s=a(t,i),u=t===s?s:l(t,s,!0),c=i===s?s:l(i,s,!0),u===c)throw new Error("comparePoints got to case 4 and childA and childB are the same!");for(h=s.firstChild;h;){if(h===u)return-1;if(h===c)return 1;h=h.nextSibling}throw new Error("Should not be here!")}function _(t){for(var e,i=d(t).createDocumentFragment();e=t.firstChild;)i.appendChild(e);return i}function b(t){if(!t)return"[No node]";if(u(t))return'"'+t.data+'"';if(1==t.nodeType){var e=t.id?' id="'+t.id+'"':"";return"<"+t.nodeName+e+">["+t.childNodes.length+"]"}return t.nodeName}function x(t){this.root=t,this._next=t}function w(t){return new x(t)}function k(t,e){this.node=t,this.offset=e}function C(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}var S="undefined",T=t.util;T.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||e.fail("document missing a Node creation method"),T.isHostMethod(document,"getElementsByTagName")||e.fail("document missing getElementsByTagName method");var A=document.createElement("div");T.areHostMethods(A,["insertBefore","appendChild","cloneNode"]||!T.areHostObjects(A,["previousSibling","nextSibling","childNodes","parentNode"]))||e.fail("Incomplete Element implementation"),T.isHostProperty(A,"innerHTML")||e.fail("Element is missing innerHTML property");var E=document.createTextNode("test");T.areHostMethods(E,["splitText","deleteData","insertData","appendData","cloneNode"]||!T.areHostObjects(A,["previousSibling","nextSibling","childNodes","parentNode"])||!T.areHostProperties(E,["data"]))||e.fail("Incomplete Text Node implementation");var M=function(t,e){for(var i=t.length;i--;)if(t[i]===e)return!0;return!1};x.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var t,e,i=this._current=this._next;if(this._current)if(t=i.firstChild)this._next=t;else{for(e=null;i!==this.root&&!(e=i.nextSibling);)i=i.parentNode;this._next=e}return this._current},detach:function(){this._current=this._next=this.root=null}},k.prototype={equals:function(t){return this.node===t.node&this.offset==t.offset},inspect:function(){return"[DomPosition("+b(this.node)+":"+this.offset+")]"}},C.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11},C.prototype.toString=function(){return this.message},t.dom={arrayContains:M,isHtmlNamespace:i,parentElement:n,getNodeIndex:o,getNodeLength:r,getCommonAncestor:a,isAncestorOf:s,getClosestAncestorIn:l,isCharacterDataNode:u,insertAfter:c,splitDataNode:h,getDocument:d,getWindow:p,getIframeWindow:m,getIframeDocument:f,getBody:g,getRootContainer:v,comparePoints:y,inspectNode:b,fragmentFromNodeChildren:_,createIterator:w,DomPosition:k},t.DOMException=C}),rangy.createModule("DomRange",function(t){function e(t,e){return 3!=t.nodeType&&(R.isAncestorOf(t,e.startContainer,!0)||R.isAncestorOf(t,e.endContainer,!0));
}function i(t){return R.getDocument(t.startContainer)}function n(t,e,i){var n=t._listeners[e];if(n)for(var o=0,r=n.length;r>o;++o)n[o].call(t,{target:t,args:i})}function o(t){return new N(t.parentNode,R.getNodeIndex(t))}function r(t){return new N(t.parentNode,R.getNodeIndex(t)+1)}function a(t,e,i){var n=11==t.nodeType?t.firstChild:t;return R.isCharacterDataNode(e)?i==e.length?R.insertAfter(t,e):e.parentNode.insertBefore(t,0==i?e:R.splitDataNode(e,i)):i>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[i]),n}function s(t){for(var e,n,o,r=i(t.range).createDocumentFragment();n=t.next();){if(e=t.isPartiallySelectedSubtree(),n=n.cloneNode(!e),e&&(o=t.getSubtreeIterator(),n.appendChild(s(o)),o.detach(!0)),10==n.nodeType)throw new $("HIERARCHY_REQUEST_ERR");r.appendChild(n)}return r}function l(t,e,i){var n,o;i=i||{stop:!1};for(var r,a;r=t.next();)if(t.isPartiallySelectedSubtree()){if(e(r)===!1)return void(i.stop=!0);if(a=t.getSubtreeIterator(),l(a,e,i),a.detach(!0),i.stop)return}else for(n=R.createIterator(r);o=n.next();)if(e(o)===!1)return void(i.stop=!0)}function u(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(e=t.getSubtreeIterator(),u(e),e.detach(!0)):t.remove()}function c(t){for(var e,n,o=i(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),n=t.getSubtreeIterator(),e.appendChild(c(n)),n.detach(!0)):t.remove(),10==e.nodeType)throw new $("HIERARCHY_REQUEST_ERR");o.appendChild(e)}return o}function h(t,e,i){var n,o=!(!e||!e.length),r=!!i;o&&(n=new RegExp("^("+e.join("|")+")$"));var a=[];return l(new p(t,!1),function(t){o&&!n.test(t.nodeType)||r&&!i(t)||a.push(t)}),a}function d(t){var e="undefined"==typeof t.getName?"Range":t.getName();return"["+e+"("+R.inspectNode(t.startContainer)+":"+t.startOffset+", "+R.inspectNode(t.endContainer)+":"+t.endOffset+")]"}function p(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var i=t.commonAncestorContainer;this.sc===this.ec&&R.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==i||R.isCharacterDataNode(this.sc)?R.getClosestAncestorIn(this.sc,i,!0):this.sc.childNodes[this.so],this._last=this.ec!==i||R.isCharacterDataNode(this.ec)?R.getClosestAncestorIn(this.ec,i,!0):this.ec.childNodes[this.eo-1])}}function f(t){this.code=this[t],this.codeName=t,this.message="RangeException: "+this.codeName}function m(t,e,i){this.nodes=h(t,e,i),this._next=this.nodes[0],this._position=0}function g(t){return function(e,i){for(var n,o=i?e:e.parentNode;o;){if(n=o.nodeType,R.arrayContains(t,n))return o;o=o.parentNode}return null}}function v(t,e){if(Y(t,e))throw new f("INVALID_NODE_TYPE_ERR")}function y(t){if(!t.startContainer)throw new $("INVALID_STATE_ERR")}function _(t,e){if(!R.arrayContains(e,t.nodeType))throw new f("INVALID_NODE_TYPE_ERR")}function b(t,e){if(0>e||e>(R.isCharacterDataNode(t)?t.length:t.childNodes.length))throw new $("INDEX_SIZE_ERR")}function x(t,e){if(V(t,!0)!==V(e,!0))throw new $("WRONG_DOCUMENT_ERR")}function w(t){if(U(t,!0))throw new $("NO_MODIFICATION_ALLOWED_ERR")}function k(t,e){if(!t)throw new $(e)}function C(t){return!R.arrayContains(B,t.nodeType)&&!V(t,!0)}function S(t,e){return e<=(R.isCharacterDataNode(t)?t.length:t.childNodes.length)}function T(t){if(y(t),C(t.startContainer)||C(t.endContainer)||!S(t.startContainer,t.startOffset)||!S(t.endContainer,t.endOffset))throw new Error("Range error: Range is no longer valid after DOM mutation ("+t.inspect()+")")}function A(){}function E(t){t.START_TO_START=Q,t.START_TO_END=tt,t.END_TO_END=et,t.END_TO_START=it,t.NODE_BEFORE=nt,t.NODE_AFTER=ot,t.NODE_BEFORE_AND_AFTER=rt,t.NODE_INSIDE=at}function M(t){E(t),E(t.prototype)}function D(t,e){return function(){T(this);var i,n,o=this.startContainer,a=this.startOffset,s=this.commonAncestorContainer,u=new p(this,!0);o!==s&&(i=R.getClosestAncestorIn(o,s,!0),n=r(i),o=n.node,a=n.offset),l(u,w),u.reset();var c=t(u);return u.detach(),e(this,o,a,o,a),c}}function I(i,n,a){function s(t,e){return function(i){y(this),_(i,F),_(q(i),B);var n=(t?o:r)(i);(e?l:h)(this,n.node,n.offset)}}function l(t,e,i){var o=t.endContainer,r=t.endOffset;e===t.startContainer&&i===t.startOffset||(q(e)==q(o)&&1!=R.comparePoints(e,i,o,r)||(o=e,r=i),n(t,e,i,o,r))}function h(t,e,i){var o=t.startContainer,r=t.startOffset;e===t.endContainer&&i===t.endOffset||(q(e)==q(o)&&-1!=R.comparePoints(e,i,o,r)||(o=e,r=i),n(t,o,r,e,i))}function d(t,e,i){e===t.startContainer&&i===t.startOffset&&e===t.endContainer&&i===t.endOffset||n(t,e,i,e,i)}i.prototype=new A,t.util.extend(i.prototype,{setStart:function(t,e){y(this),v(t,!0),b(t,e),l(this,t,e)},setEnd:function(t,e){y(this),v(t,!0),b(t,e),h(this,t,e)},setStartBefore:s(!0,!0),setStartAfter:s(!1,!0),setEndBefore:s(!0,!1),setEndAfter:s(!1,!1),collapse:function(t){T(this),t?n(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):n(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(t){y(this),v(t,!0),n(this,t,0,t,R.getNodeLength(t))},selectNode:function(t){y(this),v(t,!1),_(t,F);var e=o(t),i=r(t);n(this,e.node,e.offset,i.node,i.offset)},extractContents:D(c,n),deleteContents:D(u,n),canSurroundContents:function(){T(this),w(this.startContainer),w(this.endContainer);var t=new p(this,!0),i=t._first&&e(t._first,this)||t._last&&e(t._last,this);return t.detach(),!i},detach:function(){a(this)},splitBoundaries:function(){T(this);var t=this.startContainer,e=this.startOffset,i=this.endContainer,o=this.endOffset,r=t===i;R.isCharacterDataNode(i)&&o>0&&o<i.length&&R.splitDataNode(i,o),R.isCharacterDataNode(t)&&e>0&&e<t.length&&(t=R.splitDataNode(t,e),r?(o-=e,i=t):i==t.parentNode&&o>=R.getNodeIndex(t)&&o++,e=0),n(this,t,e,i,o)},normalizeBoundaries:function(){T(this);var t=this.startContainer,e=this.startOffset,i=this.endContainer,o=this.endOffset,r=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(i=t,o=t.length,t.appendData(e.data),e.parentNode.removeChild(e))},a=function(n){var r=n.previousSibling;if(r&&r.nodeType==n.nodeType){t=n;var a=n.length;if(e=r.length,n.insertData(0,r.data),r.parentNode.removeChild(r),t==i)o+=e,i=t;else if(i==n.parentNode){var s=R.getNodeIndex(n);o==s?(i=n,o=a):o>s&&o--}}},s=!0;if(R.isCharacterDataNode(i))i.length==o&&r(i);else{if(o>0){var l=i.childNodes[o-1];l&&R.isCharacterDataNode(l)&&r(l)}s=!this.collapsed}if(s){if(R.isCharacterDataNode(t))0==e&&a(t);else if(e<t.childNodes.length){var u=t.childNodes[e];u&&R.isCharacterDataNode(u)&&a(u)}}else t=i,e=o;n(this,t,e,i,o)},collapseToPoint:function(t,e){y(this),v(t,!0),b(t,e),d(this,t,e)}}),M(i)}function P(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:R.getCommonAncestor(t.startContainer,t.endContainer)}function L(t,e,i,o,r){var a=t.startContainer!==e||t.startOffset!==i,s=t.endContainer!==o||t.endOffset!==r;t.startContainer=e,t.startOffset=i,t.endContainer=o,t.endOffset=r,P(t),n(t,"boundarychange",{startMoved:a,endMoved:s})}function O(t){y(t),t.startContainer=t.startOffset=t.endContainer=t.endOffset=null,t.collapsed=t.commonAncestorContainer=null,n(t,"detach",null),t._listeners=null}function z(t){this.startContainer=t,this.startOffset=0,this.endContainer=t,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},P(this)}t.requireModules(["DomUtil"]);var R=t.dom,N=R.DomPosition,$=t.DOMException;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,R.isCharacterDataNode(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},remove:function(){var t,e,i=this._current;!R.isCharacterDataNode(i)||i!==this.sc&&i!==this.ec?i.parentNode&&i.parentNode.removeChild(i):(t=i===this.sc?this.so:0,e=i===this.ec?this.eo:i.length,t!=e&&i.deleteData(t,e-t))},isPartiallySelectedSubtree:function(){var t=this._current;return e(t,this.range)},getSubtreeIterator:function(){var t;if(this.isSingleCharacterDataNode)t=this.range.cloneRange(),t.collapse();else{t=new z(i(this.range));var e=this._current,n=e,o=0,r=e,a=R.getNodeLength(e);R.isAncestorOf(e,this.sc,!0)&&(n=this.sc,o=this.so),R.isAncestorOf(e,this.ec,!0)&&(r=this.ec,a=this.eo),L(t,n,o,r,a)}return new p(t,this.clonePartiallySelectedTextNodes)},detach:function(t){t&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},f.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},f.prototype.toString=function(){return this.message},m.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var F=[1,3,4,5,7,8,10],B=[2,9,11],j=[5,6,10,12],H=[1,3,4,5,7,8,10,11],W=[1,3,4,5,7,8],q=R.getRootContainer,V=g([9,11]),U=g(j),Y=g([6,10,12]),G=document.createElement("style"),X=!1;try{G.innerHTML="<b>x</b>",X=3==G.firstChild.nodeType}catch(Z){}t.features.htmlParsingConforms=X;var K=X?function(t){var e=this.startContainer,i=R.getDocument(e);if(!e)throw new $("INVALID_STATE_ERR");var n=null;return 1==e.nodeType?n=e:R.isCharacterDataNode(e)&&(n=R.parentElement(e)),n=null===n||"HTML"==n.nodeName&&R.isHtmlNamespace(R.getDocument(n).documentElement)&&R.isHtmlNamespace(n)?i.createElement("body"):n.cloneNode(!1),n.innerHTML=t,R.fragmentFromNodeChildren(n)}:function(t){y(this);var e=i(this),n=e.createElement("body");return n.innerHTML=t,R.fragmentFromNodeChildren(n)},J=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],Q=0,tt=1,et=2,it=3,nt=0,ot=1,rt=2,at=3;A.prototype={attachListener:function(t,e){this._listeners[t].push(e)},compareBoundaryPoints:function(t,e){T(this),x(this.startContainer,e.startContainer);var i,n,o,r,a=t==it||t==Q?"start":"end",s=t==tt||t==Q?"start":"end";return i=this[a+"Container"],n=this[a+"Offset"],o=e[s+"Container"],r=e[s+"Offset"],R.comparePoints(i,n,o,r)},insertNode:function(t){if(T(this),_(t,H),w(this.startContainer),R.isAncestorOf(t,this.startContainer,!0))throw new $("HIERARCHY_REQUEST_ERR");var e=a(t,this.startContainer,this.startOffset);this.setStartBefore(e)},cloneContents:function(){T(this);var t,e;if(this.collapsed)return i(this).createDocumentFragment();if(this.startContainer===this.endContainer&&R.isCharacterDataNode(this.startContainer))return t=this.startContainer.cloneNode(!0),t.data=t.data.slice(this.startOffset,this.endOffset),e=i(this).createDocumentFragment(),e.appendChild(t),e;var n=new p(this,!0);return t=s(n),n.detach(),t},canSurroundContents:function(){T(this),w(this.startContainer),w(this.endContainer);var t=new p(this,!0),i=t._first&&e(t._first,this)||t._last&&e(t._last,this);return t.detach(),!i},surroundContents:function(t){if(_(t,W),!this.canSurroundContents())throw new f("BAD_BOUNDARYPOINTS_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);a(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},cloneRange:function(){T(this);for(var t,e=new z(i(this)),n=J.length;n--;)t=J[n],e[t]=this[t];return e},toString:function(){T(this);var t=this.startContainer;if(t===this.endContainer&&R.isCharacterDataNode(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[],i=new p(this,!0);return l(i,function(t){3!=t.nodeType&&4!=t.nodeType||e.push(t.data)}),i.detach(),e.join("")},compareNode:function(t){T(this);var e=t.parentNode,i=R.getNodeIndex(t);if(!e)throw new $("NOT_FOUND_ERR");var n=this.comparePoint(e,i),o=this.comparePoint(e,i+1);return 0>n?o>0?rt:nt:o>0?ot:at},comparePoint:function(t,e){return T(this),k(t,"HIERARCHY_REQUEST_ERR"),x(t,this.startContainer),R.comparePoints(t,e,this.startContainer,this.startOffset)<0?-1:R.comparePoints(t,e,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:K,toHtml:function(){T(this);var t=i(this).createElement("div");return t.appendChild(this.cloneContents()),t.innerHTML},intersectsNode:function(t,e){if(T(this),k(t,"NOT_FOUND_ERR"),R.getDocument(t)!==i(this))return!1;var n=t.parentNode,o=R.getNodeIndex(t);k(n,"NOT_FOUND_ERR");var r=R.comparePoints(n,o,this.endContainer,this.endOffset),a=R.comparePoints(n,o+1,this.startContainer,this.startOffset);return e?0>=r&&a>=0:0>r&&a>0},isPointInRange:function(t,e){return T(this),k(t,"HIERARCHY_REQUEST_ERR"),x(t,this.startContainer),R.comparePoints(t,e,this.startContainer,this.startOffset)>=0&&R.comparePoints(t,e,this.endContainer,this.endOffset)<=0},intersectsRange:function(t,e){if(T(this),i(t)!=i(this))throw new $("WRONG_DOCUMENT_ERR");var n=R.comparePoints(this.startContainer,this.startOffset,t.endContainer,t.endOffset),o=R.comparePoints(this.endContainer,this.endOffset,t.startContainer,t.startOffset);return e?0>=n&&o>=0:0>n&&o>0},intersection:function(t){if(this.intersectsRange(t)){var e=R.comparePoints(this.startContainer,this.startOffset,t.startContainer,t.startOffset),i=R.comparePoints(this.endContainer,this.endOffset,t.endContainer,t.endOffset),n=this.cloneRange();return-1==e&&n.setStart(t.startContainer,t.startOffset),1==i&&n.setEnd(t.endContainer,t.endOffset),n}return null},union:function(t){if(this.intersectsRange(t,!0)){var e=this.cloneRange();return-1==R.comparePoints(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==R.comparePoints(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new f("Ranges do not intersect")},containsNode:function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==at},containsNodeContents:function(t){return this.comparePoint(t,0)>=0&&this.comparePoint(t,R.getNodeLength(t))<=0},containsRange:function(t){return this.intersection(t).equals(t)},containsNodeText:function(t){var e=this.cloneRange();e.selectNode(t);var i=e.getNodes([3]);if(i.length>0){e.setStart(i[0],0);var n=i.pop();e.setEnd(n,n.length);var o=this.containsRange(e);return e.detach(),o}return this.containsNodeContents(t)},createNodeIterator:function(t,e){return T(this),new m(this,t,e)},getNodes:function(t,e){return T(this),h(this,t,e)},getDocument:function(){return i(this)},collapseBefore:function(t){y(this),this.setEndBefore(t),this.collapse(!1)},collapseAfter:function(t){y(this),this.setStartAfter(t),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(t){return z.rangesEqual(this,t)},inspect:function(){return d(this)}},I(z,L,O),t.rangePrototype=A.prototype,z.rangeProperties=J,z.RangeIterator=p,z.copyComparisonConstants=M,z.createPrototypeRange=I,z.inspect=d,z.getRangeDocument=i,z.rangesEqual=function(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},t.DomRange=z,t.RangeException=f}),rangy.createModule("WrappedRange",function(t){function e(t){var e=t.parentElement(),i=t.duplicate();i.collapse(!0);var n=i.parentElement();i=t.duplicate(),i.collapse(!1);var o=i.parentElement(),r=n==o?n:a.getCommonAncestor(n,o);return r==e?r:a.getCommonAncestor(e,r)}function i(t){return 0==t.compareEndPoints("StartToEnd",t)}function n(t,e,i,n){var o=t.duplicate();o.collapse(i);var r=o.parentElement();if(a.isAncestorOf(e,r,!0)||(r=e),!r.canHaveHTML)return new s(r.parentNode,a.getNodeIndex(r));var l,u,c,h,d,p=a.getDocument(r).createElement("span"),f=i?"StartToStart":"StartToEnd";do r.insertBefore(p,p.previousSibling),o.moveToElementText(p);while((l=o.compareEndPoints(f,t))>0&&p.previousSibling);if(d=p.nextSibling,-1==l&&d&&a.isCharacterDataNode(d)){o.setEndPoint(i?"EndToStart":"EndToEnd",t);var m;if(/[\r\n]/.test(d.data)){var g=o.duplicate(),v=g.text.replace(/\r\n/g,"\r").length;for(m=g.moveStart("character",v);-1==(l=g.compareEndPoints("StartToEnd",g));)m++,g.moveStart("character",1)}else m=o.text.length;h=new s(d,m)}else u=(n||!i)&&p.previousSibling,c=(n||i)&&p.nextSibling,h=c&&a.isCharacterDataNode(c)?new s(c,0):u&&a.isCharacterDataNode(u)?new s(u,u.length):new s(r,a.getNodeIndex(p));return p.parentNode.removeChild(p),h}function o(t,e){var i,n,o,r,s=t.offset,l=a.getDocument(t.node),u=l.body.createTextRange(),c=a.isCharacterDataNode(t.node);return c?(i=t.node,n=i.parentNode):(r=t.node.childNodes,i=s<r.length?r[s]:null,n=t.node),o=l.createElement("span"),o.innerHTML="&#feff;",i?n.insertBefore(o,i):n.appendChild(o),u.moveToElementText(o),u.collapse(!e),n.removeChild(o),c&&u[e?"moveStart":"moveEnd"]("character",s),u}t.requireModules(["DomUtil","DomRange"]);var r,a=t.dom,s=a.DomPosition,l=t.DomRange;if(!t.features.implementsDomRange||t.features.implementsTextRange&&t.config.preferTextRange){if(t.features.implementsTextRange){r=function(t){this.textRange=t,this.refresh()},r.prototype=new l(document),r.prototype.refresh=function(){var t,o,r=e(this.textRange);i(this.textRange)?o=t=n(this.textRange,r,!0,!0):(t=n(this.textRange,r,!0,!1),o=n(this.textRange,r,!1,!1)),this.setStart(t.node,t.offset),this.setEnd(o.node,o.offset)},l.copyComparisonConstants(r);var u=function(){return this}();"undefined"==typeof u.Range&&(u.Range=r),t.createNativeRange=function(t){return t=t||document,t.body.createTextRange()}}}else!function(){function e(t){for(var e,i=c.length;i--;)e=c[i],t[e]=t.nativeRange[e]}function i(t,e,i,n,o){var r=t.startContainer!==e||t.startOffset!=i,a=t.endContainer!==n||t.endOffset!=o;(r||a)&&(t.setEnd(n,o),t.setStart(e,i))}function n(t){t.nativeRange.detach(),t.detached=!0;for(var e,i=c.length;i--;)e=c[i],t[e]=null}var o,s,u,c=l.rangeProperties;r=function(t){if(!t)throw new Error("Range must be specified");this.nativeRange=t,e(this)},l.createPrototypeRange(r,i,n),o=r.prototype,o.selectNode=function(t){this.nativeRange.selectNode(t),e(this)},o.deleteContents=function(){this.nativeRange.deleteContents(),e(this)},o.extractContents=function(){var t=this.nativeRange.extractContents();return e(this),t},o.cloneContents=function(){return this.nativeRange.cloneContents()},o.surroundContents=function(t){this.nativeRange.surroundContents(t),e(this)},o.collapse=function(t){this.nativeRange.collapse(t),e(this)},o.cloneRange=function(){return new r(this.nativeRange.cloneRange())},o.refresh=function(){e(this)},o.toString=function(){return this.nativeRange.toString()};var h=document.createTextNode("test");a.getBody(document).appendChild(h);var d=document.createRange();d.setStart(h,0),d.setEnd(h,0);try{d.setStart(h,1),s=!0,o.setStart=function(t,i){this.nativeRange.setStart(t,i),e(this)},o.setEnd=function(t,i){this.nativeRange.setEnd(t,i),e(this)},u=function(t){return function(i){this.nativeRange[t](i),e(this)}}}catch(p){s=!1,o.setStart=function(t,i){try{this.nativeRange.setStart(t,i)}catch(n){this.nativeRange.setEnd(t,i),this.nativeRange.setStart(t,i)}e(this)},o.setEnd=function(t,i){try{this.nativeRange.setEnd(t,i)}catch(n){this.nativeRange.setStart(t,i),this.nativeRange.setEnd(t,i)}e(this)},u=function(t,i){return function(n){try{this.nativeRange[t](n)}catch(o){this.nativeRange[i](n),this.nativeRange[t](n)}e(this)}}}o.setStartBefore=u("setStartBefore","setEndBefore"),o.setStartAfter=u("setStartAfter","setEndAfter"),o.setEndBefore=u("setEndBefore","setStartBefore"),o.setEndAfter=u("setEndAfter","setStartAfter"),d.selectNodeContents(h),d.startContainer==h&&d.endContainer==h&&0==d.startOffset&&d.endOffset==h.length?o.selectNodeContents=function(t){this.nativeRange.selectNodeContents(t),e(this)}:o.selectNodeContents=function(t){this.setStart(t,0),this.setEnd(t,l.getEndOffset(t))},d.selectNodeContents(h),d.setEnd(h,3);var f=document.createRange();f.selectNodeContents(h),f.setEnd(h,4),f.setStart(h,2),-1==d.compareBoundaryPoints(d.START_TO_END,f)&1==d.compareBoundaryPoints(d.END_TO_START,f)?o.compareBoundaryPoints=function(t,e){return e=e.nativeRange||e,t==e.START_TO_END?t=e.END_TO_START:t==e.END_TO_START&&(t=e.START_TO_END),this.nativeRange.compareBoundaryPoints(t,e)}:o.compareBoundaryPoints=function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)},t.util.isHostMethod(d,"createContextualFragment")&&(o.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),a.getBody(document).removeChild(h),d.detach(),f.detach()}(),t.createNativeRange=function(t){return t=t||document,t.createRange()};t.features.implementsTextRange&&(r.rangeToTextRange=function(t){if(t.collapsed){var e=o(new s(t.startContainer,t.startOffset),!0);return e}var i=o(new s(t.startContainer,t.startOffset),!0),n=o(new s(t.endContainer,t.endOffset),!1),r=a.getDocument(t.startContainer).body.createTextRange();return r.setEndPoint("StartToStart",i),r.setEndPoint("EndToEnd",n),r}),r.prototype.getName=function(){return"WrappedRange"},t.WrappedRange=r,t.createRange=function(e){return e=e||document,new r(t.createNativeRange(e))},t.createRangyRange=function(t){return t=t||document,new l(t)},t.createIframeRange=function(e){return t.createRange(a.getIframeDocument(e))},t.createIframeRangyRange=function(e){return t.createRangyRange(a.getIframeDocument(e))},t.addCreateMissingNativeApiListener(function(e){var i=e.document;"undefined"==typeof i.createRange&&(i.createRange=function(){return t.createRange(this)}),i=e=null})}),rangy.createModule("WrappedSelection",function(t,e){function i(t){return(t||window).getSelection()}function n(t){return(t||window).document.selection}function o(t,e,i){var n=i?"end":"start",o=i?"start":"end";t.anchorNode=e[n+"Container"],t.anchorOffset=e[n+"Offset"],t.focusNode=e[o+"Container"],t.focusOffset=e[o+"Offset"]}function r(t){var e=t.nativeSelection;t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset}function a(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function s(e){var i;return e instanceof C?(i=e._selectionNativeRange,i||(i=t.createNativeRange(w.getDocument(e.startContainer)),i.setEnd(e.endContainer,e.endOffset),i.setStart(e.startContainer,e.startOffset),e._selectionNativeRange=i,e.attachListener("detach",function(){this._selectionNativeRange=null}))):e instanceof S?i=e.nativeRange:t.features.implementsDomRange&&e instanceof w.getWindow(e.startContainer).Range&&(i=e),i}function l(t){if(!t.length||1!=t[0].nodeType)return!1;for(var e=1,i=t.length;i>e;++e)if(!w.isAncestorOf(t[0],t[e]))return!1;return!0}function u(t){var e=t.getNodes();if(!l(e))throw new Error("getSingleElementFromRange: range "+t.inspect()+" did not consist of a single element");return e[0]}function c(t){return!!t&&"undefined"!=typeof t.text}function h(t,e){var i=new S(e);t._ranges=[i],o(t,i,!1),t.rangeCount=1,t.isCollapsed=i.collapsed}function d(e){if(e._ranges.length=0,"None"==e.docSelection.type)a(e);else{var i=e.docSelection.createRange();if(c(i))h(e,i);else{e.rangeCount=i.length;for(var n,r=w.getDocument(i.item(0)),s=0;s<e.rangeCount;++s)n=t.createRange(r),n.selectNode(i.item(s)),e._ranges.push(n);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,o(e,e._ranges[e.rangeCount-1],!1)}}}function p(t,e){for(var i=t.docSelection.createRange(),n=u(e),o=w.getDocument(i.item(0)),r=w.getBody(o).createControlRange(),a=0,s=i.length;s>a;++a)r.add(i.item(a));try{r.add(n)}catch(l){throw new Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}r.select(),d(t)}function f(t,e,i){this.nativeSelection=t,this.docSelection=e,this._ranges=[],this.win=i,this.refresh()}function m(t,e){for(var i,n=w.getDocument(e[0].startContainer),o=w.getBody(n).createControlRange(),r=0;r<rangeCount;++r){i=u(e[r]);try{o.add(i)}catch(a){throw new Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}o.select(),d(t)}function g(t,e){if(t.anchorNode&&w.getDocument(t.anchorNode)!==w.getDocument(e))throw new T("WRONG_DOCUMENT_ERR")}function v(t){var e=[],i=new A(t.anchorNode,t.anchorOffset),n=new A(t.focusNode,t.focusOffset),o="function"==typeof t.getName?t.getName():"Selection";if("undefined"!=typeof t.rangeCount)for(var r=0,a=t.rangeCount;a>r;++r)e[r]=C.inspect(t.getRangeAt(r));return"["+o+"(Ranges: "+e.join(", ")+")(anchor: "+i.inspect()+", focus: "+n.inspect()+"]"}t.requireModules(["DomUtil","DomRange","WrappedRange"]),t.config.checkSelectionRanges=!0;var y,_,b="boolean",x="_rangySelection",w=t.dom,k=t.util,C=t.DomRange,S=t.WrappedRange,T=t.DOMException,A=w.DomPosition,E="Control",M=t.util.isHostMethod(window,"getSelection"),D=t.util.isHostObject(document,"selection"),I=D&&(!M||t.config.preferTextRange);I?(y=n,t.isSelectionValid=function(t){var e=(t||window).document,i=e.selection;return"None"!=i.type||w.getDocument(i.createRange().parentElement())==e}):M?(y=i,t.isSelectionValid=function(){return!0}):e.fail("Neither document.selection or window.getSelection() detected."),t.getNativeSelection=y;var P=y(),L=t.createNativeRange(document),O=w.getBody(document),z=k.areHostObjects(P,["anchorNode","focusNode"]&&k.areHostProperties(P,["anchorOffset","focusOffset"]));t.features.selectionHasAnchorAndFocus=z;var R=k.isHostMethod(P,"extend");t.features.selectionHasExtend=R;var N="number"==typeof P.rangeCount;t.features.selectionHasRangeCount=N;var $=!1,F=!0;k.areHostMethods(P,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof P.rangeCount&&t.features.implementsDomRange&&!function(){var t=document.createElement("iframe");O.appendChild(t);var e=w.getIframeDocument(t);e.open(),e.write("<html><head></head><body>12</body></html>"),e.close();var i=w.getIframeWindow(t).getSelection(),n=e.documentElement,o=n.lastChild,r=o.firstChild,a=e.createRange();a.setStart(r,1),a.collapse(!0),i.addRange(a),F=1==i.rangeCount,i.removeAllRanges();var s=a.cloneRange();a.setStart(r,0),s.setEnd(r,2),i.addRange(a),i.addRange(s),$=2==i.rangeCount,a.detach(),s.detach(),O.removeChild(t)}(),t.features.selectionSupportsMultipleRanges=$,t.features.collapsedNonEditableSelectionsSupported=F;var B,j=!1;O&&k.isHostMethod(O,"createControlRange")&&(B=O.createControlRange(),k.areHostProperties(B,["item","add"])&&(j=!0)),t.features.implementsControlRange=j,_=z?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return t.rangeCount?t.getRangeAt(t.rangeCount-1).collapsed:!1};var H;k.isHostMethod(P,"getRangeAt")?H=function(t,e){try{return t.getRangeAt(e)}catch(i){return null}}:z&&(H=function(e){var i=w.getDocument(e.anchorNode),n=t.createRange(i);return n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset),n.collapsed!==this.isCollapsed&&(n.setStart(e.focusNode,e.focusOffset),n.setEnd(e.anchorNode,e.anchorOffset)),n}),t.getSelection=function(t){t=t||window;var e=t[x],i=y(t),o=D?n(t):null;return e?(e.nativeSelection=i,e.docSelection=o,e.refresh(t)):(e=new f(i,o,t),t[x]=e),e},t.getIframeSelection=function(e){return t.getSelection(w.getIframeWindow(e))};var W=f.prototype;if(!I&&z&&k.areHostMethods(P,["removeAllRanges","addRange"])){W.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),a(this)};var q=function(e,i){var n=C.getRangeDocument(i),o=t.createRange(n);o.collapseToPoint(i.endContainer,i.endOffset),e.nativeSelection.addRange(s(o)),e.nativeSelection.extend(i.startContainer,i.startOffset),e.refresh()};N?W.addRange=function(e,i){if(j&&D&&this.docSelection.type==E)p(this,e);else if(i&&R)q(this,e);else{var n;if($?n=this.rangeCount:(this.removeAllRanges(),n=0),this.nativeSelection.addRange(s(e)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==n+1){if(t.config.checkSelectionRanges){var r=H(this.nativeSelection,this.rangeCount-1);r&&!C.rangesEqual(r,e)&&(e=new S(r))}this._ranges[this.rangeCount-1]=e,o(this,e,Y(this.nativeSelection)),this.isCollapsed=_(this)}else this.refresh()}}:W.addRange=function(t,e){e&&R?q(this,t):(this.nativeSelection.addRange(s(t)),this.refresh())},W.setRanges=function(t){if(j&&t.length>1)m(this,t);else{this.removeAllRanges();for(var e=0,i=t.length;i>e;++e)this.addRange(t[e])}}}else{if(!(k.isHostMethod(P,"empty")&&k.isHostMethod(L,"select")&&j&&I))return e.fail("No means of selecting a Range or TextRange was found"),!1;W.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var t;if(this.anchorNode)t=w.getDocument(this.anchorNode);else if(this.docSelection.type==E){var e=this.docSelection.createRange();e.length&&(t=w.getDocument(e.item(0)).body.createTextRange())}if(t){var i=t.body.createTextRange();i.select(),this.docSelection.empty()}}}catch(n){}a(this)},W.addRange=function(t){this.docSelection.type==E?p(this,t):(S.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,o(this,t,!1))},W.setRanges=function(t){this.removeAllRanges();var e=t.length;e>1?m(this,t):e&&this.addRange(t[0])}}W.getRangeAt=function(t){if(0>t||t>=this.rangeCount)throw new T("INDEX_SIZE_ERR");return this._ranges[t]};var V;if(I)V=function(e){var i;t.isSelectionValid(e.win)?i=e.docSelection.createRange():(i=w.getBody(e.win.document).createTextRange(),i.collapse(!0)),e.docSelection.type==E?d(e):c(i)?h(e,i):a(e)};else if(k.isHostMethod(P,"getRangeAt")&&"number"==typeof P.rangeCount)V=function(e){if(j&&D&&e.docSelection.type==E)d(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection?e.nativeSelection.rangeCount:0,e.rangeCount){for(var i=0,n=e.rangeCount;n>i;++i)e._ranges[i]=new t.WrappedRange(e.nativeSelection.getRangeAt(i));o(e,e._ranges[e.rangeCount-1],Y(e.nativeSelection)),e.isCollapsed=_(e)}else a(e)};else{if(!z||typeof P.isCollapsed!=b||typeof L.collapsed!=b||!t.features.implementsDomRange)return e.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;V=function(t){var e,i=t.nativeSelection;i.anchorNode?(e=H(i,0),t._ranges=[e],t.rangeCount=1,r(t),t.isCollapsed=_(t)):a(t)}}W.refresh=function(t){var e=t?this._ranges.slice(0):null;if(V(this),t){var i=e.length;if(i!=this._ranges.length)return!1;for(;i--;)if(!C.rangesEqual(e[i],this._ranges[i]))return!1;return!0}};var U=function(t,e){var i=t.getAllRanges(),n=!1;t.removeAllRanges();for(var o=0,r=i.length;r>o;++o)n||e!==i[o]?t.addRange(i[o]):n=!0;t.rangeCount||a(t)};j?W.removeRange=function(t){if(this.docSelection.type==E){for(var e,i=this.docSelection.createRange(),n=u(t),o=w.getDocument(i.item(0)),r=w.getBody(o).createControlRange(),a=!1,s=0,l=i.length;l>s;++s)e=i.item(s),e!==n||a?r.add(i.item(s)):a=!0;r.select(),d(this)}else U(this,t)}:W.removeRange=function(t){U(this,t)};var Y;!I&&z&&t.features.implementsDomRange?(Y=function(t){var e=!1;return t.anchorNode&&(e=1==w.comparePoints(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e},W.isBackwards=function(){return Y(this)}):Y=W.isBackwards=function(){return!1},W.toString=function(){for(var t=[],e=0,i=this.rangeCount;i>e;++e)t[e]=""+this._ranges[e];return t.join("")},W.collapse=function(e,i){g(this,e);var n=t.createRange(w.getDocument(e));n.collapseToPoint(e,i),this.removeAllRanges(),this.addRange(n),this.isCollapsed=!0},W.collapseToStart=function(){if(!this.rangeCount)throw new T("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},W.collapseToEnd=function(){if(!this.rangeCount)throw new T("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},W.selectAllChildren=function(e){g(this,e);var i=t.createRange(w.getDocument(e));i.selectNodeContents(e),this.removeAllRanges(),this.addRange(i)},W.deleteFromDocument=function(){if(j&&D&&this.docSelection.type==E){for(var t,e=this.docSelection.createRange();e.length;)t=e.item(0),e.remove(t),t.parentNode.removeChild(t);this.refresh()}else if(this.rangeCount){var i=this.getAllRanges();this.removeAllRanges();for(var n=0,o=i.length;o>n;++n)i[n].deleteContents();this.addRange(i[o-1])}},W.getAllRanges=function(){return this._ranges.slice(0)},W.setSingleRange=function(t){this.setRanges([t])},W.containsNode=function(t,e){for(var i=0,n=this._ranges.length;n>i;++i)if(this._ranges[i].containsNode(t,e))return!0;return!1},W.toHtml=function(){var t="";if(this.rangeCount){for(var e=C.getRangeDocument(this._ranges[0]).createElement("div"),i=0,n=this._ranges.length;n>i;++i)e.appendChild(this._ranges[i].cloneContents());t=e.innerHTML}return t},W.getName=function(){return"WrappedSelection"},W.inspect=function(){return v(this)},W.detach=function(){
this.win[x]=null,this.win=this.anchorNode=this.focusNode=null},f.inspect=v,t.Selection=f,t.selectionPrototype=W,t.addCreateMissingNativeApiListener(function(e){"undefined"==typeof e.getSelection&&(e.getSelection=function(){return t.getSelection(this)}),e=null})});var Base=function(){};Base.extend=function(t,e){var i=Base.prototype.extend;Base._prototyping=!0;var n=new this;i.call(n,t),n.base=function(){},delete Base._prototyping;var o=n.constructor,r=n.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==r)this._constructing=!0,o.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||i).call(arguments[0],n)};return r.ancestor=this,r.extend=this.extend,r.forEach=this.forEach,r.implement=this.implement,r.prototype=n,r.toString=this.toString,r.valueOf=function(t){return"object"==t?r:o.valueOf()},i.call(r,e),"function"==typeof r.init&&r.init(),r},Base.prototype={extend:function(t,e){if(arguments.length>1){var i=this[t];if(i&&"function"==typeof e&&(!i.valueOf||i.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var n=e.valueOf();e=function(){var t=this.base||Base.prototype.base;this.base=i;var e=n.apply(this,arguments);return this.base=t,e},e.valueOf=function(t){return"object"==t?e:n},e.toString=Base.toString}this[t]=e}else if(t){var o=Base.prototype.extend;Base._prototyping||"function"==typeof this||(o=this.extend||o);for(var r={toSource:null},a=["constructor","toString","valueOf"],s=Base._prototyping?0:1;l=a[s++];)t[l]!=r[l]&&o.call(this,l,t[l]);for(var l in t)r[l]||o.call(this,l,t[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(t,e,i){for(var n in t)void 0===this.prototype[n]&&e.call(i,t[n],n,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function t(t){return(/ipad|iphone|ipod/.test(t)&&t.match(/ os (\d+).+? like mac os x/)||[,0])[1]}var e=navigator.userAgent,i=document.createElement("div"),n=-1!==e.indexOf("MSIE")&&-1===e.indexOf("Opera"),o=-1!==e.indexOf("Gecko")&&-1===e.indexOf("KHTML"),r=-1!==e.indexOf("AppleWebKit/"),a=-1!==e.indexOf("Chrome/"),s=-1!==e.indexOf("Opera/");return{USER_AGENT:e,supported:function(){var e=this.USER_AGENT.toLowerCase(),n="contentEditable"in i,o=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,r=document.querySelector&&document.querySelectorAll,a=this.isIos()&&t(e)<5||-1!==e.indexOf("opera mobi")||-1!==e.indexOf("hpwos/");return n&&o&&r&&!a},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){var t=this.USER_AGENT.toLowerCase();return-1!==t.indexOf("webkit")&&-1!==t.indexOf("mobile")},supportsSandboxedIframes:function(){return n},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return!o},hasCurrentStyleProperty:function(){return"currentStyle"in i},hasHistoryIssue:function(){return o},insertsLineBreaksOnReturn:function(){return o},supportsPlaceholderAttributeOn:function(t){return"placeholder"in t},supportsEvent:function(t){return"on"+t in i||function(){return i.setAttribute("on"+t,"return;"),"function"==typeof i["on"+t]}()},supportsEventsInIframeCorrectly:function(){return!s},supportsHTML5Tags:function(t){var e=t.createElement("div"),i="<article>foo</article>";return e.innerHTML=i,e.innerHTML.toLowerCase()===i},supportsCommand:function(){var t={formatBlock:n,insertUnorderedList:n||s||r,insertOrderedList:n||s||r},e={insertHTML:o};return function(i,n){var o=t[n];if(!o){try{return i.queryCommandSupported(n)}catch(r){}try{return i.queryCommandEnabled(n)}catch(a){return!!e[n]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return n},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return o||s||r},supportsGetAttributeCorrectly:function(){var t=document.createElement("td");return"1"!=t.getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return o||n||s},clearsListsInContentEditableCorrectly:function(){return o||n||r},autoScrollsToCaret:function(){return!r},autoClosesUnclosedTags:function(){var t,e,n=i.cloneNode(!1);return n.innerHTML="<p><div></div>",e=n.innerHTML.toLowerCase(),t="<p></p><div></div>"===e||"<p><div></div></p>"===e,this.autoClosesUnclosedTags=function(){return t},t},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return s},supportsSpeechApiOn:function(t){var i=e.match(/Chrome\/(\d+)/)||[,0];return i[1]>=11&&("onwebkitspeechchange"in t||"speech"in t)},crashesWhenDefineProperty:function(t){return n&&("XMLHttpRequest"===t||"XDomainRequest"===t)},doesAsyncFocus:function(){return n},hasProblemsSettingCaretAfterImg:function(){return n},hasUndoInContextMenu:function(){return o||a||s}}}(),wysihtml5.lang.array=function(t){return{contains:function(e){if(t.indexOf)return-1!==t.indexOf(e);for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return!0;return!1},without:function(e){e=wysihtml5.lang.array(e);for(var i=[],n=0,o=t.length;o>n;n++)e.contains(t[n])||i.push(t[n]);return i},get:function(){for(var e=0,i=t.length,n=[];i>e;e++)n.push(t[e]);return n}}},wysihtml5.lang.Dispatcher=Base.extend({observe:function(t,e){return this.events=this.events||{},this.events[t]=this.events[t]||[],this.events[t].push(e),this},on:function(){return this.observe.apply(this,wysihtml5.lang.array(arguments).get())},fire:function(t,e){this.events=this.events||{};for(var i=this.events[t]||[],n=0;n<i.length;n++)i[n].call(this,e);return this},stopObserving:function(t,e){this.events=this.events||{};var i,n,o=0;if(t){for(i=this.events[t]||[],n=[];o<i.length;o++)i[o]!==e&&e&&n.push(i[o]);this.events[t]=n}else this.events={};return this}}),wysihtml5.lang.object=function(t){return{merge:function(e){for(var i in e)t[i]=e[i];return this},get:function(){return t},clone:function(){var e,i={};for(e in t)i[e]=t[e];return i},isArray:function(){return"[object Array]"===Object.prototype.toString.call(t)}}},function(){var t=/^\s+/,e=/\s+$/;wysihtml5.lang.string=function(i){return i=String(i),{trim:function(){return i.replace(t,"").replace(e,"")},interpolate:function(t){for(var e in t)i=this.replace("#{"+e+"}").by(t[e]);return i},replace:function(t){return{by:function(e){return i.split(t).join(e)}}}}}}(),function(t){function e(t){return r(t)?t:(t===t.ownerDocument.documentElement&&(t=t.ownerDocument.body),a(t))}function i(t){return t.replace(l,function(t,e){var i=(e.match(u)||[])[1]||"",n=h[i];e=e.replace(u,""),e.split(n).length>e.split(i).length&&(e+=i,i="");var o=e,r=e;return e.length>c&&(r=r.substr(0,c)+"..."),"www."===o.substr(0,4)&&(o="http://"+o),'<a href="'+o+'">'+r+"</a>"+i})}function n(t){var e=t._wysihtml5_tempElement;return e||(e=t._wysihtml5_tempElement=t.createElement("div")),e}function o(t){var e=t.parentNode,o=n(e.ownerDocument);for(o.innerHTML="<span></span>"+i(t.data),o.removeChild(o.firstChild);o.firstChild;)e.insertBefore(o.firstChild,t);e.removeChild(t)}function r(t){for(var e;t.parentNode;){if(t=t.parentNode,e=t.nodeName,s.contains(e))return!0;if("body"===e)return!1}return!1}function a(e){if(!s.contains(e.nodeName)){if(e.nodeType===t.TEXT_NODE&&e.data.match(l))return void o(e);for(var i=t.lang.array(e.childNodes).get(),n=i.length,r=0;n>r;r++)a(i[r]);return e}}var s=t.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),l=/((https?:\/\/|www\.)[^\s<]{3,})/gi,u=/([^\w\/\-](,?))$/i,c=100,h={")":"(","]":"[","}":"{"};t.dom.autoLink=e,t.dom.autoLink.URL_REG_EXP=l}(wysihtml5),function(t){var e=t.dom;e.addClass=function(t,i){var n=t.classList;return n?n.add(i):void(e.hasClass(t,i)||(t.className+=" "+i))},e.removeClass=function(t,e){var i=t.classList;return i?i.remove(e):void(t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," "))},e.hasClass=function(t,e){var i=t.classList;if(i)return i.contains(e);var n=t.className;return n.length>0&&(n==e||new RegExp("(^|\\s)"+e+"(\\s|$)").test(n))}}(wysihtml5),wysihtml5.dom.contains=function(){var t=document.documentElement;return t.contains?function(t,e){return e.nodeType!==wysihtml5.ELEMENT_NODE&&(e=e.parentNode),t!==e&&t.contains(e)}:t.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:void 0}(),wysihtml5.dom.convertToList=function(){function t(t,e){var i=t.createElement("li");return e.appendChild(i),i}function e(t,e){return t.createElement(e)}function i(i,n){if("UL"===i.nodeName||"OL"===i.nodeName||"MENU"===i.nodeName)return i;var o,r,a,s,l,u,c,h,d,p=i.ownerDocument,f=e(p,n),m=i.querySelectorAll("br"),g=m.length;for(d=0;g>d;d++)for(s=m[d];(l=s.parentNode)&&l!==i&&l.lastChild===s;){if("block"===wysihtml5.dom.getStyle("display").from(l)){l.removeChild(s);break}wysihtml5.dom.insert(s).after(s.parentNode)}for(o=wysihtml5.lang.array(i.childNodes).get(),r=o.length,d=0;r>d;d++)h=h||t(p,f),a=o[d],u="block"===wysihtml5.dom.getStyle("display").from(a),c="BR"===a.nodeName,u?(h=h.firstChild?t(p,f):h,h.appendChild(a),h=null):c?h=h.firstChild?null:h:h.appendChild(a);return i.parentNode.replaceChild(f,i),f}return i}(),wysihtml5.dom.copyAttributes=function(t){return{from:function(e){return{to:function(i){for(var n,o=0,r=t.length;r>o;o++)n=t[o],"undefined"!=typeof e[n]&&""!==e[n]&&(i[n]=e[n]);return{andTo:arguments.callee}}}}}},function(t){var e=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],i=function(e){return n(e)?parseInt(t.getStyle("width").from(e),10)<e.offsetWidth:!1},n=function(i){for(var n=0,o=e.length;o>n;n++)if("border-box"===t.getStyle(e[n]).from(i))return e[n]};t.copyStyles=function(n){return{from:function(o){i(o)&&(n=wysihtml5.lang.array(n).without(e));for(var r,a="",s=n.length,l=0;s>l;l++)r=n[l],a+=r+":"+t.getStyle(r).from(o)+";";return{to:function(e){return t.setStyles(a).on(e),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(t){t.dom.delegate=function(e,i,n,o){return t.dom.observe(e,n,function(n){for(var r=n.target,a=t.lang.array(e.querySelectorAll(i));r&&r!==e;){if(a.contains(r)){o.call(r,n);break}r=r.parentNode}})}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var t=function(t,e){var i=e.createElement("div");i.style.display="none",e.body.appendChild(i);try{i.innerHTML=t}catch(n){}return e.body.removeChild(i),i},e=function(t){if(!t._wysihtml5_supportsHTML5Tags){for(var e=0,n=i.length;n>e;e++)t.createElement(i[e]);t._wysihtml5_supportsHTML5Tags=!0}},i=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(i,n){n=n||document;var o;return"object"==typeof i&&i.nodeType?(o=n.createElement("div"),o.appendChild(i)):wysihtml5.browser.supportsHTML5Tags(n)?(o=n.createElement("div"),o.innerHTML=i):(e(n),o=t(i,n)),o}}(),wysihtml5.dom.getParentElement=function(){function t(t,e){return e&&e.length?"string"==typeof e?t===e:wysihtml5.lang.array(e).contains(t):!0}function e(t){return t.nodeType===wysihtml5.ELEMENT_NODE}function i(t,e,i){var n=(t.className||"").match(i)||[];return e?n[n.length-1]===e:!!n.length}function n(e,i,n){for(;n--&&e&&"BODY"!==e.nodeName;){if(t(e.nodeName,i))return e;e=e.parentNode}return null}function o(n,o,r,a,s){for(;s--&&n&&"BODY"!==n.nodeName;){if(e(n)&&t(n.nodeName,o)&&i(n,r,a))return n;n=n.parentNode}return null}return function(t,e,i){return i=i||50,e.className||e.classRegExp?o(t,e.nodeName,e.className,e.classRegExp,i):n(t,e.nodeName,i)}}(),wysihtml5.dom.getStyle=function(){function t(t){return t.replace(i,function(t){return t.charAt(1).toUpperCase()})}var e={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},i=/\-[a-z]/g;return function(i){return{from:function(n){if(n.nodeType===wysihtml5.ELEMENT_NODE){var o=n.ownerDocument,r=e[i]||t(i),a=n.style,s=n.currentStyle,l=a[r];if(l)return l;if(s)try{return s[r]}catch(u){}var c,h,d=o.defaultView||o.parentWindow,p=("height"===i||"width"===i)&&"TEXTAREA"===n.nodeName;return d.getComputedStyle?(p&&(c=a.overflow,a.overflow="hidden"),h=d.getComputedStyle(n,null).getPropertyValue(i),p&&(a.overflow=c||""),h):void 0}}}}}(),wysihtml5.dom.hasElementWithTagName=function(){function t(t){return t._wysihtml5_identifier||(t._wysihtml5_identifier=i++)}var e={},i=1;return function(i,n){var o=t(i)+":"+n,r=e[o];return r||(r=e[o]=i.getElementsByTagName(n)),r.length>0}}(),function(t){function e(t){return t._wysihtml5_identifier||(t._wysihtml5_identifier=n++)}var i={},n=1;t.dom.hasElementWithClassName=function(n,o){if(!t.browser.supportsNativeGetElementsByClassName())return!!n.querySelector("."+o);var r=e(n)+":"+o,a=i[r];return a||(a=i[r]=n.getElementsByClassName(o)),a.length>0}}(wysihtml5),wysihtml5.dom.insert=function(t){return{after:function(e){e.parentNode.insertBefore(t,e.nextSibling)},before:function(e){e.parentNode.insertBefore(t,e)},into:function(e){e.appendChild(t)}}},wysihtml5.dom.insertCSS=function(t){return t=t.join("\n"),{into:function(e){var i=e.head||e.getElementsByTagName("head")[0],n=e.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(e.createTextNode(t)),i&&i.appendChild(n)}}},wysihtml5.dom.observe=function(t,e,i){e="string"==typeof e?[e]:e;for(var n,o,r=0,a=e.length;a>r;r++)o=e[r],t.addEventListener?t.addEventListener(o,i,!1):(n=function(e){"target"in e||(e.target=e.srcElement),e.preventDefault=e.preventDefault||function(){this.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0},i.call(t,e)},t.attachEvent("on"+o,n));return{stop:function(){for(var o,r=0,a=e.length;a>r;r++)o=e[r],t.removeEventListener?t.removeEventListener(o,i,!1):t.detachEvent("on"+o,n)}}},wysihtml5.dom.parse=function(){function t(t,i,n,o){wysihtml5.lang.object(h).merge(c).merge(i).get(),n=n||t.ownerDocument||document;var r,a,s,l=n.createDocumentFragment(),u="string"==typeof t;for(r=u?wysihtml5.dom.getAsDom(t,n):t;r.firstChild;)s=r.firstChild,r.removeChild(s),a=e(s,o),a&&l.appendChild(a);return r.innerHTML="",r.appendChild(l),u?wysihtml5.quirks.getCorrectInnerHTML(r):r}function e(t,i){var n,o=t.nodeType,r=t.childNodes,a=r.length,u=s[o],c=0;if(n=u&&u(t),!n)return null;for(c=0;a>c;c++)newChild=e(r[c],i),newChild&&n.appendChild(newChild);return i&&n.childNodes.length<=1&&n.nodeName.toLowerCase()===l&&!n.attributes.length?n.firstChild:n}function i(t){var e,i,o=h.tags,r=t.nodeName.toLowerCase(),a=t.scopeName;if(t._wysihtml5)return null;if(t._wysihtml5=1,"wysihtml5-temp"===t.className)return null;if(a&&"HTML"!=a&&(r=a+":"+r),"outerHTML"in t&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==t.nodeName||"</p>"===t.outerHTML.slice(-4).toLowerCase()||(r="div")),r in o){if(e=o[r],!e||e.remove)return null;e="string"==typeof e?{rename_tag:e}:e}else{if(!t.firstChild)return null;e={rename_tag:l}}return i=t.ownerDocument.createElement(e.rename_tag||r),n(t,i,e),t=null,i}function n(t,e,i){var n,r,a,s,l,c,d,m={},g=i.set_class,v=i.add_class,y=i.set_attributes,_=i.check_attributes,b=h.classes,x=0,w=[],k=[],C=[],S=[];if(y&&(m=wysihtml5.lang.object(y).clone()),_)for(l in _)d=p[_[l]],d&&(c=d(o(t,l)),"string"==typeof c&&(m[l]=c));if(g&&w.push(g),v)for(l in v)d=f[v[l]],d&&(s=d(o(t,l)),"string"==typeof s&&w.push(s));for(b["_wysihtml5-temp-placeholder"]=1,S=t.getAttribute("class"),S&&(w=w.concat(S.split(u))),n=w.length;n>x;x++)a=w[x],b[a]&&k.push(a);for(r=k.length;r--;)a=k[r],wysihtml5.lang.array(C).contains(a)||C.unshift(a);C.length&&(m["class"]=C.join(" "));for(l in m)try{e.setAttribute(l,m[l])}catch(T){}m.src&&("undefined"!=typeof m.width&&e.setAttribute("width",m.width),"undefined"!=typeof m.height&&e.setAttribute("height",m.height))}function o(t,e){e=e.toLowerCase();var i=t.nodeName;if("IMG"==i&&"src"==e&&r(t)===!0)return t.src;if(d&&"outerHTML"in t){var n=t.outerHTML.toLowerCase(),o=-1!=n.indexOf(" "+e+"=");return o?t.getAttribute(e):null}return t.getAttribute(e)}function r(t){try{return t.complete&&!t.mozMatchesSelector(":-moz-broken")}catch(e){if(t.complete&&"complete"===t.readyState)return!0}}function a(t){return t.ownerDocument.createTextNode(t.data)}var s={1:i,3:a},l="span",u=/\s+/,c={tags:{},classes:{}},h={},d=!wysihtml5.browser.supportsGetAttributeCorrectly(),p={url:function(){var t=/^https?:\/\//i;return function(e){return e&&e.match(t)?e.replace(t,function(t){return t.toLowerCase()}):null}}(),src:function(){var t=/^(\/|https?:\/\/)/i;return function(e){return e&&e.match(t)?e.replace(t,function(t){return t.toLowerCase()}):null}}(),href:function(){var t=/^(\/|https?:\/\/|mailto:)/i;return function(e){return e&&e.match(t)?e.replace(t,function(t){return t.toLowerCase()}):null}}(),alt:function(){var t=/[^ a-z0-9_\-]/gi;return function(e){return e?e.replace(t,""):""}}(),numbers:function(){var t=/\D/g;return function(e){return e=(e||"").replace(t,""),e||null}}()},f={align_img:function(){var t={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(e){return t[String(e).toLowerCase()]}}(),align_text:function(){var t={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(e){return t[String(e).toLowerCase()]}}(),clear_br:function(){var t={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(e){return t[String(e).toLowerCase()]}}(),size_font:function(){var t={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(e){return t[String(e).charAt(0)]}}()};return t}(),wysihtml5.dom.removeEmptyTextNodes=function(t){for(var e,i=wysihtml5.lang.array(t.childNodes).get(),n=i.length,o=0;n>o;o++)e=i[o],e.nodeType===wysihtml5.TEXT_NODE&&""===e.data&&e.parentNode.removeChild(e)},wysihtml5.dom.renameElement=function(t,e){for(var i,n=t.ownerDocument.createElement(e);i=t.firstChild;)n.appendChild(i);return wysihtml5.dom.copyAttributes(["align","className"]).from(t).to(n),t.parentNode.replaceChild(n,t),n},wysihtml5.dom.replaceWithChildNodes=function(t){if(t.parentNode){if(!t.firstChild)return void t.parentNode.removeChild(t);for(var e=t.ownerDocument.createDocumentFragment();t.firstChild;)e.appendChild(t.firstChild);t.parentNode.replaceChild(e,t),t=e=null}},function(t){function e(e){return"block"===t.getStyle("display").from(e)}function i(t){return"BR"===t.nodeName}function n(t){var e=t.ownerDocument.createElement("br");t.appendChild(e)}function o(t){if("MENU"===t.nodeName||"UL"===t.nodeName||"OL"===t.nodeName){var o,r,a,s,l,u=t.ownerDocument,c=u.createDocumentFragment(),h=t.previousElementSibling||t.previousSibling;for(h&&!e(h)&&n(c);l=t.firstChild;){for(r=l.lastChild;o=l.firstChild;)a=o===r,s=a&&!e(o)&&!i(o),c.appendChild(o),s&&n(c);l.parentNode.removeChild(l)}t.parentNode.replaceChild(c,t)}}t.resolveList=o}(wysihtml5.dom),function(t){var e=document,i=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],n=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],o=["referrer","write","open","close"];t.dom.Sandbox=Base.extend({constructor:function(e,i){this.callback=e||t.EMPTY_FUNCTION,this.config=t.lang.object({}).merge(i).get(),this.iframe=this._createIframe()},insertInto:function(t){"string"==typeof t&&(t=e.getElementById(t)),t.appendChild(this.iframe)},getIframe:function(){return this.iframe},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var t=this.getIframe();t.parentNode.removeChild(t)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var i=this,n=e.createElement("iframe");return n.className="wysihtml5-sandbox",t.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(n),t.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(n.src="javascript:'<html></html>'"),n.onload=function(){n.onreadystatechange=n.onload=null,i._onLoadIframe(n)},n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&(n.onreadystatechange=n.onload=null,i._onLoadIframe(n))},n},_onLoadIframe:function(r){if(t.dom.contains(e.documentElement,r)){var a=this,s=r.contentWindow,l=r.contentWindow.document,u=e.characterSet||e.charset||"utf-8",c=this._getHtml({charset:u,stylesheets:this.config.stylesheets});if(l.open("text/html","replace"),l.write(c),l.close(),this.getWindow=function(){return r.contentWindow},this.getDocument=function(){return r.contentWindow.document},s.onerror=function(t,e,i){throw new Error("wysihtml5.Sandbox: "+t,e,i)},!t.browser.supportsSandboxedIframes()){var h,d;for(h=0,d=i.length;d>h;h++)this._unset(s,i[h]);for(h=0,d=n.length;d>h;h++)this._unset(s,n[h],t.EMPTY_FUNCTION);for(h=0,d=o.length;d>h;h++)this._unset(l,o[h]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout(function(){a.callback(a)},0)}},_getHtml:function(e){var i,n=e.stylesheets,o="",r=0;if(n="string"==typeof n?[n]:n)for(i=n.length;i>r;r++)o+='<link rel="stylesheet" href="'+n[r]+'">';return e.stylesheets=o,t.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(e)},_unset:function(e,i,n,o){try{e[i]=n}catch(r){}try{e.__defineGetter__(i,function(){return n})}catch(r){}if(o)try{e.__defineSetter__(i,function(){})}catch(r){}if(!t.browser.crashesWhenDefineProperty(i))try{var a={get:function(){return n}};o&&(a.set=function(){}),Object.defineProperty(e,i,a)}catch(r){}}})}(wysihtml5),function(){var t={className:"class"};wysihtml5.dom.setAttributes=function(e){return{on:function(i){for(var n in e)i.setAttribute(t[n]||n,e[n])}}}}(),wysihtml5.dom.setStyles=function(t){return{on:function(e){var i=e.style;if("string"==typeof t)return void(i.cssText+=";"+t);for(var n in t)"float"===n?(i.cssFloat=t[n],i.styleFloat=t[n]):i[n]=t[n]}}},function(t){t.simulatePlaceholder=function(e,i,n){var o="placeholder",r=function(){i.hasPlaceholderSet()&&i.clear(),i.placeholderSet=!1,t.removeClass(i.element,o)},a=function(){i.isEmpty()&&(i.placeholderSet=!0,i.setValue(n),t.addClass(i.element,o))};e.observe("set_placeholder",a).observe("unset_placeholder",r).observe("focus:composer",r).observe("paste:composer",r).observe("blur:composer",a),a()}}(wysihtml5.dom),function(t){var e=document.documentElement;"textContent"in e?(t.setTextContent=function(t,e){t.textContent=e},t.getTextContent=function(t){return t.textContent}):"innerText"in e?(t.setTextContent=function(t,e){t.innerText=e},t.getTextContent=function(t){return t.innerText}):(t.setTextContent=function(t,e){t.nodeValue=e},t.getTextContent=function(t){return t.nodeValue})}(wysihtml5.dom),wysihtml5.quirks.cleanPastedHTML=function(){function t(t,i,n){i=i||e,n=n||t.ownerDocument||document;var o,r,a,s,l,u="string"==typeof t,c=0;o=u?wysihtml5.dom.getAsDom(t,n):t;for(l in i)for(a=o.querySelectorAll(l),r=i[l],s=a.length;s>c;c++)r(a[c]);return a=t=i=null,u?o.innerHTML:o}var e={"a u":wysihtml5.dom.replaceWithChildNodes};return t}(),function(t){var e=t.dom;t.quirks.ensureProperClearing=function(){var t=function(){var t=this;setTimeout(function(){var e=t.innerHTML.toLowerCase();"<p>&nbsp;</p>"!=e&&"<p>&nbsp;</p><p>&nbsp;</p>"!=e||(t.innerHTML="")},0)};return function(i){e.observe(i.element,["cut","keydown"],t)}}(),t.quirks.ensureProperClearingOfLists=function(){var i=["OL","UL","MENU"],n=function(n,o){if(o.firstChild&&t.lang.array(i).contains(o.firstChild.nodeName)){var r=e.getParentElement(n,{nodeName:i});if(r){var a=r==o.firstChild;if(a){var s=r.childNodes.length<=1;if(s){var l=r.firstChild?""===r.firstChild.innerHTML:!0;l&&r.parentNode.removeChild(r)}}}}};return function(i){e.observe(i.element,"keydown",function(e){if(e.keyCode===t.BACKSPACE_KEY){var o=i.selection.getSelectedNode();n(o,i.element)}})}}()}(wysihtml5),function(t){var e="%7E";t.quirks.getCorrectInnerHTML=function(i){var n=i.innerHTML;if(-1===n.indexOf(e))return n;var o,r,a,s,l=i.querySelectorAll("[href*='~'], [src*='~']");for(s=0,a=l.length;a>s;s++)o=l[s].href||l[s].src,r=t.lang.string(o).replace("~").by(e),n=t.lang.string(n).replace(r).by(o);return n}}(wysihtml5),function(t){var e=t.dom,i=["LI","P","H1","H2","H3","H4","H5","H6"],n=["UL","OL","MENU"];t.quirks.insertLineBreakOnReturn=function(o){function r(i){var n=e.getParentElement(i,{nodeName:["P","DIV"]},2);if(n){var r=document.createTextNode(t.INVISIBLE_SPACE);e.insert(r).before(n),e.replaceWithChildNodes(n),o.selection.selectNode(r)}}function a(a){var s=a.keyCode;if(!(a.shiftKey||s!==t.ENTER_KEY&&s!==t.BACKSPACE_KEY)){var l=(a.target,o.selection.getSelectedNode()),u=e.getParentElement(l,{nodeName:i},4);return u?void("LI"!==u.nodeName||s!==t.ENTER_KEY&&s!==t.BACKSPACE_KEY?u.nodeName.match(/H[1-6]/)&&s===t.ENTER_KEY&&setTimeout(function(){r(o.selection.getSelectedNode())},0):setTimeout(function(){var t,i=o.selection.getSelectedNode();i&&(t=e.getParentElement(i,{nodeName:n},2),t||r(i))},0)):void(s!==t.ENTER_KEY||t.browser.insertsLineBreaksOnReturn()||(o.commands.exec("insertLineBreak"),a.preventDefault()))}}e.observe(o.element.ownerDocument,"keydown",a)}}(wysihtml5),function(t){var e="wysihtml5-quirks-redraw";t.quirks.redraw=function(i){t.dom.addClass(i,e),t.dom.removeClass(i,e);try{var n=i.ownerDocument;n.execCommand("italic",!1,null),n.execCommand("italic",!1,null)}catch(o){}}}(wysihtml5),function(t){function e(t){var e=0;if(t.parentNode)do e+=t.offsetTop||0,t=t.offsetParent;while(t);return e}var i=t.dom;t.Selection=Base.extend({constructor:function(t){window.rangy.init(),this.editor=t,this.composer=t.composer,this.doc=this.composer.doc},getBookmark:function(){var t=this.getRange();return t&&t.cloneRange()},setBookmark:function(t){t&&this.setSelection(t)},setBefore:function(t){var e=rangy.createRange(this.doc);return e.setStartBefore(t),e.setEndBefore(t),this.setSelection(e)},setAfter:function(t){var e=rangy.createRange(this.doc);return e.setStartAfter(t),e.setEndAfter(t),this.setSelection(e)},selectNode:function(e){var n=rangy.createRange(this.doc),o=e.nodeType===t.ELEMENT_NODE,r="canHaveHTML"in e?e.canHaveHTML:"IMG"!==e.nodeName,a=o?e.innerHTML:e.data,s=""===a||a===t.INVISIBLE_SPACE,l=i.getStyle("display").from(e),u="block"===l||"list-item"===l;if(s&&o&&r)try{e.innerHTML=t.INVISIBLE_SPACE}catch(c){}r?n.selectNodeContents(e):n.selectNode(e),r&&s&&o?n.collapse(u):r&&s&&(n.setStartAfter(e),n.setEndAfter(e)),this.setSelection(n)},getSelectedNode:function(t){var e,i;return t&&this.doc.selection&&"Control"===this.doc.selection.type&&(i=this.doc.selection.createRange(),i&&i.length)?i.item(0):(e=this.getSelection(this.doc),e.focusNode===e.anchorNode?e.focusNode:(i=this.getRange(this.doc),i?i.commonAncestorContainer:this.doc.body))},executeAndRestore:function(e,i){var n,o=this.doc.body,r=i&&o.scrollTop,a=i&&o.scrollLeft,s="_wysihtml5-temp-placeholder",l='<span class="'+s+'">'+t.INVISIBLE_SPACE+"</span>",u=this.getRange(this.doc);if(!u)return void e(o,o);var c=u.createContextualFragment(l);u.insertNode(c);try{e(u.startContainer,u.endContainer)}catch(h){setTimeout(function(){throw h},0)}caretPlaceholder=this.doc.querySelector("."+s),caretPlaceholder?(n=rangy.createRange(this.doc),n.selectNode(caretPlaceholder),n.deleteContents(),this.setSelection(n)):o.focus(),i&&(o.scrollTop=r,o.scrollLeft=a);try{caretPlaceholder.parentNode.removeChild(caretPlaceholder)}catch(d){}},executeAndRestoreSimple:function(t){var e,i,n,o,r,a=this.getRange(),s=this.doc.body;if(!a)return void t(s,s);o=a.getNodes([3]),i=o[0]||a.startContainer,n=o[o.length-1]||a.endContainer,r={collapsed:a.collapsed,startContainer:i,startOffset:i===a.startContainer?a.startOffset:0,endContainer:n,endOffset:n===a.endContainer?a.endOffset:n.length};try{t(a.startContainer,a.endContainer)}catch(l){setTimeout(function(){throw l},0)}e=rangy.createRange(this.doc);try{e.setStart(r.startContainer,r.startOffset)}catch(u){}try{e.setEnd(r.endContainer,r.endOffset)}catch(c){}try{this.setSelection(e)}catch(h){}},set:function(t,e){var i=rangy.createRange(this.doc);i.setStart(t,e||0),this.setSelection(i)},insertHTML:function(t){var e=rangy.createRange(this.doc),i=e.createContextualFragment(t),n=i.lastChild;this.insertNode(i),n&&this.setAfter(n)},insertNode:function(t){var e=this.getRange();e&&e.insertNode(t)},surround:function(t){var e=this.getRange();if(e)try{e.surroundContents(t),this.selectNode(t)}catch(i){t.appendChild(e.extractContents()),e.insertNode(t)}},scrollIntoView:function(){var i,n=this.doc,o=5,r=n.documentElement.scrollHeight>n.documentElement.offsetHeight,a=n._wysihtml5ScrollIntoViewElement=n._wysihtml5ScrollIntoViewElement||function(){var e=n.createElement("span");return e.innerHTML=t.INVISIBLE_SPACE,e}();r&&(this.insertNode(a),i=e(a),a.parentNode.removeChild(a),i>=n.body.scrollTop+n.documentElement.offsetHeight-o&&(n.body.scrollTop=i))},selectLine:function(){t.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var t=this.doc.defaultView,e=t.getSelection();e.modify("extend","left","lineboundary"),e.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var t,e,i,n,o,r=this.doc.selection.createRange(),a=r.boundingTop,s=(r.boundingHeight,this.doc.body.scrollWidth);if(r.moveToPoint){for(0===a&&(i=this.doc.createElement("span"),this.insertNode(i),a=i.offsetTop,i.parentNode.removeChild(i)),a+=1,n=-10;s>n;n+=2)try{r.moveToPoint(n,a);break}catch(l){}for(t=a,e=this.doc.selection.createRange(),o=s;o>=0;o--)try{e.moveToPoint(o,t);break}catch(u){}r.setEndPoint("EndToEnd",e),r.select()}},getText:function(){var t=this.getSelection();return t?t.toString():""},getNodes:function(t,e){var i=this.getRange();return i?i.getNodes([t],e):[]},getRange:function(){var t=this.getSelection();return t&&t.rangeCount&&t.getRangeAt(0)},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(t){var e=this.doc.defaultView||this.doc.parentWindow,i=rangy.getSelection(e);return i.setSingleRange(t)}})}(wysihtml5),function(t,e){function i(t,e,i){if(!t.className)return!1;var n=t.className.match(i)||[];return n[n.length-1]===e}function n(t,e,i){t.className?(o(t,i),t.className+=" "+e):t.className=e}function o(t,e){t.className&&(t.className=t.className.replace(e,""))}function r(t,e){return t.className.replace(p," ")==e.className.replace(p," ")}function a(t){for(var e=t.parentNode;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}function s(t,e){if(t.attributes.length!=e.attributes.length)return!1;for(var i,n,o,r=0,a=t.attributes.length;a>r;++r)if(i=t.attributes[r],o=i.name,"class"!=o){if(n=e.attributes.getNamedItem(o),i.specified!=n.specified)return!1;if(i.specified&&i.nodeValue!==n.nodeValue)return!1}return!0}function l(t,i){return e.dom.isCharacterDataNode(t)?0==i?!!t.previousSibling:i==t.length?!!t.nextSibling:!0:i>0&&i<t.childNodes.length}function u(t,i,n){var o;if(e.dom.isCharacterDataNode(i)&&(0==n?(n=e.dom.getNodeIndex(i),i=i.parentNode):n==i.length?(n=e.dom.getNodeIndex(i)+1,i=i.parentNode):o=e.dom.splitDataNode(i,n)),!o){o=i.cloneNode(!1),o.id&&o.removeAttribute("id");for(var r;r=i.childNodes[n];)o.appendChild(r);e.dom.insertAfter(o,i)}return i==t?o:u(t,o.parentNode,e.dom.getNodeIndex(o))}function c(e){this.isElementMerge=e.nodeType==t.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?e.lastChild:e,this.textNodes=[this.firstTextNode]}function h(t,e,i,n){this.tagNames=t||[d],this.cssClass=e||"",this.similarClassRegExp=i,this.normalize=n,this.applyToAnyTagName=!1}var d="span",p=/\s+/g;c.prototype={doMerge:function(){for(var t,e,i,n=[],o=0,r=this.textNodes.length;r>o;++o)t=this.textNodes[o],e=t.parentNode,n[o]=t.data,o&&(e.removeChild(t),e.hasChildNodes()||e.parentNode.removeChild(e));return this.firstTextNode.data=i=n.join(""),i},getLength:function(){for(var t=this.textNodes.length,e=0;t--;)e+=this.textNodes[t].length;return e},toString:function(){for(var t=[],e=0,i=this.textNodes.length;i>e;++e)t[e]="'"+this.textNodes[e].data+"'";return"[Merge("+t.join(",")+")]"}},h.prototype={getAncestorWithClass:function(n){
for(var o;n;){if(o=this.cssClass?i(n,this.cssClass,this.similarClassRegExp):!0,n.nodeType==t.ELEMENT_NODE&&e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&o)return n;n=n.parentNode}return!1},postApply:function(t,e){for(var i,n,o,r=t[0],a=t[t.length-1],s=[],l=r,u=a,h=0,d=a.length,p=0,f=t.length;f>p;++p)n=t[p],o=this.getAdjacentMergeableTextNode(n.parentNode,!1),o?(i||(i=new c(o),s.push(i)),i.textNodes.push(n),n===r&&(l=i.firstTextNode,h=l.length),n===a&&(u=i.firstTextNode,d=i.getLength())):i=null;var m=this.getAdjacentMergeableTextNode(a.parentNode,!0);if(m&&(i||(i=new c(a),s.push(i)),i.textNodes.push(m)),s.length){for(p=0,f=s.length;f>p;++p)s[p].doMerge();e.setStart(l,h),e.setEnd(u,d)}},getAdjacentMergeableTextNode:function(e,i){var n,o=e.nodeType==t.TEXT_NODE,r=o?e.parentNode:e,a=i?"nextSibling":"previousSibling";if(o){if(n=e[a],n&&n.nodeType==t.TEXT_NODE)return n}else if(n=r[a],n&&this.areElementsMergeable(e,n))return n[i?"firstChild":"lastChild"];return null},areElementsMergeable:function(t,i){return e.dom.arrayContains(this.tagNames,(t.tagName||"").toLowerCase())&&e.dom.arrayContains(this.tagNames,(i.tagName||"").toLowerCase())&&r(t,i)&&s(t,i)},createContainer:function(t){var e=t.createElement(this.tagNames[0]);return this.cssClass&&(e.className=this.cssClass),e},applyToTextNode:function(t){var i=t.parentNode;if(1==i.childNodes.length&&e.dom.arrayContains(this.tagNames,i.tagName.toLowerCase()))this.cssClass&&n(i,this.cssClass,this.similarClassRegExp);else{var o=this.createContainer(e.dom.getDocument(t));t.parentNode.insertBefore(o,t),o.appendChild(t)}},isRemovable:function(i){return e.dom.arrayContains(this.tagNames,i.tagName.toLowerCase())&&t.lang.string(i.className).trim()==this.cssClass},undoToTextNode:function(t,e,i){if(!e.containsNode(i)){var n=e.cloneRange();n.selectNode(i),n.isPointInRange(e.endContainer,e.endOffset)&&l(e.endContainer,e.endOffset)&&(u(i,e.endContainer,e.endOffset),e.setEndAfter(i)),n.isPointInRange(e.startContainer,e.startOffset)&&l(e.startContainer,e.startOffset)&&(i=u(i,e.startContainer,e.startOffset))}this.similarClassRegExp&&o(i,this.similarClassRegExp),this.isRemovable(i)&&a(i)},applyToRange:function(e){var i=e.getNodes([t.TEXT_NODE]);if(!i.length)try{var n=this.createContainer(e.endContainer.ownerDocument);return e.surroundContents(n),void this.selectNode(e,n)}catch(o){}if(e.splitBoundaries(),i=e.getNodes([t.TEXT_NODE]),i.length){for(var r,a=0,s=i.length;s>a;++a)r=i[a],this.getAncestorWithClass(r)||this.applyToTextNode(r);e.setStart(i[0],0),r=i[i.length-1],e.setEnd(r,r.length),this.normalize&&this.postApply(i,e)}},undoToRange:function(e){var i,n,o=e.getNodes([t.TEXT_NODE]);if(o.length)e.splitBoundaries(),o=e.getNodes([t.TEXT_NODE]);else{var r=e.endContainer.ownerDocument,a=r.createTextNode(t.INVISIBLE_SPACE);e.insertNode(a),e.selectNode(a),o=[a]}for(var s=0,l=o.length;l>s;++s)i=o[s],n=this.getAncestorWithClass(i),n&&this.undoToTextNode(i,e,n);1==l?this.selectNode(e,o[0]):(e.setStart(o[0],0),i=o[o.length-1],e.setEnd(i,i.length),this.normalize&&this.postApply(o,e))},selectNode:function(e,i){var n=i.nodeType===t.ELEMENT_NODE,o="canHaveHTML"in i?i.canHaveHTML:!0,r=n?i.innerHTML:i.data,a=""===r||r===t.INVISIBLE_SPACE;if(a&&n&&o)try{i.innerHTML=t.INVISIBLE_SPACE}catch(s){}e.selectNodeContents(i),a&&n?e.collapse(!1):a&&(e.setStartAfter(i),e.setEndAfter(i))},getTextSelectedByRange:function(t,e){var i=e.cloneRange();i.selectNodeContents(t);var n=i.intersection(e),o=n?n.toString():"";return i.detach(),o},isAppliedToRange:function(e){var i,n=[],o=e.getNodes([t.TEXT_NODE]);if(!o.length)return i=this.getAncestorWithClass(e.startContainer),i?[i]:!1;for(var r,a=0,s=o.length;s>a;++a){if(r=this.getTextSelectedByRange(o[a],e),i=this.getAncestorWithClass(o[a]),""!=r&&!i)return!1;n.push(i)}return n},toggleRange:function(t){this.isAppliedToRange(t)?this.undoToRange(t):this.applyToRange(t)}},t.selection.HTMLApplier=h}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.doc=this.composer.doc},support:function(t){return wysihtml5.browser.supportsCommand(this.doc,t)},exec:function(t,e){var i=wysihtml5.commands[t],n=wysihtml5.lang.array(arguments).get(),o=i&&i.exec,r=null;if(this.editor.fire("beforecommand:composer"),o)n.unshift(this.composer),r=o.apply(i,n);else try{r=this.doc.execCommand(t,!1,e)}catch(a){}return this.editor.fire("aftercommand:composer"),r},state:function(t){var e=wysihtml5.commands[t],i=wysihtml5.lang.array(arguments).get(),n=e&&e.state;if(n)return i.unshift(this.composer),n.apply(e,i);try{return this.doc.queryCommandState(t)}catch(o){return!1}}}),wysihtml5.commands.bold={exec:function(t,e){return wysihtml5.commands.formatInline.exec(t,e,"b")},state:function(t,e){return wysihtml5.commands.formatInline.state(t,e,"b")}},function(t){function e(t,e){for(var i,n,o,a=e.length,s=0;a>s;s++)i=e[s],n=r.getParentElement(i,{nodeName:"code"}),o=r.getTextContent(i),o.match(r.autoLink.URL_REG_EXP)&&!n?n=r.renameElement(i,"code"):r.replaceWithChildNodes(i)}function i(e,i){var a,s,l,u,c,h,d,p,f,m=e.doc,g="_wysihtml5-temp-"+ +new Date,v=/non-matching-class/g,y=0;for(t.commands.formatInline.exec(e,n,o,g,v),s=m.querySelectorAll(o+"."+g),a=s.length;a>y;y++){l=s[y],l.removeAttribute("class");for(f in i)l.setAttribute(f,i[f])}h=l,1===a&&(d=r.getTextContent(l),u=!!l.querySelector("*"),c=""===d||d===t.INVISIBLE_SPACE,!u&&c&&(r.setTextContent(l,i.text||l.href),p=m.createTextNode(" "),e.selection.setAfter(l),e.selection.insertNode(p),h=p)),e.selection.setAfter(h)}var n,o="A",r=t.dom;t.commands.createLink={exec:function(t,n,o){var r=this.state(t,n);r?t.selection.executeAndRestore(function(){e(t,r)}):(o="object"==typeof o?o:{href:o},i(t,o))},state:function(e,i){return t.commands.formatInline.state(e,i,"A")}}}(wysihtml5),function(t){var e,i=/wysiwyg-font-size-[0-9a-z\-]+/g;t.commands.fontSize={exec:function(e,n,o){return t.commands.formatInline.exec(e,n,"span","wysiwyg-font-size-"+o,i)},state:function(e,n,o){return t.commands.formatInline.state(e,n,"span","wysiwyg-font-size-"+o,i)},value:function(){return e}}}(wysihtml5),function(t){var e=/wysiwyg-color-[0-9a-z]+/g;t.commands.foreColor={exec:function(i,n,o){return t.commands.formatInline.exec(i,n,"span","wysiwyg-color-"+o,e)},state:function(i,n,o){return t.commands.formatInline.state(i,n,"span","wysiwyg-color-"+o,e)}}}(wysihtml5),function(t){function e(t,e,n){t.className?(i(t,n),t.className+=" "+e):t.className=e}function i(t,e){t.className=t.className.replace(e,"")}function n(e){return e.nodeType===t.TEXT_NODE&&!t.lang.string(e.data).trim()}function o(t){for(var e=t.previousSibling;e&&n(e);)e=e.previousSibling;return e}function r(t){for(var e=t.nextSibling;e&&n(e);)e=e.nextSibling;return e}function a(t){var e=t.ownerDocument,i=r(t),n=o(t);i&&!c(i)&&t.parentNode.insertBefore(e.createElement("br"),i),n&&!c(n)&&t.parentNode.insertBefore(e.createElement("br"),t)}function s(t){var e=r(t),i=o(t);e&&u(e)&&e.parentNode.removeChild(e),i&&u(i)&&i.parentNode.removeChild(i)}function l(t){var e=t.lastChild;e&&u(e)&&e.parentNode.removeChild(e)}function u(t){return"BR"===t.nodeName}function c(t){return u(t)?!0:"block"===f.getStyle("display").from(t)}function h(e,i,n,o){if(o)var r=f.observe(e,"DOMNodeInserted",function(e){var i,n=e.target;n.nodeType===t.ELEMENT_NODE&&(i=f.getStyle("display").from(n),"inline"!==i.substr(0,6)&&(n.className+=" "+o))});e.execCommand(i,!1,n),r&&r.stop()}function d(t,e){t.selection.selectLine(),t.selection.surround(e),s(e),l(e),t.selection.selectNode(e)}function p(e){return!!t.lang.string(e.className).trim()}var f=t.dom,m="DIV",g=["H1","H2","H3","H4","H5","H6","P","BLOCKQUOTE",m];t.commands.formatBlock={exec:function(n,o,r,s,l){var u,c=n.doc,v=this.state(n,o,r,s,l);return r="string"==typeof r?r.toUpperCase():r,v?void n.selection.executeAndRestoreSimple(function(){l&&i(v,l);var t=p(v);t||v.nodeName!==(r||m)?t&&f.renameElement(v,m):(a(v),f.replaceWithChildNodes(v))}):(null===r||t.lang.array(g).contains(r))&&(u=n.selection.getSelectedNode(),v=f.getParentElement(u,{nodeName:g}))?void n.selection.executeAndRestoreSimple(function(){r&&(v=f.renameElement(v,r)),s&&e(v,s,l)}):n.commands.support(o)?void h(c,o,r||m,s):(v=c.createElement(r||m),s&&(v.className=s),void d(n,v))},state:function(t,e,i,n,o){i="string"==typeof i?i.toUpperCase():i;var r=t.selection.getSelectedNode();return f.getParentElement(r,{nodeName:i,className:n,classRegExp:o})}}}(wysihtml5),function(t){function e(t){var e=n[t];return e?[t.toLowerCase(),e.toLowerCase()]:[t.toLowerCase()]}function i(i,n,r){var a=i+":"+n;return o[a]||(o[a]=new t.selection.HTMLApplier(e(i),n,r,!0)),o[a]}var n={strong:"b",em:"i",b:"strong",i:"em"},o={};t.commands.formatInline={exec:function(t,e,n,o,r){var a=t.selection.getRange();return a?(i(n,o,r).toggleRange(a),void t.selection.setSelection(a)):!1},state:function(e,o,r,a,s){var l,u=e.doc,c=n[r]||r;return t.dom.hasElementWithTagName(u,r)||t.dom.hasElementWithTagName(u,c)?a&&!t.dom.hasElementWithClassName(u,a)?!1:(l=e.selection.getRange(),l?i(r,a,s).isAppliedToRange(l):!1):!1}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(t,e,i){t.commands.support(e)?t.doc.execCommand(e,!1,i):t.selection.insertHTML(i)},state:function(){return!1}},function(t){var e="IMG";t.commands.insertImage={exec:function(i,n,o){o="object"==typeof o?o:{src:o};var r,a,s,l=i.doc,u=this.state(i);if(u)return i.selection.setBefore(u),s=u.parentNode,s.removeChild(u),t.dom.removeEmptyTextNodes(s),"A"!==s.nodeName||s.firstChild||(i.selection.setAfter(s),s.parentNode.removeChild(s)),void t.quirks.redraw(i.element);u=l.createElement(e);for(a in o)"className"===a&&(a="class"),u.setAttribute(a,o[a]);i.selection.insertNode(u),t.browser.hasProblemsSettingCaretAfterImg()?(r=l.createTextNode(t.INVISIBLE_SPACE),i.selection.insertNode(r),i.selection.setAfter(r)):i.selection.setAfter(u)},state:function(i){var n,o,r,a=i.doc;return t.dom.hasElementWithTagName(a,e)&&(n=i.selection.getSelectedNode())?n.nodeName===e?n:n.nodeType!==t.ELEMENT_NODE?!1:(o=i.selection.getText(),(o=t.lang.string(o).trim())?!1:(r=i.selection.getNodes(t.ELEMENT_NODE,function(t){return"IMG"===t.nodeName}),1!==r.length?!1:r[0])):!1}}}(wysihtml5),function(t){var e="<br>"+(t.browser.needsSpaceAfterLineBreak()?" ":"");t.commands.insertLineBreak={exec:function(i,n){i.commands.support(n)?(i.doc.execCommand(n,!1,null),t.browser.autoScrollsToCaret()||i.selection.scrollIntoView()):i.commands.exec("insertHTML",e)},state:function(){return!1}}}(wysihtml5),wysihtml5.commands.insertOrderedList={exec:function(t,e){var i,n,o=t.doc,r=t.selection.getSelectedNode(),a=wysihtml5.dom.getParentElement(r,{nodeName:"OL"}),s=wysihtml5.dom.getParentElement(r,{nodeName:"UL"}),l="_wysihtml5-temp-"+(new Date).getTime();return t.commands.support(e)?void o.execCommand(e,!1,null):void(a?t.selection.executeAndRestoreSimple(function(){wysihtml5.dom.resolveList(a)}):s?t.selection.executeAndRestoreSimple(function(){wysihtml5.dom.renameElement(s,"ol")}):(t.commands.exec("formatBlock","div",l),n=o.querySelector("."+l),i=""===n.innerHTML||n.innerHTML===wysihtml5.INVISIBLE_SPACE,t.selection.executeAndRestoreSimple(function(){a=wysihtml5.dom.convertToList(n,"ol")}),i&&t.selection.selectNode(a.querySelector("li"))))},state:function(t){var e=t.selection.getSelectedNode();return wysihtml5.dom.getParentElement(e,{nodeName:"OL"})}},wysihtml5.commands.insertUnorderedList={exec:function(t,e){var i,n,o=t.doc,r=t.selection.getSelectedNode(),a=wysihtml5.dom.getParentElement(r,{nodeName:"UL"}),s=wysihtml5.dom.getParentElement(r,{nodeName:"OL"}),l="_wysihtml5-temp-"+(new Date).getTime();return t.commands.support(e)?void o.execCommand(e,!1,null):void(a?t.selection.executeAndRestoreSimple(function(){wysihtml5.dom.resolveList(a)}):s?t.selection.executeAndRestoreSimple(function(){wysihtml5.dom.renameElement(s,"ul")}):(t.commands.exec("formatBlock","div",l),n=o.querySelector("."+l),i=""===n.innerHTML||n.innerHTML===wysihtml5.INVISIBLE_SPACE,t.selection.executeAndRestoreSimple(function(){a=wysihtml5.dom.convertToList(n,"ul")}),i&&t.selection.selectNode(a.querySelector("li"))))},state:function(t){var e=t.selection.getSelectedNode();return wysihtml5.dom.getParentElement(e,{nodeName:"UL"})}},wysihtml5.commands.italic={exec:function(t,e){return wysihtml5.commands.formatInline.exec(t,e,"i")},state:function(t,e){return wysihtml5.commands.formatInline.state(t,e,"i")}},function(t){var e="wysiwyg-text-align-center",i=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyCenter={exec:function(n){return t.commands.formatBlock.exec(n,"formatBlock",null,e,i)},state:function(n){return t.commands.formatBlock.state(n,"formatBlock",null,e,i)}}}(wysihtml5),function(t){var e="wysiwyg-text-align-left",i=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyLeft={exec:function(n){return t.commands.formatBlock.exec(n,"formatBlock",null,e,i)},state:function(n){return t.commands.formatBlock.state(n,"formatBlock",null,e,i)}}}(wysihtml5),function(t){var e="wysiwyg-text-align-right",i=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyRight={exec:function(n){return t.commands.formatBlock.exec(n,"formatBlock",null,e,i)},state:function(n){return t.commands.formatBlock.state(n,"formatBlock",null,e,i)}}}(wysihtml5),function(t){var e="wysiwyg-text-align-justify",i=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyFull={exec:function(n){return t.commands.formatBlock.exec(n,"formatBlock",null,e,i)},state:function(n){return t.commands.formatBlock.state(n,"formatBlock",null,e,i)}}}(wysihtml5),wysihtml5.commands.redo={exec:function(t){return t.undoManager.redo()},state:function(){return!1}},wysihtml5.commands.underline={exec:function(t,e){return wysihtml5.commands.formatInline.exec(t,e,"u")},state:function(t,e){return wysihtml5.commands.formatInline.state(t,e,"u")}},wysihtml5.commands.undo={exec:function(t){return t.undoManager.undo()},state:function(){return!1}},function(t){function e(t){for(var e;e=t.querySelector("._wysihtml5-temp");)e.parentNode.removeChild(e)}var i=90,n=89,o=8,r=46,a=25,s="data-wysihtml5-selection-node",l="data-wysihtml5-selection-offset",u='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+t.INVISIBLE_SPACE+"</span>",c='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+t.INVISIBLE_SPACE+"</span>",h=t.dom;t.UndoManager=t.lang.Dispatcher.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var a,s=this,l=this.composer.sandbox.getDocument();if(h.observe(this.element,"keydown",function(t){if(!t.altKey&&(t.ctrlKey||t.metaKey)){var e=t.keyCode,o=e===i&&!t.shiftKey,r=e===i&&t.shiftKey||e===n;o?(s.undo(),t.preventDefault()):r&&(s.redo(),t.preventDefault())}}),h.observe(this.element,"keydown",function(t){var e=t.keyCode;e!==a&&(a=e,e!==o&&e!==r||s.transact())}),t.browser.hasUndoInContextMenu()){var d,p,f=function(){e(l),clearInterval(d)};h.observe(this.element,"contextmenu",function(){f(),s.composer.selection.executeAndRestoreSimple(function(){s.element.lastChild&&s.composer.selection.setAfter(s.element.lastChild),l.execCommand("insertHTML",!1,u),l.execCommand("insertHTML",!1,c),l.execCommand("undo",!1,null)}),d=setInterval(function(){l.getElementById("_wysihtml5-redo")?(f(),s.redo()):l.getElementById("_wysihtml5-undo")||(f(),s.undo())},400),p||(p=!0,h.observe(document,"mousedown",f),h.observe(l,["mousedown","paste","cut","copy"],f))})}this.editor.observe("newword:composer",function(){s.transact()}).observe("beforecommand:composer",function(){s.transact()})},transact:function(){var e=this.historyStr[this.position-1],i=this.composer.getValue();if(i!==e){var n=this.historyStr.length=this.historyDom.length=this.position;n>a&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++;var o,r,u=this.composer.selection.getRange(),c=u.startContainer||this.element,h=u.startOffset||0;c.nodeType===t.ELEMENT_NODE?o=c:(o=c.parentNode,r=this.getChildNodeIndex(o,c)),o.setAttribute(l,h),"undefined"!=typeof r&&o.setAttribute(s,r);var d=this.element.cloneNode(!!i);this.historyDom.push(d),this.historyStr.push(i),o.removeAttribute(l),o.removeAttribute(s)}},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return this.position>1},redoPossible:function(){return this.position<this.historyStr.length},set:function(t){this.element.innerHTML="";for(var e=0,i=t.childNodes,n=t.childNodes.length;n>e;e++)this.element.appendChild(i[e].cloneNode(!0));var o,r,a;t.hasAttribute(l)?(o=t.getAttribute(l),a=t.getAttribute(s),r=this.element):(r=this.element.querySelector("["+l+"]")||this.element,o=r.getAttribute(l),a=r.getAttribute(s),r.removeAttribute(l),r.removeAttribute(s)),null!==a&&(r=this.getChildNodeByIndex(r,+a)),this.composer.selection.set(r,o)},getChildNodeIndex:function(t,e){for(var i=0,n=t.childNodes,o=n.length;o>i;i++)if(n[i]===e)return i},getChildNodeByIndex:function(t,e){return t.childNodes[e]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(t,e,i){this.parent=t,this.element=e,this.config=i,this._observeViewChange()},_observeViewChange:function(){var t=this;this.parent.observe("beforeload",function(){t.parent.observe("change_view",function(e){e===t.name?(t.parent.currentView=t,t.show(),setTimeout(function(){t.focus()},0)):t.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(t){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(t){var e=t.dom,i=t.browser;t.views.Composer=t.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(t,e,i){this.base(t,e,i),this.textarea=this.parent.textarea,this._initSandbox()},clear:function(){this.element.innerHTML=i.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(e){var i=this.isEmpty()?"":t.quirks.getCorrectInnerHTML(this.element);return e&&(i=this.parent.parse(i)),i=t.lang.string(i).replace(t.INVISIBLE_SPACE).by("")},setValue:function(t,e){e&&(t=this.parent.parse(t));try{this.element.innerHTML=t}catch(i){this.element.innerText=t}},show:function(){this.iframe.style.display=this._displayStyle||"",this.disable(),this.enable()},hide:function(){this._displayStyle=e.getStyle("display").from(this.iframe),"none"===this._displayStyle&&(this._displayStyle=null),this.iframe.style.display="none"},disable:function(){this.element.removeAttribute("contentEditable"),this.base()},enable:function(){this.element.setAttribute("contentEditable","true"),this.base()},focus:function(e){t.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var i=this.element.lastChild;e&&i&&("BR"===i.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return e.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==this.textarea.element.getAttribute("placeholder")&&this.placeholderSet},isEmpty:function(){var t=this.element.innerHTML,e="blockquote, ul, ol, img, embed, object, table, iframe, svg, video, audio, button, input, select, textarea";return""===t||t===this.CARET_HACK||this.hasPlaceholderSet()||""===this.getTextContent()&&!this.element.querySelector(e)},_initSandbox:function(){var t=this;this.sandbox=new e.Sandbox(function(){t._create()},{stylesheets:this.config.stylesheets}),this.iframe=this.sandbox.getIframe();var i=this.textarea.element;if(e.insert(this.iframe).after(i),i.form){var n=document.createElement("input");n.type="hidden",n.name="_wysihtml5_mode",n.value=1,e.insert(n).after(i)}},_create:function(){var n=this;this.doc=this.sandbox.getDocument(),this.element=this.doc.body,this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0),this.enable(),this.selection=new t.Selection(this.parent),this.commands=new t.Commands(this.parent),e.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),e.addClass(this.element,this.config.composerClassName),this.config.style&&this.style(),this.observe();var o=this.config.name;o&&(e.addClass(this.element,o),e.addClass(this.iframe,o));var r="string"==typeof this.config.placeholder?this.config.placeholder:this.textarea.element.getAttribute("placeholder");r&&e.simulatePlaceholder(this.parent,this,r),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),(this.textarea.element.hasAttribute("autofocus")||document.querySelector(":focus")==this.textarea.element)&&setTimeout(function(){n.focus(!0)},100),t.quirks.insertLineBreakOnReturn(this),i.clearsContentEditableCorrectly()||t.quirks.ensureProperClearing(this),i.clearsListsInContentEditableCorrectly()||t.quirks.ensureProperClearingOfLists(this),this.initSync&&this.config.sync&&this.initSync(),this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var n=this,o=i.canDisableAutoLinking(),r=i.doesAutoLinkingInContentEditable();if(o&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!r||r&&o)&&(this.parent.observe("newword:composer",function(){n.selection.executeAndRestore(function(t,i){e.autoLink(i.parentNode)})}),e.observe(this.element,"blur",function(){e.autoLink(n.element)}));var a=this.sandbox.getDocument().getElementsByTagName("a"),s=e.autoLink.URL_REG_EXP,l=function(i){var n=t.lang.string(e.getTextContent(i)).trim();return"www."===n.substr(0,4)&&(n="http://"+n),n};e.observe(this.element,"keydown",function(t){if(a.length){var i,o=n.selection.getSelectedNode(t.target.ownerDocument),r=e.getParentElement(o,{nodeName:"A"},4);r&&(i=l(r),setTimeout(function(){var t=l(r);t!==i&&t.match(s)&&r.setAttribute("href",t)},0))}})}},_initObjectResizing:function(){var n=["width","height"],o=n.length,r=this.element,a=function(e){var i,a=e.target||e.srcElement,s=a.style,l=0;if("IMG"===a.nodeName){for(;o>l;l++)i=n[l],s[i]&&(a.setAttribute(i,parseInt(s[i],10)),s[i]="");t.quirks.redraw(r)}};this.commands.exec("enableObjectResizing",!0),i.supportsEvent("resizeend")?e.observe(r,"resizeend",a):e.observe(r,"DOMAttrModified",a)},_initUndoManager:function(){this.undoManager=new t.UndoManager(this.parent)}})}(wysihtml5),function(t){var e=t.dom,i=document,n=window,o=i.createElement("div"),r=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],a=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],s=["width","height","top","left","right","bottom"],l=["html             { height: 100%; }","body             { min-height: 100%; padding: 0; margin: 0; margin-top: -1px; padding-top: 1px; }","._wysihtml5-temp { display: none; }",t.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","body[disabled]   { background-color: #eee !important; color: #999 !important; cursor: default !important; }","img:-moz-broken  { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],u=function(t){if(t.setActive)try{t.setActive()}catch(o){}else{var r=t.style,a=i.documentElement.scrollTop||i.body.scrollTop,s=i.documentElement.scrollLeft||i.body.scrollLeft,l={position:r.position,top:r.top,left:r.left,WebkitUserSelect:r.WebkitUserSelect};e.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(t),t.focus(),e.setStyles(l).on(t),n.scrollTo&&n.scrollTo(s,a)}};t.views.Composer.prototype.style=function(){var c=this,h=i.querySelector(":focus"),d=this.textarea.element,p=d.hasAttribute("placeholder"),f=p&&d.getAttribute("placeholder");this.focusStylesHost=this.focusStylesHost||o.cloneNode(!1),this.blurStylesHost=this.blurStylesHost||o.cloneNode(!1),p&&d.removeAttribute("placeholder"),d===h&&d.blur(),e.copyStyles(a).from(d).to(this.iframe).andTo(this.blurStylesHost),e.copyStyles(r).from(d).to(this.element).andTo(this.blurStylesHost),e.insertCSS(l).into(this.element.ownerDocument),u(d),e.copyStyles(a).from(d).to(this.focusStylesHost),e.copyStyles(r).from(d).to(this.focusStylesHost);var m=t.lang.array(a).without(["display"]);if(h?h.focus():d.blur(),p&&d.setAttribute("placeholder",f),!t.browser.hasCurrentStyleProperty())var g=e.observe(n,"resize",function(){if(!e.contains(document.documentElement,c.iframe))return void g.stop();var t=e.getStyle("display").from(d),i=e.getStyle("display").from(c.iframe);d.style.display="",c.iframe.style.display="none",e.copyStyles(s).from(d).to(c.iframe).andTo(c.focusStylesHost).andTo(c.blurStylesHost),c.iframe.style.display=i,d.style.display=t});return this.parent.observe("focus:composer",function(){e.copyStyles(m).from(c.focusStylesHost).to(c.iframe),e.copyStyles(r).from(c.focusStylesHost).to(c.element)}),this.parent.observe("blur:composer",function(){e.copyStyles(m).from(c.blurStylesHost).to(c.iframe),e.copyStyles(r).from(c.blurStylesHost).to(c.element)}),this}}(wysihtml5),function(t){var e=t.dom,i=t.browser,n={66:"bold",73:"italic",85:"underline"};t.views.Composer.prototype.observe=function(){var o=this,r=this.getValue(),a=this.sandbox.getIframe(),s=this.element,l=i.supportsEventsInIframeCorrectly()?s:this.sandbox.getWindow(),u=["drop","paste"];e.observe(a,"DOMNodeRemoved",function(){clearInterval(c),o.parent.fire("destroy:composer")});var c=setInterval(function(){e.contains(document.documentElement,a)||(clearInterval(c),o.parent.fire("destroy:composer"))},250);e.observe(l,"focus",function(){o.parent.fire("focus").fire("focus:composer"),setTimeout(function(){r=o.getValue()},0)}),e.observe(l,"blur",function(){r!==o.getValue()&&o.parent.fire("change").fire("change:composer"),o.parent.fire("blur").fire("blur:composer")}),i.isIos()&&e.observe(s,"blur",function(){var t=s.ownerDocument.createElement("input"),e=document.documentElement.scrollTop||document.body.scrollTop,i=document.documentElement.scrollLeft||document.body.scrollLeft;try{o.selection.insertNode(t)}catch(n){s.appendChild(t)}t.focus(),t.parentNode.removeChild(t),window.scrollTo(i,e)}),e.observe(s,"dragenter",function(){o.parent.fire("unset_placeholder")}),e.observe(s,u,function(){setTimeout(function(){o.parent.fire("paste").fire("paste:composer")},0)}),e.observe(s,"keyup",function(e){var i=e.keyCode;i!==t.SPACE_KEY&&i!==t.ENTER_KEY||o.parent.fire("newword:composer")}),this.parent.observe("paste:composer",function(){setTimeout(function(){o.parent.fire("newword:composer")},0)}),i.canSelectImagesInContentEditable()||e.observe(s,"mousedown",function(t){var e=t.target;"IMG"===e.nodeName&&(o.selection.selectNode(e),t.preventDefault())}),i.hasHistoryIssue()&&i.supportsSelectionModify()&&e.observe(s,"keydown",function(t){if(t.metaKey||t.ctrlKey){var e=t.keyCode,i=s.ownerDocument.defaultView,n=i.getSelection();37!==e&&39!==e||(37===e&&(n.modify("extend","left","lineboundary"),t.shiftKey||n.collapseToStart()),39===e&&(n.modify("extend","right","lineboundary"),t.shiftKey||n.collapseToEnd()),t.preventDefault())}}),e.observe(s,"keydown",function(t){var e=t.keyCode,i=n[e];(t.ctrlKey||t.metaKey)&&!t.altKey&&i&&(o.commands.exec(i),t.preventDefault())}),e.observe(s,"keydown",function(e){var i,n=o.selection.getSelectedNode(!0),r=e.keyCode;!n||"IMG"!==n.nodeName||r!==t.BACKSPACE_KEY&&r!==t.DELETE_KEY||(i=n.parentNode,i.removeChild(n),"A"!==i.nodeName||i.firstChild||i.parentNode.removeChild(i),setTimeout(function(){t.quirks.redraw(s)},0),e.preventDefault())});var h={IMG:"Image: ",A:"Link: "};e.observe(s,"mouseover",function(t){var e,i=t.target,n=i.nodeName;if("A"===n||"IMG"===n){var o=i.hasAttribute("title");o||(e=h[n]+(i.getAttribute("href")||i.getAttribute("src")),i.setAttribute("title",e))}})}}(wysihtml5),function(t){var e=400;t.views.Synchronizer=Base.extend({constructor:function(t,e,i){this.editor=t,this.textarea=e,this.composer=i,this._observe()},fromComposerToTextarea:function(e){this.textarea.setValue(t.lang.string(this.composer.getValue()).trim(),e)},fromTextareaToComposer:function(t){var e=this.textarea.getValue();e?this.composer.setValue(e,t):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(t){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(t):this.fromComposerToTextarea(t)},_observe:function(){var i,n=this,o=this.textarea.element.form,r=function(){i=setInterval(function(){n.fromComposerToTextarea()},e)},a=function(){clearInterval(i),i=null};r(),o&&(t.dom.observe(o,"submit",function(){n.sync(!0)}),t.dom.observe(o,"reset",function(){setTimeout(function(){n.fromTextareaToComposer()},0)})),this.editor.observe("change_view",function(t){"composer"!==t||i?"textarea"===t&&(n.fromComposerToTextarea(!0),a()):(n.fromTextareaToComposer(!0),r())}),this.editor.observe("destroy:composer",a)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(t,e,i){this.base(t,e,i),this._observe()},clear:function(){this.element.value=""},getValue:function(t){var e=this.isEmpty()?"":this.element.value;return t&&(e=this.parent.parse(e)),e},setValue:function(t,e){e&&(t=this.parent.parse(t)),this.element.value=t},hasPlaceholderSet:function(){var t=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),e=this.element.getAttribute("placeholder")||null,i=this.element.value,n=!i;return t&&n||i===e},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var t=this.element,e=this.parent,i={focusin:"focus",focusout:"blur"},n=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];e.observe("beforeload",function(){wysihtml5.dom.observe(t,n,function(t){var n=i[t.type]||t.type;e.fire(n).fire(n+":textarea")}),wysihtml5.dom.observe(t,["paste","drop"],function(){setTimeout(function(){e.fire("paste").fire("paste:textarea")},0)})})}}),function(t){var e=t.dom,i="wysihtml5-command-dialog-opened",n="input, select, textarea",o="[data-wysihtml5-dialog-field]",r="data-wysihtml5-dialog-field";t.toolbar.Dialog=t.lang.Dispatcher.extend({constructor:function(t,e){this.link=t,this.container=e},_observe:function(){if(!this._observed){var o=this,r=function(t){var e=o._serialize();e==o.elementToChange?o.fire("edit",e):o.fire("save",e),o.hide(),t.preventDefault(),t.stopPropagation()};e.observe(o.link,"click",function(){e.hasClass(o.link,i)&&setTimeout(function(){o.hide()},0)}),e.observe(this.container,"keydown",function(e){var i=e.keyCode;i===t.ENTER_KEY&&r(e),i===t.ESCAPE_KEY&&o.hide()}),e.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",r),e.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(t){o.fire("cancel"),o.hide(),t.preventDefault(),t.stopPropagation()});for(var a=this.container.querySelectorAll(n),s=0,l=a.length,u=function(){clearInterval(o.interval)};l>s;s++)e.observe(a[s],"change",u);this._observed=!0}},_serialize:function(){for(var t=this.elementToChange||{},e=this.container.querySelectorAll(o),i=e.length,n=0;i>n;n++)t[e[n].getAttribute(r)]=e[n].value;return t},_interpolate:function(t){for(var e,i,n,a=document.querySelector(":focus"),s=this.container.querySelectorAll(o),l=s.length,u=0;l>u;u++)e=s[u],e!==a&&(t&&"hidden"===e.type||(i=e.getAttribute(r),n=this.elementToChange?this.elementToChange[i]||"":e.defaultValue,
e.value=n))},show:function(t){if(!e.hasClass(this.link,i)){var o=this,r=this.container.querySelector(n);if(this.elementToChange=t,this._observe(),this._interpolate(),t&&(this.interval=setInterval(function(){o._interpolate(!0)},500)),e.addClass(this.link,i),this.container.style.display="",this.fire("show"),r&&!t)try{r.focus()}catch(a){}}},hide:function(){clearInterval(this.interval),this.elementToChange=null,e.removeClass(this.link,i),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(t){var e=t.dom,i={position:"relative"},n={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},o={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},r={"x-webkit-speech":"",speech:""};t.toolbar.Speech=function(a,s){var l=document.createElement("input");if(!t.browser.supportsSpeechApiOn(l))return void(s.style.display="none");var u=a.editor.textarea.element.getAttribute("lang");u&&(r.lang=u);var c=document.createElement("div");t.lang.object(n).merge({width:s.offsetWidth+"px",height:s.offsetHeight+"px"}),e.insert(l).into(c),e.insert(c).into(s),e.setStyles(o).on(l),e.setAttributes(r).on(l),e.setStyles(n).on(c),e.setStyles(i).on(s);var h="onwebkitspeechchange"in l?"webkitspeechchange":"speechchange";e.observe(l,h,function(){a.execCommand("insertText",l.value),l.value=""}),e.observe(l,"click",function(t){e.hasClass(s,"wysihtml5-command-disabled")&&t.preventDefault(),t.stopPropagation()})}}(wysihtml5),function(t){var e="wysihtml5-command-disabled",i="wysihtml5-commands-disabled",n="wysihtml5-command-active",o="wysihtml5-action-active",r=t.dom;t.toolbar.Toolbar=Base.extend({constructor:function(e,i){this.editor=e,this.container="string"==typeof i?document.getElementById(i):i,this.composer=e.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),this.show();for(var n=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),o=n.length,r=0;o>r;r++)new t.toolbar.Speech(this,n[r])},_getLinks:function(e){for(var i,n,o,r,a,s=this[e+"Links"]=t.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+e+"]")).get(),l=s.length,u=0,c=this[e+"Mapping"]={};l>u;u++)i=s[u],o=i.getAttribute("data-wysihtml5-"+e),r=i.getAttribute("data-wysihtml5-"+e+"-value"),n=this.container.querySelector("[data-wysihtml5-"+e+"-group='"+o+"']"),a=this._getDialog(i,o),c[o+":"+r]={link:i,group:n,name:o,value:r,dialog:a,state:!1}},_getDialog:function(e,i){var n,o,r=this,a=this.container.querySelector("[data-wysihtml5-dialog='"+i+"']");return a&&(n=new t.toolbar.Dialog(e,a),n.observe("show",function(){o=r.composer.selection.getBookmark(),r.editor.fire("show:dialog",{command:i,dialogContainer:a,commandLink:e})}),n.observe("save",function(t){o&&r.composer.selection.setBookmark(o),r._execCommand(i,t),r.editor.fire("save:dialog",{command:i,dialogContainer:a,commandLink:e})}),n.observe("cancel",function(){r.editor.focus(!1),r.editor.fire("cancel:dialog",{command:i,dialogContainer:a,commandLink:e})})),n},execCommand:function(t,e){if(!this.commandsDisabled){var i=this.commandMapping[t+":"+e];i&&i.dialog&&!i.state?i.dialog.show():this._execCommand(t,e)}},_execCommand:function(t,e){this.editor.focus(!1),this.composer.commands.exec(t,e),this._updateLinkStates()},execAction:function(t){var e=this.editor;switch(t){case"change_view":e.currentView===e.textarea?e.fire("change_view","composer"):e.fire("change_view","textarea")}},_observe:function(){for(var t=this,e=this.editor,n=this.container,o=this.commandLinks.concat(this.actionLinks),a=o.length,s=0;a>s;s++)r.setAttributes({href:"javascript:;",unselectable:"on"}).on(o[s]);r.delegate(n,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(t){t.preventDefault()}),r.delegate(n,"[data-wysihtml5-command]","click",function(e){var i=this,n=i.getAttribute("data-wysihtml5-command"),o=i.getAttribute("data-wysihtml5-command-value");t.execCommand(n,o),e.preventDefault()}),r.delegate(n,"[data-wysihtml5-action]","click",function(e){var i=this.getAttribute("data-wysihtml5-action");t.execAction(i),e.preventDefault()}),e.observe("focus:composer",function(){t.bookmark=null,clearInterval(t.interval),t.interval=setInterval(function(){t._updateLinkStates()},500)}),e.observe("blur:composer",function(){clearInterval(t.interval)}),e.observe("destroy:composer",function(){clearInterval(t.interval)}),e.observe("change_view",function(e){setTimeout(function(){t.commandsDisabled="composer"!==e,t._updateLinkStates(),t.commandsDisabled?r.addClass(n,i):r.removeClass(n,i)},0)})},_updateLinkStates:function(){var i,a,s,l,u=(this.composer.element,this.commandMapping),c=this.actionMapping;for(i in u)l=u[i],this.commandsDisabled?(a=!1,r.removeClass(l.link,n),l.group&&r.removeClass(l.group,n),l.dialog&&l.dialog.hide()):(a=this.composer.commands.state(l.name,l.value),t.lang.object(a).isArray()&&(a=1===a.length?a[0]:!0),r.removeClass(l.link,e),l.group&&r.removeClass(l.group,e)),l.state!==a&&(l.state=a,a?(r.addClass(l.link,n),l.group&&r.addClass(l.group,n),l.dialog&&("object"==typeof a?l.dialog.show(a):l.dialog.hide())):(r.removeClass(l.link,n),l.group&&r.removeClass(l.group,n),l.dialog&&l.dialog.hide()));for(i in c)s=c[i],"change_view"===s.name&&(s.state=this.editor.currentView===this.editor.textarea,s.state?r.addClass(s.link,o):r.removeClass(s.link,o))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(t){var e,i={name:e,style:!0,toolbar:e,autoLink:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:t.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",stylesheets:[],placeholderText:e,supportTouchDevices:!0};t.Editor=t.lang.Dispatcher.extend({constructor:function(e,n){if(this.textareaElement="string"==typeof e?document.getElementById(e):e,this.config=t.lang.object({}).merge(i).merge(n).get(),this.textarea=new t.views.Textarea(this,this.textareaElement,this.config),this.currentView=this.textarea,this._isCompatible=t.browser.supported(),!this._isCompatible||!this.config.supportTouchDevices&&t.browser.isTouchDevice()){var o=this;return void setTimeout(function(){o.fire("beforeload").fire("load")},0)}t.dom.addClass(document.body,this.config.bodyClassName),this.composer=new t.views.Composer(this,this.textareaElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.observe("beforeload",function(){this.synchronizer=new t.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new t.toolbar.Toolbar(this,this.config.toolbar))});try{console.log("Heya! This page is using wysihtml5 for rich text editing. Check out https://github.com/xing/wysihtml5")}catch(r){}},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(t){return this.currentView.getValue(t)},setValue:function(t,e){return this.fire("unset_placeholder"),t?(this.currentView.setValue(t,e),this):this.clear()},focus:function(t){return this.currentView.focus(t),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(e){var i=this.config.parser(e,this.config.parserRules,this.composer.sandbox.getDocument(),!0);return"object"==typeof e&&t.quirks.redraw(e),i},_initParser:function(){this.observe("paste:composer",function(){var e=!0,i=this;i.composer.selection.executeAndRestore(function(){t.quirks.cleanPastedHTML(i.composer.element),i.parse(i.composer.element)},e)}),this.observe("paste:textarea",function(){var t,e=this.textarea.getValue();t=this.parse(e),this.textarea.setValue(t)})}})}(wysihtml5),!function(t,e){"use strict";var i={"font-styles":function(t,e){var i=e&&e.size?" btn-"+e.size:"";return"<li class='dropdown'><a class='btn btn-default dropdown-toggle"+i+"' data-toggle='dropdown' href='#' title='"+t.font_styles.title+"'><i class='glyphicon glyphicon-font'></i>&nbsp;<span class='current-font'>"+t.font_styles.normal+"</span>&nbsp;<b class='caret'></b></a><ul class='dropdown-menu'><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='div' tabindex='-1' role='menuitem'>"+t.font_styles.normal+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h1' tabindex='-1' role='menuitem'>"+t.font_styles.h1+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h2' tabindex='-1' role='menuitem'>"+t.font_styles.h2+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h3' tabindex='-1' role='menuitem'>"+t.font_styles.h3+"</a></li></ul></li>"},emphasis:function(t,e){var i=e&&e.size?" btn-"+e.size:"";return"<li><div class='btn-group'><a class='btn btn-default "+i+"' data-wysihtml5-command='bold' title='CTRL+B' tabindex='-1'>"+t.emphasis.bold+"</a><a class='btn btn-default "+i+"' data-wysihtml5-command='italic' title='CTRL+I' tabindex='-1'>"+t.emphasis.italic+"</a><a class='btn btn-default "+i+"' data-wysihtml5-command='underline' title='CTRL+U' tabindex='-1'>"+t.emphasis.underline+"</a></div></li>"},lists:function(t,e){var i=e&&e.size?" btn-"+e.size:"";return"<li><div class='btn-group'><a class='btn btn-default "+i+"' data-wysihtml5-command='insertUnorderedList' title='"+t.lists.unordered+"' tabindex='-1'><i class='glyphicon glyphicon-list'></i></a><a class='btn btn-default "+i+"' data-wysihtml5-command='insertOrderedList' title='"+t.lists.ordered+"' tabindex='-1'><i class='glyphicon glyphicon-th-list'></i></a><a class='btn btn-default "+i+"' data-wysihtml5-command='Outdent' title='"+t.lists.outdent+"' tabindex='-1'><i class='glyphicon glyphicon-indent-left'></i></a><a class='btn btn-default "+i+"' data-wysihtml5-command='Indent' title='"+t.lists.indent+"' tabindex='-1'><i class='glyphicon glyphicon-indent-right'></i></a></div></li>"},link:function(t,e){var i=e&&e.size?" btn-"+e.size:"";return"<li><div class='bootstrap-wysihtml5-insert-link-modal modal fade' tabindex='-1' role='dialog' aria-hidden='true'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button><h3 class='modal-title'>"+t.link.insert+"</h3></div><div class='modal-body'><input value='http://' class='bootstrap-wysihtml5-insert-link-url form-control input-lg'></div><div class='modal-footer'><a href='#' class='btn btn-default' data-dismiss='modal'>"+t.link.cancel+"</a><a href='#' class='btn btn-primary' data-dismiss='modal'>"+t.link.insert+"</a></div></div></div></div><a class='btn btn-default "+i+"' data-wysihtml5-command='createLink' title='"+t.link.insert+"' tabindex='-1'><i class='glyphicon glyphicon-share'></i></a></li>"},image:function(t,e){var i=e&&e.size?" btn-"+e.size:"";return"<li><div class='bootstrap-wysihtml5-insert-image-modal modal fade' tabindex='-1' role='dialog' aria-hidden='true'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button><h3 class='modal-title'>"+t.image.insert+"</h3></div><div class='modal-body'><input value='http://' class='bootstrap-wysihtml5-insert-image-url form-control input-lg'></div><div class='modal-footer'><a href='#' class='btn btn-default ' data-dismiss='modal'>"+t.image.cancel+"</a><a href='#' class='btn btn-primary' data-dismiss='modal'>"+t.image.insert+"</a></div></div></div></div><a class='btn btn-default "+i+"' data-wysihtml5-command='insertImage' title='"+t.image.insert+"' tabindex='-1'><i class='glyphicon glyphicon-picture'></i></a></li>"},html:function(t,e){var i=e&&e.size?" btn-"+e.size:"";return"<li><div class='btn-group'><a class='btn btn-default "+i+"' data-wysihtml5-action='change_view' title='"+t.html.edit+"' tabindex='-1'><i class='glyphicon glyphicon-pencil'></i></a></div></li>"},color:function(t,e){var i=e&&e.size?" btn-"+e.size:"";return"<li class='dropdown'><a class='btn btn-default dropdown-toggle"+i+"' data-toggle='dropdown' href='#' tabindex='-1' title='"+t.colours.title+"'><span class='current-color'>"+t.colours.black+"</span>&nbsp;<b class='caret'></b></a><ul class='dropdown-menu'><li><div class='wysihtml5-colors' data-wysihtml5-command-value='black'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='black' role='menuitem'>"+t.colours.black+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='silver'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='silver' role='menuitem'>"+t.colours.silver+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='gray'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='gray' role='menuitem'>"+t.colours.gray+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='maroon'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='maroon' role='menuitem'>"+t.colours.maroon+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='red'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='red' role='menuitem'>"+t.colours.red+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='purple'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='purple' role='menuitem'>"+t.colours.purple+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='green'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='green' role='menuitem'>"+t.colours.green+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='olive'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='olive' role='menuitem'>"+t.colours.olive+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='navy'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='navy' role='menuitem'>"+t.colours.navy+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='blue'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='blue' role='menuitem'>"+t.colours.blue+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='orange'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='orange' role='menuitem'>"+t.colours.orange+"</a></li></ul></li>"}},n=function(t,e,n){return i[t](e,n)},o=function(e,n){this.el=e;var o=n||a;for(var r in o.customTemplates)i[r]=o.customTemplates[r];this.toolbar=this.createToolbar(e,o),this.editor=this.createEditor(n),window.editor=this.editor,t("iframe.wysihtml5-sandbox").each(function(e,i){t(i.contentWindow).off("focus.wysihtml5").on({"focus.wysihtml5":function(){t("li.dropdown").removeClass("open")}})})};o.prototype={constructor:o,createEditor:function(i){i=i||{},i=t.extend(!0,{},i),i.toolbar=this.toolbar[0];var n=new e.Editor(this.el[0],i);if(i&&i.events)for(var o in i.events)n.on(o,i.events[o]);return n},createToolbar:function(e,i){var o=this,r=t("<ul/>",{"class":"wysihtml5-toolbar",style:"display:none"}),l=i.locale||a.locale||"en";for(var u in a){var c=!1;void 0!==i[u]?i[u]===!0&&(c=!0):c=a[u],c===!0&&(r.append(n(u,s[l],i)),"html"===u&&this.initHtml(r),"link"===u&&this.initInsertLink(r),"image"===u&&this.initInsertImage(r),"customCommand"==u&&this.initCustomCommand(r,i.customCommandCallback))}if(i.toolbar)for(u in i.toolbar)r.append(i.toolbar[u]);return r.find("a[data-wysihtml5-command='formatBlock']").click(function(e){var i=e.target||e.srcElement,n=t(i);o.toolbar.find(".current-font").text(n.html())}),r.find("a[data-wysihtml5-command='foreColor']").click(function(e){var i=e.target||e.srcElement,n=t(i);o.toolbar.find(".current-color").text(n.html())}),this.el.before(r),r},initHtml:function(t){var e="a[data-wysihtml5-action='change_view']";t.find(e).click(function(){t.find("a.btn").not(e).toggleClass("disabled")})},initInsertImage:function(e){var i,n=this,o=e.find(".bootstrap-wysihtml5-insert-image-modal"),r=o.find(".bootstrap-wysihtml5-insert-image-url"),a=o.find("a.btn-primary"),s=r.val(),l=function(){var t=r.val();r.val(s),n.editor.currentView.element.focus(),i&&(n.editor.composer.selection.setBookmark(i),i=null),n.editor.composer.commands.exec("insertImage",t)};r.keypress(function(t){13==t.which&&(l(),o.modal("hide"))}),a.click(l),o.on("shown",function(){r.focus()}),o.on("hide",function(){n.editor.currentView.element.focus()}),e.find("a[data-wysihtml5-command=insertImage]").click(function(){var e=t(this).hasClass("wysihtml5-command-active");return e?!0:(n.editor.currentView.element.focus(!1),i=n.editor.composer.selection.getBookmark(),o.appendTo("body").modal("show"),o.on("click.dismiss.modal",'[data-dismiss="modal"]',function(t){t.stopPropagation()}),!1)})},initCustomCommand:function(e,i){var n=this;e.find("a[data-wysihtml5-command=customCommand]").click(function(){var e=t(this).hasClass("wysihtml5-command-active");return e?!0:(i(n.editor),!1)})},initInsertLink:function(e){var i,n=this,o=e.find(".bootstrap-wysihtml5-insert-link-modal"),r=o.find(".bootstrap-wysihtml5-insert-link-url"),a=o.find("a.btn-primary"),s=r.val(),l=function(){var t=r.val();r.val(s),n.editor.currentView.element.focus(),i&&(n.editor.composer.selection.setBookmark(i),i=null),n.editor.composer.commands.exec("createLink",{href:t,target:"_blank",rel:"nofollow"})};r.keypress(function(t){13==t.which&&(l(),o.modal("hide"))}),a.click(l),o.on("shown",function(){r.focus()}),o.on("hide",function(){n.editor.currentView.element.focus()}),e.find("a[data-wysihtml5-command=createLink]").click(function(){var e=t(this).hasClass("wysihtml5-command-active");return e?!0:(n.editor.currentView.element.focus(!1),i=n.editor.composer.selection.getBookmark(),o.appendTo("body").modal("show"),o.on("click.dismiss.modal",'[data-dismiss="modal"]',function(t){t.stopPropagation()}),!1)})}};var r={resetDefaults:function(){t.fn.wysihtml5.defaultOptions=t.extend(!0,{},t.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(e){return this.each(function(){var i=t(this);i.data("wysihtml5",new o(i,e))})},shallowExtend:function(e){var i=t.extend({},t.fn.wysihtml5.defaultOptions,e||{}),n=this;return r.bypassDefaults.apply(n,[i])},deepExtend:function(e){var i=t.extend(!0,{},t.fn.wysihtml5.defaultOptions,e||{}),n=this;return r.bypassDefaults.apply(n,[i])},init:function(t){var e=this;return r.shallowExtend.apply(e,[t])}};t.fn.wysihtml5=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.wysihtml5"):r.init.apply(this,arguments)},t.fn.wysihtml5.Constructor=o;var a=t.fn.wysihtml5.defaultOptions={"font-styles":!0,color:!1,emphasis:!0,lists:!0,html:!1,link:!0,image:!0,customCommand:!1,events:{},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{set_attributes:{target:"_blank",rel:"nofollow"},check_attributes:{href:"url"}},span:1,div:1,code:1,pre:1}},stylesheets:["./lib/css/wysiwyg-color.css"],locale:"en"};"undefined"==typeof t.fn.wysihtml5.defaultOptionsCache&&(t.fn.wysihtml5.defaultOptionsCache=t.extend(!0,{},t.fn.wysihtml5.defaultOptions));var s=t.fn.wysihtml5.locale={en:{font_styles:{title:"Font style",normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{title:"Text color",black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}}(window.jQuery,window.wysihtml5),window.Bootsy=window.Bootsy||{},Bootsy.Area=function(t){this.$el=t,this.modal=t.siblings(".bootsy-modal"),this.unsavedChanges=!1,this.locale=t.data("bootsy-locale")||$("html").attr("lang"),Bootsy.translations[this.locale]||(this.locale="en"),this.options={locale:this.locale,alertUnsavedChanges:t.data("bootsy-alert-unsaved"),image:t.data("bootsy-image"),uploader:t.data("bootsy-uploader")},t.data("bootsy-font-styles")===!1&&(this.options["font-styles"]=!1),t.data("bootsy-emphasis")===!1&&(this.options.emphasis=!1),t.data("bootsy-lists")===!1&&(this.options.lists=!1),t.data("bootsy-html")===!0&&(this.options.html=!0),t.data("bootsy-link")===!1&&(this.options.link=!1),t.data("bootsy-color")===!1&&(this.options.color=!1),this.find=this.modal.find.bind(this.modal)},Bootsy.Area.prototype.showGalleryLoadingAnimation=function(){this.find(".bootsy-gallery-loader").fadeIn(200)},Bootsy.Area.prototype.hideGalleryLoadingAnimation=function(){this.find(".bootsy-gallery-loader").fadeOut(200)},Bootsy.Area.prototype.showUploadLoadingAnimation=function(){this.find(".bootsy-upload-loader").fadeIn(200)},Bootsy.Area.prototype.hideUploadLoadingAnimation=function(){this.find(".bootsy-upload-loader").fadeOut(200)},Bootsy.Area.prototype.showEmptyAlert=function(){this.find(".bootsy-empty-alert").fadeIn(200)},Bootsy.Area.prototype.hideEmptyAlert=function(){this.find(".bootsy-empty-alert").fadeOut(200)},Bootsy.Area.prototype.showRefreshButton=function(){this.find(".refresh-btn").fadeIn(200)},Bootsy.Area.prototype.hideRefreshButton=function(){this.find(".refresh-btn").fadeOut(200)},Bootsy.Area.prototype.setUploadForm=function(t){this.find(".modal-footer").html(t),this.hideUploadLoadingAnimation(),this.find('.bootsy-upload-form input[type="file"]').bootstrapFileInput(),this.uploadInput=this.find('.bootsy-upload-form input[type="file"]'),this.uploadInput.change(function(){this.showUploadLoadingAnimation(),this.uploadInput.closest("form").submit()}.bind(this))},Bootsy.Area.prototype.imageUploadFailed=function(t,e){this.invalidErrors=e.responseJSON,422===Number(e.status)&&this.invalidErrors.image_file?(this.hideUploadLoadingAnimation(),this.validation&&this.validation.remove(),this.validation=$("<p class='text-danger'>"),this.validation.text(this.invalidErrors.image_file[0]),this.find(".bootsy-upload-form").append(this.validation)):alert(Bootsy.translations[this.locale].error),this.showRefreshButton()},Bootsy.Area.prototype.setImageGallery=function(){this.showGalleryLoadingAnimation(),$.ajax({url:"/bootsy/images",type:"GET",cache:!1,data:{image_gallery_id:this.modal.data("gallery-id")},dataType:"json",success:function(t){this.hideRefreshButton(),this.hideGalleryLoadingAnimation(),this.find(".bootsy-gallery .bootsy-image").remove(),$.each(t.images,function(t,e){this.addImage(e)}.bind(this)),0===t.images.length&&this.showEmptyAlert(),this.setUploadForm(t.form),this.modal.data("gallery-loaded",!0)}.bind(this),error:this.imageUploadFailed.bind(this)})},Bootsy.Area.prototype.deleteImage=function(t){var e=this.find('.bootsy-image[data-id="'+t+'"]');this.hideGalleryLoadingAnimation(),e.hide(200,function(){e.remove(),0===this.find(".bootsy-image").length&&this.showEmptyAlert()}.bind(this))},Bootsy.Area.prototype.addImage=function(t){this.hideEmptyAlert(),$(t).hide().appendTo(this.find(".bootsy-gallery")).fadeIn(200)},Bootsy.Area.prototype.insertImage=function(t){this.modal.modal("hide"),this.editor.currentView.element.focus(),this.caretBookmark&&(this.editor.composer.selection.setBookmark(this.caretBookmark),this.caretBookmark=null),this.editor.composer.commands.exec("insertImage",t)},Bootsy.Area.prototype.openImagesModal=function(t){t.currentView.element.focus(!1),this.caretBookmark=t.composer.selection.getBookmark(),this.modal.modal("show")},Bootsy.Area.prototype.unsavedChangesAlert=function(){return this.unsavedChanges?Bootsy.translations[this.locale].alertUnsaved:void 0},Bootsy.Area.prototype.clear=function(){this.editor.clear(),this.setImageGalleryId(""),this.modal.data("gallery-loaded",!1)},Bootsy.Area.prototype.setImageGalleryId=function(t){this.modal.data("gallery-id",t),this.$el.siblings(".bootsy_image_gallery_id").val(t)},Bootsy.Area.prototype.init=function(){var t;this.$el.data("bootsy-initialized")||(t=this.insertImage.bind(this),this.options.image===!0&&this.options.uploader===!0&&(this.modal.on("click",".bootsy-image .insert",function(e){var i,n,o="/"+$(this).attr("data-image-size")+"_";e.preventDefault(),"original"===$(this).data("image-size")&&(o="/"),i=$(this).parents(".bootsy-image").find("img"),n={src:i.attr("src").replace("/thumb_",o),alt:i.attr("alt").replace("Thumb_","")},n.align=$(this).data("position"),t(n)}),this.options.image=!1,this.options.customCommand=!0,this.options.customCommandCallback=this.openImagesModal.bind(this),this.options.customTemplates={customCommand:function(t,e){var i=e&&e.size?" btn-"+e.size:"";return'<li><a class="btn btn-default '+i+'" data-wysihtml5-command="customCommand" title="'+t.image.insert+'" tabindex="-1"><span class="glyphicon glyphicon-picture"></span></a></li>'}},this.modal.parents("form").after(this.modal),this.modal.on("click",'a[href="#refresh-gallery"]',this.setImageGallery.bind(this)),this.modal.on("ajax:before",".destroy-btn",this.showGalleryLoadingAnimation.bind(this)),this.modal.on("ajax:success",".destroy-btn",function(t,e){this.deleteImage(e.id)}.bind(this)),this.modal.on("ajax:error",".bootsy-upload-form",this.imageUploadFailed.bind(this)),this.modal.on("ajax:success",".bootsy-upload-form",function(t,e){this.setImageGalleryId(e.gallery_id),this.addImage(e.image),this.setUploadForm(e.form)}.bind(this))),this.editor=this.$el.wysihtml5($.extend(Bootsy.options,this.options)).data("wysihtml5").editor,this.options.alertUnsavedChanges!==!1&&(window.onbeforeunload=this.unsavedChangesAlert.bind(this)),this.$el.closest("form").submit(function(){return this.unsavedChanges=!1,!0}.bind(this)),this.editor.on("change",function(){this.unsavedChanges=!0}.bind(this)),this.modal.modal({show:!1}),this.modal.on("shown.bs.modal",function(){this.modal.data("gallery-loaded")!==!0&&this.setImageGallery()}.bind(this)),this.modal.on("hide.bs.modal",this.editor.currentView.element.focus),this.hideRefreshButton(),this.hideEmptyAlert(),this.$el.data("bootsy-initialized",!0))},$(function(){$.fn.bootstrapFileInput=function(){this.each(function(t,e){var i=$(e);if("undefined"==typeof i.attr("data-bfi-disabled")){var n="Browse";"undefined"!=typeof i.attr("title")&&(n=i.attr("title"));var o=$("<div>").append(i.eq(0).clone()).html(),r="";i.attr("class")&&(r=" "+i.attr("class")),i.replaceWith('<a class="file-input-wrapper btn btn-default '+r+'">'+n+o+"</a>")}}).promise().done(function(){$(".file-input-wrapper").mousemove(function(t){var e,i,n,o,r,a,s,l;i=$(this),e=i.find("input"),n=i.offset().left,o=i.offset().top,r=e.width(),a=e.height(),s=t.pageX,l=t.pageY,moveInputX=s-n-r+20,moveInputY=l-o-a/2,e.css({left:moveInputX,top:moveInputY})}),$(".file-input-wrapper input[type=file]").change(function(){var t;t=$(this).val(),$(this).parent().next(".file-input-name").remove(),t=$(this).prop("files")&&$(this).prop("files").length>1?$(this)[0].files.length+" files":t.substring(t.lastIndexOf("\\")+1,t.length),$(this).parent().after('<span class="file-input-name">'+t+"</span>")})})};var t="<style>.file-input-wrapper { overflow: hidden; position: relative; cursor: pointer; z-index: 1; }.file-input-wrapper input[type=file], .file-input-wrapper input[type=file]:focus, .file-input-wrapper input[type=file]:hover { position: absolute; top: 0; left: 0; cursor: pointer; opacity: 0; filter: alpha(opacity=0); z-index: 99; outline: 0; }.file-input-name { margin-left: 8px; }</style>";$("link[rel=stylesheet]").eq(0).before(t)}),window.Bootsy=window.Bootsy||{},Bootsy.init=function(){Bootsy.areas||(Bootsy.areas={}),$("textarea.bootsy_text_area").each(function(t){if(!$(this).data("bootsy-initialized")){var e=new Bootsy.Area($(this)),i=$(this).attr("id")||t;void 0!==Bootsy.areas[i]&&(i=$(this).attr("id")+t),e.init(),Bootsy.areas[i]=e}})},$(function(){$(window).load(function(){Bootsy.init(),window.Turbolinks&&$(document).on("page:load",Bootsy.init)})}),window.Bootsy=window.Bootsy||{};var pageStylesheets=[];$('link[rel="stylesheet"]').each(function(){pageStylesheets.push($(this).attr("href"))}),window.Bootsy.options={parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1,"wysiwyg-float-left":1,"wysiwyg-float-right":1},tags:{b:{},i:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},small:{},p:{},blockquote:{},u:1,cite:{check_attributes:{title:"alt"}},img:{check_attributes:{width:"numbers",alt:"alt",src:"src",height:"numbers"},add_class:{align:"align_img"}},a:{set_attributes:{target:"_blank",rel:"nofollow"},check_attributes:{href:"url"}},span:1,div:1,code:1,pre:1,iframe:{set_attributes:{frameborder:"0",allowfullscreen:"1"},check_attributes:{width:"numbers",height:"numbers",src:"href"}}}},color:!0,stylesheets:pageStylesheets},window.Bootsy=window.Bootsy||{},window.Bootsy.translations={en:{alertUnsaved:"You have unsaved changes.",error:"Something went very wrong. Please try again later."}},!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Plyr",e):t.Plyr=e()}(this,function(){"use strict";function t(){if(this.enabled){var t=this.player.elements.buttons.fullscreen;d.is.element(t)&&d.toggleState(t,this.active),d.dispatchEvent(this.target,this.active?"enterfullscreen":"exitfullscreen",!0),C.isIos||d.trapFocus.call(this.player,this.target,this.active)}}function e(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",d.toggleClass(this.target,this.player.config.classNames.fullscreen.fallback,e),t.call(this)}function i(t){switch(t){case"hd2160":return 2160;case 2160:return"hd2160";case"hd1440":return 1440;case 1440:return"hd1440";case"hd1080":return 1080;case 1080:return"hd1080";case"hd720":return 720;case 720:return"hd720";case"large":return 480;case 480:return"large";case"medium":return 360;case 360:return"medium";case"small":return 240;case 240:return"small";default:return"default"}}"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var n,o,r=(function(t){var e;e=function(){function t(t,e){if(t){var i=s[t];if(a[t]=e,i)for(;i.length;)i[0](t,e),i.splice(0,1)}}function e(t,e){t.call&&(t={success:t}),e.length?(t.error||o)(e):(t.success||o)(t)}function i(t,e,n,r){var a,s,l=document,u=n.async,c=(n.numRetries||0)+1,h=n.before||o,d=t.replace(/^(css|img)!/,"");r=r||0,/(^css!|\.css$)/.test(t)?(a=!0,(s=l.createElement("link")).rel="stylesheet",s.href=d):/(^img!|\.(png|gif|jpg|svg)$)/.test(t)?(s=l.createElement("img")).src=d:((s=l.createElement("script")).src=t,s.async=void 0===u||u),s.onload=s.onerror=s.onbeforeload=function(o){var l=o.type[0];if(a&&"hideFocus"in s)try{s.sheet.cssText.length||(l="e")}catch(o){l="e"}return"e"==l&&(r+=1)<c?i(t,e,n,r):void e(t,l,o.defaultPrevented)},!1!==h(t,s)&&l.head.appendChild(s)}function n(n,o,a){var s,l;if(o&&o.trim&&(s=o),l=(s?a:o)||{},s){if(s in r)throw"LoadJS";r[s]=!0}!function(t,e,n){var o,r,a=(t=t.push?t:[t]).length,s=a,l=[];for(o=function(t,i,n){if("e"==i&&l.push(t),"b"==i){if(!n)return;l.push(t)}--a||e(l)},r=0;s>r;r++)i(t[r],o,n)}(n,function(i){e(l,i),t(s,i)},l)}var o=function(){},r={},a={},s={};return n.ready=function(t,i){return function(t,e){var i,n,o,r=[],l=(t=t.push?t:[t]).length,u=l;for(i=function(t,i){i.length&&r.push(t),
--u||e(r)};l--;)n=t[l],(o=a[n])?i(n,o):(s[n]=s[n]||[]).push(i)}(t,function(t){e(i,t)}),n},n.done=function(e){t(e,[])},n.reset=function(){r={},a={},s={}},n.isDefined=function(t){return t in r},n},t.exports=e()}(n={exports:{}},n.exports),n.exports),a={html5:"html5",youtube:"youtube",vimeo:"vimeo"},s={audio:"audio",video:"video"},l=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},h=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw r}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d={is:{plyr:function(t){return this["instanceof"](t,window.Plyr)},object:function(t){return this.getConstructor(t)===Object},number:function(t){return this.getConstructor(t)===Number&&!Number.isNaN(t)},string:function(t){return this.getConstructor(t)===String},"boolean":function(t){return this.getConstructor(t)===Boolean},"function":function(t){return this.getConstructor(t)===Function},array:function(t){return!this.nullOrUndefined(t)&&Array.isArray(t)},weakMap:function(t){return this["instanceof"](t,window.WeakMap)},nodeList:function(t){return this["instanceof"](t,window.NodeList)},element:function(t){return this["instanceof"](t,window.Element)},textNode:function(t){return this.getConstructor(t)===Text},event:function(t){return this["instanceof"](t,window.Event)},cue:function(t){return this["instanceof"](t,window.TextTrackCue)||this["instanceof"](t,window.VTTCue)},track:function(t){return this["instanceof"](t,TextTrack)||!this.nullOrUndefined(t)&&this.string(t.kind)},url:function(t){return!this.nullOrUndefined(t)&&/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(t)},nullOrUndefined:function(t){return null===t||void 0===t},empty:function(t){return this.nullOrUndefined(t)||(this.string(t)||this.array(t)||this.nodeList(t))&&!t.length||this.object(t)&&!Object.keys(t).length},"instanceof":function(t,e){return Boolean(t&&e&&t instanceof e)},getConstructor:function(t){return this.nullOrUndefined(t)?null:t.constructor}},getBrowser:function(){return{isIE:!!document.documentMode,isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)}},fetch:function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise(function(e,i){try{var n=new XMLHttpRequest;if(!("withCredentials"in n))return;n.addEventListener("load",function(){if("text"===t)try{e(JSON.parse(n.responseText))}catch(i){e(n.responseText)}else e(n.response)}),n.addEventListener("error",function(){throw new Error(n.statusText)}),n.open("GET",o,!0),n.responseType=t,n.send()}catch(o){i(o)}})},loadScript:function(t){return new Promise(function(e,i){r(t,{success:e,error:i})})},loadSprite:function(t,e){function i(t){n&&o()||(this.innerHTML=t,document.body.insertBefore(this,document.body.childNodes[0]))}if(d.is.string(t)){var n=d.is.string(e),o=function(){return document.querySelectorAll("#"+e).length};if(!n||!o()){var r=document.createElement("div");if(d.toggleHidden(r,!0),n&&r.setAttribute("id",e),p.storage){var a=window.localStorage.getItem("cache-"+e);if(null!==a){var s=JSON.parse(a);return void i.call(r,s.content)}}d.fetch(t).then(function(t){d.is.empty(t)||(p.storage&&window.localStorage.setItem("cache-"+e,JSON.stringify({content:t})),i.call(r,t))})["catch"](function(){})}}},generateId:function(t){return t+"-"+Math.floor(1e4*Math.random())},wrap:function(t,e){var i=t.length?t:[t];Array.from(i).reverse().forEach(function(t,i){var n=i>0?e.cloneNode(!0):e,o=t.parentNode,r=t.nextSibling;n.appendChild(t),r?o.insertBefore(n,r):o.appendChild(n)})},createElement:function(t,e,i){var n=document.createElement(t);return d.is.object(e)&&d.setAttributes(n,e),d.is.string(i)&&(n.textContent=i),n},insertAfter:function(t,e){e.parentNode.insertBefore(t,e.nextSibling)},insertElement:function(t,e,i,n){e.appendChild(d.createElement(t,i,n))},removeElement:function(t){d.is.nodeList(t)||d.is.array(t)?Array.from(t).forEach(d.removeElement):d.is.element(t)&&d.is.element(t.parentNode)&&t.parentNode.removeChild(t)},emptyElement:function(t){for(var e=t.childNodes.length;e>0;)t.removeChild(t.lastChild),e-=1},replaceElement:function(t,e){return d.is.element(e)&&d.is.element(e.parentNode)&&d.is.element(t)?(e.parentNode.replaceChild(t,e),t):null},setAttributes:function(t,e){d.is.element(t)&&!d.is.empty(e)&&Object.entries(e).forEach(function(e){var i=h(e,2),n=i[0],o=i[1];t.setAttribute(n,o)})},getAttributesFromSelector:function(t,e){if(!d.is.string(t)||d.is.empty(t))return{};var i={},n=e;return t.split(",").forEach(function(t){var e=t.trim(),o=e.replace(".",""),r=e.replace(/[[\]]/g,"").split("="),a=r[0],s=r.length>1?r[1].replace(/["']/g,""):"";switch(e.charAt(0)){case".":d.is.object(n)&&d.is.string(n["class"])&&(n["class"]+=" "+o),i["class"]=o;break;case"#":i.id=e.replace("#","");break;case"[":i[a]=s}}),i},toggleHidden:function(t,e){if(d.is.element(t)){var i=e;d.is["boolean"](i)||(i=!t.hasAttribute("hidden")),i?t.setAttribute("hidden",""):t.removeAttribute("hidden")}},toggleClass:function(t,e,i){if(d.is.element(t)){var n=t.classList.contains(e);return t.classList[i?"add":"remove"](e),i&&!n||!i&&n}return null},hasClass:function(t,e){return d.is.element(t)&&t.classList.contains(e)},matches:function(t,e){var i={Element:Element},n=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(e)).includes(this)};return n.call(t,e)},getElements:function(t){return this.elements.container.querySelectorAll(t)},getElement:function(t){return this.elements.container.querySelector(t)},getFocusElement:function(){var t=document.activeElement;return t=t&&t!==document.body?document.querySelector(":focus"):null},trapFocus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(d.is.element(t)){var i=d.getElements.call(this,"button:not(:disabled), input:not(:disabled), [tabindex]"),n=i[0],o=i[i.length-1],r=function(t){if("Tab"===t.key&&9===t.keyCode){var e=d.getFocusElement();e!==o||t.shiftKey?e===n&&t.shiftKey&&(o.focus(),t.preventDefault()):(n.focus(),t.preventDefault())}};e?d.on(this.elements.container,"keydown",r,!1):d.off(this.elements.container,"keydown",r,!1)}},toggleListener:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(!d.is.empty(t)&&!d.is.empty(e)&&d.is["function"](i))if(d.is.nodeList(t)||d.is.array(t))Array.from(t).forEach(function(t){t instanceof Node&&d.toggleListener.call(null,t,e,i,n,o,r)});else{var a=e.split(" "),s=r;p.passiveListeners&&(s={passive:o,capture:r}),a.forEach(function(e){t[n?"addEventListener":"removeEventListener"](e,i,s)})}},on:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d.toggleListener(t,e,i,!0,n,o)},off:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d.toggleListener(t,e,i,!1,n,o)},dispatchEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(d.is.element(t)&&!d.is.empty(e)){var o=new CustomEvent(e,{bubbles:i,detail:Object.assign({},n,{plyr:d.is.plyr(this)?this:null})});t.dispatchEvent(o)}},toggleState:function(t,e){if(d.is.array(t)||d.is.nodeList(t))Array.from(t).forEach(function(t){return d.toggleState(t,e)});else if(d.is.element(t)){var i="true"===t.getAttribute("aria-pressed"),n=d.is["boolean"](e)?e:!i;t.setAttribute("aria-pressed",n)}},format:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;e>n;n++)i[n-1]=arguments[n];return d.is.empty(t)?t:t.toString().replace(/{(\d+)}/g,function(t,e){return d.is.string(i[e])?i[e]:""})},getPercentage:function(t,e){return 0===t||0===e||Number.isNaN(t)||Number.isNaN(e)?0:(t/e*100).toFixed(2)},getHours:function(t){return parseInt(t/60/60%60,10)},getMinutes:function(t){return parseInt(t/60%60,10)},getSeconds:function(t){return parseInt(t%60,10)},formatTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!d.is.number(t))return this.formatTime(null,e,i);var n=function(t){return("0"+t).slice(-2)},o=this.getHours(t),r=this.getMinutes(t),a=this.getSeconds(t);return e||o>0?o+=":":o="",(i?"-":"")+o+n(r)+":"+n(a)},replaceAll:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t.replace(new RegExp(e.toString().replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1"),"g"),i.toString())},toTitleCase:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})},toPascalCase:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return t=d.replaceAll(t,"-"," "),t=d.replaceAll(t,"_"," "),t=d.toTitleCase(t),d.replaceAll(t," ","")},toCamelCase:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return(t=d.toPascalCase(t)).charAt(0).toLowerCase()+t.slice(1)},extend:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length,i=Array(e>1?e-1:0),n=1;e>n;n++)i[n-1]=arguments[n];if(!i.length)return t;var o=i.shift();return d.is.object(o)?(Object.keys(o).forEach(function(e){d.is.object(o[e])?(Object.keys(t).includes(e)||Object.assign(t,c({},e,{})),d.extend(t[e],o[e])):Object.assign(t,c({},e,o[e]))}),d.extend.apply(d,[t].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(i)))):t},dedupe:function(t){return d.is.array(t)?t.filter(function(e,i){return t.indexOf(e)===i}):t},closest:function(t,e){return d.is.array(t)&&t.length?t.reduce(function(t,i){return Math.abs(i-e)<Math.abs(t-e)?i:t}):null},getProviderByUrl:function(t){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.?be)\/.+$/.test(t)?a.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(t)?a.vimeo:null},parseYouTubeId:function(t){return d.is.empty(t)?null:t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:t},parseVimeoId:function(t){return d.is.empty(t)?null:d.is.number(Number(t))?t:t.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:t},parseUrl:function(t){var e=document.createElement("a");return e.href=t,e},getUrlParams:function(t){var e=t;return(t.startsWith("http://")||t.startsWith("https://"))&&(e=this.parseUrl(t).search),this.is.empty(e)?null:e.slice(e.indexOf("?")+1).split("&").reduce(function(t,e){var i=e.split("="),n=h(i,2),o=n[0],r=n[1];return Object.assign(t,c({},o,decodeURIComponent(r)))},{})},buildUrlParams:function(t){return d.is.object(t)?Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&"):""},stripHTML:function(t){var e=document.createDocumentFragment(),i=document.createElement("div");return e.appendChild(i),i.innerHTML=t,e.firstChild.innerText},getAspectRatio:function(t,e){var i=function n(t,e){return 0===e?t:n(e,t%e)}(t,e);return t/i+":"+e/i},get transitionEndEvent(){var t=document.createElement("span"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i=Object.keys(e).find(function(e){return void 0!==t.style[e]});return!!d.is.string(i)&&e[i]},repaint:function(t){setTimeout(function(){d.toggleHidden(t,!0),t.offsetHeight,d.toggleHidden(t,!1)},0)}},p={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(t,e,i){var n=!1,o=!1,r=d.getBrowser(),a=r.isIPhone&&i&&p.playsinline;switch(e+":"+t){case"html5:video":o=(n=p.video)&&p.rangeInput&&(!r.isIPhone||a);break;case"html5:audio":o=(n=p.audio)&&p.rangeInput;break;case"youtube:video":case"vimeo:video":n=!0,o=p.rangeInput&&(!r.isIPhone||a);break;default:o=(n=p.audio&&p.video)&&p.rangeInput}return{api:n,ui:o}},pip:!d.getBrowser().isIPhone&&d.is["function"](d.createElement("video").webkitSetPresentationMode),airplay:d.is["function"](window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(t){var e=this.media;try{if(!this.isHTML5||!d.is["function"](e.canPlayType))return!1;if(t.includes("codecs="))return e.canPlayType(t).replace(/no/,"");if(this.isVideo)switch(t){case"video/webm":return e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,"");case"video/mp4":return e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,"");case"video/ogg":return e.canPlayType('video/ogg; codecs="theora"').replace(/no/,"");default:return!1}else if(this.isAudio)switch(t){case"audio/mpeg":return e.canPlayType("audio/mpeg;").replace(/no/,"");case"audio/ogg":return e.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,"");case"audio/wav":return e.canPlayType('audio/wav; codecs="1"').replace(/no/,"");default:return!1}}catch(t){return!1}return!1},textTracks:"textTracks"in document.createElement("video"),passiveListeners:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0,null}});window.addEventListener("test",null,e)}catch(t){}return t}(),rangeInput:(o=document.createElement("input"),o.type="range","range"===o.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==d.transitionEndEvent,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},f={getSources:function(){return this.isHTML5?this.media.querySelectorAll("source"):null},getQualityOptions:function(){if(!this.isHTML5)return null;var t=f.getSources.call(this);if(d.is.empty(t))return null;var e=Array.from(t).filter(function(t){return!d.is.empty(t.getAttribute("size"))});return d.is.empty(e)?null:d.dedupe(e.map(function(t){return Number(t.getAttribute("size"))}))},extend:function(){if(this.isHTML5){var t=this;Object.defineProperty(t.media,"quality",{get:function(){var e=f.getSources.call(t);if(d.is.empty(e))return null;var i=Array.from(e).filter(function(e){return e.getAttribute("src")===t.source});return d.is.empty(i)?null:Number(i[0].getAttribute("size"))},set:function(e){var i=f.getSources.call(t);if(!d.is.empty(i)){var n=Array.from(i).filter(function(t){return Number(t.getAttribute("size"))===e});if(!d.is.empty(n)){var o=n.filter(function(e){return p.mime.call(t,e.getAttribute("type"))});if(!d.is.empty(o)){d.dispatchEvent.call(t,t.media,"qualityrequested",!1,{quality:e});var r=t.currentTime,a=t.playing;t.media.src=o[0].getAttribute("src"),t.media.load(),a&&t.play(),t.currentTime=r,d.dispatchEvent.call(t,t.media,"qualitychange",!1,{quality:e})}}}}})}},cancelRequests:function(){this.isHTML5&&(d.removeElement(f.getSources()),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(d.is.empty(t)||d.is.empty(e)||!Object.keys(e.i18n).includes(t))return"";var i=e.i18n[t],n={"{seektime}":e.seekTime,"{title}":e.title};return Object.entries(n).forEach(function(t){var e=h(t,2),n=e[0],o=e[1];i=d.replaceAll(i,n,o)}),i},g=d.getBrowser(),v={addStyleHook:function(){d.toggleClass(this.elements.container,this.config.selectors.container.replace(".",""),!0),d.toggleClass(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var t=this;return this.listeners.media(),this.supported.ui?(d.is.element(this.elements.controls)||(_.inject.call(this),this.listeners.controls()),v.toggleNativeControls.call(this),b.setup.call(this),this.volume=null,this.muted=null,this.speed=null,this.loop=null,this.quality=null,v.updateVolume.call(this),v.timeUpdate.call(this),v.checkPlaying.call(this),d.toggleClass(this.elements.container,this.config.classNames.pip.supported,p.pip&&this.isHTML5&&this.isVideo),d.toggleClass(this.elements.container,this.config.classNames.airplay.supported,p.airplay&&this.isHTML5),d.toggleClass(this.elements.container,this.config.classNames.isIos,g.isIos),d.toggleClass(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(function(){d.dispatchEvent.call(t,t.media,"ready")},0),v.setTitle.call(this),v.setPoster.call(this),void 0):(this.debug.warn("Basic support only for "+this.provider+" "+this.type),void v.toggleNativeControls.call(this,!0))},setTitle:function(){var t=m("play",this.config);if(d.is.string(this.config.title)&&!d.is.empty(this.config.title)&&(t+=", "+this.config.title,this.elements.container.setAttribute("aria-label",this.config.title)),d.is.nodeList(this.elements.buttons.play)&&Array.from(this.elements.buttons.play).forEach(function(e){e.setAttribute("aria-label",t)}),this.isEmbed){var e=d.getElement.call(this,"iframe");if(!d.is.element(e))return;var i=d.is.empty(this.config.title)?"video":this.config.title,n=m("frameTitle",this.config);e.setAttribute("title",n.replace("{title}",i))}},setPoster:function(){if(d.is.element(this.elements.poster)&&!d.is.empty(this.poster)){var t=this.poster.split(",");this.elements.poster.style.backgroundImage=t.map(function(t){return"url('"+t+"')"}).join(",")}},checkPlaying:function(t){d.toggleClass(this.elements.container,this.config.classNames.playing,this.playing),d.toggleClass(this.elements.container,this.config.classNames.paused,this.paused),d.toggleClass(this.elements.container,this.config.classNames.stopped,this.stopped),d.toggleState(this.elements.buttons.play,this.playing),d.is.event(t)&&"timeupdate"===t.type||this.toggleControls(!this.playing)},checkLoading:function(t){var e=this;this.loading=["stalled","waiting"].includes(t.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(function(){d.toggleClass(e.elements.container,e.config.classNames.loading,e.loading),e.toggleControls(e.loading)},this.loading?250:0)},checkFailed:function(){var t=this;this.failed=3===this.media.networkState,this.failed&&(d.toggleClass(this.elements.container,this.config.classNames.loading,!1),d.toggleClass(this.elements.container,this.config.classNames.error,!0)),clearTimeout(this.timers.failed),this.timers.loading=setTimeout(function(){d.toggleClass(t.elements.container,t.config.classNames.loading,t.loading),t.toggleControls(t.loading)},this.loading?250:0)},updateVolume:function(){this.supported.ui&&(d.is.element(this.elements.inputs.volume)&&v.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),d.is.element(this.elements.buttons.mute)&&d.toggleState(this.elements.buttons.mute,this.muted||0===this.volume))},setRange:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d.is.element(t)&&(t.value=e,_.updateRangeFill.call(this,t))},setProgress:function(t,e){var i=d.is.number(e)?e:0,n=d.is.element(t)?t:this.elements.display.buffer;if(d.is.element(n)){n.value=i;var o=n.getElementsByTagName("span")[0];d.is.element(o)&&(o.childNodes[0].nodeValue=i)}},updateProgress:function(t){if(this.supported.ui&&d.is.event(t)){var e=0;if(t)switch(t.type){case"timeupdate":case"seeking":e=d.getPercentage(this.currentTime,this.duration),"timeupdate"===t.type&&v.setRange.call(this,this.elements.inputs.seek,e);break;case"playing":case"progress":v.setProgress.call(this,this.elements.display.buffer,100*this.buffered)}}},updateTimeDisplay:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(d.is.element(t)&&d.is.number(e)){var n=d.getHours(this.duration)>0;t.textContent=d.formatTime(e,n,i)}},timeUpdate:function(t){var e=!d.is.element(this.elements.display.duration)&&this.config.invertTime;v.updateTimeDisplay.call(this,this.elements.display.currentTime,e?this.duration-this.currentTime:this.currentTime,e),t&&"timeupdate"===t.type&&this.media.seeking||v.updateProgress.call(this,t)},durationUpdate:function(){if(this.supported.ui){var t=d.is.element(this.elements.display.duration);!t&&this.config.displayDuration&&this.paused&&v.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),t&&v.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),_.updateSeekTooltip.call(this)}}},y=d.getBrowser(),_={updateRangeFill:function(t){var e=d.is.event(t)?t.target:t;d.is.element(e)&&"range"===e.getAttribute("type")&&(e.setAttribute("aria-valuenow",e.value),y.isWebkit&&e.style.setProperty("--value",e.value/e.max*100+"%"))},getIconUrl:function(){var t=new URL(this.config.iconUrl,window.location).host!==window.location.host||y.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:t}},findElements:function(){try{return this.elements.controls=d.getElement.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:d.getElements.call(this,this.config.selectors.buttons.play),pause:d.getElement.call(this,this.config.selectors.buttons.pause),restart:d.getElement.call(this,this.config.selectors.buttons.restart),rewind:d.getElement.call(this,this.config.selectors.buttons.rewind),fastForward:d.getElement.call(this,this.config.selectors.buttons.fastForward),mute:d.getElement.call(this,this.config.selectors.buttons.mute),pip:d.getElement.call(this,this.config.selectors.buttons.pip),airplay:d.getElement.call(this,this.config.selectors.buttons.airplay),settings:d.getElement.call(this,this.config.selectors.buttons.settings),captions:d.getElement.call(this,this.config.selectors.buttons.captions),fullscreen:d.getElement.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=d.getElement.call(this,this.config.selectors.progress),this.elements.inputs={seek:d.getElement.call(this,this.config.selectors.inputs.seek),volume:d.getElement.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:d.getElement.call(this,this.config.selectors.display.buffer),currentTime:d.getElement.call(this,this.config.selectors.display.currentTime),duration:d.getElement.call(this,this.config.selectors.display.duration)},d.is.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector("."+this.config.classNames.tooltip)),!0}catch(t){return this.debug.warn("It looks like there is a problem with your custom controls HTML",t),this.toggleNativeControls(!0),!1}},createIcon:function(t,e){var i=_.getIconUrl.call(this),n=(i.cors?"":i.url)+"#"+this.config.iconPrefix,o=document.createElementNS("http://www.w3.org/2000/svg","svg");d.setAttributes(o,d.extend(e,{role:"presentation",focusable:"false"}));var r=document.createElementNS("http://www.w3.org/2000/svg","use"),a=n+"-"+t;return"href"in r?r.setAttributeNS("http://www.w3.org/1999/xlink","href",a):r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),o.appendChild(r),o},createLabel:function(t,e){var i=m(t,this.config),n=Object.assign({},e);switch(t){case"pip":i="PIP";break;case"airplay":i="AirPlay"}return"class"in n?n["class"]+=" "+this.config.classNames.hidden:n["class"]=this.config.classNames.hidden,d.createElement("span",n,i)},createBadge:function(t){if(d.is.empty(t))return null;var e=d.createElement("span",{"class":this.config.classNames.menu.value});return e.appendChild(d.createElement("span",{"class":this.config.classNames.menu.badge},t)),e},createButton:function(t,e){var i=d.createElement("button"),n=Object.assign({},e),o=d.toCamelCase(t),r=!1,a=void 0,s=void 0,l=void 0,u=void 0;switch("type"in n||(n.type="button"),"class"in n?n["class"].includes(this.config.classNames.control)&&(n["class"]+=" "+this.config.classNames.control):n["class"]=this.config.classNames.control,t){case"play":r=!0,a="play",l="pause",s="play",u="pause";break;case"mute":r=!0,a="mute",l="unmute",s="volume",u="muted";break;case"captions":r=!0,a="enableCaptions",l="disableCaptions",s="captions-off",u="captions-on";break;case"fullscreen":r=!0,a="enterFullscreen",l="exitFullscreen",s="enter-fullscreen",u="exit-fullscreen";break;case"play-large":n["class"]+=" "+this.config.classNames.control+"--overlaid",o="play",a="play",s="play";break;default:a=o,s=t}return r?(i.appendChild(_.createIcon.call(this,u,{"class":"icon--pressed"})),i.appendChild(_.createIcon.call(this,s,{"class":"icon--not-pressed"})),i.appendChild(_.createLabel.call(this,l,{"class":"label--pressed"})),i.appendChild(_.createLabel.call(this,a,{"class":"label--not-pressed"})),n["aria-pressed"]=!1):(i.appendChild(_.createIcon.call(this,s)),i.appendChild(_.createLabel.call(this,a))),d.extend(n,d.getAttributesFromSelector(this.config.selectors.buttons[o],n)),d.setAttributes(i,n),"play"===o?(d.is.array(this.elements.buttons[o])||(this.elements.buttons[o]=[]),this.elements.buttons[o].push(i)):this.elements.buttons[o]=i,i},createRange:function(t,e){var i=d.createElement("label",{"for":e.id,id:e.id+"-label","class":this.config.classNames.hidden},m(t,this.config)),n=d.createElement("input",d.extend(d.getAttributesFromSelector(this.config.selectors.inputs[t]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-labelledby":e.id+"-label","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},e));return this.elements.inputs[t]=n,_.updateRangeFill.call(this,n),{label:i,input:n}},createProgress:function(t,e){var i=d.createElement("progress",d.extend(d.getAttributesFromSelector(this.config.selectors.display[t]),{min:0,max:100,value:0,role:"presentation","aria-hidden":!0},e));if("volume"!==t){i.appendChild(d.createElement("span",null,"0"));var n="";switch(t){case"played":n=m("played",this.config);break;case"buffer":n=m("buffered",this.config)}i.textContent="% "+n.toLowerCase()}return this.elements.display[t]=i,i},createTime:function(t){var e=d.getAttributesFromSelector(this.config.selectors.display[t]),i=d.createElement("div",d.extend(e,{"class":"plyr__time "+e["class"],"aria-label":m(t,this.config)}),"00:00");return this.elements.display[t]=i,i},createMenuItem:function(t,e,i,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=d.createElement("li"),s=d.createElement("label",{"class":this.config.classNames.control}),l=d.createElement("input",d.extend(d.getAttributesFromSelector(this.config.selectors.inputs[i]),{type:"radio",name:"plyr-"+i,value:t,checked:r,"class":"plyr__sr-only"})),u=d.createElement("span",{hidden:""});s.appendChild(l),s.appendChild(u),s.insertAdjacentHTML("beforeend",n),d.is.element(o)&&s.appendChild(o),a.appendChild(s),e.appendChild(a)},updateSeekTooltip:function(t){var e=this;if(this.config.tooltips.seek&&d.is.element(this.elements.inputs.seek)&&d.is.element(this.elements.display.seekTooltip)&&0!==this.duration){var i=0,n=this.elements.inputs.seek.getBoundingClientRect(),o=this.config.classNames.tooltip+"--visible",r=function(t){d.toggleClass(e.elements.display.seekTooltip,o,t)};if(this.touch)r(!1);else{if(d.is.event(t))i=100/n.width*(t.pageX-n.left);else{if(!d.hasClass(this.elements.display.seekTooltip,o))return;i=parseFloat(this.elements.display.seekTooltip.style.left,10)}0>i?i=0:i>100&&(i=100),v.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*i),this.elements.display.seekTooltip.style.left=i+"%",d.is.event(t)&&["mouseenter","mouseleave"].includes(t.type)&&r("mouseenter"===t.type)}}},toggleTab:function(t,e){d.toggleHidden(this.elements.settings.tabs[t],!e)},setQualityMenu:function(t){var e=this;if(d.is.element(this.elements.settings.panes.quality)){var i=this.elements.settings.panes.quality.querySelector("ul");d.is.array(t)&&(this.options.quality=t.filter(function(t){return e.config.quality.options.includes(t)}));var n=!d.is.empty(this.options.quality)&&this.options.quality.length>1;_.toggleTab.call(this,"quality",n),_.checkMenu.call(this),n&&(d.emptyElement(i),this.options.quality.sort(function(t,i){var n=e.config.quality.options;return n.indexOf(t)>n.indexOf(i)?1:-1}).forEach(function(t){var n=_.getLabel.call(e,"quality",t);_.createMenuItem.call(e,t,i,"quality",n,function(t){var i="";switch(t){case 2160:i="4K";break;case 1440:case 1080:case 720:i="HD";break;case 576:case 480:i="SD"}return i.length?_.createBadge.call(e,i):null}(t))}),_.updateSetting.call(this,"quality",i))}},getLabel:function(t,e){switch(t){case"speed":return 1===e?m("normal",this.config):e+"&times;";case"quality":return d.is.number(e)?e+"p":d.toTitleCase(e);case"captions":return b.getLabel.call(this);default:return null}},updateSetting:function(t,e,i){var n=this.elements.settings.panes[t],o=null,r=e;switch(t){case"captions":o=this.captions.active?this.options.captions.length>2||!this.options.captions.some(function(t){return"enabled"===t})?this.captions.language:"enabled":"";break;default:if(o=d.is.empty(i)?this[t]:i,d.is.empty(o)&&(o=this.config[t]["default"]),!d.is.empty(this.options[t])&&!this.options[t].includes(o))return void this.debug.warn("Unsupported value of '"+o+"' for "+t);if(!this.config[t].options.includes(o))return void this.debug.warn("Disabled value of '"+o+"' for "+t)}if(d.is.element(r)||(r=n&&n.querySelector("ul")),d.is.element(r)){this.elements.settings.tabs[t].querySelector("."+this.config.classNames.menu.value).innerHTML=_.getLabel.call(this,t,o);var a=r&&r.querySelector('input[value="'+o+'"]');d.is.element(a)&&(a.checked=!0)}},setCaptionsMenu:function(){var t=this,e=this.elements.settings.panes.captions.querySelector("ul"),i=b.getTracks.call(this).length;if(_.toggleTab.call(this,"captions",i),d.emptyElement(e),_.checkMenu.call(this),i){var n=b.getTracks.call(this).map(function(e){return{language:d.is.empty(e.language)?"enabled":e.language,label:b.getLabel.call(t,e)}});n.unshift({language:"",label:m("disabled",this.config)}),n.forEach(function(i){_.createMenuItem.call(t,i.language,e,"language",i.label,"enabled"!==i.language?_.createBadge.call(t,i.language.toUpperCase()):null,i.language.toLowerCase()===t.captions.language.toLowerCase())}),this.options.captions=n.map(function(t){return t.language}),_.updateSetting.call(this,"captions",e)}},setSpeedMenu:function(t){var e=this;if(this.config.controls.includes("settings")&&this.config.settings.includes("speed")&&d.is.element(this.elements.settings.panes.speed)){d.is.array(t)?this.options.speed=t:(this.isHTML5||this.isVimeo)&&(this.options.speed=[.5,.75,1,1.25,1.5,1.75,2]),this.options.speed=this.options.speed.filter(function(t){return e.config.speed.options.includes(t)});var i=!d.is.empty(this.options.speed)&&this.options.speed.length>1;if(_.toggleTab.call(this,"speed",i),_.checkMenu.call(this),i){var n=this.elements.settings.panes.speed.querySelector("ul");d.emptyElement(n),this.options.speed.forEach(function(t){var i=_.getLabel.call(e,"speed",t);_.createMenuItem.call(e,t,n,"speed",i)}),_.updateSetting.call(this,"speed",n)}}},checkMenu:function(){var t=this.elements.settings.tabs,e=!d.is.empty(t)&&Object.values(t).some(function(t){return!t.hidden});d.toggleHidden(this.elements.settings.menu,!e)},toggleMenu:function(t){var e=this.elements.settings.form,i=this.elements.buttons.settings;if(d.is.element(e)&&d.is.element(i)){var n=d.is["boolean"](t)?t:d.is.element(e)&&e.hasAttribute("hidden");if(d.is.event(t)){var o=d.is.element(e)&&e.contains(t.target),r=t.target===this.elements.buttons.settings;
if(o||!o&&!r&&n)return;r&&t.stopPropagation()}d.is.element(i)&&i.setAttribute("aria-expanded",n),d.is.element(e)&&(d.toggleHidden(e,!n),d.toggleClass(this.elements.container,this.config.classNames.menu.open,n),n?e.removeAttribute("tabindex"):e.setAttribute("tabindex",-1))}},getTabSize:function(t){var e=t.cloneNode(!0);e.style.position="absolute",e.style.opacity=0,e.removeAttribute("hidden"),Array.from(e.querySelectorAll("input[name]")).forEach(function(t){var e=t.getAttribute("name");t.setAttribute("name",e+"-clone")}),t.parentNode.appendChild(e);var i=e.scrollWidth,n=e.scrollHeight;return d.removeElement(e),{width:i,height:n}},showTab:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.elements.settings.menu,i=document.getElementById(t);if(d.is.element(i)&&"tabpanel"===i.getAttribute("role")){var n=e.querySelector('[role="tabpanel"]:not([hidden])'),o=n.parentNode;if(Array.from(e.querySelectorAll('[aria-controls="'+n.getAttribute("id")+'"]')).forEach(function(t){t.setAttribute("aria-expanded",!1)}),p.transitions&&!p.reducedMotion){o.style.width=n.scrollWidth+"px",o.style.height=n.scrollHeight+"px";var r=_.getTabSize.call(this,i);d.on(o,d.transitionEndEvent,function s(t){t.target===o&&["width","height"].includes(t.propertyName)&&(o.style.width="",o.style.height="",d.off(o,d.transitionEndEvent,s))}),o.style.width=r.width+"px",o.style.height=r.height+"px"}d.toggleHidden(n,!0),n.setAttribute("tabindex",-1),d.toggleHidden(i,!1);var a=d.getElements.call(this,'[aria-controls="'+t+'"]');Array.from(a).forEach(function(t){t.setAttribute("aria-expanded",!0)}),i.removeAttribute("tabindex"),i.querySelectorAll("button:not(:disabled), input:not(:disabled), [tabindex]")[0].focus()}},create:function(t){var e=this;if(d.is.empty(this.config.controls))return null;var i=d.createElement("div",d.getAttributesFromSelector(this.config.selectors.controls.wrapper));if(this.config.controls.includes("restart")&&i.appendChild(_.createButton.call(this,"restart")),this.config.controls.includes("rewind")&&i.appendChild(_.createButton.call(this,"rewind")),this.config.controls.includes("play")&&i.appendChild(_.createButton.call(this,"play")),this.config.controls.includes("fast-forward")&&i.appendChild(_.createButton.call(this,"fast-forward")),this.config.controls.includes("progress")){var n=d.createElement("div",d.getAttributesFromSelector(this.config.selectors.progress)),o=_.createRange.call(this,"seek",{id:"plyr-seek-"+t.id});if(n.appendChild(o.label),n.appendChild(o.input),n.appendChild(_.createProgress.call(this,"buffer")),this.config.tooltips.seek){var r=d.createElement("span",{role:"tooltip","class":this.config.classNames.tooltip},"00:00");n.appendChild(r),this.elements.display.seekTooltip=r}this.elements.progress=n,i.appendChild(this.elements.progress)}if(this.config.controls.includes("current-time")&&i.appendChild(_.createTime.call(this,"currentTime")),this.config.controls.includes("duration")&&i.appendChild(_.createTime.call(this,"duration")),this.config.controls.includes("mute")&&i.appendChild(_.createButton.call(this,"mute")),this.config.controls.includes("volume")){var a=d.createElement("div",{"class":"plyr__volume"}),s={max:1,step:.05,value:this.config.volume},l=_.createRange.call(this,"volume",d.extend(s,{id:"plyr-volume-"+t.id}));a.appendChild(l.label),a.appendChild(l.input),this.elements.volume=a,i.appendChild(a)}if(this.config.controls.includes("captions")&&i.appendChild(_.createButton.call(this,"captions")),this.config.controls.includes("settings")&&!d.is.empty(this.config.settings)){var u=d.createElement("div",{"class":"plyr__menu",hidden:""});u.appendChild(_.createButton.call(this,"settings",{id:"plyr-settings-toggle-"+t.id,"aria-haspopup":!0,"aria-controls":"plyr-settings-"+t.id,"aria-expanded":!1}));var c=d.createElement("form",{"class":"plyr__menu__container",id:"plyr-settings-"+t.id,hidden:"","aria-labelled-by":"plyr-settings-toggle-"+t.id,role:"tablist",tabindex:-1}),h=d.createElement("div"),g=d.createElement("div",{id:"plyr-settings-"+t.id+"-home","aria-labelled-by":"plyr-settings-toggle-"+t.id,role:"tabpanel"}),v=d.createElement("ul",{role:"tablist"});this.config.settings.forEach(function(i){var n=d.createElement("li",{role:"tab",hidden:""}),o=d.createElement("button",d.extend(d.getAttributesFromSelector(e.config.selectors.buttons.settings),{type:"button","class":e.config.classNames.control+" "+e.config.classNames.control+"--forward",id:"plyr-settings-"+t.id+"-"+i+"-tab","aria-haspopup":!0,"aria-controls":"plyr-settings-"+t.id+"-"+i,"aria-expanded":!1}),m(i,e.config)),r=d.createElement("span",{"class":e.config.classNames.menu.value});r.innerHTML=t[i],o.appendChild(r),n.appendChild(o),v.appendChild(n),e.elements.settings.tabs[i]=n}),g.appendChild(v),h.appendChild(g),this.config.settings.forEach(function(i){var n=d.createElement("div",{id:"plyr-settings-"+t.id+"-"+i,hidden:"","aria-labelled-by":"plyr-settings-"+t.id+"-"+i+"-tab",role:"tabpanel",tabindex:-1}),o=d.createElement("button",{type:"button","class":e.config.classNames.control+" "+e.config.classNames.control+"--back","aria-haspopup":!0,"aria-controls":"plyr-settings-"+t.id+"-home","aria-expanded":!1},m(i,e.config));n.appendChild(o);var r=d.createElement("ul");n.appendChild(r),h.appendChild(n),e.elements.settings.panes[i]=n}),c.appendChild(h),u.appendChild(c),i.appendChild(u),this.elements.settings.form=c,this.elements.settings.menu=u}return this.config.controls.includes("pip")&&p.pip&&i.appendChild(_.createButton.call(this,"pip")),this.config.controls.includes("airplay")&&p.airplay&&i.appendChild(_.createButton.call(this,"airplay")),this.config.controls.includes("fullscreen")&&i.appendChild(_.createButton.call(this,"fullscreen")),this.config.controls.includes("play-large")&&this.elements.container.appendChild(_.createButton.call(this,"play-large")),this.elements.controls=i,this.isHTML5&&_.setQualityMenu.call(this,f.getQualityOptions.call(this)),_.setSpeedMenu.call(this),i},inject:function(){var t=this;if(this.config.loadSprite){var e=_.getIconUrl.call(this);e.cors&&d.loadSprite(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var i=null;this.elements.controls=null;var n={id:this.id,seektime:this.config.seekTime,title:this.config.title},o=!0;d.is.string(this.config.controls)||d.is.element(this.config.controls)?i=this.config.controls:d.is["function"](this.config.controls)?i=this.config.controls.call(this,n):(i=_.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:b.getLabel.call(this)}),o=!1);var r=function(t){var e=t;return Object.entries(n).forEach(function(t){var i=h(t,2),n=i[0],o=i[1];e=d.replaceAll(e,"{"+n+"}",o)}),e};o&&(d.is.string(this.config.controls)?i=r(i):d.is.element(i)&&(i.innerHTML=r(i.innerHTML)));var a=void 0;if(d.is.string(this.config.selectors.controls.container)&&(a=document.querySelector(this.config.selectors.controls.container)),d.is.element(a)||(a=this.elements.container),d.is.element(i)?a.appendChild(i):i&&a.insertAdjacentHTML("beforeend",i),d.is.element(this.elements.controls)||_.findElements.call(this),window.navigator.userAgent.includes("Edge")&&d.repaint(a),this.config.tooltips.controls){var s=d.getElements.call(this,[this.config.selectors.controls.wrapper," ",this.config.selectors.labels," .",this.config.classNames.hidden].join(""));Array.from(s).forEach(function(e){d.toggleClass(e,t.config.classNames.hidden,!1),d.toggleClass(e,t.config.classNames.tooltip,!0),e.setAttribute("role","tooltip")})}}},b={setup:function(){if(this.supported.ui){var t=this.storage.get("language");if(d.is.empty(t)||(this.captions.language=t),d.is.empty(this.captions.language)&&(this.captions.language=this.config.captions.language.toLowerCase()),!d.is["boolean"](this.captions.active)){var e=this.storage.get("captions");d.is["boolean"](e)?this.captions.active=e:this.captions.active=this.config.captions.active}if(!this.isVideo||this.isYouTube||this.isHTML5&&!p.textTracks)d.is.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&_.setCaptionsMenu.call(this);else{d.is.element(this.elements.captions)||(this.elements.captions=d.createElement("div",d.getAttributesFromSelector(this.config.selectors.captions)),d.insertAfter(this.elements.captions,this.elements.wrapper)),d.toggleClass(this.elements.container,this.config.classNames.captions.enabled,!d.is.empty(b.getTracks.call(this)));var i=b.getTracks.call(this);if(!d.is.empty(i)){if(d.getBrowser().isIE&&window.URL){var n=this.media.querySelectorAll("track");Array.from(n).forEach(function(t){var e=t.getAttribute("src"),i=d.parseUrl(e);i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&d.fetch(e,"blob").then(function(e){t.setAttribute("src",window.URL.createObjectURL(e))})["catch"](function(){d.removeElement(t)})})}b.setLanguage.call(this),b.show.call(this),d.is.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&_.setCaptionsMenu.call(this)}}}},setLanguage:function(){var t=this;if(this.isHTML5&&this.isVideo){b.getTracks.call(this).forEach(function(e){d.on(e,"cuechange",function(e){return b.setCue.call(t,e)}),e.mode="hidden"});var e=b.getCurrentTrack.call(this);d.is.track(e)&&Array.from(e.activeCues||[]).length&&b.setCue.call(this,e)}else this.isVimeo&&this.captions.active&&this.embed.enableTextTrack(this.language)},getTracks:function(){return d.is.nullOrUndefined(this.media)?[]:Array.from(this.media.textTracks||[]).filter(function(t){return["captions","subtitles"].includes(t.kind)})},getCurrentTrack:function(){var t=this,e=b.getTracks.call(this);if(!e.length)return null;var i=e.find(function(e){return e.language.toLowerCase()===t.language});return i||(i=d.getElement.call(this,"track[default]")),i||(i=h(e,1)[0]),i},getLabel:function(t){var e=t;return!d.is.track(e)&&p.textTracks&&this.captions.active&&(e=b.getCurrentTrack.call(this)),d.is.track(e)?d.is.empty(e.label)?d.is.empty(e.language)?m("enabled",this.config):t.language.toUpperCase():e.label:m("disabled",this.config)},setCue:function(t){var e=d.is.event(t)?t.target:t,i=e.activeCues,n=i.length&&i[0];e===b.getCurrentTrack.call(this)&&(d.is.cue(n)?b.setText.call(this,n.getCueAsHTML()):b.setText.call(this,null),d.dispatchEvent.call(this,this.media,"cuechange"))},setText:function(t){if(this.supported.ui)if(d.is.element(this.elements.captions)){var e=d.createElement("span");d.emptyElement(this.elements.captions);var i=d.is.nullOrUndefined(t)?"":t;d.is.string(i)?e.textContent=i.trim():e.appendChild(i),this.elements.captions.appendChild(e)}else this.debug.warn("No captions element to render to")},show:function(){var t=this.storage.get("captions");d.is["boolean"](t)?this.captions.active=t:t=this.config.captions.active,t&&(d.toggleClass(this.elements.container,this.config.classNames.captions.active,!0),d.toggleState(this.elements.buttons.captions,!0))}},x=function(){},w=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l(this,t),this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}return u(t,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):x}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):x}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):x}}]),t}(),k={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:"16:9",clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.3.7/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{"default":576,options:[4320,2880,2160,1440,1080,720,576,480,360,240,"default"]},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:(navigator.language||navigator.userLanguage).split("-")[0]},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad"},urls:{vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/v2/video/{0}.json"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://www.googleapis.com/youtube/v3/videos?id={0}&key={1}&fields=items(snippet(title))&part=snippet",poster:"https://img.youtube.com/vi/{0}/maxresdefault.jpg,https://img.youtube.com/vi/{0}/hqdefault.jpg"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","qualityrequested","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress--buffer",played:".plyr__progress--played",loop:".plyr__progress--loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",menu:{quality:".js-plyr__menu__list--quality"}},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",ads:"plyr__ads",control:"plyr__control",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",error:"plyr--has-error",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus"},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},keys:{google:null},ads:{enabled:!1,publisherId:""}},C=d.getBrowser(),S=function(){function i(e){var n=this;l(this,i),this.player=e,this.prefix=i.prefix,this.property=i.property,this.scrollPosition={x:0,y:0},d.on(document,"ms"===this.prefix?"MSFullscreenChange":this.prefix+"fullscreenchange",function(){t.call(n)}),d.on(this.player.elements.container,"dblclick",function(t){d.is.element(n.player.elements.controls)&&n.player.elements.controls.contains(t.target)||n.toggle()}),this.update()}return u(i,[{key:"update",value:function(){this.enabled?this.player.debug.log((i["native"]?"Native":"Fallback")+" fullscreen enabled"):this.player.debug.log("Fullscreen not supported and fallback disabled"),d.toggleClass(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(C.isIos&&this.player.config.fullscreen.iosNative?this.player.playing&&this.target.webkitEnterFullscreen():i["native"]?this.prefix?d.is.empty(this.prefix)||this.target[this.prefix+"Request"+this.property]():this.target.requestFullscreen():e.call(this,!0))}},{key:"exit",value:function(){if(this.enabled)if(C.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),this.player.play();else if(i["native"])if(this.prefix){if(!d.is.empty(this.prefix)){var t="moz"===this.prefix?"Cancel":"Exit";document[""+this.prefix+t+this.property]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document);else e.call(this,!1)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"enabled",get:function(){return(i["native"]||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){return!!this.enabled&&(i["native"]?(this.prefix?document[""+this.prefix+this.property+"Element"]:document.fullscreenElement)===this.target:d.hasClass(this.target,this.player.config.classNames.fullscreen.fallback))}},{key:"target",get:function(){return C.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(d.is["function"](document.exitFullscreen))return"";var t="";return["webkit","moz","ms"].some(function(e){return!(!d.is["function"](document[e+"ExitFullscreen"])&&!d.is["function"](document[e+"CancelFullScreen"])||(t=e,0))}),t}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),i}(),T=d.getBrowser(),A=function(){function t(e){l(this,t),this.player=e,this.lastKey=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}return u(t,[{key:"handleKey",value:function(t){var e=this,i=t.keyCode?t.keyCode:t.which,n="keydown"===t.type,o=n&&i===this.lastKey;if(!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)&&d.is.number(i))if(n){var r=d.getFocusElement();if(d.is.element(r)&&d.matches(r,this.player.config.selectors.editable))return;switch([48,49,50,51,52,53,54,56,57,32,75,38,40,77,39,37,70,67,73,76,79].includes(i)&&(t.preventDefault(),t.stopPropagation()),i){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:o||(e.player.currentTime=e.player.duration/10*(i-48));break;case 32:case 75:o||this.player.togglePlay();break;case 38:this.player.increaseVolume(.1);break;case 40:this.player.decreaseVolume(.1);break;case 77:o||(this.player.muted=!this.player.muted);break;case 39:this.player.forward();break;case 37:this.player.rewind();break;case 70:this.player.fullscreen.toggle();break;case 67:o||this.player.toggleCaptions();break;case 76:this.player.loop=!this.player.loop}!this.player.fullscreen.enabled&&this.player.fullscreen.active&&27===i&&this.player.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null}},{key:"toggleMenu",value:function(t){_.toggleMenu.call(this.player,t)}},{key:"firstTouch",value:function(){this.player.touch=!0,d.toggleClass(this.player.elements.container,this.player.config.classNames.isTouch,!0),d.off(document.body,"touchstart",this.firstTouch)}},{key:"global",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.player.config.keyboard.global&&d.toggleListener(window,"keydown keyup",this.handleKey,t,!1),d.toggleListener(document.body,"click",this.toggleMenu,t),d.on(document.body,"touchstart",this.firstTouch)}},{key:"container",value:function(){var t=this;!this.player.config.keyboard.global&&this.player.config.keyboard.focused&&d.on(this.player.elements.container,"keydown keyup",this.handleKey,!1),d.on(this.player.elements.container,"focusout",function(e){d.toggleClass(e.target,t.player.config.classNames.tabFocus,!1)}),d.on(this.player.elements.container,"keydown",function(e){9===e.keyCode&&setTimeout(function(){d.toggleClass(d.getFocusElement(),t.player.config.classNames.tabFocus,!0)},0)}),this.player.config.hideControls&&d.on(this.player.elements.container,"mouseenter mouseleave mousemove touchstart touchend touchmove enterfullscreen exitfullscreen",function(e){t.player.toggleControls(e)})}},{key:"media",value:function(){var t=this;if(d.on(this.player.media,"timeupdate seeking",function(e){return v.timeUpdate.call(t.player,e)}),d.on(this.player.media,"durationchange loadeddata loadedmetadata",function(e){return v.durationUpdate.call(t.player,e)}),d.on(this.player.media,"loadeddata",function(){d.toggleHidden(t.player.elements.volume,!t.player.hasAudio),d.toggleHidden(t.player.elements.buttons.mute,!t.player.hasAudio)}),d.on(this.player.media,"ended",function(){t.player.isHTML5&&t.player.isVideo&&t.player.config.resetOnEnd&&t.player.restart()}),d.on(this.player.media,"progress playing",function(e){return v.updateProgress.call(t.player,e)}),d.on(this.player.media,"volumechange",function(e){return v.updateVolume.call(t.player,e)}),d.on(this.player.media,"playing play pause ended emptied timeupdate",function(e){return v.checkPlaying.call(t.player,e)}),d.on(this.player.media,"waiting canplay seeked playing",function(e){return v.checkLoading.call(t.player,e)}),d.on(this.player.media,"playing",function(){t.player.ads&&t.player.ads.enabled&&!t.player.ads.initialized&&t.player.ads.managerPromise.then(function(){return t.player.ads.play()})["catch"](function(){return t.player.play()})}),this.player.supported.ui&&this.player.config.clickToPlay&&!this.player.isAudio){var e=d.getElement.call(this.player,"."+this.player.config.classNames.video);if(!d.is.element(e))return;d.on(e,"click",function(){t.player.config.hideControls&&t.player.touch&&!t.player.paused||(t.player.paused?t.player.play():t.player.ended?(t.player.restart(),t.player.play()):t.player.pause())})}this.player.supported.ui&&this.player.config.disableContextMenu&&d.on(this.player.elements.wrapper,"contextmenu",function(t){t.preventDefault()},!1),d.on(this.player.media,"volumechange",function(){t.player.storage.set({volume:t.player.volume,muted:t.player.muted})}),d.on(this.player.media,"ratechange",function(){_.updateSetting.call(t.player,"speed"),t.player.storage.set({speed:t.player.speed})}),d.on(this.player.media,"qualityrequested",function(e){t.player.storage.set({quality:e.detail.quality})}),d.on(this.player.media,"qualitychange",function(e){_.updateSetting.call(t.player,"quality",null,e.detail.quality)}),d.on(this.player.media,"languagechange",function(){_.updateSetting.call(t.player,"captions"),t.player.storage.set({language:t.player.language})}),d.on(this.player.media,"captionsenabled captionsdisabled",function(){_.updateSetting.call(t.player,"captions"),t.player.storage.set({captions:t.player.captions.active})}),d.on(this.player.media,this.player.config.events.concat(["keyup","keydown"]).join(" "),function(e){var i={};"error"===e.type&&(i=t.player.media.error),d.dispatchEvent.call(t.player,t.player.elements.container,e.type,!0,i)})}},{key:"controls",value:function(){var t=this,e=T.isIE?"change":"input",i=function(e,i,n){var o=t.player.config.listeners[n],r=!0;d.is["function"](o)&&(r=o.call(t.player,e)),r&&d.is["function"](i)&&i.call(t.player,e)},n=function(e,n,o,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=t.player.config.listeners[r],l=d.is["function"](s);d.on(e,n,function(t){return i(t,o,r)},a&&!l)};n(this.player.elements.buttons.play,"click",this.player.togglePlay,"play"),n(this.player.elements.buttons.restart,"click",this.player.restart,"restart"),n(this.player.elements.buttons.rewind,"click",this.player.rewind,"rewind"),n(this.player.elements.buttons.fastForward,"click",this.player.forward,"fastForward"),n(this.player.elements.buttons.mute,"click",function(){t.player.muted=!t.player.muted},"mute"),n(this.player.elements.buttons.captions,"click",this.player.toggleCaptions),n(this.player.elements.buttons.fullscreen,"click",function(){t.player.fullscreen.toggle()},"fullscreen"),n(this.player.elements.buttons.pip,"click",function(){t.player.pip="toggle"},"pip"),n(this.player.elements.buttons.airplay,"click",this.player.airplay,"airplay"),n(this.player.elements.buttons.settings,"click",function(e){_.toggleMenu.call(t.player,e)}),n(this.player.elements.settings.form,"click",function(e){e.stopPropagation();var n=function(){var e="plyr-settings-"+t.player.id+"-home";_.showTab.call(t.player,e)};if(d.matches(e.target,t.player.config.selectors.inputs.language))i(e,function(){t.player.language=e.target.value,n()},"language");else if(d.matches(e.target,t.player.config.selectors.inputs.quality))i(e,function(){t.player.quality=e.target.value,n()},"quality");else if(d.matches(e.target,t.player.config.selectors.inputs.speed))i(e,function(){t.player.speed=parseFloat(e.target.value),n()},"speed");else{var o=e.target;_.showTab.call(t.player,o.getAttribute("aria-controls"))}}),n(this.player.elements.inputs.seek,e,function(e){t.player.currentTime=e.target.value/e.target.max*t.player.duration},"seek"),this.player.config.toggleInvert&&!d.is.element(this.player.elements.display.duration)&&n(this.player.elements.display.currentTime,"click",function(){0!==t.player.currentTime&&(t.player.config.invertTime=!t.player.config.invertTime,v.timeUpdate.call(t.player))}),n(this.player.elements.inputs.volume,e,function(e){t.player.volume=e.target.value},"volume"),T.isWebkit&&n(d.getElements.call(this.player,'input[type="range"]'),"input",function(e){_.updateRangeFill.call(t.player,e.target)}),n(this.player.elements.progress,"mouseenter mouseleave mousemove",function(e){return _.updateSeekTooltip.call(t.player,e)}),this.player.config.hideControls&&(n(this.player.elements.controls,"mouseenter mouseleave",function(e){t.player.elements.controls.hover=!t.player.touch&&"mouseenter"===e.type}),n(this.player.elements.controls,"mousedown mouseup touchstart touchend touchcancel",function(e){t.player.elements.controls.pressed=["mousedown","touchstart"].includes(e.type)}),n(this.player.elements.controls,"focusin focusout",function(e){t.player.toggleControls(e)})),n(this.player.elements.inputs.volume,"wheel",function(e){var i=e.webkitDirectionInvertedFromDevice,n=0;(e.deltaY<0||e.deltaX>0)&&(i?(t.player.decreaseVolume(.02),n=-1):(t.player.increaseVolume(.02),n=1)),(e.deltaY>0||e.deltaX<0)&&(i?(t.player.increaseVolume(.02),n=1):(t.player.decreaseVolume(.02),n=-1)),(1===n&&t.player.media.volume<1||-1===n&&t.player.media.volume>0)&&e.preventDefault()},"volume",!1)}},{key:"clear",value:function(){this.global(!1)}}]),t}(),E={setup:function(){var t=this;d.toggleClass(this.elements.wrapper,this.config.classNames.embed,!0),E.setAspectRatio.call(this),d.is.object(window.Vimeo)?E.ready.call(this):d.loadScript(this.config.urls.vimeo.sdk).then(function(){E.ready.call(t)})["catch"](function(e){t.debug.warn("Vimeo API failed to load",e)})},setAspectRatio:function(t){var e=d.is.string(t)?t.split(":"):this.config.ratio.split(":"),i=100/e[0]*e[1];if(this.elements.wrapper.style.paddingBottom=i+"%",this.supported.ui){var n=(240-i)/4.8;this.media.style.transform="translateY(-"+n+"%)"}},ready:function(){var t=this,e=this,i={loop:e.config.loop.active,autoplay:e.autoplay,byline:!1,portrait:!1,title:!1,speed:!0,transparent:0,gesture:"media",playsinline:!this.config.fullscreen.iosNative},n=d.buildUrlParams(i),o=e.media.getAttribute("src");d.is.empty(o)&&(o=e.media.getAttribute(e.config.attributes.embed.id));var r=d.parseVimeoId(o),a=d.createElement("iframe"),s=d.format(e.config.urls.vimeo.iframe,r,n);a.setAttribute("src",s),a.setAttribute("allowfullscreen",""),a.setAttribute("allowtransparency",""),a.setAttribute("allow","autoplay");var l=d.createElement("div",{"class":e.config.classNames.embedContainer});l.appendChild(a),e.media=d.replaceElement(l,e.media),d.fetch(d.format(e.config.urls.vimeo.api,r),"json").then(function(t){if(!d.is.empty(t)){var i=new URL(t[0].thumbnail_large);i.pathname=i.pathname.split("_")[0]+".jpg",e.media.setAttribute("poster",i.href),v.setPoster.call(e)}}),e.embed=new window.Vimeo.Player(a,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=function(){e.embed.play().then(function(){e.media.paused=!1})},e.media.pause=function(){e.embed.pause().then(function(){e.media.paused=!0})},e.media.stop=function(){e.pause(),e.currentTime=0};var u=e.media.currentTime;Object.defineProperty(e.media,"currentTime",{get:function(){return u},set:function(t){var i=e.media.paused;e.media.seeking=!0,d.dispatchEvent.call(e,e.media,"seeking"),e.embed.setCurrentTime(t)["catch"](function(){}),i&&e.pause()}});var c=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:function(){return c},set:function(t){e.embed.setPlaybackRate(t).then(function(){c=t,d.dispatchEvent.call(e,e.media,"ratechange")})["catch"](function(t){"Error"===t.name&&_.setSpeedMenu.call(e,[])})}});var h=e.config.volume;Object.defineProperty(e.media,"volume",{get:function(){return h},set:function(t){e.embed.setVolume(t).then(function(){h=t,d.dispatchEvent.call(e,e.media,"volumechange")})}});var p=e.config.muted;Object.defineProperty(e.media,"muted",{get:function(){return p},set:function(t){var i=!!d.is["boolean"](t)&&t;e.embed.setVolume(i?0:e.config.volume).then(function(){p=i,d.dispatchEvent.call(e,e.media,"volumechange")})}});var f=e.config.loop;Object.defineProperty(e.media,"loop",{get:function(){return f},set:function(t){var i=d.is["boolean"](t)?t:e.config.loop.active;e.embed.setLoop(i).then(function(){f=i})}});var m=void 0;e.embed.getVideoUrl().then(function(t){m=t})["catch"](function(e){t.debug.warn(e)}),Object.defineProperty(e.media,"currentSrc",{get:function(){return m}}),Object.defineProperty(e.media,"ended",{get:function(){return e.currentTime===e.duration}}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then(function(e){var i=d.getAspectRatio(e[0],e[1]);E.setAspectRatio.call(t,i)}),e.embed.setAutopause(e.config.autopause).then(function(t){e.config.autopause=t}),e.embed.getVideoTitle().then(function(i){e.config.title=i,v.setTitle.call(t)}),e.embed.getCurrentTime().then(function(t){u=t,d.dispatchEvent.call(e,e.media,"timeupdate")}),e.embed.getDuration().then(function(t){e.media.duration=t,d.dispatchEvent.call(e,e.media,"durationchange")}),e.embed.getTextTracks().then(function(t){e.media.textTracks=t,b.setup.call(e)}),e.embed.on("cuechange",function(t){var i=null;t.cues.length&&(i=d.stripHTML(t.cues[0].text)),b.setText.call(e,i)}),e.embed.on("loaded",function(){d.is.element(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)}),e.embed.on("play",function(){e.media.paused&&d.dispatchEvent.call(e,e.media,"play"),e.media.paused=!1,d.dispatchEvent.call(e,e.media,"playing")}),e.embed.on("pause",function(){e.media.paused=!0,d.dispatchEvent.call(e,e.media,"pause")}),e.embed.on("timeupdate",function(t){e.media.seeking=!1,u=t.seconds,d.dispatchEvent.call(e,e.media,"timeupdate")}),e.embed.on("progress",function(t){e.media.buffered=t.percent,d.dispatchEvent.call(e,e.media,"progress"),1===parseInt(t.percent,10)&&d.dispatchEvent.call(e,e.media,"canplaythrough"),e.embed.getDuration().then(function(t){t!==e.media.duration&&(e.media.duration=t,d.dispatchEvent.call(e,e.media,"durationchange"))})}),e.embed.on("seeked",function(){e.media.seeking=!1,d.dispatchEvent.call(e,e.media,"seeked"),d.dispatchEvent.call(e,e.media,"play")}),e.embed.on("ended",function(){e.media.paused=!0,d.dispatchEvent.call(e,e.media,"ended");
}),e.embed.on("error",function(t){e.media.error=t,d.dispatchEvent.call(e,e.media,"error")}),setTimeout(function(){return v.build.call(e)},0)}},M={setup:function(){var t=this;d.toggleClass(this.elements.wrapper,this.config.classNames.embed,!0),M.setAspectRatio.call(this),d.is.object(window.YT)&&d.is["function"](window.YT.Player)?M.ready.call(this):(d.loadScript(this.config.urls.youtube.sdk)["catch"](function(e){t.debug.warn("YouTube API failed to load",e)}),window.onYouTubeReadyCallbacks=window.onYouTubeReadyCallbacks||[],window.onYouTubeReadyCallbacks.push(function(){M.ready.call(t)}),window.onYouTubeIframeAPIReady=function(){window.onYouTubeReadyCallbacks.forEach(function(t){t()})})},getTitle:function(t){var e=this;if(d.is["function"](this.embed.getVideoData)){var i=this.embed.getVideoData().title;if(d.is.empty(i))return this.config.title=i,void v.setTitle.call(this)}var n=this.config.keys.google;if(d.is.string(n)&&!d.is.empty(n)){var o=d.format(this.config.urls.youtube.api,t,n);d.fetch(o).then(function(t){d.is.object(t)&&(e.config.title=t.items[0].snippet.title,v.setTitle.call(e))})["catch"](function(){})}},setAspectRatio:function(){var t=this.config.ratio.split(":");this.elements.wrapper.style.paddingBottom=100/t[0]*t[1]+"%"},ready:function(){var t=this,e=t.media.getAttribute("id");if(d.is.empty(e)||!e.startsWith("youtube-")){var n=t.media.getAttribute("src");d.is.empty(n)&&(n=t.media.getAttribute(this.config.attributes.embed.id));var o=d.parseYouTubeId(n),r=d.generateId(t.provider),a=d.createElement("div",{id:r});t.media=d.replaceElement(a,t.media),t.media.setAttribute("poster",d.format(t.config.urls.youtube.poster,o)),t.embed=new window.YT.Player(r,{videoId:o,playerVars:{autoplay:t.config.autoplay?1:0,controls:t.supported.ui?0:1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,disablekb:1,playsinline:1,widget_referrer:window?window.location.href:null,cc_load_policy:t.captions.active?1:0,cc_lang_pref:t.config.captions.language},events:{onError:function(e){if(!d.is.object(t.media.error)){var i={code:e.data};switch(e.data){case 2:i.message="The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.";break;case 5:i.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.";break;case 100:i.message="The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.";break;case 101:case 150:i.message="The owner of the requested video does not allow it to be played in embedded players.";break;default:i.message="An unknown error occured"}t.media.error=i,d.dispatchEvent.call(t,t.media,"error")}},onPlaybackQualityChange:function(){d.dispatchEvent.call(t,t.media,"qualitychange",!1,{quality:t.media.quality})},onPlaybackRateChange:function(e){var i=e.target;t.media.playbackRate=i.getPlaybackRate(),d.dispatchEvent.call(t,t.media,"ratechange")},onReady:function(e){var n=e.target;M.getTitle.call(t,o),t.media.play=function(){n.playVideo()},t.media.pause=function(){n.pauseVideo()},t.media.stop=function(){n.stopVideo()},t.media.duration=n.getDuration(),t.media.paused=!0,t.media.currentTime=0,Object.defineProperty(t.media,"currentTime",{get:function(){return Number(n.getCurrentTime())},set:function(e){var i=t.media.paused;t.media.seeking=!0,d.dispatchEvent.call(t,t.media,"seeking"),n.seekTo(e),i&&t.pause()}}),Object.defineProperty(t.media,"playbackRate",{get:function(){return n.getPlaybackRate()},set:function(t){n.setPlaybackRate(t)}}),Object.defineProperty(t.media,"quality",{get:function(){return i(n.getPlaybackQuality())},set:function(e){var o=e;n.setPlaybackQuality(i(o)),d.dispatchEvent.call(t,t.media,"qualityrequested",!1,{quality:o})}});var r=t.config.volume;Object.defineProperty(t.media,"volume",{get:function(){return r},set:function(e){r=e,n.setVolume(100*r),d.dispatchEvent.call(t,t.media,"volumechange")}});var a=t.config.muted;Object.defineProperty(t.media,"muted",{get:function(){return a},set:function(e){var i=d.is["boolean"](e)?e:a;a=i,n[i?"mute":"unMute"](),d.dispatchEvent.call(t,t.media,"volumechange")}}),Object.defineProperty(t.media,"currentSrc",{get:function(){return n.getVideoUrl()}}),Object.defineProperty(t.media,"ended",{get:function(){return t.currentTime===t.duration}}),t.options.speed=n.getAvailablePlaybackRates(),t.supported.ui&&t.media.setAttribute("tabindex",-1),d.dispatchEvent.call(t,t.media,"timeupdate"),d.dispatchEvent.call(t,t.media,"durationchange"),clearInterval(t.timers.buffering),t.timers.buffering=setInterval(function(){t.media.buffered=n.getVideoLoadedFraction(),(null===t.media.lastBuffered||t.media.lastBuffered<t.media.buffered)&&d.dispatchEvent.call(t,t.media,"progress"),t.media.lastBuffered=t.media.buffered,1===t.media.buffered&&(clearInterval(t.timers.buffering),d.dispatchEvent.call(t,t.media,"canplaythrough"))},200),setTimeout(function(){return v.build.call(t)},50)},onStateChange:function(e){var n,o=e.target;switch(clearInterval(t.timers.playing),e.data){case-1:d.dispatchEvent.call(t,t.media,"timeupdate"),t.media.buffered=o.getVideoLoadedFraction(),d.dispatchEvent.call(t,t.media,"progress");break;case 0:t.media.paused=!0,t.media.loop?(o.stopVideo(),o.playVideo()):d.dispatchEvent.call(t,t.media,"ended");break;case 1:t.media.seeking&&d.dispatchEvent.call(t,t.media,"seeked"),t.media.seeking=!1,t.media.paused&&d.dispatchEvent.call(t,t.media,"play"),t.media.paused=!1,d.dispatchEvent.call(t,t.media,"playing"),t.timers.playing=setInterval(function(){d.dispatchEvent.call(t,t.media,"timeupdate")},50),t.media.duration!==o.getDuration()&&(t.media.duration=o.getDuration(),d.dispatchEvent.call(t,t.media,"durationchange")),_.setQualityMenu.call(t,(n=o.getAvailableQualityLevels(),d.is.empty(n)?n:d.dedupe(n.map(function(t){return i(t)}))));break;case 2:t.media.paused=!0,d.dispatchEvent.call(t,t.media,"pause")}d.dispatchEvent.call(t,t.elements.container,"statechange",!1,{code:e.data})}}})}}},D={setup:function(){if(this.media)if(d.toggleClass(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),d.toggleClass(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&d.toggleClass(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=d.createElement("div",{"class":this.config.classNames.video}),d.wrap(this.media,this.elements.wrapper),this.elements.poster=d.createElement("div",{"class":this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isEmbed)switch(this.provider){case"youtube":M.setup.call(this);break;case"vimeo":E.setup.call(this)}else this.isHTML5&&f.extend.call(this);else this.debug.warn("No media element found!")}},I=function(){function t(e){var i=this;l(this,t),this.player=e,this.publisherId=e.config.ads.publisherId,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(function(t,e){i.on("loaded",t),i.on("error",e)}),this.load()}return u(t,[{key:"load",value:function(){var t=this;this.enabled&&(d.is.object(window.google)&&d.is.object(window.google.ima)?this.ready():d.loadScript(this.player.config.urls.googleIMA.sdk).then(function(){t.ready()})["catch"](function(){t.trigger("error",new Error("Google IMA SDK failed to load"))}))}},{key:"ready",value:function(){var t=this;this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(function(){t.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){this.elements.container=d.createElement("div",{"class":this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container),this.requestAds()}},{key:"requestAds",value:function(){var t=this,e=this.player.elements.container;try{this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(e){return t.onAdsManagerLoaded(e)},!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t.onAdError(e)},!1);var i=new google.ima.AdsRequest;i.adTagUrl=this.tagUrl,i.linearAdSlotWidth=e.offsetWidth,i.linearAdSlotHeight=e.offsetHeight,i.nonLinearAdSlotWidth=e.offsetWidth,i.nonLinearAdSlotHeight=e.offsetHeight,i.forceNonLinearFullSlot=!1,i.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(i)}catch(t){this.onAdError(t)}}},{key:"pollCountdown",value:function(){var t=this;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?void(this.countdownTimer=setInterval(function(){var e=d.formatTime(Math.max(t.manager.getRemainingTime(),0)),i=m("advertisement",t.player.config)+" - "+e;t.elements.container.setAttribute("data-badge-text",i)},100)):(clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text"))}},{key:"onAdsManagerLoaded",value:function(t){var e=this,i=new google.ima.AdsRenderingSettings;i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i.enablePreloading=!0,this.manager=t.getAdsManager(this.player,i),this.cuePoints=this.manager.getCuePoints(),d.is.empty(this.cuePoints)||this.cuePoints.forEach(function(t){if(0!==t&&-1!==t&&t<e.player.duration){var i=e.player.elements.progress;if(d.is.element(i)){var n=100/e.player.duration*t,o=d.createElement("span",{"class":e.player.config.classNames.cues});o.style.left=n.toString()+"%",i.appendChild(o)}}}),this.manager.setVolume(this.player.volume),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(t){return e.onAdError(t)}),Object.keys(google.ima.AdEvent.Type).forEach(function(t){e.manager.addEventListener(google.ima.AdEvent.Type[t],function(t){return e.onAdEvent(t)})}),this.trigger("loaded")}},{key:"onAdEvent",value:function(t){var e=this,i=this.player.elements.container,n=t.getAd(),o=function(t){var i="ads"+t.replace(/_/g,"").toLowerCase();d.dispatchEvent.call(e.player,e.player.media,i)};switch(t.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),o(t.type),this.pollCountdown(!0),n.isLinear()||(n.width=i.offsetWidth,n.height=i.offsetHeight);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:o(t.type),this.loadAds();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:o(t.type),this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:o(t.type),this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.STARTED:case google.ima.AdEvent.Type.MIDPOINT:case google.ima.AdEvent.Type.COMPLETE:case google.ima.AdEvent.Type.IMPRESSION:case google.ima.AdEvent.Type.CLICK:o(t.type)}}},{key:"onAdError",value:function(t){this.cancel(),this.player.debug.warn("Ads error",t)}},{key:"listeners",value:function(){var t=this,e=this.player.elements.container,i=void 0;this.player.on("ended",function(){t.loader.contentComplete()}),this.player.on("seeking",function(){return i=t.player.currentTime}),this.player.on("seeked",function(){var e=t.player.currentTime;d.is.empty(t.cuePoints)||t.cuePoints.forEach(function(n,o){n>i&&e>n&&(t.manager.discardAdBreak(),t.cuePoints.splice(o,1))})}),window.addEventListener("resize",function(){t.manager&&t.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)})}},{key:"play",value:function(){var t=this;this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then(function(){t.elements.displayContainer.initialize();try{t.initialized||(t.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),t.manager.start()),t.initialized=!0}catch(e){t.onAdError(e)}})["catch"](function(){})}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,this.player.currentTime<this.player.duration&&this.player.play()}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var t=this;this.managerPromise.then(function(){t.manager&&t.manager.destroy(),t.managerPromise=new Promise(function(e){t.on("loaded",e),t.player.debug.log(t.manager)}),t.requestAds()})["catch"](function(){})}},{key:"trigger",value:function(t){for(var e=this,i=arguments.length,n=Array(i>1?i-1:0),o=1;i>o;o++)n[o-1]=arguments[o];var r=this.events[t];d.is.array(r)&&r.forEach(function(t){d.is["function"](t)&&t.apply(e,n)})}},{key:"on",value:function(t,e){return d.is.array(this.events[t])||(this.events[t]=[]),this.events[t].push(e),this}},{key:"startSafetyTimer",value:function(t,e){var i=this;this.player.debug.log("Safety timer invoked from: "+e),this.safetyTimer=setTimeout(function(){i.cancel(),i.clearSafetyTimer("startSafetyTimer()")},t)}},{key:"clearSafetyTimer",value:function(t){d.is.nullOrUndefined(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: "+t),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"enabled",get:function(){return this.player.isVideo&&this.player.config.ads.enabled&&!d.is.empty(this.publisherId)}},{key:"tagUrl",get:function(){var t={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:this.publisherId};return"https://go.aniview.com/api/adserver6/vast/?"+d.buildUrlParams(t)}}]),t}(),P={insertElements:function(t,e){var i=this;d.is.string(e)?d.insertElement(t,this.media,{src:e}):d.is.array(e)&&e.forEach(function(e){d.insertElement(t,i.media,e)})},change:function(t){var e=this;d.is.object(t)&&"sources"in t&&t.sources.length?(f.cancelRequests.call(this),this.destroy.call(this,function(){switch(e.options.quality=[],d.removeElement(e.media),e.media=null,d.is.element(e.elements.container)&&e.elements.container.removeAttribute("class"),e.type=t.type,e.provider=d.is.empty(t.sources[0].provider)?a.html5:t.sources[0].provider,e.supported=p.check(e.type,e.provider,e.config.playsinline),e.provider+":"+e.type){case"html5:video":e.media=d.createElement("video");break;case"html5:audio":e.media=d.createElement("audio");break;case"youtube:video":case"vimeo:video":e.media=d.createElement("div",{src:t.sources[0].src})}e.elements.container.appendChild(e.media),d.is["boolean"](t.autoplay)&&(e.config.autoplay=t.autoplay),e.isHTML5&&(e.config.crossorigin&&e.media.setAttribute("crossorigin",""),e.config.autoplay&&e.media.setAttribute("autoplay",""),d.is.empty(t.poster)||(e.poster=t.poster),e.config.loop.active&&e.media.setAttribute("loop",""),e.config.muted&&e.media.setAttribute("muted",""),e.config.playsinline&&e.media.setAttribute("playsinline","")),v.addStyleHook.call(e),e.isHTML5&&P.insertElements.call(e,"source",t.sources),e.config.title=t.title,D.setup.call(e),e.isHTML5&&("tracks"in t&&P.insertElements.call(e,"track",t.tracks),e.media.load()),(e.isHTML5||e.isEmbed&&!e.supported.ui)&&v.build.call(e),e.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}},L=function(){function t(e){l(this,t),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}return u(t,[{key:"get",value:function(e){if(!t.supported)return null;var i=window.localStorage.getItem(this.key);if(d.is.empty(i))return null;var n=JSON.parse(i);return d.is.string(e)&&e.length?n[e]:n}},{key:"set",value:function(e){if(t.supported&&this.enabled&&d.is.object(e)){var i=this.get();d.is.empty(i)&&(i={}),d.extend(i,e),window.localStorage.setItem(this.key,JSON.stringify(i))}}}],[{key:"supported",get:function(){try{return"localStorage"in window?(window.localStorage.setItem("___test","___test"),window.localStorage.removeItem("___test"),!0):!1}catch(t){return!1}}}]),t}();return function(){function t(e,i){var n=this;if(l(this,t),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=p.touch,this.media=e,d.is.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||d.is.nodeList(this.media)||d.is.array(this.media))&&(this.media=this.media[0]),this.config=d.extend({},k,i||{},function(){try{return JSON.parse(n.media.getAttribute("data-plyr-config"))}catch(t){return{}}}()),this.elements={container:null,buttons:{},display:{},progress:{},inputs:{},settings:{menu:null,panes:{},tabs:{}},captions:null},this.captions={active:null,currentTrack:null},this.fullscreen={active:!1},this.options={speed:[],quality:[],captions:[]},this.debug=new w(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",p),!d.is.nullOrUndefined(this.media)&&d.is.element(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(p.check().api){var o=this.media.cloneNode(!0);o.autoplay=!1,this.elements.original=o;var r=this.media.tagName.toLowerCase(),u=null,c=null,h=null;switch(r){case"div":if(u=this.media.querySelector("iframe"),d.is.element(u)){if(c=u.getAttribute("src"),this.provider=d.getProviderByUrl(c),this.elements.container=this.media,this.media=u,this.elements.container.className="",h=d.getUrlParams(c),!d.is.empty(h)){var f=["1","true"];f.includes(h.autoplay)&&(this.config.autoplay=!0),f.includes(h.loop)&&(this.config.loop.active=!0),this.isYouTube?this.config.playsinline=f.includes(h.playsinline):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(d.is.empty(this.provider)||!Object.keys(a).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=s.video;break;case"video":case"audio":this.type=r,this.provider=a.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),this.media.hasAttribute("playsinline")&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=p.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.listeners=new A(this),this.storage=new L(this),this.media.plyr=this,d.is.element(this.elements.container)||(this.elements.container=d.createElement("div"),d.wrap(this.media,this.elements.container)),this.elements.container.setAttribute("tabindex",0),v.addStyleHook.call(this),D.setup.call(this),this.config.debug&&d.on(this.elements.container,this.config.events.join(" "),function(t){n.debug.log("event: "+t.type)}),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&v.build.call(this),this.listeners.container(),this.listeners.global(),this.fullscreen=new S(this),this.ads=new I(this),this.config.autoplay&&this.play()):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return u(t,[{key:"play",value:function(){return d.is["function"](this.media.play)?this.media.play():null}},{key:"pause",value:function(){this.playing&&d.is["function"](this.media.pause)&&this.media.pause()}},{key:"togglePlay",value:function(t){(d.is["boolean"](t)?t:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?(this.pause(),this.restart()):d.is["function"](this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(t){this.currentTime=this.currentTime-(d.is.number(t)?t:this.config.seekTime)}},{key:"forward",value:function(t){this.currentTime=this.currentTime+(d.is.number(t)?t:this.config.seekTime)}},{key:"increaseVolume",value:function(t){var e=this.media.muted?0:this.volume;this.volume=e+(d.is.number(t)?t:1)}},{key:"decreaseVolume",value:function(t){var e=this.media.muted?0:this.volume;this.volume=e-(d.is.number(t)?t:1)}},{key:"toggleCaptions",value:function(t){if(this.supported.ui){var e=d.is["boolean"](t)?t:!this.elements.container.classList.contains(this.config.classNames.captions.active);this.captions.active!==e&&(this.captions.active=e,d.toggleState(this.elements.buttons.captions,this.captions.active),d.toggleClass(this.elements.container,this.config.classNames.captions.active,this.captions.active),d.dispatchEvent.call(this,this.media,this.captions.active?"captionsenabled":"captionsdisabled"))}}},{key:"airplay",value:function(){p.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(t){var e=this;if(d.is.element(this.elements.controls)&&this.supported.ui&&!this.isAudio){var i=0,n=t,o=!1;if(d.is["boolean"](t)||(d.is.event(t)?(o="enterfullscreen"===t.type,n=["touchstart","touchmove","mouseenter","mousemove","focusin"].includes(t.type),["touchmove","touchend","mousemove"].includes(t.type)&&(i=2e3),this.touch||"focusin"!==t.type||(i=3e3,d.toggleClass(this.elements.controls,this.config.classNames.noTransition,!0))):n=d.hasClass(this.elements.container,this.config.classNames.hideControls)),clearTimeout(this.timers.controls),n||this.paused||this.loading){if(d.toggleClass(this.elements.container,this.config.classNames.hideControls,!1)&&d.dispatchEvent.call(this,this.media,"controlsshown"),this.paused||this.loading)return;this.touch&&(i=3e3)}n&&!this.playing||(this.timers.controls=setTimeout(function(){d.is.element(e.elements.controls)&&(!e.elements.controls.pressed&&!e.elements.controls.hover||o)&&(d.hasClass(e.elements.container,e.config.classNames.hideControls)||d.toggleClass(e.elements.controls,e.config.classNames.noTransition,!1),d.toggleClass(e.elements.container,e.config.classNames.hideControls,e.config.hideControls)&&(d.dispatchEvent.call(e,e.media,"controlshidden"),e.config.controls.includes("settings")&&!d.is.empty(e.config.settings)&&_.toggleMenu.call(e,!1)))},i))}}},{key:"on",value:function(t,e){d.on(this.elements.container,t,e)}},{key:"off",value:function(t,e){d.off(this.elements.container,t,e)}},{key:"destroy",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ready){var n=function(){document.body.style.overflow="",e.embed=null,i?(Object.keys(e.elements).length&&(d.removeElement(e.elements.buttons.play),d.removeElement(e.elements.captions),d.removeElement(e.elements.controls),d.removeElement(e.elements.wrapper),e.elements.buttons.play=null,e.elements.captions=null,e.elements.controls=null,e.elements.wrapper=null),d.is["function"](t)&&t()):(e.listeners.clear(),d.replaceElement(e.elements.original,e.elements.container),d.dispatchEvent.call(e,e.elements.original,"destroyed",!0),d.is["function"](t)&&t.call(e.elements.original),e.ready=!1,setTimeout(function(){e.elements=null,e.media=null},200))};switch(this.stop(),this.provider+":"+this.type){case"html5:video":case"html5:audio":clearTimeout(this.timers.loading),v.toggleNativeControls.call(this,!0),n();break;case"youtube:video":clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&d.is["function"](this.embed.destroy)&&this.embed.destroy(),n();break;case"vimeo:video":null!==this.embed&&this.embed.unload().then(n),setTimeout(n,200)}}}},{key:"supports",value:function(t){return p.mime.call(this,t)}},{key:"isHTML5",get:function(){return Boolean(this.provider===a.html5)}},{key:"isEmbed",get:function(){return Boolean(this.isYouTube||this.isVimeo)}},{key:"isYouTube",get:function(){return Boolean(this.provider===a.youtube)}},{key:"isVimeo",get:function(){return Boolean(this.provider===a.vimeo)}},{key:"isVideo",get:function(){return Boolean(this.type===s.video)}},{key:"isAudio",get:function(){return Boolean(this.type===s.audio)}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(t){var e=0;d.is.number(t)&&(e=t),0>e?e=0:e>this.duration&&(e=this.duration),this.media.currentTime=e,this.debug.log("Seeking to "+this.currentTime+" seconds")},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var t=this.media.buffered;return d.is.number(t)?t:t&&t.length&&this.duration>0?t.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var t=parseFloat(this.config.duration),e=this.media?Number(this.media.duration):0;return Number.isNaN(t)?e:t}},{key:"volume",set:function(t){var e=t;d.is.string(e)&&(e=Number(e)),d.is.number(e)||(e=this.storage.get("volume")),d.is.number(e)||(e=this.config.volume),e>1&&(e=1),0>e&&(e=0),this.config.volume=e,this.media.volume=e,!d.is.empty(t)&&this.muted&&e>0&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(t){var e=t;d.is["boolean"](e)||(e=this.storage.get("muted")),d.is["boolean"](e)||(e=this.config.muted),this.config.muted=e,this.media.muted=e},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(t){var e=null;d.is.number(t)&&(e=t),d.is.number(e)||(e=this.storage.get("speed")),d.is.number(e)||(e=this.config.speed.selected),.1>e&&(e=.1),e>2&&(e=2),this.config.speed.options.includes(e)?(this.config.speed.selected=e,this.media.playbackRate=e):this.debug.warn("Unsupported speed ("+e+")")},get:function(){return Number(this.media.playbackRate)}},{key:"quality",set:function(t){var e=null;if(d.is.empty(t)||(e=Number(t)),d.is.number(e)&&0!==e||(e=this.storage.get("quality")),d.is.number(e)||(e=this.config.quality.selected),d.is.number(e)||(e=this.config.quality["default"]),this.options.quality.length){if(!this.options.quality.includes(e)){var i=d.closest(this.options.quality,e);this.debug.warn("Unsupported quality option: "+e+", using "+i+" instead"),e=i}this.config.quality.selected=e,this.media.quality=e}},get:function(){return this.media.quality}},{key:"loop",set:function(t){var e=d.is["boolean"](t)?t:this.config.loop.active;this.config.loop.active=e,this.media.loop=e},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(t){P.change.call(this,t)},get:function(){return this.media.currentSrc}},{key:"poster",set:function(t){this.isVideo?d.is.string(t)&&(this.media.setAttribute("poster",t),v.setPoster.call(this)):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster"):null}},{key:"autoplay",set:function(t){var e=d.is["boolean"](t)?t:this.config.autoplay;this.config.autoplay=e},get:function(){return Boolean(this.config.autoplay)}},{key:"language",set:function(t){if(d.is.string(t))if(d.is.empty(t))this.toggleCaptions(!1);else{var e=t.toLowerCase();this.options.captions.includes(e)?(this.toggleCaptions(!0),"enabled"!==e&&this.language!==e&&(this.captions.language=e,b.setText.call(this,null),b.setLanguage.call(this),d.dispatchEvent.call(this,this.media,"languagechange"))):this.debug.warn("Unsupported language option: "+e)}},get:function(){return this.captions.language}},{key:"pip",set:function(t){var e="picture-in-picture",i="inline";if(p.pip){var n=d.is["boolean"](t)?t:this.pip===i;this.media.webkitSetPresentationMode(n?e:i)}},get:function(){return p.pip?this.media.webkitPresentationMode:null}}],[{key:"supported",value:function(t,e,i){return p.check(t,e,i)}},{key:"loadSprite",value:function(t,e){return d.loadSprite(t,e)}},{key:"setup",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;return d.is.string(e)?n=Array.from(document.querySelectorAll(e)):d.is.nodeList(e)?n=Array.from(e):d.is.array(e)&&(n=e.filter(function(t){return d.is.element(t)})),d.is.empty(n)?null:n.map(function(e){return new t(e,i)})}}]),t}()}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.mapboxgl=e()}(this,function(){"use strict";function t(t,o){if(e)if(i){var r="var sharedChunk = {}; ("+e+")(sharedChunk); ("+i+")(sharedChunk);",a={};e(a),n=o(a),n.workerUrl=window.URL.createObjectURL(new Blob([r],{type:"text/javascript"}))}else i=o;else e=o}var e,i,n;return t(["exports"],function(t){function e(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t["default"]:t}function n(t,e){return e={exports:{}},t(e,e.exports),e.exports}function o(t,e,i,n){this.cx=3*t,this.bx=3*(i-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=i,this.p2y=n}function r(t,e){this.x=t,this.y=e}function a(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!a(t[i],e[i]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;var n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(var o in t)if(!a(t[o],e[o]))return!1;return!0}return t===e}function s(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,i=e*t;return 4*(.5>t?i:3*(t-e)+i-.75)}function l(t,e,i,n){var o=new Rs(t,e,i,n);return function(t){return o.solve(t)}}function u(t,e,i){return Math.min(i,Math.max(e,t))}function c(t,e,i){var n=i-e,o=((t-e)%n+n)%n+e;return o===e?i:o}function h(t,e,i){if(!t.length)return i(null,[]);var n=t.length,o=new Array(t.length),r=null;t.forEach(function(t,a){e(t,function(t,e){t&&(r=t),o[a]=e,0===--n&&i(r,o)})})}function d(t){var e=[];for(var i in t)e.push(t[i]);return e}function p(t,e){var i=[];for(var n in t)n in e||i.push(n);return i}function f(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];for(var n=0,o=e;n<o.length;n+=1){var r=o[n];for(var a in r)t[a]=r[a]}return t}function m(t,e){for(var i={},n=0;n<e.length;n++){var o=e[n];o in t&&(i[o]=t[o])}return i}function g(){return Bs++}function v(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})}function y(t){for(var e=1/0,i=1/0,n=-(1/0),o=-(1/0),r=0;r<t.length;r++)e=Math.min(e,t[r].column),i=Math.min(i,t[r].row),n=Math.max(n,t[r].column),o=Math.max(o,t[r].row);var a=n-e,s=o-i,l=Math.max(a,s),u=Math.max(0,Math.floor(-Math.log(l)/Math.LN2));return new Ns((e+n)/2,(i+o)/2,0).zoomTo(u)}function _(t,e){return-1!==t.indexOf(e,t.length-e.length)}function b(t,e,i){var n=this,o={};for(var r in t)o[r]=e.call(i||n,t[r],r,t);return o}function x(t,e,i){var n=this,o={};for(var r in t)e.call(i||n,t[r],r,t)&&(o[r]=t[r]);return o}function w(t){return Array.isArray(t)?t.map(w):"object"==typeof t&&t?b(t,w):t}function k(t,e){for(var i=0;i<t.length;i++)if(e.indexOf(t[i])>=0)return!0;return!1}function C(t){js[t]||("undefined"!=typeof console&&console.warn(t),js[t]=!0)}function S(t,e,i){return(i.y-t.y)*(e.x-t.x)>(e.y-t.y)*(i.x-t.x)}function T(t){for(var e=0,i=0,n=t.length,o=n-1,r=void 0,a=void 0;n>i;o=i++)r=t[i],a=t[o],e+=(a.x-r.x)*(r.y+a.y);return e}function A(t){var e=t[0],i=t[1],n=t[2];return i+=90,i*=Math.PI/180,n*=Math.PI/180,{x:e*Math.cos(i)*Math.sin(n),y:e*Math.sin(i)*Math.sin(n),z:e*Math.cos(n)}}function E(t){var e=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,i={};if(t.replace(e,function(t,e,n,o){var r=n||o;return i[e]=r?r.toLowerCase():!0,""}),i["max-age"]){var n=parseInt(i["max-age"],10);isNaN(n)?delete i["max-age"]:i["max-age"]=n}return i}function M(t){var e=new self.XMLHttpRequest;e.open("GET",t.url,!0);for(var i in t.headers)e.setRequestHeader(i,t.headers[i]);return e.withCredentials="include"===t.credentials,e}function D(t){var e=self.document.createElement("a");return e.href=t,e.protocol===self.document.location.protocol&&e.host===self.document.location.host}function I(t,e,i){var n=i[t]&&-1!==i[t].indexOf(e);n||(i[t]=i[t]||[],i[t].push(e))}function P(t,e,i){if(i&&i[t]){var n=i[t].indexOf(e);-1!==n&&i[t].splice(n,1)}}function L(t){var e=t.key,i=t.value;return i?[new Rl(e,i,"constants have been deprecated as of v8")]:[];
}function O(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];for(var n=0,o=e;n<o.length;n+=1){var r=o[n];for(var a in r)t[a]=r[a]}return t}function z(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function R(t){return Array.isArray(t)?t.map(R):z(t)}function N(t,e){return{kind:"array",itemType:t,N:e}}function $(t){if("array"===t.kind){var e=$(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}function F(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&!F(t.itemType,e.itemType)&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var i=0,n=Gl;i<n.length;i+=1){var o=n[i];if(!F(o,e))return null}}return"Expected "+$(t)+" but found "+$(e)+" instead."}function B(t,e,i,n){if(!("number"==typeof t&&t>=0&&255>=t&&"number"==typeof e&&e>=0&&255>=e&&"number"==typeof i&&i>=0&&255>=i)){var o="number"==typeof n?[t,e,i,n]:[t,e,i];return"Invalid rgba value ["+o.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return"undefined"==typeof n||"number"==typeof n&&n>=0&&1>=n?null:"Invalid rgba value ["+[t,e,i,n].join(", ")+"]: 'a' must be between 0 and 1."}function j(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof Kl)return!0;if(t instanceof Jl)return!0;if(Array.isArray(t)){for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if(!j(n))return!1}return!0}if("object"==typeof t){for(var o in t)if(!j(t[o]))return!1;return!0}return!1}function H(t){if(null===t)return Fl;if("string"==typeof t)return jl;if("boolean"==typeof t)return Hl;if("number"==typeof t)return Bl;if(t instanceof Kl)return Wl;if(t instanceof Jl)return Yl;if(Array.isArray(t)){for(var e,i=t.length,n=0,o=t;n<o.length;n+=1){var r=o[n],a=H(r);if(e){if(e===a)continue;e=Vl;break}e=a}return N(e||Vl,i)}return Ds("object"==typeof t),ql}function W(t){return Array.isArray(t)?"("+t.map($).join(", ")+")":"("+$(t.type)+"...)"}function q(t){if(t instanceof cu){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}var e=!0;return t.eachChild(function(t){e&&!q(t)&&(e=!1)}),e}function V(t){if(t instanceof cu&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild(function(t){e&&!V(t)&&(e=!1)}),e}function U(t,e){if(t instanceof cu&&e.indexOf(t.name)>=0)return!1;var i=!0;return t.eachChild(function(t){i&&!U(t,e)&&(i=!1)}),i}function Y(t){if(t instanceof hu)return Y(t.boundExpression);if(t instanceof cu&&"error"===t.name)return!1;if(t instanceof Ql)return!1;var e=t instanceof su||t instanceof nu||t instanceof ru,i=!0;return t.eachChild(function(t){i=e?i&&Y(t):i&&t instanceof tu}),i?q(t)&&U(t,["zoom","heatmap-density","line-progress","is-supported-script"]):!1}function G(t,e){for(var i,n,o=t.length,r=0,a=o-1,s=0;a>=r;){if(s=Math.floor((r+a)/2),i=t[s],n=t[s+1],e===i||e>i&&n>e)return s;if(e>i)r=s+1;else{if(!(i>e))throw new eu("Input is not a number.");a=s-1}}return Math.max(s-1,0)}function X(t,e,i){return t*(1-i)+e*i}function Z(t,e,i){return new Kl(X(t.r,e.r,i),X(t.g,e.g,i),X(t.b,e.b,i),X(t.a,e.a,i))}function K(t,e,i){return t.map(function(t,n){return X(t,e[n],i)})}function J(t,e,i,n){var o=n-i,r=t-i;return 0===o?0:1===e?r/o:(Math.pow(e,r)-1)/(Math.pow(e,o)-1)}function Q(t){return"string"===t.kind||"number"===t.kind||"boolean"===t.kind||"null"===t.kind}function tt(t,e){return function(){function i(t,e,i){this.type=Hl,this.lhs=t,this.rhs=e,this.collator=i}return i.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=e.parse(t[1],1,Vl);if(!n)return null;var o=e.parse(t[2],2,Vl);if(!o)return null;if(!Q(n.type)&&!Q(o.type))return e.error("Expected at least one argument to be a string, number, boolean, or null, but found ("+$(n.type)+", "+$(o.type)+") instead.");if(n.type.kind!==o.type.kind&&"value"!==n.type.kind&&"value"!==o.type.kind)return e.error("Cannot compare "+$(n.type)+" and "+$(o.type)+".");var r=null;if(4===t.length){if("string"!==n.type.kind&&"string"!==o.type.kind)return e.error("Cannot use collator to compare non-string types.");if(r=e.parse(t[3],3,Yl),!r)return null}return new i(n,o,r)},i.prototype.evaluate=function(t){var i=this.collator?0===this.collator.evaluate(t).compare(this.lhs.evaluate(t),this.rhs.evaluate(t)):this.lhs.evaluate(t)===this.rhs.evaluate(t);return e?!i:i},i.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},i.prototype.possibleOutputs=function(){return[!0,!1]},i.prototype.serialize=function(){var e=[t];return this.eachChild(function(t){e.push(t.serialize())}),e},i}()}function et(t,e){var i=e[0],n=e[1],o=e[2],r=e[3];i=i.evaluate(t),n=n.evaluate(t),o=o.evaluate(t);var a=r?r.evaluate(t):1,s=B(i,n,o,a);if(s)throw new eu(s);return new Kl(i/255*a,n/255*a,o/255*a,a)}function it(t,e){return t in e}function nt(t,e){var i=e[t];return"undefined"==typeof i?null:i}function ot(t,e){var i=e[0],n=e[1];return i.evaluate(t)<n.evaluate(t)}function rt(t,e){var i=e[0],n=e[1];return i.evaluate(t)>n.evaluate(t)}function at(t,e){var i=e[0],n=e[1];return i.evaluate(t)<=n.evaluate(t)}function st(t,e){var i=e[0],n=e[1];return i.evaluate(t)>=n.evaluate(t)}function lt(t,e){var i=e[0],n=e[1],o=e[2];return o.evaluate(t).compare(i.evaluate(t),n.evaluate(t))<0}function ut(t,e){var i=e[0],n=e[1],o=e[2];return o.evaluate(t).compare(i.evaluate(t),n.evaluate(t))>0}function ct(t,e){var i=e[0],n=e[1],o=e[2];return o.evaluate(t).compare(i.evaluate(t),n.evaluate(t))<=0}function ht(t,e){var i=e[0],n=e[1],o=e[2];return o.evaluate(t).compare(i.evaluate(t),n.evaluate(t))>=0}function dt(t,e,i,n){for(;n>=i;){var o=i+n>>1;if(e[o]===t)return!0;e[o]>t?n=o-1:i=o+1}return!1}function pt(t){return{type:t}}function ft(t){return{result:"success",value:t}}function mt(t){return{result:"error",value:t}}function gt(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function vt(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function yt(t){return!!t.expression&&t.expression.interpolated}function _t(t){return t>Iu?Math.pow(t,1/3):t/Du+Eu}function bt(t){return t>Mu?t*t*t:Du*(t-Eu)}function xt(t){return 255*(.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function wt(t){return t/=255,.04045>=t?t/12.92:Math.pow((t+.055)/1.055,2.4)}function kt(t){var e=wt(t.r),i=wt(t.g),n=wt(t.b),o=_t((.4124564*e+.3575761*i+.1804375*n)/Su),r=_t((.2126729*e+.7151522*i+.072175*n)/Tu),a=_t((.0193339*e+.119192*i+.9503041*n)/Au);return{l:116*r-16,a:500*(o-r),b:200*(r-a),alpha:t.a}}function Ct(t){var e=(t.l+16)/116,i=isNaN(t.a)?e:e+t.a/500,n=isNaN(t.b)?e:e-t.b/200;return e=Tu*bt(e),i=Su*bt(i),n=Au*bt(n),new Kl(xt(3.2404542*i-1.5371385*e-.4985314*n),xt(-.969266*i+1.8760108*e+.041556*n),xt(.0556434*i-.2040259*e+1.0572252*n),t.alpha)}function St(t,e,i){return{l:X(t.l,e.l,i),a:X(t.a,e.a,i),b:X(t.b,e.b,i),alpha:X(t.alpha,e.alpha,i)}}function Tt(t){var e=kt(t),i=e.l,n=e.a,o=e.b,r=Math.atan2(o,n)*Lu;return{h:0>r?r+360:r,c:Math.sqrt(n*n+o*o),l:i,alpha:t.a}}function At(t){var e=t.h*Pu,i=t.c,n=t.l;return Ct({l:n,a:Math.cos(e)*i,b:Math.sin(e)*i,alpha:t.alpha})}function Et(t,e,i){var n=e-t;return t+i*(n>180||-180>n?n-360*Math.round(n/360):n)}function Mt(t,e,i){return{h:Et(t.h,e.h,i),c:X(t.c,e.c,i),l:X(t.l,e.l,i),alpha:X(t.alpha,e.alpha,i)}}function Dt(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function It(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function Pt(t){return t}function Lt(t,e){var i="color"===e.type,n=t.stops&&"object"==typeof t.stops[0][0],o=n||void 0!==t.property,r=n||!o,a=t.type||(yt(e)?"exponential":"interval");if(i&&(t=O({},t),t.stops&&(t.stops=t.stops.map(function(t){return[t[0],Kl.parse(t[1])]})),t["default"]?t["default"]=Kl.parse(t["default"]):t["default"]=Kl.parse(e["default"])),t.colorSpace&&"rgb"!==t.colorSpace&&!Ru[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);var s,l,u;if("exponential"===a)s=Nt;else if("interval"===a)s=Rt;else if("categorical"===a){s=zt,l=Object.create(null);for(var c=0,h=t.stops;c<h.length;c+=1){var d=h[c];l[d[0]]=d[1]}u=typeof t.stops[0][0]}else{if("identity"!==a)throw new Error('Unknown function type "'+a+'"');s=$t}if(n){for(var p={},f=[],m=0;m<t.stops.length;m++){var g=t.stops[m],v=g[0].zoom;void 0===p[v]&&(p[v]={zoom:v,type:t.type,property:t.property,"default":t["default"],stops:[]},f.push(v)),p[v].stops.push([g[0].value,g[1]])}for(var y=[],_=0,b=f;_<b.length;_+=1){var x=b[_];y.push([p[x].zoom,Lt(p[x],e)])}return{kind:"composite",interpolationFactor:mu.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:y.map(function(t){return t[0]}),evaluate:function(i,n){var o=i.zoom;return Nt({stops:y,base:t.base},e,o).evaluate(o,n)}}}return r?{kind:"camera",interpolationFactor:"exponential"===a?mu.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==t.base?t.base:1}):function(){return 0},zoomStops:t.stops.map(function(t){return t[0]}),evaluate:function(i){var n=i.zoom;return s(t,e,n,l,u)}}:{kind:"source",evaluate:function(i,n){var o=n&&n.properties?n.properties[t.property]:void 0;return void 0===o?Ot(t["default"],e["default"]):s(t,e,o,l,u)}}}function Ot(t,e,i){return void 0!==t?t:void 0!==e?e:void 0!==i?i:void 0}function zt(t,e,i,n,o){var r=typeof i===o?n[i]:void 0;return Ot(r,t["default"],e["default"])}function Rt(t,e,i){if("number"!==Dt(i))return Ot(t["default"],e["default"]);var n=t.stops.length;if(1===n)return t.stops[0][1];if(i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[n-1][0])return t.stops[n-1][1];var o=Ft(t.stops,i);return t.stops[o][1]}function Nt(t,e,i){var n=void 0!==t.base?t.base:1;if("number"!==Dt(i))return Ot(t["default"],e["default"]);var o=t.stops.length;if(1===o)return t.stops[0][1];if(i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[o-1][0])return t.stops[o-1][1];var r=Ft(t.stops,i),a=Bt(i,n,t.stops[r][0],t.stops[r+1][0]),s=t.stops[r][1],l=t.stops[r+1][1],u=fu[e.type]||Pt;if(t.colorSpace&&"rgb"!==t.colorSpace){var c=Ru[t.colorSpace];u=function(t,e){return c.reverse(c.interpolate(c.forward(t),c.forward(e),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var i=s.evaluate.apply(void 0,t),n=l.evaluate.apply(void 0,t);return void 0!==i&&void 0!==n?u(i,n,a):void 0}}:u(s,l,a)}function $t(t,e,i){return"color"===e.type?i=Kl.parse(i):Dt(i)===e.type||"enum"===e.type&&e.values[i]||(i=void 0),Ot(i,t["default"],e["default"])}function Ft(t,e){for(var i,n,o=t.length,r=0,a=o-1,s=0;a>=r;){if(s=Math.floor((r+a)/2),i=t[s][0],n=t[s+1][0],e===i||e>i&&n>e)return s;e>i?r=s+1:i>e&&(a=s-1)}return Math.max(s-1,0)}function Bt(t,e,i,n){var o=n-i,r=t-i;return 0===o?0:1===e?r/o:(Math.pow(e,r)-1)/(Math.pow(e,o)-1)}function jt(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Cu}function Ht(t,e){var i=new du(Cu,[],Ut(e)),n=i.parse(t);return n?ft(new Nu(n,e)):(Ds(i.errors.length>0),mt(i.errors))}function Wt(t,e){if(t=Ht(t,e),"error"===t.result)return t;var i=t.value.expression,n=q(i);if(!n&&!gt(e))return mt([new Nl("","data expressions not supported")]);var o=U(i,["zoom"]);if(!o&&!vt(e))return mt([new Nl("","zoom expressions not supported")]);var r=Vt(i);return r||o?r instanceof Nl?mt([r]):r instanceof mu&&!yt(e)?mt([new Nl("",'"interpolate" expressions cannot be used with this property')]):ft(r?n?new Fu("camera",t.value,r):new Fu("composite",t.value,r):n?new $u("constant",t.value):new $u("source",t.value)):mt([new Nl("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}function qt(t,e){if(It(t))return new Bu(t,e);if(jt(t)){var i=Wt(t,e);if("error"===i.result)throw new Error(i.value.map(function(t){return t.key+": "+t.message}).join(", "));return i.value}var n=t;return"string"==typeof t&&"color"===e.type&&(n=Kl.parse(t)),{kind:"constant",evaluate:function(){return n}}}function Vt(t){var e=null;if(t instanceof vu)e=Vt(t.result);else if(t instanceof gu)for(var i=0,n=t.args;i<n.length;i+=1){var o=n[i];if(e=Vt(o))break}else(t instanceof pu||t instanceof mu)&&t.input instanceof cu&&"zoom"===t.input.name&&(e=t);return e instanceof Nl?e:(t.eachChild(function(t){var i=Vt(t);i instanceof Nl?e=i:!e&&i?e=new Nl("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&i&&e!==i&&(e=new Nl("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e)}function Ut(t){var e={color:Wl,string:jl,number:Bl,"enum":jl,"boolean":Hl};return"array"===t.type?N(e[t.value]||Vl,t.length):e[t.type]||null}function Yt(t){return"color"===t.type&&It(t["default"])?new Kl(0,0,0,0):"color"===t.type?Kl.parse(t["default"])||null:void 0===t["default"]?null:t["default"]}function Gt(t){var e=t.key,i=t.value,n=t.valueSpec||{},o=t.objectElementValidators||{},r=t.style,a=t.styleSpec,s=[],l=Dt(i);if("object"!==l)return[new Rl(e,i,"object expected, "+l+" found")];for(var u in i){var c=u.split(".")[0],h=n[c]||n["*"],d=void 0;if(o[c])d=o[c];else if(n[c])d=be;else if(o["*"])d=o["*"];else{if(!n["*"]){s.push(new Rl(e,i[u],'unknown property "'+u+'"'));continue}d=be}s=s.concat(d({key:(e?e+".":e)+u,value:i[u],valueSpec:h,style:r,styleSpec:a,object:i,objectKey:u},i))}for(var p in n)o[p]||n[p].required&&void 0===n[p]["default"]&&void 0===i[p]&&s.push(new Rl(e,i,'missing required property "'+p+'"'));return s}function Xt(t){var e=t.value,i=t.valueSpec,n=t.style,o=t.styleSpec,r=t.key,a=t.arrayElementValidator||be;if("array"!==Dt(e))return[new Rl(r,e,"array expected, "+Dt(e)+" found")];if(i.length&&e.length!==i.length)return[new Rl(r,e,"array length "+i.length+" expected, length "+e.length+" found")];if(i["min-length"]&&e.length<i["min-length"])return[new Rl(r,e,"array length at least "+i["min-length"]+" expected, length "+e.length+" found")];var s={type:i.value};o.$version<7&&(s["function"]=i["function"]),"object"===Dt(i.value)&&(s=i.value);for(var l=[],u=0;u<e.length;u++)l=l.concat(a({array:e,arrayIndex:u,value:e[u],valueSpec:s,style:n,styleSpec:o,key:r+"["+u+"]"}));return l}function Zt(t){var e=t.key,i=t.value,n=t.valueSpec,o=Dt(i);return"number"!==o?[new Rl(e,i,"number expected, "+o+" found")]:"minimum"in n&&i<n.minimum?[new Rl(e,i,i+" is less than the minimum value "+n.minimum)]:"maximum"in n&&i>n.maximum?[new Rl(e,i,i+" is greater than the maximum value "+n.maximum)]:[]}function Kt(t){function e(t){if("identity"===u)return[new Rl(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat(Xt({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:i})),"array"===Dt(n)&&0===n.length&&e.push(new Rl(t.key,n,"array must have at least one stop")),e}function i(t){var e=[],i=t.value,o=t.key;if("array"!==Dt(i))return[new Rl(o,i,"array expected, "+Dt(i)+" found")];if(2!==i.length)return[new Rl(o,i,"array length 2 expected, length "+i.length+" found")];if(p){if("object"!==Dt(i[0]))return[new Rl(o,i,"object expected, "+Dt(i[0])+" found")];if(void 0===i[0].zoom)return[new Rl(o,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new Rl(o,i,"object stop key must have value")];if(s&&s>z(i[0].zoom))return[new Rl(o,i[0].zoom,"stop zoom values must appear in ascending order")];z(i[0].zoom)!==s&&(s=z(i[0].zoom),a=void 0,c={}),e=e.concat(Gt({key:o+"[0]",value:i[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:Zt,value:n}}))}else e=e.concat(n({key:o+"[0]",value:i[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},i));return e.concat(be({key:o+"[1]",value:i[1],valueSpec:l,style:t.style,styleSpec:t.styleSpec}))}function n(t,e){var i=Dt(t.value),n=z(t.value),o=null!==t.value?t.value:e;if(r){if(i!==r)return[new Rl(t.key,o,i+" stop domain type must match previous stop domain type "+r)]}else r=i;if("number"!==i&&"string"!==i&&"boolean"!==i)return[new Rl(t.key,o,"stop domain value must be a number, string, or boolean")];if("number"!==i&&"categorical"!==u){var s="number expected, "+i+" found";return gt(l)&&void 0===u&&(s+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Rl(t.key,o,s)]}return"categorical"!==u||"number"!==i||isFinite(n)&&Math.floor(n)===n?"categorical"!==u&&"number"===i&&void 0!==a&&a>n?[new Rl(t.key,o,"stop domain values must appear in ascending order")]:(a=n,"categorical"===u&&n in c?[new Rl(t.key,o,"stop domain values must be unique")]:(c[n]=!0,[])):[new Rl(t.key,o,"integer expected, found "+n)]}function o(t){return be({key:t.key,value:t.value,valueSpec:l,style:t.style,styleSpec:t.styleSpec})}var r,a,s,l=t.valueSpec,u=z(t.value.type),c={},h="categorical"!==u&&void 0===t.value.property,d=!h,p="array"===Dt(t.value.stops)&&"array"===Dt(t.value.stops[0])&&"object"===Dt(t.value.stops[0][0]),f=Gt({key:t.key,value:t.value,valueSpec:t.styleSpec["function"],style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:e,"default":o}});return"identity"===u&&h&&f.push(new Rl(t.key,t.value,'missing required property "property"')),"identity"===u||t.value.stops||f.push(new Rl(t.key,t.value,'missing required property "stops"')),"exponential"===u&&t.valueSpec.expression&&!yt(t.valueSpec)&&f.push(new Rl(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(d&&!gt(t.valueSpec)?f.push(new Rl(t.key,t.value,"property functions not supported")):h&&!vt(t.valueSpec)&&f.push(new Rl(t.key,t.value,"zoom functions not supported"))),"categorical"!==u&&!p||void 0!==t.value.property||f.push(new Rl(t.key,t.value,'"property" property is required')),f}function Jt(t){var e=("property"===t.expressionContext?Wt:Ht)(R(t.value),t.valueSpec);return"error"===e.result?e.value.map(function(e){return new Rl(""+t.key+e.key,t.value,e.message)}):"property"===t.expressionContext&&"text-font"===t.propertyKey&&-1!==e.value._styleExpression.expression.possibleOutputs().indexOf(void 0)?[new Rl(t.key,t.value,'Invalid data expression for "text-font". Output values must be contained as literals within the expression.')]:"property"!==t.expressionContext||"layout"!==t.propertyType||V(e.value._styleExpression.expression)?[]:[new Rl(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')]}function Qt(t){var e=t.value,i=t.key,n=Dt(e);return"boolean"!==n?[new Rl(i,e,"boolean expected, "+n+" found")]:[]}function te(t){var e=t.key,i=t.value,n=Dt(i);return"string"!==n?[new Rl(e,i,"color expected, "+n+" found")]:null===Zl(i)?[new Rl(e,i,'color expected, "'+i+'" found')]:[]}function ee(t){var e=t.key,i=t.value,n=t.valueSpec,o=[];return Array.isArray(n.values)?-1===n.values.indexOf(z(i))&&o.push(new Rl(e,i,"expected one of ["+n.values.join(", ")+"], "+JSON.stringify(i)+" found")):-1===Object.keys(n.values).indexOf(z(i))&&o.push(new Rl(e,i,"expected one of ["+Object.keys(n.values).join(", ")+"], "+JSON.stringify(i)+" found")),o}function ie(t){if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,i=t.slice(1);e<i.length;e+=1){var n=i[e];if(!ie(n)&&"boolean"!=typeof n)return!1}return!0;default:return!0}}function ne(t){if(!t)return function(){return!0};ie(t)||(t=re(t));var e=Ht(t,ju);if("error"===e.result)throw new Error(e.value.map(function(t){return t.key+": "+t.message}).join(", "));return function(t,i){return e.value.evaluate(t,i)}}function oe(t,e){return e>t?-1:t>e?1:0}function re(t){if(!t)return!0;var e=t[0];if(t.length<=1)return"any"!==e;var i="=="===e?ae(t[1],t[2],"=="):"!="===e?ce(ae(t[1],t[2],"==")):"<"===e||">"===e||"<="===e||">="===e?ae(t[1],t[2],e):"any"===e?se(t.slice(1)):"all"===e?["all"].concat(t.slice(1).map(re)):"none"===e?["all"].concat(t.slice(1).map(re).map(ce)):"in"===e?le(t[1],t.slice(2)):"!in"===e?ce(le(t[1],t.slice(2))):"has"===e?ue(t[1]):"!has"===e?ce(ue(t[1])):!0;return i}function ae(t,e,i){switch(t){case"$type":return["filter-type-"+i,e];case"$id":return["filter-id-"+i,e];default:return["filter-"+i,t,e]}}function se(t){return["any"].concat(t.map(re))}function le(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(function(t){return typeof t!=typeof e[0]})?["filter-in-large",t,["literal",e.sort(oe)]]:["filter-in-small",t,["literal",e]]}}function ue(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function ce(t){return["!",t]}function he(t){return ie(R(t.value))?Jt(O({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):de(t)}function de(t){var e=t.value,i=t.key;if("array"!==Dt(e))return[new Rl(i,e,"array expected, "+Dt(e)+" found")];var n,o=t.styleSpec,r=[];if(e.length<1)return[new Rl(i,e,"filter array must have at least 1 element")];switch(r=r.concat(ee({key:i+"[0]",value:e[0],valueSpec:o.filter_operator,style:t.style,styleSpec:t.styleSpec})),z(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&"$type"===z(e[1])&&r.push(new Rl(i,e,'"$type" cannot be use with operator "'+e[0]+'"'));case"==":case"!=":3!==e.length&&r.push(new Rl(i,e,'filter array for operator "'+e[0]+'" must have 3 elements'));case"in":case"!in":e.length>=2&&(n=Dt(e[1]),"string"!==n&&r.push(new Rl(i+"[1]",e[1],"string expected, "+n+" found")));for(var a=2;a<e.length;a++)n=Dt(e[a]),"$type"===z(e[1])?r=r.concat(ee({key:i+"["+a+"]",value:e[a],valueSpec:o.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==n&&"number"!==n&&"boolean"!==n&&r.push(new Rl(i+"["+a+"]",e[a],"string, number, or boolean expected, "+n+" found"));break;case"any":case"all":case"none":for(var s=1;s<e.length;s++)r=r.concat(de({key:i+"["+s+"]",value:e[s],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":n=Dt(e[1]),2!==e.length?r.push(new Rl(i,e,'filter array for "'+e[0]+'" operator must have 2 elements')):"string"!==n&&r.push(new Rl(i+"[1]",e[1],"string expected, "+n+" found"))}return r}function pe(t,e){var i=t.key,n=t.style,o=t.styleSpec,r=t.value,a=t.objectKey,s=o[e+"_"+t.layerType];if(!s)return[];var l=a.match(/^(.*)-transition$/);if("paint"===e&&l&&s[l[1]]&&s[l[1]].transition)return be({key:i,value:r,valueSpec:o.transition,style:n,styleSpec:o});var u=t.valueSpec||s[a];if(!u)return[new Rl(i,r,'unknown property "'+a+'"')];var c;if("string"===Dt(r)&&gt(u)&&!u.tokens&&(c=/^{([^}]+)}$/.exec(r)))return[new Rl(i,r,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(c[1])+" }`.")];var h=[];return"symbol"===t.layerType&&("text-field"===a&&n&&!n.glyphs&&h.push(new Rl(i,r,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&It(R(r))&&"identity"===z(r.type)&&h.push(new Rl(i,r,'"text-font" does not support identity functions'))),h.concat(be({key:t.key,value:r,valueSpec:u,style:n,styleSpec:o,expressionContext:"property",propertyType:e,propertyKey:a}))}function fe(t){return pe(t,"paint")}function me(t){return pe(t,"layout")}function ge(t){var e=[],i=t.value,n=t.key,o=t.style,r=t.styleSpec;i.type||i.ref||e.push(new Rl(n,i,'either "type" or "ref" is required'));var a=z(i.type),s=z(i.ref);if(i.id)for(var l=z(i.id),u=0;u<t.arrayIndex;u++){var c=o.layers[u];z(c.id)===l&&e.push(new Rl(n,i.id,'duplicate layer id "'+i.id+'", previously used at line '+c.id.__line__))}if("ref"in i){["type","source","source-layer","filter","layout"].forEach(function(t){t in i&&e.push(new Rl(n,i[t],'"'+t+'" is prohibited for ref layers'))});var h;o.layers.forEach(function(t){z(t.id)===s&&(h=t)}),h?h.ref?e.push(new Rl(n,i.ref,"ref cannot reference another ref layer")):a=z(h.type):e.push(new Rl(n,i.ref,'ref layer "'+s+'" not found'))}else if("background"!==a)if(i.source){var d=o.sources&&o.sources[i.source],p=d&&z(d.type);d?"vector"===p&&"raster"===a?e.push(new Rl(n,i.source,'layer "'+i.id+'" requires a raster source')):"raster"===p&&"raster"!==a?e.push(new Rl(n,i.source,'layer "'+i.id+'" requires a vector source')):"vector"!==p||i["source-layer"]?"raster-dem"===p&&"hillshade"!==a?e.push(new Rl(n,i.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==a||!i.paint||!i.paint["line-gradient"]||"geojson"===p&&d.lineMetrics||e.push(new Rl(n,i,'layer "'+i.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new Rl(n,i,'layer "'+i.id+'" must specify a "source-layer"')):e.push(new Rl(n,i.source,'source "'+i.source+'" not found'))}else e.push(new Rl(n,i,'missing required property "source"'));return e=e.concat(Gt({key:n,value:i,valueSpec:r.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return be({key:n+".type",value:i.type,valueSpec:r.layer.type,style:t.style,styleSpec:t.styleSpec,object:i,objectKey:"type"})},filter:he,layout:function(t){return Gt({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return me(O({layerType:a},t))}}})},paint:function(t){return Gt({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return fe(O({layerType:a},t))}}})}}}))}function ve(t){var e=t.value,i=t.key,n=t.styleSpec,o=t.style;if(!e.type)return[new Rl(i,e,'"type" is required')];var r=z(e.type),a=[];switch(r){case"vector":case"raster":case"raster-dem":if(a=a.concat(Gt({key:i,value:e,valueSpec:n["source_"+r.replace("-","_")],style:t.style,styleSpec:n})),"url"in e)for(var s in e)["type","url","tileSize"].indexOf(s)<0&&a.push(new Rl(i+"."+s,e[s],'a source with a "url" property may not include a "'+s+'" property'));return a;case"geojson":return Gt({key:i,value:e,valueSpec:n.source_geojson,style:o,styleSpec:n});case"video":return Gt({key:i,value:e,valueSpec:n.source_video,style:o,styleSpec:n});case"image":return Gt({key:i,value:e,valueSpec:n.source_image,style:o,styleSpec:n});case"canvas":return a.push(new Rl(i,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")),a;default:return ee({key:i+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:o,styleSpec:n})}}function ye(t){var e=t.value,i=t.styleSpec,n=i.light,o=t.style,r=[],a=Dt(e);if(void 0===e)return r;if("object"!==a)return r=r.concat([new Rl("light",e,"object expected, "+a+" found")]);for(var s in e){var l=s.match(/^(.*)-transition$/);r=l&&n[l[1]]&&n[l[1]].transition?r.concat(be({key:s,value:e[s],valueSpec:i.transition,style:o,styleSpec:i})):n[s]?r.concat(be({key:s,value:e[s],valueSpec:n[s],style:o,styleSpec:i})):r.concat([new Rl(s,e[s],'unknown property "'+s+'"')])}return r}function _e(t){var e=t.value,i=t.key,n=Dt(e);return"string"!==n?[new Rl(i,e,"string expected, "+n+" found")]:[]}function be(t){var e=t.value,i=t.valueSpec,n=t.styleSpec;return i.expression&&It(z(e))?Kt(t):i.expression&&jt(R(e))?Jt(t):i.type&&Hu[i.type]?Hu[i.type](t):Gt(O({},t,{valueSpec:i.type?n[i.type]:i}))}function xe(t){var e=t.value,i=t.key,n=_e(t);return n.length?n:(-1===e.indexOf("{fontstack}")&&n.push(new Rl(i,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&n.push(new Rl(i,e,'"glyphs" url must include a "{range}" token')),n)}function we(t,e){e=e||zl;var i=[];return i=i.concat(be({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:xe,"*":function(){return[]}}})),t.constants&&(i=i.concat(L({key:"constants",value:t.constants,style:t,styleSpec:e}))),ke(i)}function ke(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function Ce(t){return function(){return ke(t.apply(this,arguments))}}function Se(t,e){var i=!1;if(e&&e.length)for(var n=0,o=e;n<o.length;n+=1){var r=o[n];t.fire(new Zs(new Error(r.message))),i=!0}return i}function Te(t,e,i){var n=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var o=new Int32Array(this.arrayBuffer);t=o[0],e=o[1],i=o[2],this.d=e+2*i;for(var r=0;r<this.d*this.d;r++){var a=o[Gu+r],s=o[Gu+r+1];n.push(a===s?null:o.subarray(a,s))}var l=o[Gu+n.length],u=o[Gu+n.length+1];this.keys=o.subarray(l,u),this.bboxes=o.subarray(u),this.insert=this._insertReadonly}else{this.d=e+2*i;for(var c=0;c<this.d*this.d;c++)n.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=i,this.scale=e/t,this.uid=0;var h=i/e*t;this.min=-h,this.max=t+h}function Ae(t,e,i){void 0===i&&(i={}),Ds(!Zu[t],t+" is already registered."),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Zu[t]={klass:e,omit:i.omit||[],shallow:i.shallow||[]}}function Ee(t,e){if(null===t||void 0===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(t instanceof ArrayBuffer)return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var i=t;return e&&e.push(i.buffer),i}if(t instanceof Xu)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var n=[],o=0,r=t;o<r.length;o+=1){var a=r[o];n.push(Ee(a,e))}return n}if("object"==typeof t){var s=t.constructor,l=s._classRegistryKey;if(!l)throw new Error("can't serialize object of unregistered class");Ds(Zu[l]);var u={};if(s.serialize)u._serialized=s.serialize(t,e);else{for(var c in t)if(t.hasOwnProperty(c)&&!(Zu[l].omit.indexOf(c)>=0)){var h=t[c];u[c]=Zu[l].shallow.indexOf(c)>=0?h:Ee(h,e)}t instanceof Error&&(u.message=t.message)}return{name:l,properties:u}}throw new Error("can't serialize object of type "+typeof t)}function Me(t){if(null===t||void 0===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof ArrayBuffer||ArrayBuffer.isView(t)||t instanceof Xu)return t;if(Array.isArray(t))return t.map(function(t){return Me(t)});if("object"==typeof t){var e=t,i=e.name,n=e.properties;if(!i)throw new Error("can't deserialize object of anonymous class");var o=Zu[i],r=o.klass;if(!r)throw new Error("can't deserialize unregistered class "+i);if(r.deserialize)return r.deserialize(n._serialized);for(var a=Object.create(r.prototype),s=0,l=Object.keys(n);s<l.length;s+=1){var u=l[s];a[u]=Zu[i].shallow.indexOf(u)>=0?n[u]:Me(n[u])}return a}throw new Error("can't deserialize object of type "+typeof t)}function De(t){for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if(Oe(n.charCodeAt(0)))return!0}return!1}function Ie(t){for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if(!Pe(n.charCodeAt(0)))return!1}return!0}function Pe(t){return tc.Arabic(t)?!1:tc["Arabic Supplement"](t)?!1:tc["Arabic Extended-A"](t)?!1:tc["Arabic Presentation Forms-A"](t)?!1:!tc["Arabic Presentation Forms-B"](t)}function Le(t){return 11904>t?!1:tc["Bopomofo Extended"](t)?!0:tc.Bopomofo(t)?!0:tc["CJK Compatibility Forms"](t)?!0:tc["CJK Compatibility Ideographs"](t)?!0:tc["CJK Compatibility"](t)?!0:tc["CJK Radicals Supplement"](t)?!0:tc["CJK Strokes"](t)?!0:tc["CJK Symbols and Punctuation"](t)?!0:tc["CJK Unified Ideographs Extension A"](t)?!0:tc["CJK Unified Ideographs"](t)?!0:tc["Enclosed CJK Letters and Months"](t)?!0:tc["Halfwidth and Fullwidth Forms"](t)?!0:tc.Hiragana(t)?!0:tc["Ideographic Description Characters"](t)?!0:tc["Kangxi Radicals"](t)?!0:tc["Katakana Phonetic Extensions"](t)?!0:tc.Katakana(t)?!0:tc["Vertical Forms"](t)?!0:tc["Yi Radicals"](t)?!0:!!tc["Yi Syllables"](t)}function Oe(t){return 746===t||747===t?!0:4352>t?!1:tc["Bopomofo Extended"](t)?!0:tc.Bopomofo(t)?!0:!tc["CJK Compatibility Forms"](t)||t>=65097&&65103>=t?tc["CJK Compatibility Ideographs"](t)?!0:tc["CJK Compatibility"](t)?!0:tc["CJK Radicals Supplement"](t)?!0:tc["CJK Strokes"](t)?!0:tc["CJK Symbols and Punctuation"](t)&&!(t>=12296&&12305>=t||t>=12308&&12319>=t||12336===t)?!0:tc["CJK Unified Ideographs Extension A"](t)?!0:tc["CJK Unified Ideographs"](t)?!0:tc["Enclosed CJK Letters and Months"](t)?!0:tc["Hangul Compatibility Jamo"](t)?!0:tc["Hangul Jamo Extended-A"](t)?!0:tc["Hangul Jamo Extended-B"](t)?!0:tc["Hangul Jamo"](t)?!0:tc["Hangul Syllables"](t)?!0:tc.Hiragana(t)?!0:tc["Ideographic Description Characters"](t)?!0:tc.Kanbun(t)?!0:tc["Kangxi Radicals"](t)?!0:tc["Katakana Phonetic Extensions"](t)?!0:tc.Katakana(t)&&12540!==t?!0:tc["Halfwidth and Fullwidth Forms"](t)&&!(65288===t||65289===t||65293===t||t>=65306&&65310>=t||65339===t||65341===t||65343===t||t>=65371&&65503>=t||65507===t||t>=65512&&65519>=t)?!0:tc["Small Form Variants"](t)&&!(t>=65112&&65118>=t||t>=65123&&65126>=t)?!0:tc["Unified Canadian Aboriginal Syllabics"](t)?!0:tc["Unified Canadian Aboriginal Syllabics Extended"](t)?!0:tc["Vertical Forms"](t)?!0:tc["Yijing Hexagram Symbols"](t)?!0:tc["Yi Syllables"](t)?!0:!!tc["Yi Radicals"](t):!0;
}function ze(t){return(!tc["Latin-1 Supplement"](t)||167!==t&&169!==t&&174!==t&&177!==t&&188!==t&&189!==t&&190!==t&&215!==t&&247!==t)&&(!tc["General Punctuation"](t)||8214!==t&&8224!==t&&8225!==t&&8240!==t&&8241!==t&&8251!==t&&8252!==t&&8258!==t&&8263!==t&&8264!==t&&8265!==t&&8273!==t)?tc["Letterlike Symbols"](t)?!0:tc["Number Forms"](t)?!0:tc["Miscellaneous Technical"](t)&&(t>=8960&&8967>=t||t>=8972&&8991>=t||t>=8996&&9e3>=t||9003===t||t>=9085&&9114>=t||t>=9150&&9165>=t||9167===t||t>=9169&&9179>=t||t>=9186&&9215>=t)?!0:tc["Control Pictures"](t)&&9251!==t?!0:tc["Optical Character Recognition"](t)?!0:tc["Enclosed Alphanumerics"](t)?!0:tc["Geometric Shapes"](t)?!0:!tc["Miscellaneous Symbols"](t)||t>=9754&&9759>=t?tc["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&11055>=t||t>=11088&&11097>=t||t>=11192&&11243>=t)?!0:tc["CJK Symbols and Punctuation"](t)?!0:tc.Katakana(t)?!0:tc["Private Use Area"](t)?!0:tc["CJK Compatibility Forms"](t)?!0:tc["Small Form Variants"](t)?!0:tc["Halfwidth and Fullwidth Forms"](t)?!0:8734===t||8756===t||8757===t||t>=9984&&10087>=t||t>=10102&&10131>=t||65532===t||65533===t:!0:!0}function Re(t){return!(Oe(t)||ze(t))}function Ne(t,e){return!e&&(t>=1424&&2303>=t||tc["Arabic Presentation Forms-A"](t)||tc["Arabic Presentation Forms-B"](t))?!1:!(t>=2304&&3583>=t||t>=3840&&4255>=t||tc.Khmer(t))}function $e(t,e){for(var i=0,n=t;i<n.length;i+=1){var o=n[i];if(!Ne(o.charCodeAt(0),e))return!1}return!0}function Fe(t,e){void 0===e&&(e=1);var i=0,n=0,o=t.map(function(t){Ds(t.name.length);var o=Be(t.type),r=i=je(i,Math.max(e,o)),a=t.components||1;return n=Math.max(n,o),i+=o*a,{name:t.name,type:t.type,components:a,offset:r}}),r=je(i,Math.max(n,e));return{members:o,size:r,alignment:e}}function Be(t){return Sc[t].BYTES_PER_ELEMENT}function je(t,e){return Math.ceil(t/e)*e}function He(t){return[sh(255*t.r,255*t.g),sh(255*t.b,255*t.a)]}function We(t,e){var i={"text-opacity":"opacity","icon-opacity":"opacity","text-color":"fill_color","icon-color":"fill_color","text-halo-color":"halo_color","icon-halo-color":"halo_color","text-halo-blur":"halo_blur","icon-halo-blur":"halo_blur","text-halo-width":"halo_width","icon-halo-width":"halo_width","line-gap-width":"gapwidth"};return i[t]||t.replace(e+"-","").replace(/-/g,"_")}function qe(t){return{min:-1*Math.pow(2,t-1),max:Math.pow(2,t-1)-1}}function Ve(t){for(var e=ph/t.extent,i=t.loadGeometry(),n=0;n<i.length;n++)for(var o=i[n],r=0;r<o.length;r++){var a=o[r];a.x=Math.round(a.x*e),a.y=Math.round(a.y*e),(a.x<fh.min||a.x>fh.max||a.y<fh.min||a.y>fh.max)&&C("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return i}function Ue(t,e,i,n,o){t.emplaceBack(2*e+(n+1)/2,2*i+(o+1)/2)}function Ye(t,e){for(var i=0;i<t.length;i++)if(oi(e,t[i]))return!0;for(var n=0;n<e.length;n++)if(oi(t,e[n]))return!0;return!!Qe(t,e)}function Ge(t,e,i){for(var n=0;n<t.length;n++){var o=t[n];if(oi(o,e))return!0;if(ei(e,o,i))return!0}return!1}function Xe(t,e,i){for(var n=0;n<e.length;n++)for(var o=e[n],r=0;r<o.length;r++)if(Ge(t,o[r],i))return!0;return!1}function Ze(t,e){if(1===t.length&&1===t[0].length)return ni(e,t[0][0]);for(var i=0;i<e.length;i++)for(var n=e[i],o=0;o<n.length;o++)if(ni(t,n[o]))return!0;for(var r=0;r<t.length;r++){for(var a=t[r],s=0;s<a.length;s++)if(ni(e,a[s]))return!0;for(var l=0;l<e.length;l++)if(Qe(a,e[l]))return!0}return!1}function Ke(t,e,i){for(var n=0;n<e.length;n++)for(var o=e[n],r=0;r<t.length;r++){var a=t[r];if(a.length>=3)for(var s=0;s<o.length;s++)if(oi(a,o[s]))return!0;if(Je(a,o,i))return!0}return!1}function Je(t,e,i){if(t.length>1){if(Qe(t,e))return!0;for(var n=0;n<e.length;n++)if(ei(e[n],t,i))return!0}for(var o=0;o<t.length;o++)if(ei(t[o],e,i))return!0;return!1}function Qe(t,e){if(0===t.length||0===e.length)return!1;for(var i=0;i<t.length-1;i++)for(var n=t[i],o=t[i+1],r=0;r<e.length-1;r++){var a=e[r],s=e[r+1];if(ti(n,o,a,s))return!0}return!1}function ti(t,e,i,n){return S(t,i,n)!==S(e,i,n)&&S(t,e,i)!==S(t,e,n)}function ei(t,e,i){var n=i*i;if(1===e.length)return t.distSqr(e[0])<n;for(var o=1;o<e.length;o++){var r=e[o-1],a=e[o];if(ii(t,r,a)<n)return!0}return!1}function ii(t,e,i){var n=e.distSqr(i);if(0===n)return t.distSqr(e);var o=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/n;return 0>o?t.distSqr(e):o>1?t.distSqr(i):t.distSqr(i.sub(e)._mult(o)._add(e))}function ni(t,e){for(var i,n,o,r=!1,a=0;a<t.length;a++){i=t[a];for(var s=0,l=i.length-1;s<i.length;l=s++)n=i[s],o=i[l],n.y>e.y!=o.y>e.y&&e.x<(o.x-n.x)*(e.y-n.y)/(o.y-n.y)+n.x&&(r=!r)}return r}function oi(t,e){for(var i=!1,n=0,o=t.length-1;n<t.length;o=n++){var r=t[n],a=t[o];r.y>e.y!=a.y>e.y&&e.x<(a.x-r.x)*(e.y-r.y)/(a.y-r.y)+r.x&&(i=!i)}return i}function ri(t,e,i){var n=e.paint.get(t).value;if("constant"===n.kind)return n.value;var o=i.programConfigurations.get(e.id).binders;return o[t].statistics.max}function ai(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function si(t,e,i,n,o){if(!e[0]&&!e[1])return t;var r=$s.convert(e);"viewport"===i&&r._rotate(-n);for(var a=[],s=0;s<t.length;s++){for(var l=t[s],u=[],c=0;c<l.length;c++)u.push(l[c].sub(r._mult(o)));a.push(u)}return a}function li(){var t=new _h(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function ui(t){var e=new _h(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function ci(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function hi(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function di(t,e,i,n){var o=new _h(4);return o[0]=t,o[1]=e,o[2]=i,o[3]=n,o}function pi(t,e,i,n,o){return t[0]=e,t[1]=i,t[2]=n,t[3]=o,t}function fi(t,e){if(t===e){var i=e[1];t[1]=e[2],t[2]=i}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function mi(t,e){var i=e[0],n=e[1],o=e[2],r=e[3],a=i*r-o*n;return a?(a=1/a,t[0]=r*a,t[1]=-n*a,t[2]=-o*a,t[3]=i*a,t):null}function gi(t,e){var i=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=i,t}function vi(t){return t[0]*t[3]-t[2]*t[1]}function yi(t,e,i){var n=e[0],o=e[1],r=e[2],a=e[3],s=i[0],l=i[1],u=i[2],c=i[3];return t[0]=n*s+r*l,t[1]=o*s+a*l,t[2]=n*u+r*c,t[3]=o*u+a*c,t}function _i(t,e,i){var n=e[0],o=e[1],r=e[2],a=e[3],s=Math.sin(i),l=Math.cos(i);return t[0]=n*l+r*s,t[1]=o*l+a*s,t[2]=n*-s+r*l,t[3]=o*-s+a*l,t}function bi(t,e,i){var n=e[0],o=e[1],r=e[2],a=e[3],s=i[0],l=i[1];return t[0]=n*s,t[1]=o*s,t[2]=r*l,t[3]=a*l,t}function xi(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=-i,t[3]=n,t}function wi(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function ki(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function Ci(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function Si(t,e,i,n){return t[2]=n[2]/n[0],i[0]=n[0],i[1]=n[1],i[3]=n[3]-t[2]*i[1],[t,e,i]}function Ti(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t}function Ai(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t}function Ei(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function Mi(t,e){var i=t[0],n=t[1],o=t[2],r=t[3],a=e[0],s=e[1],l=e[2],u=e[3];return Math.abs(i-a)<=yh*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(n-s)<=yh*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-l)<=yh*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(r-u)<=yh*Math.max(1,Math.abs(r),Math.abs(u))}function Di(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t}function Ii(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t}function Pi(){var t=new _h(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Li(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function Oi(t){var e=new _h(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function zi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Ri(t,e,i,n,o,r,a,s,l){var u=new _h(9);return u[0]=t,u[1]=e,u[2]=i,u[3]=n,u[4]=o,u[5]=r,u[6]=a,u[7]=s,u[8]=l,u}function Ni(t,e,i,n,o,r,a,s,l,u){return t[0]=e,t[1]=i,t[2]=n,t[3]=o,t[4]=r,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t}function $i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Fi(t,e){if(t===e){var i=e[1],n=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=n,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function Bi(t,e){var i=e[0],n=e[1],o=e[2],r=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=c*a-s*u,d=-c*r+s*l,p=u*r-a*l,f=i*h+n*d+o*p;return f?(f=1/f,t[0]=h*f,t[1]=(-c*n+o*u)*f,t[2]=(s*n-o*a)*f,t[3]=d*f,t[4]=(c*i-o*l)*f,t[5]=(-s*i+o*r)*f,t[6]=p*f,t[7]=(-u*i+n*l)*f,t[8]=(a*i-n*r)*f,t):null}function ji(t,e){var i=e[0],n=e[1],o=e[2],r=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return t[0]=a*c-s*u,t[1]=o*u-n*c,t[2]=n*s-o*a,t[3]=s*l-r*c,t[4]=i*c-o*l,t[5]=o*r-i*s,t[6]=r*u-a*l,t[7]=n*l-i*u,t[8]=i*a-n*r,t}function Hi(t){var e=t[0],i=t[1],n=t[2],o=t[3],r=t[4],a=t[5],s=t[6],l=t[7],u=t[8];return e*(u*r-a*l)+i*(-u*o+a*s)+n*(l*o-r*s)}function Wi(t,e,i){var n=e[0],o=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=i[0],p=i[1],f=i[2],m=i[3],g=i[4],v=i[5],y=i[6],_=i[7],b=i[8];return t[0]=d*n+p*a+f*u,t[1]=d*o+p*s+f*c,t[2]=d*r+p*l+f*h,t[3]=m*n+g*a+v*u,t[4]=m*o+g*s+v*c,t[5]=m*r+g*l+v*h,t[6]=y*n+_*a+b*u,t[7]=y*o+_*s+b*c,t[8]=y*r+_*l+b*h,t}function qi(t,e,i){var n=e[0],o=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=i[0],p=i[1];return t[0]=n,t[1]=o,t[2]=r,t[3]=a,t[4]=s,t[5]=l,t[6]=d*n+p*a+u,t[7]=d*o+p*s+c,t[8]=d*r+p*l+h,t}function Vi(t,e,i){var n=e[0],o=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=Math.sin(i),p=Math.cos(i);return t[0]=p*n+d*a,t[1]=p*o+d*s,t[2]=p*r+d*l,t[3]=p*a-d*n,t[4]=p*s-d*o,t[5]=p*l-d*r,t[6]=u,t[7]=c,t[8]=h,t}function Ui(t,e,i){var n=i[0],o=i[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Yi(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Gi(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Xi(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Zi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Ki(t,e){var i=e[0],n=e[1],o=e[2],r=e[3],a=i+i,s=n+n,l=o+o,u=i*a,c=n*a,h=n*s,d=o*a,p=o*s,f=o*l,m=r*a,g=r*s,v=r*l;return t[0]=1-h-f,t[3]=c-v,t[6]=d+g,t[1]=c+v,t[4]=1-u-f,t[7]=p-m,t[2]=d-g,t[5]=p+m,t[8]=1-u-h,t}function Ji(t,e){var i=e[0],n=e[1],o=e[2],r=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],v=e[15],y=i*s-n*a,_=i*l-o*a,b=i*u-r*a,x=n*l-o*s,w=n*u-r*s,k=o*u-r*l,C=c*m-h*f,S=c*g-d*f,T=c*v-p*f,A=h*g-d*m,E=h*v-p*m,M=d*v-p*g,D=y*M-_*E+b*A+x*T-w*S+k*C;return D?(D=1/D,t[0]=(s*M-l*E+u*A)*D,t[1]=(l*T-a*M-u*S)*D,t[2]=(a*E-s*T+u*C)*D,t[3]=(o*E-n*M-r*A)*D,t[4]=(i*M-o*T+r*S)*D,t[5]=(n*T-i*E-r*C)*D,t[6]=(m*k-g*w+v*x)*D,t[7]=(g*b-f*k-v*_)*D,t[8]=(f*w-m*b+v*y)*D,t):null}function Qi(t,e,i){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function tn(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function en(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function nn(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t}function on(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t}function rn(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t}function an(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t[6]=e[6]+i[6]*n,t[7]=e[7]+i[7]*n,t[8]=e[8]+i[8]*n,t}function sn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function ln(t,e){var i=t[0],n=t[1],o=t[2],r=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=e[0],d=e[1],p=e[2],f=e[3],m=e[4],g=e[5],v=e[6],y=e[7],_=e[8];return Math.abs(i-h)<=yh*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(n-d)<=yh*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(o-p)<=yh*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(r-f)<=yh*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(a-m)<=yh*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-g)<=yh*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(l-v)<=yh*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(u-y)<=yh*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-_)<=yh*Math.max(1,Math.abs(c),Math.abs(_))}function un(){var t=new _h(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function cn(t){var e=new _h(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function hn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function dn(t,e,i,n,o,r,a,s,l,u,c,h,d,p,f,m){var g=new _h(16);return g[0]=t,g[1]=e,g[2]=i,g[3]=n,g[4]=o,g[5]=r,g[6]=a,g[7]=s,g[8]=l,g[9]=u,g[10]=c,g[11]=h,g[12]=d,g[13]=p,g[14]=f,g[15]=m,g}function pn(t,e,i,n,o,r,a,s,l,u,c,h,d,p,f,m,g){return t[0]=e,t[1]=i,t[2]=n,t[3]=o,t[4]=r,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t[9]=c,t[10]=h,t[11]=d,t[12]=p,t[13]=f,t[14]=m,t[15]=g,t}function fn(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function mn(t,e){if(t===e){var i=e[1],n=e[2],o=e[3],r=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=r,t[11]=e[14],t[12]=o,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function gn(t,e){var i=e[0],n=e[1],o=e[2],r=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],v=e[15],y=i*s-n*a,_=i*l-o*a,b=i*u-r*a,x=n*l-o*s,w=n*u-r*s,k=o*u-r*l,C=c*m-h*f,S=c*g-d*f,T=c*v-p*f,A=h*g-d*m,E=h*v-p*m,M=d*v-p*g,D=y*M-_*E+b*A+x*T-w*S+k*C;return D?(D=1/D,t[0]=(s*M-l*E+u*A)*D,t[1]=(o*E-n*M-r*A)*D,t[2]=(m*k-g*w+v*x)*D,t[3]=(d*w-h*k-p*x)*D,t[4]=(l*T-a*M-u*S)*D,t[5]=(i*M-o*T+r*S)*D,t[6]=(g*b-f*k-v*_)*D,t[7]=(c*k-d*b+p*_)*D,t[8]=(a*E-s*T+u*C)*D,t[9]=(n*T-i*E-r*C)*D,t[10]=(f*w-m*b+v*y)*D,t[11]=(h*b-c*w-p*y)*D,t[12]=(s*S-a*A-l*C)*D,t[13]=(i*A-n*S+o*C)*D,t[14]=(m*_-f*x-g*y)*D,t[15]=(c*x-h*_+d*y)*D,t):null}function vn(t,e){var i=e[0],n=e[1],o=e[2],r=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],v=e[15];return t[0]=s*(d*v-p*g)-h*(l*v-u*g)+m*(l*p-u*d),t[1]=-(n*(d*v-p*g)-h*(o*v-r*g)+m*(o*p-r*d)),t[2]=n*(l*v-u*g)-s*(o*v-r*g)+m*(o*u-r*l),t[3]=-(n*(l*p-u*d)-s*(o*p-r*d)+h*(o*u-r*l)),t[4]=-(a*(d*v-p*g)-c*(l*v-u*g)+f*(l*p-u*d)),t[5]=i*(d*v-p*g)-c*(o*v-r*g)+f*(o*p-r*d),t[6]=-(i*(l*v-u*g)-a*(o*v-r*g)+f*(o*u-r*l)),t[7]=i*(l*p-u*d)-a*(o*p-r*d)+c*(o*u-r*l),t[8]=a*(h*v-p*m)-c*(s*v-u*m)+f*(s*p-u*h),t[9]=-(i*(h*v-p*m)-c*(n*v-r*m)+f*(n*p-r*h)),t[10]=i*(s*v-u*m)-a*(n*v-r*m)+f*(n*u-r*s),t[11]=-(i*(s*p-u*h)-a*(n*p-r*h)+c*(n*u-r*s)),t[12]=-(a*(h*g-d*m)-c*(s*g-l*m)+f*(s*d-l*h)),t[13]=i*(h*g-d*m)-c*(n*g-o*m)+f*(n*d-o*h),t[14]=-(i*(s*g-l*m)-a*(n*g-o*m)+f*(n*l-o*s)),t[15]=i*(s*d-l*h)-a*(n*d-o*h)+c*(n*l-o*s),t}function yn(t){var e=t[0],i=t[1],n=t[2],o=t[3],r=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],h=t[10],d=t[11],p=t[12],f=t[13],m=t[14],g=t[15],v=e*a-i*r,y=e*s-n*r,_=e*l-o*r,b=i*s-n*a,x=i*l-o*a,w=n*l-o*s,k=u*f-c*p,C=u*m-h*p,S=u*g-d*p,T=c*m-h*f,A=c*g-d*f,E=h*g-d*m;return v*E-y*A+_*T+b*S-x*C+w*k}function _n(t,e,i){var n=e[0],o=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=e[9],p=e[10],f=e[11],m=e[12],g=e[13],v=e[14],y=e[15],_=i[0],b=i[1],x=i[2],w=i[3];return t[0]=_*n+b*s+x*h+w*m,t[1]=_*o+b*l+x*d+w*g,t[2]=_*r+b*u+x*p+w*v,t[3]=_*a+b*c+x*f+w*y,_=i[4],b=i[5],x=i[6],w=i[7],t[4]=_*n+b*s+x*h+w*m,t[5]=_*o+b*l+x*d+w*g,t[6]=_*r+b*u+x*p+w*v,t[7]=_*a+b*c+x*f+w*y,_=i[8],b=i[9],x=i[10],w=i[11],t[8]=_*n+b*s+x*h+w*m,t[9]=_*o+b*l+x*d+w*g,t[10]=_*r+b*u+x*p+w*v,t[11]=_*a+b*c+x*f+w*y,_=i[12],b=i[13],x=i[14],w=i[15],t[12]=_*n+b*s+x*h+w*m,t[13]=_*o+b*l+x*d+w*g,t[14]=_*r+b*u+x*p+w*v,t[15]=_*a+b*c+x*f+w*y,t}function bn(t,e,i){var n,o,r,a,s,l,u,c,h,d,p,f,m=i[0],g=i[1],v=i[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*v+e[12],t[13]=e[1]*m+e[5]*g+e[9]*v+e[13],t[14]=e[2]*m+e[6]*g+e[10]*v+e[14],t[15]=e[3]*m+e[7]*g+e[11]*v+e[15]):(n=e[0],o=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=e[9],p=e[10],f=e[11],t[0]=n,t[1]=o,t[2]=r,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=h,t[9]=d,t[10]=p,t[11]=f,t[12]=n*m+s*g+h*v+e[12],t[13]=o*m+l*g+d*v+e[13],t[14]=r*m+u*g+p*v+e[14],t[15]=a*m+c*g+f*v+e[15]),t}function xn(t,e,i){var n=i[0],o=i[1],r=i[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function wn(t,e,i,n){var o,r,a,s,l,u,c,h,d,p,f,m,g,v,y,_,b,x,w,k,C,S,T,A,E=n[0],M=n[1],D=n[2],I=Math.sqrt(E*E+M*M+D*D);return yh>I?null:(I=1/I,E*=I,M*=I,D*=I,o=Math.sin(i),r=Math.cos(i),a=1-r,s=e[0],l=e[1],u=e[2],c=e[3],h=e[4],d=e[5],p=e[6],f=e[7],m=e[8],g=e[9],v=e[10],y=e[11],_=E*E*a+r,b=M*E*a+D*o,x=D*E*a-M*o,w=E*M*a-D*o,k=M*M*a+r,C=D*M*a+E*o,S=E*D*a+M*o,T=M*D*a-E*o,A=D*D*a+r,t[0]=s*_+h*b+m*x,t[1]=l*_+d*b+g*x,t[2]=u*_+p*b+v*x,t[3]=c*_+f*b+y*x,t[4]=s*w+h*k+m*C,t[5]=l*w+d*k+g*C,t[6]=u*w+p*k+v*C,t[7]=c*w+f*k+y*C,t[8]=s*S+h*T+m*A,t[9]=l*S+d*T+g*A,t[10]=u*S+p*T+v*A,t[11]=c*S+f*T+y*A,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function kn(t,e,i){var n=Math.sin(i),o=Math.cos(i),r=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=r*o+u*n,t[5]=a*o+c*n,t[6]=s*o+h*n,t[7]=l*o+d*n,t[8]=u*o-r*n,t[9]=c*o-a*n,t[10]=h*o-s*n,t[11]=d*o-l*n,t}function Cn(t,e,i){var n=Math.sin(i),o=Math.cos(i),r=e[0],a=e[1],s=e[2],l=e[3],u=e[8],c=e[9],h=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=r*o-u*n,t[1]=a*o-c*n,t[2]=s*o-h*n,t[3]=l*o-d*n,t[8]=r*n+u*o,t[9]=a*n+c*o,t[10]=s*n+h*o,t[11]=l*n+d*o,t}function Sn(t,e,i){var n=Math.sin(i),o=Math.cos(i),r=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],h=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=r*o+u*n,t[1]=a*o+c*n,t[2]=s*o+h*n,t[3]=l*o+d*n,t[4]=u*o-r*n,t[5]=c*o-a*n,t[6]=h*o-s*n,t[7]=d*o-l*n,t}function Tn(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function An(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function En(t,e,i){var n,o,r,a=i[0],s=i[1],l=i[2],u=Math.sqrt(a*a+s*s+l*l);return yh>u?null:(u=1/u,a*=u,s*=u,l*=u,n=Math.sin(e),o=Math.cos(e),r=1-o,t[0]=a*a*r+o,t[1]=s*a*r+l*n,t[2]=l*a*r-s*n,t[3]=0,t[4]=a*s*r-l*n,t[5]=s*s*r+o,t[6]=l*s*r+a*n,t[7]=0,t[8]=a*l*r+s*n,t[9]=s*l*r-a*n,t[10]=l*l*r+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function Mn(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Dn(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function In(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Pn(t,e,i){var n=e[0],o=e[1],r=e[2],a=e[3],s=n+n,l=o+o,u=r+r,c=n*s,h=n*l,d=n*u,p=o*l,f=o*u,m=r*u,g=a*s,v=a*l,y=a*u;return t[0]=1-(p+m),t[1]=h+y,t[2]=d-v,t[3]=0,t[4]=h-y,t[5]=1-(c+m),t[6]=f+g,t[7]=0,t[8]=d+v,t[9]=f-g,t[10]=1-(c+p),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function Ln(t,e){var i=new _h(3),n=-e[0],o=-e[1],r=-e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=n*n+o*o+r*r+a*a;return h>0?(i[0]=2*(s*a+c*n+l*r-u*o)/h,i[1]=2*(l*a+c*o+u*n-s*r)/h,i[2]=2*(u*a+c*r+s*o-l*n)/h):(i[0]=2*(s*a+c*n+l*r-u*o),i[1]=2*(l*a+c*o+u*n-s*r),i[2]=2*(u*a+c*r+s*o-l*n)),Pn(t,e,i),t}function On(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function zn(t,e){var i=e[0],n=e[1],o=e[2],r=e[4],a=e[5],s=e[6],l=e[8],u=e[9],c=e[10];return t[0]=Math.sqrt(i*i+n*n+o*o),t[1]=Math.sqrt(r*r+a*a+s*s),t[2]=Math.sqrt(l*l+u*u+c*c),t}function Rn(t,e){var i=e[0]+e[5]+e[10],n=0;return i>0?(n=2*Math.sqrt(i+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t}function Nn(t,e,i,n){var o=e[0],r=e[1],a=e[2],s=e[3],l=o+o,u=r+r,c=a+a,h=o*l,d=o*u,p=o*c,f=r*u,m=r*c,g=a*c,v=s*l,y=s*u,_=s*c,b=n[0],x=n[1],w=n[2];return t[0]=(1-(f+g))*b,t[1]=(d+_)*b,t[2]=(p-y)*b,t[3]=0,t[4]=(d-_)*x,t[5]=(1-(h+g))*x,t[6]=(m+v)*x,t[7]=0,t[8]=(p+y)*w,t[9]=(m-v)*w,t[10]=(1-(h+f))*w,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function $n(t,e,i,n,o){var r=e[0],a=e[1],s=e[2],l=e[3],u=r+r,c=a+a,h=s+s,d=r*u,p=r*c,f=r*h,m=a*c,g=a*h,v=s*h,y=l*u,_=l*c,b=l*h,x=n[0],w=n[1],k=n[2],C=o[0],S=o[1],T=o[2],A=(1-(m+v))*x,E=(p+b)*x,M=(f-_)*x,D=(p-b)*w,I=(1-(d+v))*w,P=(g+y)*w,L=(f+_)*k,O=(g-y)*k,z=(1-(d+m))*k;return t[0]=A,t[1]=E,t[2]=M,t[3]=0,t[4]=D,t[5]=I,t[6]=P,t[7]=0,t[8]=L,t[9]=O,t[10]=z,t[11]=0,t[12]=i[0]+C-(A*C+D*S+L*T),t[13]=i[1]+S-(E*C+I*S+O*T),t[14]=i[2]+T-(M*C+P*S+z*T),t[15]=1,t}function Fn(t,e){var i=e[0],n=e[1],o=e[2],r=e[3],a=i+i,s=n+n,l=o+o,u=i*a,c=n*a,h=n*s,d=o*a,p=o*s,f=o*l,m=r*a,g=r*s,v=r*l;return t[0]=1-h-f,t[1]=c+v,t[2]=d-g,t[3]=0,t[4]=c-v,t[5]=1-u-f,t[6]=p+m,t[7]=0,t[8]=d+g,t[9]=p-m,t[10]=1-u-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Bn(t,e,i,n,o,r,a){var s=1/(i-e),l=1/(o-n),u=1/(r-a);return t[0]=2*r*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*r*l,t[6]=0,t[7]=0,t[8]=(i+e)*s,t[9]=(o+n)*l,t[10]=(a+r)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*r*2*u,t[15]=0,t}function jn(t,e,i,n,o){var r=1/Math.tan(e/2),a=1/(n-o);return t[0]=r/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+n)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*n*a,t[15]=0,t}function Hn(t,e,i,n){var o=Math.tan(e.upDegrees*Math.PI/180),r=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+s),u=2/(o+r);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-((a-s)*l*.5),t[9]=(o-r)*u*.5,t[10]=n/(i-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*i/(i-n),t[15]=0,t}function Wn(t,e,i,n,o,r,a){var s=1/(e-i),l=1/(n-o),u=1/(r-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+i)*s,t[13]=(o+n)*l,t[14]=(a+r)*u,t[15]=1,t}function qn(t,e,i,n){var o,r,a,s,l,u,c,h,d,p,f=e[0],m=e[1],g=e[2],v=n[0],y=n[1],_=n[2],b=i[0],x=i[1],w=i[2];return Math.abs(f-b)<yh&&Math.abs(m-x)<yh&&Math.abs(g-w)<yh?fn(t):(c=f-b,h=m-x,d=g-w,p=1/Math.sqrt(c*c+h*h+d*d),c*=p,h*=p,d*=p,o=y*d-_*h,r=_*c-v*d,a=v*h-y*c,p=Math.sqrt(o*o+r*r+a*a),p?(p=1/p,o*=p,r*=p,a*=p):(o=0,r=0,a=0),s=h*a-d*r,l=d*o-c*a,u=c*r-h*o,p=Math.sqrt(s*s+l*l+u*u),p?(p=1/p,s*=p,l*=p,u*=p):(s=0,l=0,u=0),t[0]=o,t[1]=s,t[2]=c,t[3]=0,t[4]=r,t[5]=l,t[6]=h,t[7]=0,t[8]=a,t[9]=u,t[10]=d,t[11]=0,t[12]=-(o*f+r*m+a*g),t[13]=-(s*f+l*m+u*g),t[14]=-(c*f+h*m+d*g),t[15]=1,t)}function Vn(t,e,i,n){var o=e[0],r=e[1],a=e[2],s=n[0],l=n[1],u=n[2],c=o-i[0],h=r-i[1],d=a-i[2],p=c*c+h*h+d*d;p>0&&(p=1/Math.sqrt(p),c*=p,h*=p,d*=p);var f=l*d-u*h,m=u*c-s*d,g=s*h-l*c;return p=f*f+m*m+g*g,p>0&&(p=1/Math.sqrt(p),f*=p,m*=p,g*=p),t[0]=f,t[1]=m,t[2]=g,t[3]=0,t[4]=h*g-d*m,t[5]=d*f-c*g,t[6]=c*m-h*f,t[7]=0,t[8]=c,t[9]=h,t[10]=d,t[11]=0,t[12]=o,t[13]=r,t[14]=a,t[15]=1,t}function Un(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Yn(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function Gn(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t[9]=e[9]+i[9],t[10]=e[10]+i[10],t[11]=e[11]+i[11],t[12]=e[12]+i[12],t[13]=e[13]+i[13],t[14]=e[14]+i[14],t[15]=e[15]+i[15],t}function Xn(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t[9]=e[9]-i[9],t[10]=e[10]-i[10],t[11]=e[11]-i[11],t[12]=e[12]-i[12],t[13]=e[13]-i[13],t[14]=e[14]-i[14],t[15]=e[15]-i[15],t}function Zn(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12]*i,t[13]=e[13]*i,t[14]=e[14]*i,t[15]=e[15]*i,t}function Kn(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t[6]=e[6]+i[6]*n,t[7]=e[7]+i[7]*n,t[8]=e[8]+i[8]*n,t[9]=e[9]+i[9]*n,t[10]=e[10]+i[10]*n,t[11]=e[11]+i[11]*n,t[12]=e[12]+i[12]*n,t[13]=e[13]+i[13]*n,t[14]=e[14]+i[14]*n,t[15]=e[15]+i[15]*n,t}function Jn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Qn(t,e){var i=t[0],n=t[1],o=t[2],r=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=t[9],d=t[10],p=t[11],f=t[12],m=t[13],g=t[14],v=t[15],y=e[0],_=e[1],b=e[2],x=e[3],w=e[4],k=e[5],C=e[6],S=e[7],T=e[8],A=e[9],E=e[10],M=e[11],D=e[12],I=e[13],P=e[14],L=e[15];return Math.abs(i-y)<=yh*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(n-_)<=yh*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(o-b)<=yh*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(r-x)<=yh*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(a-w)<=yh*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-k)<=yh*Math.max(1,Math.abs(s),Math.abs(k))&&Math.abs(l-C)<=yh*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(u-S)<=yh*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(c-T)<=yh*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(h-A)<=yh*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(d-E)<=yh*Math.max(1,Math.abs(d),Math.abs(E))&&Math.abs(p-M)<=yh*Math.max(1,Math.abs(p),Math.abs(M))&&Math.abs(f-D)<=yh*Math.max(1,Math.abs(f),Math.abs(D))&&Math.abs(m-I)<=yh*Math.max(1,Math.abs(m),Math.abs(I))&&Math.abs(g-P)<=yh*Math.max(1,Math.abs(g),Math.abs(P))&&Math.abs(v-L)<=yh*Math.max(1,Math.abs(v),Math.abs(L))}function to(){var t=new _h(3);return t[0]=0,t[1]=0,t[2]=0,t}function eo(t){var e=new _h(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function io(t){var e=t[0],i=t[1],n=t[2];return Math.sqrt(e*e+i*i+n*n)}function no(t,e,i){var n=new _h(3);return n[0]=t,n[1]=e,n[2]=i,n}function oo(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function ro(t,e,i,n){return t[0]=e,t[1]=i,t[2]=n,t}function ao(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t}function so(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function lo(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function uo(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t}function co(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function ho(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function po(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t}function fo(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t}function mo(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function go(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function vo(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t}function yo(t,e){var i=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(i*i+n*n+o*o)}function _o(t,e){var i=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return i*i+n*n+o*o}function bo(t){var e=t[0],i=t[1],n=t[2];return e*e+i*i+n*n}function xo(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function wo(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function ko(t,e){var i=e[0],n=e[1],o=e[2],r=i*i+n*n+o*o;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r),t}function Co(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function So(t,e,i){var n=e[0],o=e[1],r=e[2],a=i[0],s=i[1],l=i[2];return t[0]=o*l-r*s,t[1]=r*a-n*l,t[2]=n*s-o*a,t}function To(t,e,i,n){var o=e[0],r=e[1],a=e[2];return t[0]=o+n*(i[0]-o),t[1]=r+n*(i[1]-r),t[2]=a+n*(i[2]-a),t}function Ao(t,e,i,n,o,r){var a=r*r,s=a*(2*r-3)+1,l=a*(r-2)+r,u=a*(r-1),c=a*(3-2*r);return t[0]=e[0]*s+i[0]*l+n[0]*u+o[0]*c,t[1]=e[1]*s+i[1]*l+n[1]*u+o[1]*c,t[2]=e[2]*s+i[2]*l+n[2]*u+o[2]*c,t}function Eo(t,e,i,n,o,r){var a=1-r,s=a*a,l=r*r,u=s*a,c=3*r*s,h=3*l*a,d=l*r;return t[0]=e[0]*u+i[0]*c+n[0]*h+o[0]*d,t[1]=e[1]*u+i[1]*c+n[1]*h+o[1]*d,t[2]=e[2]*u+i[2]*c+n[2]*h+o[2]*d,t}function Mo(t,e){e=e||1;var i=2*bh()*Math.PI,n=2*bh()-1,o=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(i)*o,t[1]=Math.sin(i)*o,t[2]=n*e,t}function Do(t,e,i){var n=e[0],o=e[1],r=e[2],a=i[3]*n+i[7]*o+i[11]*r+i[15];return a=a||1,t[0]=(i[0]*n+i[4]*o+i[8]*r+i[12])/a,t[1]=(i[1]*n+i[5]*o+i[9]*r+i[13])/a,t[2]=(i[2]*n+i[6]*o+i[10]*r+i[14])/a,t}function Io(t,e,i){var n=e[0],o=e[1],r=e[2];return t[0]=n*i[0]+o*i[3]+r*i[6],t[1]=n*i[1]+o*i[4]+r*i[7],t[2]=n*i[2]+o*i[5]+r*i[8],t}function Po(t,e,i){var n=i[0],o=i[1],r=i[2],a=i[3],s=e[0],l=e[1],u=e[2],c=o*u-r*l,h=r*s-n*u,d=n*l-o*s,p=o*d-r*h,f=r*c-n*d,m=n*h-o*c,g=2*a;return c*=g,h*=g,d*=g,p*=2,f*=2,m*=2,t[0]=s+c+p,t[1]=l+h+f,t[2]=u+d+m,t}function Lo(t,e,i,n){var o=[],r=[];return o[0]=e[0]-i[0],o[1]=e[1]-i[1],o[2]=e[2]-i[2],r[0]=o[0],r[1]=o[1]*Math.cos(n)-o[2]*Math.sin(n),r[2]=o[1]*Math.sin(n)+o[2]*Math.cos(n),t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t}function Oo(t,e,i,n){var o=[],r=[];return o[0]=e[0]-i[0],o[1]=e[1]-i[1],o[2]=e[2]-i[2],r[0]=o[2]*Math.sin(n)+o[0]*Math.cos(n),r[1]=o[1],r[2]=o[2]*Math.cos(n)-o[0]*Math.sin(n),t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t}function zo(t,e,i,n){var o=[],r=[];return o[0]=e[0]-i[0],o[1]=e[1]-i[1],o[2]=e[2]-i[2],r[0]=o[0]*Math.cos(n)-o[1]*Math.sin(n),r[1]=o[0]*Math.sin(n)+o[1]*Math.cos(n),r[2]=o[2],t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t}function Ro(t,e){var i=no(t[0],t[1],t[2]),n=no(e[0],e[1],e[2]);ko(i,i),ko(n,n);var o=Co(i,n);return o>1?0:-1>o?Math.PI:Math.acos(o)}function No(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function $o(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Fo(t,e){var i=t[0],n=t[1],o=t[2],r=e[0],a=e[1],s=e[2];return Math.abs(i-r)<=yh*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(n-a)<=yh*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-s)<=yh*Math.max(1,Math.abs(o),Math.abs(s))}function Bo(){var t=new _h(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function jo(t){var e=new _h(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Ho(t,e,i,n){var o=new _h(4);return o[0]=t,o[1]=e,o[2]=i,o[3]=n,o}function Wo(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function qo(t,e,i,n,o){return t[0]=e,t[1]=i,t[2]=n,t[3]=o,t}function Vo(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t}function Uo(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t}function Yo(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],t}function Go(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t[3]=e[3]/i[3],t}function Xo(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Zo(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Ko(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t[3]=Math.min(e[3],i[3]),
t}function Jo(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t[3]=Math.max(e[3],i[3]),t}function Qo(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function tr(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t}function er(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t}function ir(t,e){var i=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2],r=e[3]-t[3];return Math.sqrt(i*i+n*n+o*o+r*r)}function nr(t,e){var i=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2],r=e[3]-t[3];return i*i+n*n+o*o+r*r}function or(t){var e=t[0],i=t[1],n=t[2],o=t[3];return Math.sqrt(e*e+i*i+n*n+o*o)}function rr(t){var e=t[0],i=t[1],n=t[2],o=t[3];return e*e+i*i+n*n+o*o}function ar(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function sr(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function lr(t,e){var i=e[0],n=e[1],o=e[2],r=e[3],a=i*i+n*n+o*o+r*r;return a>0&&(a=1/Math.sqrt(a),t[0]=i*a,t[1]=n*a,t[2]=o*a,t[3]=r*a),t}function ur(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function cr(t,e,i,n){var o=e[0],r=e[1],a=e[2],s=e[3];return t[0]=o+n*(i[0]-o),t[1]=r+n*(i[1]-r),t[2]=a+n*(i[2]-a),t[3]=s+n*(i[3]-s),t}function hr(t,e){e=e||1;var i,n,o,r,a,s;do i=2*bh()-1,n=2*bh()-1,a=i*i+n*n;while(a>=1);do o=2*bh()-1,r=2*bh()-1,s=o*o+r*r;while(s>=1);var l=Math.sqrt((1-a)/s);return t[0]=tr*i,t[1]=tr*n,t[2]=tr*o*l,t[3]=tr*r*l,t}function dr(t,e,i){var n=e[0],o=e[1],r=e[2],a=e[3];return t[0]=i[0]*n+i[4]*o+i[8]*r+i[12]*a,t[1]=i[1]*n+i[5]*o+i[9]*r+i[13]*a,t[2]=i[2]*n+i[6]*o+i[10]*r+i[14]*a,t[3]=i[3]*n+i[7]*o+i[11]*r+i[15]*a,t}function pr(t,e,i){var n=e[0],o=e[1],r=e[2],a=i[0],s=i[1],l=i[2],u=i[3],c=u*n+s*r-l*o,h=u*o+l*n-a*r,d=u*r+a*o-s*n,p=-a*n-s*o-l*r;return t[0]=c*u+p*-a+h*-l-d*-s,t[1]=h*u+p*-s+d*-a-c*-l,t[2]=d*u+p*-l+c*-s-h*-a,t[3]=e[3],t}function fr(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function mr(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function gr(t,e){var i=t[0],n=t[1],o=t[2],r=t[3],a=e[0],s=e[1],l=e[2],u=e[3];return Math.abs(i-a)<=yh*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(n-s)<=yh*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-l)<=yh*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(r-u)<=yh*Math.max(1,Math.abs(r),Math.abs(u))}function vr(){var t=new _h(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function yr(t,e,i){i=.5*i;var n=Math.sin(i);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(i),t}function _r(t,e,i,n){var o,r,a,s,l,u=e[0],c=e[1],h=e[2],d=e[3],p=i[0],f=i[1],m=i[2],g=i[3];return r=u*p+c*f+h*m+d*g,0>r&&(r=-r,p=-p,f=-f,m=-m,g=-g),1-r>1e-6?(o=Math.acos(r),a=Math.sin(o),s=Math.sin((1-n)*o)/a,l=Math.sin(n*o)/a):(s=1-n,l=n),t[0]=s*u+l*p,t[1]=s*c+l*f,t[2]=s*h+l*m,t[3]=s*d+l*g,t}function br(t,e){var i,n=e[0]+e[4]+e[8];if(n>0)i=Math.sqrt(n+1),t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i;else{var o=0;e[4]>e[0]&&(o=1),e[8]>e[3*o+o]&&(o=2);var r=(o+1)%3,a=(o+2)%3;i=Math.sqrt(e[3*o+o]-e[3*r+r]-e[3*a+a]+1),t[o]=.5*i,i=.5/i,t[3]=(e[3*r+a]-e[3*a+r])*i,t[r]=(e[3*r+o]+e[3*o+r])*i,t[a]=(e[3*a+o]+e[3*o+a])*i}return t}function xr(){var t=new _h(2);return t[0]=0,t[1]=0,t}function wr(t,e,i){var n=dr([],[t.x,t.y,0,1],e);return new $s((n[0]/n[3]+1)*i.width*.5,(n[1]/n[3]+1)*i.height*.5)}function kr(t,e,i){return t.map(function(t){return t.map(function(t){return wr(t,e,i)})})}function Cr(t,e,i,n){var o=e.width,r=e.height;if(n){if(n.length!==o*r*i)throw new RangeError("mismatched image size")}else n=new Uint8Array(o*r*i);return t.width=o,t.height=r,t.data=n,t}function Sr(t,e,i){var n=e.width,o=e.height;if(n!==t.width||o!==t.height){var r=Cr({},{width:n,height:o},i);Tr(t,r,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,n),height:Math.min(t.height,o)},i),t.width=n,t.height=o,t.data=r.data}}function Tr(t,e,i,n,o,r){if(0===o.width||0===o.height)return e;if(o.width>t.width||o.height>t.height||i.x>t.width-o.width||i.y>t.height-o.height)throw new RangeError("out of range source coordinates for image copy");if(o.width>e.width||o.height>e.height||n.x>e.width-o.width||n.y>e.height-o.height)throw new RangeError("out of range destination coordinates for image copy");var a=t.data,s=e.data;Ds(a!==s);for(var l=0;l<o.height;l++)for(var u=((i.y+l)*t.width+i.x)*r,c=((n.y+l)*e.width+n.x)*r,h=0;h<o.width*r;h++)s[c+h]=a[u+h];return e}function Ar(t,e){for(var i=new Uint8Array(1024),n={},o=0,r=0;256>o;o++,r+=4){n[e]=o/255;var a=t.evaluate(n);i[r+0]=Math.floor(255*a.r/a.a),i[r+1]=Math.floor(255*a.g/a.a),i[r+2]=Math.floor(255*a.b/a.a),i[r+3]=Math.floor(255*a.a)}return new Yh({width:256,height:1},i)}function Er(t,e,i){i=i||2;var n=e&&e.length,o=n?e[0]*i:t.length,r=Mr(t,0,o,i,!0),a=[];if(!r)return a;var s,l,u,c,h,d,p;if(n&&(r=Rr(t,e,r,i)),t.length>80*i){s=u=t[0],l=c=t[1];for(var f=i;o>f;f+=i)h=t[f],d=t[f+1],s>h&&(s=h),l>d&&(l=d),h>u&&(u=h),d>c&&(c=d);p=Math.max(u-s,c-l),p=0!==p?1/p:0}return Ir(r,a,i,s,l,p),a}function Mr(t,e,i,n,o){var r,a;if(o===ia(t,e,i,n)>0)for(r=e;i>r;r+=n)a=Qr(r,t[r],t[r+1],a);else for(r=i-n;r>=e;r-=n)a=Qr(r,t[r],t[r+1],a);return a&&Yr(a,a.next)&&(ta(a),a=a.next),a}function Dr(t,e){if(!t)return t;e||(e=t);var i,n=t;do if(i=!1,n.steiner||!Yr(n,n.next)&&0!==Ur(n.prev,n,n.next))n=n.next;else{if(ta(n),n=e=n.prev,n===n.next)break;i=!0}while(i||n!==e);return e}function Ir(t,e,i,n,o,r,a){if(t){!a&&r&&Br(t,n,o,r);for(var s,l,u=t;t.prev!==t.next;)if(s=t.prev,l=t.next,r?Lr(t,n,o,r):Pr(t))e.push(s.i/i),e.push(t.i/i),e.push(l.i/i),ta(t),t=l.next,u=l.next;else if(t=l,t===u){a?1===a?(t=Or(t,e,i),Ir(t,e,i,n,o,r,2)):2===a&&zr(t,e,i,n,o,r):Ir(Dr(t),e,i,n,o,r,1);break}}}function Pr(t){var e=t.prev,i=t,n=t.next;if(Ur(e,i,n)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(qr(e.x,e.y,i.x,i.y,n.x,n.y,o.x,o.y)&&Ur(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function Lr(t,e,i,n){var o=t.prev,r=t,a=t.next;if(Ur(o,r,a)>=0)return!1;for(var s=o.x<r.x?o.x<a.x?o.x:a.x:r.x<a.x?r.x:a.x,l=o.y<r.y?o.y<a.y?o.y:a.y:r.y<a.y?r.y:a.y,u=o.x>r.x?o.x>a.x?o.x:a.x:r.x>a.x?r.x:a.x,c=o.y>r.y?o.y>a.y?o.y:a.y:r.y>a.y?r.y:a.y,h=Hr(s,l,e,i,n),d=Hr(u,c,e,i,n),p=t.prevZ,f=t.nextZ;p&&p.z>=h&&f&&f.z<=d;){if(p!==t.prev&&p!==t.next&&qr(o.x,o.y,r.x,r.y,a.x,a.y,p.x,p.y)&&Ur(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,f!==t.prev&&f!==t.next&&qr(o.x,o.y,r.x,r.y,a.x,a.y,f.x,f.y)&&Ur(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&qr(o.x,o.y,r.x,r.y,a.x,a.y,p.x,p.y)&&Ur(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;f&&f.z<=d;){if(f!==t.prev&&f!==t.next&&qr(o.x,o.y,r.x,r.y,a.x,a.y,f.x,f.y)&&Ur(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function Or(t,e,i){var n=t;do{var o=n.prev,r=n.next.next;!Yr(o,r)&&Gr(o,n,n.next,r)&&Zr(o,r)&&Zr(r,o)&&(e.push(o.i/i),e.push(n.i/i),e.push(r.i/i),ta(n),ta(n.next),n=t=r),n=n.next}while(n!==t);return n}function zr(t,e,i,n,o,r){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Vr(a,s)){var l=Jr(a,s);return a=Dr(a,a.next),l=Dr(l,l.next),Ir(a,e,i,n,o,r),void Ir(l,e,i,n,o,r)}s=s.next}a=a.next}while(a!==t)}function Rr(t,e,i,n){var o,r,a,s,l,u=[];for(o=0,r=e.length;r>o;o++)a=e[o]*n,s=r-1>o?e[o+1]*n:t.length,l=Mr(t,a,s,n,!1),l===l.next&&(l.steiner=!0),u.push(Wr(l));for(u.sort(Nr),o=0;o<u.length;o++)$r(u[o],i),i=Dr(i,i.next);return i}function Nr(t,e){return t.x-e.x}function $r(t,e){if(e=Fr(t,e)){var i=Jr(e,t);Dr(i,i.next)}}function Fr(t,e){var i,n=e,o=t.x,r=t.y,a=-(1/0);do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){var s=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(o>=s&&s>a){if(a=s,s===o){if(r===n.y)return n;if(r===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(o===a)return i.prev;var l,u=i,c=i.x,h=i.y,d=1/0;for(n=i.next;n!==u;)o>=n.x&&n.x>=c&&o!==n.x&&qr(h>r?o:a,r,c,h,h>r?a:o,r,n.x,n.y)&&(l=Math.abs(r-n.y)/(o-n.x),(d>l||l===d&&n.x>i.x)&&Zr(n,t)&&(i=n,d=l)),n=n.next;return i}function Br(t,e,i,n){var o=t;do null===o.z&&(o.z=Hr(o.x,o.y,e,i,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,jr(o)}function jr(t){var e,i,n,o,r,a,s,l,u=1;do{for(i=t,t=null,r=null,a=0;i;){for(a++,n=i,s=0,e=0;u>e&&(s++,n=n.nextZ,n);e++);for(l=u;s>0||l>0&&n;)0!==s&&(0===l||!n||i.z<=n.z)?(o=i,i=i.nextZ,s--):(o=n,n=n.nextZ,l--),r?r.nextZ=o:t=o,o.prevZ=r,r=o;i=n}r.nextZ=null,u*=2}while(a>1);return t}function Hr(t,e,i,n,o){return t=32767*(t-i)*o,e=32767*(e-n)*o,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function Wr(t){var e=t,i=t;do e.x<i.x&&(i=e),e=e.next;while(e!==t);return i}function qr(t,e,i,n,o,r,a,s){return(o-a)*(e-s)-(t-a)*(r-s)>=0&&(t-a)*(n-s)-(i-a)*(e-s)>=0&&(i-a)*(r-s)-(o-a)*(n-s)>=0}function Vr(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Xr(t,e)&&Zr(t,e)&&Zr(e,t)&&Kr(t,e)}function Ur(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function Yr(t,e){return t.x===e.x&&t.y===e.y}function Gr(t,e,i,n){return Yr(t,e)&&Yr(i,n)||Yr(t,n)&&Yr(i,e)?!0:Ur(t,e,i)>0!=Ur(t,e,n)>0&&Ur(i,n,t)>0!=Ur(i,n,e)>0}function Xr(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&Gr(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}function Zr(t,e){return Ur(t.prev,t,t.next)<0?Ur(t,e,t.next)>=0&&Ur(t,t.prev,e)>=0:Ur(t,e,t.prev)<0||Ur(t,t.next,e)<0}function Kr(t,e){var i=t,n=!1,o=(t.x+e.x)/2,r=(t.y+e.y)/2;do i.y>r!=i.next.y>r&&i.next.y!==i.y&&o<(i.next.x-i.x)*(r-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next;while(i!==t);return n}function Jr(t,e){var i=new ea(t.i,t.x,t.y),n=new ea(e.i,e.x,e.y),o=t.next,r=e.prev;return t.next=e,e.prev=t,i.next=o,o.prev=i,n.next=i,i.prev=n,r.next=n,n.prev=r,n}function Qr(t,e,i,n){var o=new ea(t,e,i);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function ta(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ea(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ia(t,e,i,n){for(var o=0,r=e,a=i-n;i>r;r+=n)o+=(t[a]-t[r])*(t[r+1]+t[a+1]),a=r;return o}function na(t,e,i,n,o){oa(t,e,i||0,n||t.length-1,o||aa)}function oa(t,e,i,n,o){for(;n>i;){if(n-i>600){var r=n-i+1,a=e-i+1,s=Math.log(r),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(r-l)/r)*(0>a-r/2?-1:1),c=Math.max(i,Math.floor(e-a*l/r+u)),h=Math.min(n,Math.floor(e+(r-a)*l/r+u));oa(t,e,c,h,o)}var d=t[e],p=i,f=n;for(ra(t,i,e),o(t[n],d)>0&&ra(t,i,n);f>p;){for(ra(t,p,f),p++,f--;o(t[p],d)<0;)p++;for(;o(t[f],d)>0;)f--}0===o(t[i],d)?ra(t,i,f):(f++,ra(t,f,n)),e>=f&&(i=f+1),f>=e&&(n=f-1)}}function ra(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function aa(t,e){return e>t?-1:t>e?1:0}function sa(t,e){var i=t.length;if(1>=i)return[t];for(var n,o,r=[],a=0;i>a;a++){var s=T(t[a]);0!==s&&(t[a].area=Math.abs(s),void 0===o&&(o=0>s),o===0>s?(n&&r.push(n),n=[t[a]]):n.push(t[a]))}if(n&&r.push(n),e>1)for(var l=0;l<r.length;l++)r[l].length<=e||(od(r[l],e,1,r[l].length-1,la),r[l]=r[l].slice(0,e));return r}function la(t,e){return e.area-t.area}function ua(t,e,i,n,o,r,a,s){t.emplaceBack(e,i,2*Math.floor(n*fd)+a,o*fd*2,r*fd*2,Math.round(s))}function ca(t,e){return t.x===e.x&&(t.x<0||t.x>ph)||t.y===e.y&&(t.y<0||t.y>ph)}function ha(t){return t.every(function(t){return t.x<0})||t.every(function(t){return t.x>ph})||t.every(function(t){return t.y<0})||t.every(function(t){return t.y>ph})}function da(t,e,i,n,o){this.properties={},this.extent=i,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=o,t.readFields(pa,this,e)}function pa(t,e,i){1==t?e.id=i.readVarint():2==t?fa(i,e):3==t?e.type=i.readVarint():4==t&&(e._geometry=i.pos)}function fa(t,e){for(var i=t.readVarint()+t.pos;t.pos<i;){var n=e._keys[t.readVarint()],o=e._values[t.readVarint()];e.properties[n]=o}}function ma(t){var e=t.length;if(1>=e)return[t];for(var i,n,o=[],r=0;e>r;r++){var a=ga(t[r]);0!==a&&(void 0===n&&(n=0>a),n===0>a?(i&&o.push(i),i=[t[r]]):i.push(t[r]))}return i&&o.push(i),o}function ga(t){for(var e,i,n=0,o=0,r=t.length,a=r-1;r>o;a=o++)e=t[o],i=t[a],n+=(i.x-e.x)*(e.y+i.y);return n}function va(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(ya,this,e),this.length=this._features.length}function ya(t,e,i){15===t?e.version=i.readVarint():1===t?e.name=i.readString():5===t?e.extent=i.readVarint():2===t?e._features.push(i.pos):3===t?e._keys.push(i.readString()):4===t&&e._values.push(_a(i))}function _a(t){for(var e=null,i=t.readVarint()+t.pos;t.pos<i;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}function ba(t,e){this.layers=t.readFields(xa,{},e)}function xa(t,e,i){if(3===t){var n=new wd(i,i.readVarint()+i.pos);n.length&&(e[n.name]=n)}}function wa(t,e,i,n,o,r,a){t.emplaceBack(e.x,e.y,n?1:0,o?1:-1,Math.round(Md*i.x)+128,Math.round(Md*i.y)+128,(0===r?0:0>r?-1:1)+1|(a*Ld&63)<<2,a*Ld>>6)}function ka(t,e){return(t/e.tileTotal*(e.end-e.start)+e.start)*(Od-1)}function Ca(t,e,i){for(var n,o,r=0,a=e;i-1>a;a++)n=t[a],o=t[a+1],r+=n.dist(o);return r}function Sa(t,e){return e>0?e+2*t:t}function Ta(t,e){for(var i=[],n=new $s(0,0),o=0;o<t.length;o++){for(var r=t[o],a=[],s=0;s<r.length;s++){var l=r[s-1],u=r[s],c=r[s+1],h=0===s?n:u.sub(l)._unit()._perp(),d=s===r.length-1?n:c.sub(u)._unit()._perp(),p=h._add(d)._unit(),f=p.x*d.x+p.y*d.y;p._mult(1/f),a.push(p._mult(e)._add(u))}i.push(a)}return i}function Aa(t,e,i){var n=e.layout.get("text-transform").evaluate(i,{});return"uppercase"===n?t=t.toLocaleUpperCase():"lowercase"===n&&(t=t.toLocaleLowerCase()),lc.applyArabicShaping&&(t=lc.applyArabicShaping(t)),t}function Ea(t){function e(e){s.push(t[e]),l++}function i(t,e,i){var n=a[t];return delete a[t],a[e]=n,s[n].geometry[0].pop(),s[n].geometry[0]=s[n].geometry[0].concat(i[0]),n}function n(t,e,i){var n=r[e];return delete r[e],r[t]=n,s[n].geometry[0].shift(),s[n].geometry[0]=i[0].concat(s[n].geometry[0]),n}function o(t,e,i){var n=i?e[0][e[0].length-1]:e[0][0];return t+":"+n.x+":"+n.y}for(var r={},a={},s=[],l=0,u=0;u<t.length;u++){var c=t[u],h=c.geometry,d=c.text;if(d){var p=o(d,h),f=o(d,h,!0);if(p in a&&f in r&&a[p]!==r[f]){var m=n(p,f,h),g=i(p,f,s[m].geometry);delete r[p],delete a[f],a[o(d,s[g].geometry,!0)]=g,s[m].geometry=null}else p in a?i(p,f,h):f in r?n(p,f,h):(e(u),r[p]=l-1,a[f]=l-1)}else e(u)}return s.filter(function(t){return t.geometry})}function Ma(t){for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i+1)||null,o=t.charCodeAt(i-1)||null,r=(!n||!Re(n)||Yd[t[i+1]])&&(!o||!Re(o)||Yd[t[i-1]]);e+=r&&Yd[t[i]]?Yd[t[i]]:t[i]}return e}function Da(t,e){var i=e.expression;if("constant"===i.kind)return{functionType:"constant",layoutSize:i.evaluate(new uc(t+1))};if("source"===i.kind)return{functionType:"source"};for(var n=i.zoomStops,o=0;o<n.length&&n[o]<=t;)o++;o=Math.max(0,o-1);for(var r=o;r<n.length&&n[r]<t+1;)r++;r=Math.min(n.length-1,r);var a={min:n[o],max:n[r]};return"composite"===i.kind?{functionType:"composite",zoomRange:a,propertyValue:e.value}:{functionType:"camera",layoutSize:i.evaluate(new uc(t+1)),zoomRange:a,sizeRange:{min:i.evaluate(new uc(a.min)),max:i.evaluate(new uc(a.max))},propertyValue:e.value}}function Ia(t,e,i){var n=e;return"source"===t.functionType?i.lowerSize/10:"composite"===t.functionType?X(i.lowerSize/10,i.upperSize/10,n.uSizeT):n.uSize}function Pa(t,e,i){if("constant"===t.functionType)return{uSizeT:0,uSize:t.layoutSize};if("source"===t.functionType)return{uSizeT:0,uSize:0};if("camera"===t.functionType){var n=t.propertyValue,o=t.zoomRange,r=t.sizeRange,a=qt(n,i.specification),s=u(a.interpolationFactor(e,o.min,o.max),0,1);return{uSizeT:0,uSize:r.min+s*(r.max-r.min)}}var l=t.propertyValue,c=t.zoomRange,h=qt(l,i.specification);return{uSizeT:u(h.interpolationFactor(e,c.min,c.max),0,1),uSize:0}}function La(t,e,i,n,o,r,a,s){t.emplaceBack(e,i,Math.round(32*n),Math.round(32*o),r,a,s?s[0]:0,s?s[1]:0)}function Oa(t,e,i){t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i)}function za(t,e){return e.replace(/{([^{}]+)}/g,function(e,i){return i in t?String(t[i]):""})}function Ra(t){return new cp[t.type](t)}function Na(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function $a(t,e,i){var n,o,r=i.buf;if(o=r[i.pos++],n=(112&o)>>4,128>o)return Ba(t,n,e);if(o=r[i.pos++],n|=(127&o)<<3,128>o)return Ba(t,n,e);if(o=r[i.pos++],n|=(127&o)<<10,128>o)return Ba(t,n,e);if(o=r[i.pos++],n|=(127&o)<<17,128>o)return Ba(t,n,e);if(o=r[i.pos++],n|=(127&o)<<24,128>o)return Ba(t,n,e);if(o=r[i.pos++],n|=(1&o)<<31,128>o)return Ba(t,n,e);throw new Error("Expected varint not more than 10 bytes")}function Fa(t){return t.type===Na.Bytes?t.readVarint()+t.pos:t.pos+1}function Ba(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function ja(t,e){var i,n;if(t>=0?(i=t%4294967296|0,n=t/4294967296|0):(i=~(-t%4294967296),n=~(-t/4294967296),4294967295^i?i=i+1|0:(i=0,n=n+1|0)),t>=0x10000000000000000||-0x10000000000000000>t)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),Ha(i,n,e),Wa(n,e)}function Ha(t,e,i){i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos]=127&t}function Wa(t,e){var i=(7&t)<<4;e.buf[e.pos++]|=i|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}function qa(t,e,i){var n=16383>=e?1:2097151>=e?2:268435455>=e?3:Math.ceil(Math.log(e)/(7*Math.LN2));i.realloc(n);for(var o=i.pos-1;o>=t;o--)i.buf[o+n]=i.buf[o]}function Va(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function Ua(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function Ya(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function Ga(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function Xa(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function Za(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function Ka(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function Ja(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function Qa(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}function ts(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function es(t,e,i){t[i]=e,t[i+1]=e>>>8,t[i+2]=e>>>16,t[i+3]=e>>>24}function is(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function ns(t,e,i){for(var n="",o=e;i>o;){var r=t[o],a=null,s=r>239?4:r>223?3:r>191?2:1;if(o+s>i)break;var l,u,c;1===s?128>r&&(a=r):2===s?(l=t[o+1],128===(192&l)&&(a=(31&r)<<6|63&l,127>=a&&(a=null))):3===s?(l=t[o+1],u=t[o+2],128===(192&l)&&128===(192&u)&&(a=(15&r)<<12|(63&l)<<6|63&u,(2047>=a||a>=55296&&57343>=a)&&(a=null))):4===s&&(l=t[o+1],u=t[o+2],c=t[o+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(a=(15&r)<<18|(63&l)<<12|(63&u)<<6|63&c,(65535>=a||a>=1114112)&&(a=null))),null===a?(a=65533,s=1):a>65535&&(a-=65536,n+=String.fromCharCode(a>>>10&1023|55296),a=56320|1023&a),n+=String.fromCharCode(a),o+=s}return n}function os(t,e,i){for(var n,o,r=0;r<e.length;r++){if(n=e.charCodeAt(r),n>55295&&57344>n){if(!o){n>56319||r+1===e.length?(t[i++]=239,t[i++]=191,t[i++]=189):o=n;continue}if(56320>n){t[i++]=239,t[i++]=191,t[i++]=189,o=n;continue}n=o-55296<<10|n-56320|65536,o=null}else o&&(t[i++]=239,t[i++]=191,t[i++]=189,o=null);128>n?t[i++]=n:(2048>n?t[i++]=n>>6|192:(65536>n?t[i++]=n>>12|224:(t[i++]=n>>18|240,t[i++]=n>>12&63|128),t[i++]=n>>6&63|128),t[i++]=63&n|128)}return i}function rs(t,e,i){1===t&&i.readMessage(as,e)}function as(t,e,i){if(3===t){var n=i.readMessage(ss,{}),o=n.id,r=n.bitmap,a=n.width,s=n.height,l=n.left,u=n.top,c=n.advance;e.push({id:o,bitmap:new Uh({width:a+2*Ap,height:s+2*Ap},r),metrics:{width:a,height:s,left:l,top:u,advance:c}})}}function ss(t,e,i){1===t?e.id=i.readVarint():2===t?e.bitmap=i.readBytes():3===t?e.width=i.readVarint():4===t?e.height=i.readVarint():5===t?e.left=i.readSVarint():6===t?e.top=i.readSVarint():7===t&&(e.advance=i.readVarint())}function ls(t){return new Cp(t).readFields(rs,[])}function us(t,e,i,n){t*=2,0>t&&(t=-1*t-1);var o=1<<e;return 32*(o*o*t+o*n+i)+e}function cs(t,e,i){for(var n,o="",r=t;r>0;r--)n=1<<r-1,o+=(e&n?1:0)+(i&n?2:0);return o}function hs(t,e){var i={};if(!e)return i;for(var n=0,o=t;n<o.length;n+=1){var r=o[n],a=r.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==a.length){r.layers=a,r.stateDependentLayers=a.filter(function(t){return t.isStateDependent()});for(var s=0,l=a;s<l.length;s+=1){var u=l[s];i[u.id]=r}}}return i}function ds(t,e){return e-t}function ps(t,e){for(var i=[],n=0,o=0,r=e;o<r.length;o+=1){var a=r[o];i.push(t.substring(n,a)),n=a}return n<t.length&&i.push(t.substring(n,t.length)),i}function fs(t,e,i,n,o,r,a,s,l,u){var c=t.trim();u===Up.vertical&&(c=Ma(c));var h,d=[],p={positionedGlyphs:d,text:c,top:s[1],bottom:s[1],left:s[0],right:s[0],writingMode:u},f=lc.processBidirectionalText;return h=f?f(c,bs(c,a,i,e)):ps(c,bs(c,a,i,e)),ws(p,e,h,n,o,r,u,a,l),d.length?p:!1}function ms(t,e,i,n){for(var o=0,r=0;r<t.length;r++){var a=n[t.charCodeAt(r)];a&&(o+=a.metrics.advance+e)}var s=Math.max(1,Math.ceil(o/i));return o/s}function gs(t,e,i,n){var o=Math.pow(t-e,2);return n?e>t?o/2:2*o:o+Math.abs(i)*i}function vs(t,e){var i=0;return 10===t&&(i-=1e4),40!==t&&65288!==t||(i+=50),41!==e&&65289!==e||(i+=50),i}function ys(t,e,i,n,o,r){for(var a=null,s=gs(e,i,o,r),l=0,u=n;l<u.length;l+=1){var c=u[l],h=e-c.x,d=gs(h,i,o,r)+c.badness;s>=d&&(a=c,s=d)}return{index:t,x:e,priorBreak:a,badness:s}}function _s(t){return t?_s(t.priorBreak).concat(t.index):[]}function bs(t,e,i,n){if(!i)return[];if(!t)return[];for(var o=[],r=ms(t,e,i,n),a=0,s=0;s<t.length;s++){var l=t.charCodeAt(s),u=n[l];u&&!Yp[l]&&(a+=u.metrics.advance+e),s<t.length-1&&(Gp[l]||Le(l))&&o.push(ys(s+1,a,r,o,vs(l,t.charCodeAt(s+1)),!1))}return _s(ys(t.length,a,r,o,0,!0))}function xs(t){var e=.5,i=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:e,verticalAlign:i}}function ws(t,e,i,n,o,r,a,s,l){for(var u=-17,c=0,h=u,d=0,p=t.positionedGlyphs,f="right"===r?1:"left"===r?0:.5,m=0,g=i;m<g.length;m+=1){var v=g[m];if(v=v.trim(),v.length){for(var y=p.length,_=0;_<v.length;_++){var b=v.charCodeAt(_),x=e[b];x&&(Oe(b)&&a!==Up.horizontal?(p.push({glyph:b,x:c,y:0,vertical:!0}),c+=l+s):(p.push({glyph:b,x:c,y:h,vertical:!1}),c+=x.metrics.advance+s))}if(p.length!==y){var w=c-s;d=Math.max(w,d),ks(p,e,y,p.length-1,f)}c=0,h+=n}else h+=n}var k=xs(o),C=k.horizontalAlign,S=k.verticalAlign;Cs(p,f,C,S,d,n,i.length);var T=i.length*n;t.top+=-S*T,t.bottom=t.top+T,t.left+=-C*d,t.right=t.left+d}function ks(t,e,i,n,o){if(o){var r=e[t[n].glyph];if(r)for(var a=r.metrics.advance,s=(t[n].x+a)*o,l=i;n>=l;l++)t[l].x-=s}}function Cs(t,e,i,n,o,r,a){for(var s=(e-i)*o,l=(-n*a+.5)*r,u=0;u<t.length;u++)t[u].x+=s,t[u].y+=l}function Ss(t,e,i){var n=xs(i),o=n.horizontalAlign,r=n.verticalAlign,a=e[0],s=e[1],l=a-t.displaySize[0]*o,u=l+t.displaySize[0],c=s-t.displaySize[1]*r,h=c+t.displaySize[1];return{image:t,top:c,bottom:h,left:l,right:u}}var Ts="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},As=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8},Es=n(function(t){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}}),Ms=n(function(t,e){function i(t,i){var r={seen:[],stylize:o};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(i)?r.showHidden=i:i&&e._extend(r,i),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=n),a(r,t,r.depth)}function n(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function o(t){return t}function r(t){var e={};return t.forEach(function(t){e[t]=!0}),e}function a(t,i,n){if(t.customInspect&&i&&C(i.inspect)&&i.inspect!==e.inspect&&(!i.constructor||i.constructor.prototype!==i)){var o=i.inspect(n,t);return v(o)||(o=a(t,o,n)),o}var p=s(t,i);if(p)return p;var f=Object.keys(i),m=r(f);if(t.showHidden&&(f=Object.getOwnPropertyNames(i)),k(i)&&(f.indexOf("message")>=0||f.indexOf("description")>=0))return l(i);if(0===f.length){if(C(i)){var g=i.name?": "+i.name:"";return t.stylize("[Function"+g+"]","special")}if(b(i))return t.stylize(RegExp.prototype.toString.call(i),"regexp");if(w(i))return t.stylize(Date.prototype.toString.call(i),"date");if(k(i))return l(i)}var y="",_=!1,x=["{","}"];if(d(i)&&(_=!0,x=["[","]"]),C(i)){var S=i.name?": "+i.name:"";y=" [Function"+S+"]"}if(b(i)&&(y=" "+RegExp.prototype.toString.call(i)),w(i)&&(y=" "+Date.prototype.toUTCString.call(i)),k(i)&&(y=" "+l(i)),0===f.length&&(!_||0==i.length))return x[0]+y+x[1];if(0>n)return b(i)?t.stylize(RegExp.prototype.toString.call(i),"regexp"):t.stylize("[Object]","special");t.seen.push(i);var T;return T=_?u(t,i,n,m,f):f.map(function(e){return c(t,i,n,m,e,_)}),t.seen.pop(),h(T,y,x)}function s(t,e){if(_(e))return t.stylize("undefined","undefined");if(v(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}return g(e)?t.stylize(""+e,"number"):p(e)?t.stylize(""+e,"boolean"):f(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function u(t,e,i,n,o){for(var r=[],a=0,s=e.length;s>a;++a)M(e,String(a))?r.push(c(t,e,i,n,String(a),!0)):r.push("");return o.forEach(function(o){o.match(/^\d+$/)||r.push(c(t,e,i,n,o,!0))}),r}function c(t,e,i,n,o,r){var s,l,u;if(u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},u.get?l=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(l=t.stylize("[Setter]","special")),M(n,o)||(s="["+o+"]"),l||(t.seen.indexOf(u.value)<0?(l=f(i)?a(t,u.value,null):a(t,u.value,i-1),l.indexOf("\n")>-1&&(l=r?l.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+l.split("\n").map(function(t){return"   "+t}).join("\n"))):l=t.stylize("[Circular]","special")),_(s)){if(r&&o.match(/^\d+$/))return l;s=JSON.stringify(""+o),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+l}function h(t,e,i){var n=0,o=t.reduce(function(t,e){return n++,e.indexOf("\n")>=0&&n++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1]:i[0]+e+" "+t.join(", ")+" "+i[1]}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function f(t){return null===t}function m(t){return null==t}function g(t){return"number"==typeof t}function v(t){return"string"==typeof t}function y(t){return"symbol"==typeof t}function _(t){return void 0===t}function b(t){return x(t)&&"[object RegExp]"===T(t)}function x(t){return"object"==typeof t&&null!==t}function w(t){return x(t)&&"[object Date]"===T(t)}function k(t){return x(t)&&("[object Error]"===T(t)||t instanceof Error)}function C(t){return"function"==typeof t}function S(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function T(t){return Object.prototype.toString.call(t)}function A(t){return 10>t?"0"+t.toString(10):t.toString(10)}function E(){var t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":");return[t.getDate(),L[t.getMonth()],e].join(" ")}function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var D=/%[sdj%]/g;e.format=function(t){var e=arguments;if(!v(t)){for(var n=[],o=0;o<arguments.length;o++)n.push(i(e[o]));return n.join(" ")}for(var o=1,r=arguments,a=r.length,s=String(t).replace(D,function(t){if("%%"===t)return"%";if(o>=a)return t;switch(t){case"%s":return String(r[o++]);case"%d":return Number(r[o++]);case"%j":try{return JSON.stringify(r[o++])}catch(e){return"[Circular]"}default:return t}}),l=r[o];a>o;l=r[++o])s+=f(l)||!x(l)?" "+l:" "+i(l);return s},e.deprecate=function(t,i){function n(){if(!o){if(process.throwDeprecation)throw new Error(i);process.traceDeprecation?console.trace(i):console.error(i),o=!0}return t.apply(this,arguments)}if(_(global.process))return function(){return e.deprecate(t,i).apply(this,arguments)};if(process.noDeprecation===!0)return t;var o=!1;return n};var I,P={};e.debuglog=function(t){if(_(I)&&(I=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!P[t])if(new RegExp("\\b"+t+"\\b","i").test(I)){var i=process.pid;P[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,i,n)}}else P[t]=function(){};return P[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=f,e.isNullOrUndefined=m,e.isNumber=g,e.isString=v,e.isSymbol=y,e.isUndefined=_,e.isRegExp=b,e.isObject=x,e.isDate=w,e.isError=k,e.isFunction=C,e.isPrimitive=S,e.isBuffer=As;var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",E(),e.format.apply(e,arguments))},e.inherits=Es,e._extend=function(t,e){if(!e||!x(e))return t;for(var i=Object.keys(e),n=i.length;n--;)t[i[n]]=e[i[n]];return t}}),Ds=(Ms.format,Ms.deprecate,Ms.debuglog,Ms.inspect,Ms.isArray,Ms.isBoolean,Ms.isNull,Ms.isNullOrUndefined,Ms.isNumber,Ms.isString,Ms.isSymbol,Ms.isUndefined,Ms.isRegExp,Ms.isObject,Ms.isDate,Ms.isError,Ms.isFunction,Ms.isPrimitive,Ms.isBuffer,Ms.log,Ms.inherits,Ms._extend,n(function(t){function e(t,e){if(t===e)return 0;for(var i=t.length,n=e.length,o=0,r=Math.min(i,n);r>o;++o)if(t[o]!==e[o]){i=t[o],n=e[o];break}return n>i?-1:i>n?1:0}function i(t){return global.Buffer&&"function"==typeof global.Buffer.isBuffer?global.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}function n(t){return Object.prototype.toString.call(t)}function o(t){return i(t)?!1:"function"!=typeof global.ArrayBuffer?!1:"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t?t instanceof DataView?!0:!!(t.buffer&&t.buffer instanceof ArrayBuffer):!1}function r(t){if(Ms.isFunction(t)){if(b)return t.name;var e=t.toString(),i=e.match(w);return i&&i[1]}}function a(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function s(t){if(b||!Ms.isFunction(t))return Ms.inspect(t);var e=r(t),i=e?": "+e:"";return"[Function"+i+"]"}function l(t){return a(s(t.actual),128)+" "+t.operator+" "+a(s(t.expected),128)}function u(t,e,i,n,o){throw new x.AssertionError({message:i,actual:t,expected:e,operator:n,stackStartFunction:o})}function c(t,e){t||u(t,!0,e,"==",x.ok)}function h(t,r,a,s){if(t===r)return!0;if(i(t)&&i(r))return 0===e(t,r);if(Ms.isDate(t)&&Ms.isDate(r))return t.getTime()===r.getTime();if(Ms.isRegExp(t)&&Ms.isRegExp(r))return t.source===r.source&&t.global===r.global&&t.multiline===r.multiline&&t.lastIndex===r.lastIndex&&t.ignoreCase===r.ignoreCase;if(null!==t&&"object"==typeof t||null!==r&&"object"==typeof r){if(o(t)&&o(r)&&n(t)===n(r)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===e(new Uint8Array(t.buffer),new Uint8Array(r.buffer));if(i(t)!==i(r))return!1;s=s||{actual:[],expected:[]};var l=s.actual.indexOf(t);return-1!==l&&l===s.expected.indexOf(r)?!0:(s.actual.push(t),s.expected.push(r),p(t,r,a,s))}return a?t===r:t==r}function d(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function p(t,e,i,n){if(null===t||void 0===t||null===e||void 0===e)return!1;if(Ms.isPrimitive(t)||Ms.isPrimitive(e))return t===e;if(i&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=d(t),r=d(e);if(o&&!r||!o&&r)return!1;if(o)return t=_.call(t),e=_.call(e),h(t,e,i);var a,s,l=k(t),u=k(e);if(l.length!==u.length)return!1;for(l.sort(),u.sort(),s=l.length-1;s>=0;s--)if(l[s]!==u[s])return!1;for(s=l.length-1;s>=0;s--)if(a=l[s],!h(t[a],e[a],i,n))return!1;return!0}function f(t,e,i){h(t,e,!0)&&u(t,e,i,"notDeepStrictEqual",f)}function m(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);
try{if(t instanceof e)return!0}catch(i){}return Error.isPrototypeOf(e)?!1:e.call({},t)===!0}function g(t){var e;try{t()}catch(i){e=i}return e}function v(t,e,i,n){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof i&&(n=i,i=null),o=g(e),n=(i&&i.name?" ("+i.name+").":".")+(n?" "+n:"."),t&&!o&&u(o,i,"Missing expected exception"+n);var r="string"==typeof n,a=!t&&Ms.isError(o),s=!t&&o&&!i;if((a&&r&&m(o,i)||s)&&u(o,i,"Got unwanted exception"+n),t&&o&&i&&!m(o,i)||!t&&o)throw o}var y=Object.prototype.hasOwnProperty,_=Array.prototype.slice,b=function(){return"foo"===function(){}.name}(),x=t.exports=c,w=/\s*function\s+([^\(\s]*)\s*/;x.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var e=t.stackStartFunction||u;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var i=new Error;if(i.stack){var n=i.stack,o=r(e),a=n.indexOf("\n"+o);if(a>=0){var s=n.indexOf("\n",a+1);n=n.substring(s+1)}this.stack=n}}},Ms.inherits(x.AssertionError,Error),x.fail=u,x.ok=c,x.equal=function(t,e,i){t!=e&&u(t,e,i,"==",x.equal)},x.notEqual=function(t,e,i){t==e&&u(t,e,i,"!=",x.notEqual)},x.deepEqual=function(t,e,i){h(t,e,!1)||u(t,e,i,"deepEqual",x.deepEqual)},x.deepStrictEqual=function(t,e,i){h(t,e,!0)||u(t,e,i,"deepStrictEqual",x.deepStrictEqual)},x.notDeepEqual=function(t,e,i){h(t,e,!1)&&u(t,e,i,"notDeepEqual",x.notDeepEqual)},x.notDeepStrictEqual=f,x.strictEqual=function(t,e,i){t!==e&&u(t,e,i,"===",x.strictEqual)},x.notStrictEqual=function(t,e,i){t===e&&u(t,e,i,"!==",x.notStrictEqual)},x["throws"]=function(t,e,i){v(!0,t,e,i)},x.doesNotThrow=function(t,e,i){v(!1,t,e,i)},x.ifError=function(t){if(t)throw t};var k=Object.keys||function(t){var e=[];for(var i in t)y.call(t,i)&&e.push(i);return e}})),Is=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),Ps=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,Ls=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,Os={now:Is,frame:function Xp(t){var Xp=Ps(t);return{cancel:function(){return Ls(Xp)}}},getImageData:function(t){var e=self.document.createElement("canvas"),i=e.getContext("2d");if(!i)throw new Error("failed to create canvas 2d context");return e.width=t.width,e.height=t.height,i.drawImage(t,0,0,t.width,t.height),i.getImageData(0,0,t.width,t.height)},resolveURL:function(t){var e=self.document.createElement("a");return e.href=t,e.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},supportsWebp:!1};if(self.document){var zs=self.document.createElement("img");zs.onload=function(){Os.supportsWebp=!0},zs.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="}var Rs=o;o.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},o.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},o.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},o.prototype.solveCurveX=function(t,e){var i=this;"undefined"==typeof e&&(e=1e-6);var n,o,r,a,s;for(r=t,s=0;8>s;s++){if(a=i.sampleCurveX(r)-t,Math.abs(a)<e)return r;var l=i.sampleCurveDerivativeX(r);if(Math.abs(l)<1e-6)break;r-=a/l}if(n=0,o=1,r=t,n>r)return n;if(r>o)return o;for(;o>n;){if(a=i.sampleCurveX(r),Math.abs(a-t)<e)return r;t>a?n=r:o=r,r=.5*(o-n)+n}return r},o.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var Ns=function(t,e,i){this.column=t,this.row=e,this.zoom=i};Ns.prototype.clone=function(){return new Ns(this.column,this.row,this.zoom)},Ns.prototype.zoomTo=function(t){return this.clone()._zoomTo(t)},Ns.prototype.sub=function(t){return this.clone()._sub(t)},Ns.prototype._zoomTo=function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},Ns.prototype._sub=function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this};var $s=r;r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,i=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=i,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=e*this.x-i*this.y,o=i*this.x+e*this.y;return this.x=n,this.y=o,this},_rotateAround:function(t,e){var i=Math.cos(t),n=Math.sin(t),o=e.x+i*(this.x-e.x)-n*(this.y-e.y),r=e.y+n*(this.x-e.x)+i*(this.y-e.y);return this.x=o,this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t};var Fs=l(.25,.1,.25,1),Bs=1,js={},Hs={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(Hs);var Ws=function(t){function e(e,i,n){t.call(this,e),this.status=i,this.url=n,this.name=this.constructor.name,this.message=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error),qs=function(t,e){var i=M(t);return i.setRequestHeader("Accept","application/json"),i.onerror=function(){e(new Error(i.statusText))},i.onload=function(){if(i.status>=200&&i.status<300&&i.response){var n;try{n=JSON.parse(i.response)}catch(o){return e(o)}e(null,n)}else e(401===i.status&&t.url.match(/mapbox.com/)?new Ws(i.statusText+": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens",i.status,t.url):new Ws(i.statusText,i.status,t.url))},i.send(),{cancel:function(){return i.abort()}}},Vs=function(t,e){var i=M(t);return i.responseType="arraybuffer",i.onerror=function(){e(new Error(i.statusText))},i.onload=function(){var n=i.response;return 0===n.byteLength&&200===i.status?e(new Error("http status 200 returned without content.")):void(i.status>=200&&i.status<300&&i.response?e(null,{data:n,cacheControl:i.getResponseHeader("Cache-Control"),expires:i.getResponseHeader("Expires")}):e(new Ws(i.statusText,i.status,t.url)))},i.send(),{cancel:function(){return i.abort()}}},Us="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",Ys=function(t,e){return Vs(t,function(t,i){if(t)e(t);else if(i){var n=new self.Image,o=self.URL||self.webkitURL;n.onload=function(){e(null,n),o.revokeObjectURL(n.src)};var r=new self.Blob([new Uint8Array(i.data)],{type:"image/png"});n.cacheControl=i.cacheControl,n.expires=i.expires,n.src=i.data.byteLength?o.createObjectURL(r):Us}})},Gs=function(t,e){var i=self.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i)};for(var n=0;n<t.length;n++){var o=self.document.createElement("source");D(t[n])||(i.crossOrigin="Anonymous"),o.src=t[n],i.appendChild(o)}return{cancel:function(){}}},Xs=function(t,e){void 0===e&&(e={}),f(this,e),this.type=t},Zs=function(t){function e(e,i){void 0===i&&(i={}),t.call(this,"error",f({error:e},i))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Xs),Ks=function(){};Ks.prototype.on=function(t,e){return this._listeners=this._listeners||{},I(t,e,this._listeners),this},Ks.prototype.off=function(t,e){return P(t,e,this._listeners),P(t,e,this._oneTimeListeners),this},Ks.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},I(t,e,this._oneTimeListeners),this},Ks.prototype.fire=function(t){var e=this;"string"==typeof t&&(t=new Xs(t,arguments[1]||{}));var i=t.type;if(this.listens(i)){t.target=this;for(var n=this._listeners&&this._listeners[i]?this._listeners[i].slice():[],o=0,r=n;o<r.length;o+=1){var a=r[o];a.call(e,t)}for(var s=this._oneTimeListeners&&this._oneTimeListeners[i]?this._oneTimeListeners[i].slice():[],l=0,u=s;l<u.length;l+=1){var c=u[l];P(i,c,e._oneTimeListeners),c.call(e,t)}var h=this._eventedParent;h&&(f(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),h.fire(t))}else t instanceof Zs&&console.error(t.error);return this},Ks.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},Ks.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var Js=8,Qs={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number","default":0,period:360,units:"degrees"},pitch:{type:"number","default":0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},tl={"*":{type:"source"}},el=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],il={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.0511,180,85.0511]},scheme:{type:"enum",values:{xyz:{},tms:{}},"default":"xyz"},minzoom:{type:"number","default":0},maxzoom:{type:"number","default":22},attribution:{type:"string"},"*":{type:"*"}},nl={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.0511,180,85.0511]},minzoom:{type:"number","default":0},maxzoom:{type:"number","default":22},tileSize:{type:"number","default":512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},"default":"xyz"},attribution:{type:"string"},"*":{type:"*"}},ol={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.0511,180,85.0511]},minzoom:{type:"number","default":0},maxzoom:{type:"number","default":22},tileSize:{type:"number","default":512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},"default":"mapbox"},"*":{type:"*"}},rl={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number","default":18},attribution:{type:"string"},buffer:{type:"number","default":128,maximum:512,minimum:0},tolerance:{type:"number","default":.375},cluster:{type:"boolean","default":!1},clusterRadius:{type:"number","default":50,minimum:0},clusterMaxZoom:{type:"number"},lineMetrics:{type:"boolean","default":!1}},al={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},sl={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},ll={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},ul=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],cl={visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},hl={visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},dl={visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},pl={visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},fl={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},"default":"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},"default":"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number","default":2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number","default":1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},ml={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},"default":"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number","default":250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean","default":!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean","default":!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean","default":!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean","default":!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number","default":1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},"default":"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"string",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number","default":0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number","default":2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean","default":!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"string","default":"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string","default":["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number","default":16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number","default":10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number","default":1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number","default":0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{left:{},center:{},right:{}},"default":"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number","default":45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number","default":0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number","default":2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean","default":!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},"default":"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,"default":[0,0],requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean","default":!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean","default":!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean","default":!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},gl={visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},vl={visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},yl={type:"array",value:"*"},_l={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},bl={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},xl={type:"array",minimum:0,maximum:22,value:["number","color"],length:2},wl={type:"array",value:"*",minimum:1},kl={type:"enum",values:{let:{group:"Variable binding"},"var":{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},"case":{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},"typeof":{group:"Types"},string:{group:"Types"},number:{group:"Types"},"boolean":{group:"Types"},object:{group:"Types"},collator:{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Heatmap"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},Cl={anchor:{type:"enum","default":"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array","default":[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant","default":"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant","default":.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Sl=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],Tl={"fill-antialias":{type:"boolean","default":!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"}},Al={"line-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number","default":1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number","default":0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},El={"circle-radius":{type:"number","default":5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number","default":0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},"default":"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},"default":"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Ml={"heatmap-radius":{type:"number","default":30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number","default":1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number","default":1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Dl={"icon-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color","default":"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color","default":"#000000",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],
expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Il={"raster-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number","default":0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number","default":0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number","default":0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number","default":0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},"default":"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number","default":300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Pl={"hillshade-illumination-direction":{type:"number","default":335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number","default":.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color","default":"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ll={"background-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ol={duration:{type:"number","default":300,minimum:0,units:"milliseconds"},delay:{type:"number","default":0,minimum:0,units:"milliseconds"}},zl={$version:Js,$root:Qs,sources:tl,source:el,source_vector:il,source_raster:nl,source_raster_dem:ol,source_geojson:rl,source_video:al,source_image:sl,layer:ll,layout:ul,layout_background:cl,layout_fill:hl,layout_circle:dl,layout_heatmap:pl,layout_line:fl,layout_symbol:ml,layout_raster:gl,layout_hillshade:vl,filter:yl,filter_operator:_l,geometry_type:bl,function_stop:xl,expression:wl,expression_name:kl,light:Cl,paint:Sl,paint_fill:Tl,paint_line:Al,paint_circle:El,paint_heatmap:Ml,paint_symbol:Dl,paint_raster:Il,paint_hillshade:Pl,paint_background:Ll,transition:Ol,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},"function":{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number","default":1,minimum:0},property:{type:"string","default":"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},"default":"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},"default":"rgb"},"default":{type:"*",required:!1}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"fill-extrusion-height":{type:"number","default":0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number","default":0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},Rl=function(t,e,i,n){this.message=(t?t+": ":"")+i,n&&(this.identifier=n),null!==e&&void 0!==e&&e.__line__&&(this.line=e.__line__)},Nl=function(t){function e(e,i){t.call(this,i),this.message=i,this.key=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),$l=function(t,e){var i=this;void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,o=e;n<o.length;n+=1){var r=o[n],a=r[0],s=r[1];i.bindings[a]=s}};$l.prototype.concat=function(t){return new $l(this,t)},$l.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},$l.prototype.has=function(t){return this.bindings[t]?!0:this.parent?this.parent.has(t):!1};var Fl={kind:"null"},Bl={kind:"number"},jl={kind:"string"},Hl={kind:"boolean"},Wl={kind:"color"},ql={kind:"object"},Vl={kind:"value"},Ul={kind:"error"},Yl={kind:"collator"},Gl=[Fl,Bl,jl,Hl,Wl,ql,N(Vl)],Xl=n(function(t,e){function i(t){return t=Math.round(t),0>t?0:t>255?255:t}function n(t){return 0>t?0:t>1?1:t}function o(t){return i("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function r(t){return n("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function a(t,e,i){return 0>i?i+=1:i>1&&(i-=1),1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}function s(t){var e=t.replace(/ /g,"").toLowerCase();if(e in l)return l[e].slice();if("#"===e[0]){if(4===e.length){var n=parseInt(e.substr(1),16);return n>=0&&4095>=n?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null}if(7===e.length){var n=parseInt(e.substr(1),16);return n>=0&&16777215>=n?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null}return null}var s=e.indexOf("("),u=e.indexOf(")");if(-1!==s&&u+1===e.length){var c=e.substr(0,s),h=e.substr(s+1,u-(s+1)).split(","),d=1;switch(c){case"rgba":if(4!==h.length)return null;d=r(h.pop());case"rgb":return 3!==h.length?null:[o(h[0]),o(h[1]),o(h[2]),d];case"hsla":if(4!==h.length)return null;d=r(h.pop());case"hsl":if(3!==h.length)return null;var p=(parseFloat(h[0])%360+360)%360/360,f=r(h[1]),m=r(h[2]),g=.5>=m?m*(f+1):m+f-m*f,v=2*m-g;return[i(255*a(v,g,p+1/3)),i(255*a(v,g,p)),i(255*a(v,g,p-1/3)),d];default:return null}}return null}var l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{e.parseCSSColor=s}catch(u){}}),Zl=Xl.parseCSSColor,Kl=function(t,e,i,n){void 0===n&&(n=1),this.r=t,this.g=e,this.b=i,this.a=n};Kl.parse=function(t){if(t){if(t instanceof Kl)return t;if("string"==typeof t){var e=Zl(t);if(e)return new Kl(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},Kl.prototype.toString=function(){var t=this.toArray(),e=t[0],i=t[1],n=t[2],o=t[3];return"rgba("+Math.round(e)+","+Math.round(i)+","+Math.round(n)+","+o+")"},Kl.prototype.toArray=function(){var t=this,e=t.r,i=t.g,n=t.b,o=t.a;return 0===o?[0,0,0,0]:[255*e/o,255*i/o,255*n/o,o]},Kl.black=new Kl(0,0,0,1),Kl.white=new Kl(1,1,1,1),Kl.transparent=new Kl(0,0,0,0);var Jl=function(t,e,i){t?this.sensitivity=e?"variant":"case":this.sensitivity=e?"accent":"base",this.locale=i,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Jl.prototype.compare=function(t,e){return this.collator.compare(t,e)},Jl.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Ql=function(t,e,i){this.type=Yl,this.locale=i,this.caseSensitive=t,this.diacriticSensitive=e};Ql.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var i=t[1];if("object"!=typeof i||Array.isArray(i))return e.error("Collator options argument must be an object.");var n=e.parse(void 0===i["case-sensitive"]?!1:i["case-sensitive"],1,Hl);if(!n)return null;var o=e.parse(void 0===i["diacritic-sensitive"]?!1:i["diacritic-sensitive"],1,Hl);if(!o)return null;var r=null;return i.locale&&(r=e.parse(i.locale,1,jl),!r)?null:new Ql(n,o,r)},Ql.prototype.evaluate=function(t){return new Jl(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},Ql.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},Ql.prototype.possibleOutputs=function(){return[void 0]},Ql.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var tu=function(t,e){this.type=t,this.value=e};tu.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!j(t[1]))return e.error("invalid value");var i=t[1],n=H(i),o=e.expectedType;return"array"!==n.kind||0!==n.N||!o||"array"!==o.kind||"number"==typeof o.N&&0!==o.N||(n=o),new tu(n,i)},tu.prototype.evaluate=function(){return this.value},tu.prototype.eachChild=function(){},tu.prototype.possibleOutputs=function(){return[this.value]},tu.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Kl?["rgba"].concat(this.value.toArray()):(Ds(null===this.value||"string"==typeof this.value||"number"==typeof this.value||"boolean"==typeof this.value),this.value)};var eu=function(t){this.name="ExpressionEvaluationError",this.message=t};eu.prototype.toJSON=function(){return this.message};var iu={string:jl,number:Bl,"boolean":Hl,object:ql},nu=function(t,e){this.type=t,this.args=e};nu.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var i=t[0];Ds(iu[i],i);for(var n=iu[i],o=[],r=1;r<t.length;r++){var a=e.parse(t[r],r,Vl);if(!a)return null;o.push(a)}return new nu(n,o)},nu.prototype.evaluate=function(t){for(var e=this,i=0;i<this.args.length;i++){var n=e.args[i].evaluate(t),o=F(e.type,H(n));if(!o)return n;if(i===e.args.length-1)throw new eu("Expected value to be of type "+$(e.type)+", but found "+$(H(n))+" instead.")}return Ds(!1),null},nu.prototype.eachChild=function(t){this.args.forEach(t)},nu.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},nu.prototype.serialize=function(){return[this.type.kind].concat(this.args.map(function(t){return t.serialize()}))};var ou={string:jl,number:Bl,"boolean":Hl},ru=function(t,e){this.type=t,this.input=e};ru.parse=function(t,e){if(t.length<2||t.length>4)return e.error("Expected 1, 2, or 3 arguments, but found "+(t.length-1)+" instead.");var i,n;if(t.length>2){var o=t[1];if("string"!=typeof o||!(o in ou))return e.error('The item type argument of "array" must be one of string, number, boolean',1);i=ou[o]}else i=Vl;if(t.length>3){if("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2]))return e.error('The length argument to "array" must be a positive integer literal',2);n=t[2]}var r=N(i,n),a=e.parse(t[t.length-1],t.length-1,Vl);return a?new ru(r,a):null},ru.prototype.evaluate=function(t){var e=this.input.evaluate(t),i=F(this.type,H(e));if(i)throw new eu("Expected value to be of type "+$(this.type)+", but found "+$(H(e))+" instead.");return e},ru.prototype.eachChild=function(t){t(this.input)},ru.prototype.possibleOutputs=function(){return this.input.possibleOutputs()},ru.prototype.serialize=function(){var t=["array"],e=this.type.itemType;if("string"===e.kind||"number"===e.kind||"boolean"===e.kind){t.push(e.kind);var i=this.type.N;"number"==typeof i&&t.push(i)}return t.push(this.input.serialize()),t};var au={"to-number":Bl,"to-color":Wl},su=function(t,e){this.type=t,this.args=e};su.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var i=t[0];Ds(au[i],i);for(var n=au[i],o=[],r=1;r<t.length;r++){var a=e.parse(t[r],r,Vl);if(!a)return null;o.push(a)}return new su(n,o)},su.prototype.evaluate=function(t){var e=this;if("color"===this.type.kind){for(var i,n,o=0,r=e.args;o<r.length;o+=1){var a=r[o];if(i=a.evaluate(t),n=null,"string"==typeof i){var s=t.parseColor(i);if(s)return s}else if(Array.isArray(i)&&(n=i.length<3||i.length>4?"Invalid rbga value "+JSON.stringify(i)+": expected an array containing either three or four numeric values.":B(i[0],i[1],i[2],i[3]),!n))return new Kl(i[0]/255,i[1]/255,i[2]/255,i[3])}throw new eu(n||"Could not parse color from value '"+("string"==typeof i?i:JSON.stringify(i))+"'")}for(var l=null,u=0,c=e.args;u<c.length;u+=1){var h=c[u];if(l=h.evaluate(t),null!==l){var d=Number(l);if(!isNaN(d))return d}}throw new eu("Could not convert "+JSON.stringify(l)+" to number.")},su.prototype.eachChild=function(t){this.args.forEach(t)},su.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},su.prototype.serialize=function(){var t=["to-"+this.type.kind];return this.eachChild(function(e){t.push(e.serialize())}),t};var lu=["Unknown","Point","LineString","Polygon"],uu=function(){this._parseColorCache={}};uu.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},uu.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?lu[this.feature.type]:this.feature.type:null},uu.prototype.properties=function(){return this.feature&&this.feature.properties||{}},uu.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=Kl.parse(t)),e};var cu=function(t,e,i,n){this.name=t,this.type=e,this._evaluate=i,this.args=n};cu.prototype.evaluate=function(t){return this._evaluate(t,this.args)},cu.prototype.eachChild=function(t){this.args.forEach(t)},cu.prototype.possibleOutputs=function(){return[void 0]},cu.prototype.serialize=function(){return[this.name].concat(this.args.map(function(t){return t.serialize()}))},cu.parse=function(t,e){var i=t[0],n=cu.definitions[i];if(!n)return e.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(n)?n[0]:n.type,r=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,a=r.filter(function(e){var i=e[0];return!Array.isArray(i)||i.length===t.length-1}),s=[],l=1;l<t.length;l++){var u=t[l],c=void 0;if(1===a.length){var h=a[0][0];c=Array.isArray(h)?h[l-1]:h.type}var d=e.parse(u,1+s.length,c);if(!d)return null;s.push(d)}for(var p=null,f=0,m=a;f<m.length;f+=1){var g=m[f],v=g[0],y=g[1];if(p=new du(e.registry,e.path,null,e.scope),Array.isArray(v)&&v.length!==s.length)p.error("Expected "+v.length+" arguments, but found "+s.length+" instead.");else{for(var _=0;_<s.length;_++){var b=Array.isArray(v)?v[_]:v.type,x=s[_];p.concat(_+1).checkSubtype(b,x.type)}if(0===p.errors.length)return new cu(i,o,y,s)}}if(Ds(!p||p.errors.length>0),1===a.length)e.errors.push.apply(e.errors,p.errors);else{var w=a.length?a:r,k=w.map(function(t){var e=t[0];return W(e)}).join(" | "),C=s.map(function(t){return $(t.type)}).join(", ");e.error("Expected arguments of type "+k+", but found ("+C+") instead.")}return null},cu.register=function(t,e){Ds(!cu.definitions),cu.definitions=e;for(var i in e)t[i]=cu};var hu=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};hu.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var i=t[1];return e.scope.has(i)?new hu(i,e.scope.get(i)):e.error('Unknown variable "'+i+'". Make sure "'+i+'" has been bound in an enclosing "let" expression before using it.',1)},hu.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},hu.prototype.eachChild=function(){},hu.prototype.possibleOutputs=function(){return[void 0]},hu.prototype.serialize=function(){return["var",this.name]};var du=function(t,e,i,n,o){void 0===e&&(e=[]),void 0===n&&(n=new $l),void 0===o&&(o=[]),this.registry=t,this.path=e,this.key=e.map(function(t){return"["+t+"]"}).join(""),this.scope=n,this.errors=o,this.expectedType=i};du.prototype.parse=function(t,e,i,n,o){return void 0===o&&(o={}),e?this.concat(e,i,n)._parse(t,o):this._parse(t,o)},du.prototype._parse=function(t,e){if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var i=t[0];if("string"!=typeof i)return this.error("Expression name must be a string, but found "+typeof i+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var n=this.registry[i];if(n){var o=n.parse(t,this);if(!o)return null;if(this.expectedType){var r=this.expectedType,a=o.type;if("string"!==r.kind&&"number"!==r.kind&&"boolean"!==r.kind&&"object"!==r.kind||"value"!==a.kind)if("array"===r.kind&&"value"===a.kind)e.omitTypeAnnotations||(o=new ru(r,o));else if("color"!==r.kind||"value"!==a.kind&&"string"!==a.kind){if(this.checkSubtype(this.expectedType,o.type))return null}else e.omitTypeAnnotations||(o=new su(r,[o]));else e.omitTypeAnnotations||(o=new nu(r,[o]))}if(!(o instanceof tu)&&Y(o)){var s=new uu;try{o=new tu(o.type,o.evaluate(s))}catch(l){return this.error(l.message),null}}return o}return this.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0)}return"undefined"==typeof t?this.error("'undefined' value invalid. Use null instead."):"object"==typeof t?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof t+" instead.")},du.prototype.concat=function(t,e,i){var n="number"==typeof t?this.path.concat(t):this.path,o=i?this.scope.concat(i):this.scope;return new du(this.registry,n,e||null,o,this.errors)},du.prototype.error=function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];var n=""+this.key+e.map(function(t){return"["+t+"]"}).join("");this.errors.push(new Nl(n,t))},du.prototype.checkSubtype=function(t,e){var i=F(t,e);return i&&this.error(i),i};var pu=function(t,e,i){var n=this;this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var o=0,r=i;o<r.length;o+=1){var a=r[o],s=a[0],l=a[1];n.labels.push(s),n.outputs.push(l)}};pu.parse=function(t,e){var i=t[1],n=t.slice(2);if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!==0)return e.error("Expected an even number of arguments.");if(i=e.parse(i,1,Bl),!i)return null;var o=[],r=null;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType),n.unshift(-(1/0));for(var a=0;a<n.length;a+=2){var s=n[a],l=n[a+1],u=a+1,c=a+2;if("number"!=typeof s)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(o.length&&o[o.length-1][0]>=s)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var h=e.parse(l,c,r);if(!h)return null;r=r||h.type,o.push([s,h])}return new pu(r,i,o)},pu.prototype.evaluate=function(t){var e=this.labels,i=this.outputs;if(1===e.length)return i[0].evaluate(t);var n=this.input.evaluate(t);if(n<=e[0])return i[0].evaluate(t);var o=e.length;if(n>=e[o-1])return i[o-1].evaluate(t);var r=G(e,n);return i[r].evaluate(t)},pu.prototype.eachChild=function(t){var e=this;t(this.input);for(var i=0,n=e.outputs;i<n.length;i+=1){var o=n[i];t(o)}},pu.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()}));var t},pu.prototype.serialize=function(){for(var t=this,e=["step",this.input.serialize()],i=0;i<this.labels.length;i++)i>0&&e.push(t.labels[i]),e.push(t.outputs[i].serialize());return e};var fu=Object.freeze({number:X,color:Z,array:K}),mu=function(t,e,i,n){var o=this;this.type=t,this.interpolation=e,this.input=i,this.labels=[],this.outputs=[];for(var r=0,a=n;r<a.length;r+=1){var s=a[r],l=s[0],u=s[1];o.labels.push(l),o.outputs.push(u)}};mu.interpolationFactor=function(t,e,i,n){var o=0;if("exponential"===t.name)o=J(e,t.base,i,n);else if("linear"===t.name)o=J(e,1,i,n);else if("cubic-bezier"===t.name){var r=t.controlPoints,a=new Rs(r[0],r[1],r[2],r[3]);o=a.solve(J(e,1,i,n))}return o},mu.parse=function(t,e){var i=t[1],n=t[2],o=t.slice(3);if(!Array.isArray(i)||0===i.length)return e.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){var r=i[1];if("number"!=typeof r)return e.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:r}}else{if("cubic-bezier"!==i[0])return e.error("Unknown interpolation type "+String(i[0]),1,0);var a=i.slice(1);if(4!==a.length||a.some(function(t){return"number"!=typeof t||0>t||t>1}))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:a}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!==0)return e.error("Expected an even number of arguments.");if(n=e.parse(n,2,Bl),!n)return null;var s=[],l=null;e.expectedType&&"value"!==e.expectedType.kind&&(l=e.expectedType);for(var u=0;u<o.length;u+=2){var c=o[u],h=o[u+1],d=u+3,p=u+4;if("number"!=typeof c)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',d);if(s.length&&s[s.length-1][0]>=c)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',d);var f=e.parse(h,p,l);if(!f)return null;l=l||f.type,s.push([c,f])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"==typeof l.N?new mu(l,i,n,s):e.error("Type "+$(l)+" is not interpolatable.")},mu.prototype.evaluate=function(t){var e=this.labels,i=this.outputs;if(1===e.length)return i[0].evaluate(t);var n=this.input.evaluate(t);if(n<=e[0])return i[0].evaluate(t);var o=e.length;if(n>=e[o-1])return i[o-1].evaluate(t);var r=G(e,n),a=e[r],s=e[r+1],l=mu.interpolationFactor(this.interpolation,n,a,s),u=i[r].evaluate(t),c=i[r+1].evaluate(t);return fu[this.type.kind.toLowerCase()](u,c,l)},mu.prototype.eachChild=function(t){var e=this;t(this.input);for(var i=0,n=e.outputs;i<n.length;i+=1){var o=n[i];t(o)}},mu.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()}));var t},mu.prototype.serialize=function(){var t,e=this;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var i=["interpolate",t,this.input.serialize()],n=0;n<this.labels.length;n++)i.push(e.labels[n],e.outputs[n].serialize());return i};var gu=function(t,e){this.type=t,this.args=e};gu.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var i=null,n=e.expectedType;n&&"value"!==n.kind&&(i=n);for(var o=[],r=0,a=t.slice(1);r<a.length;r+=1){var s=a[r],l=e.parse(s,1+o.length,i,void 0,{omitTypeAnnotations:!0});if(!l)return null;i=i||l.type,o.push(l)}Ds(i);var u=n&&o.some(function(t){return F(n,t.type)});return u?new gu(Vl,o):new gu(i,o)},gu.prototype.evaluate=function(t){for(var e=this,i=null,n=0,o=e.args;n<o.length;n+=1){var r=o[n];if(i=r.evaluate(t),null!==i)break}return i},gu.prototype.eachChild=function(t){this.args.forEach(t)},gu.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},gu.prototype.serialize=function(){var t=["coalesce"];return this.eachChild(function(e){t.push(e.serialize())}),t};var vu=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};vu.prototype.evaluate=function(t){return this.result.evaluate(t)},vu.prototype.eachChild=function(t){for(var e=this,i=0,n=e.bindings;i<n.length;i+=1){var o=n[i];t(o[1])}t(this.result)},vu.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var i=[],n=1;n<t.length-1;n+=2){var o=t[n];if("string"!=typeof o)return e.error("Expected string, but found "+typeof o+" instead.",n);if(/[^a-zA-Z0-9_]/.test(o))return e.error("Variable names must contain only alphanumeric characters or '_'.",n);var r=e.parse(t[n+1],n+1);if(!r)return null;i.push([o,r])}var a=e.parse(t[t.length-1],t.length-1,void 0,i);return a?new vu(i,a):null},vu.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},vu.prototype.serialize=function(){for(var t=this,e=["let"],i=0,n=t.bindings;i<n.length;i+=1){var o=n[i],r=o[0],a=o[1];e.push(r,a.serialize())}return e.push(this.result.serialize()),e};var yu=function(t,e,i){this.type=t,this.index=e,this.input=i};yu.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var i=e.parse(t[1],1,Bl),n=e.parse(t[2],2,N(e.expectedType||Vl));if(!i||!n)return null;var o=n.type;return new yu(o.itemType,i,n)},yu.prototype.evaluate=function(t){var e=this.index.evaluate(t),i=this.input.evaluate(t);if(0>e)throw new eu("Array index out of bounds: "+e+" < 0.");if(e>=i.length)throw new eu("Array index out of bounds: "+e+" > "+(i.length-1)+".");if(e!==Math.floor(e))throw new eu("Array index must be an integer, but found "+e+" instead.");return i[e]},yu.prototype.eachChild=function(t){t(this.index),t(this.input)},yu.prototype.possibleOutputs=function(){return[void 0]},yu.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var _u=function(t,e,i,n,o,r){this.inputType=t,this.type=e,this.input=i,this.cases=n,this.outputs=o,this.otherwise=r};_u.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!==1)return e.error("Expected an even number of arguments.");var i,n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var o={},r=[],a=2;a<t.length-1;a+=2){var s=t[a],l=t[a+1];Array.isArray(s)||(s=[s]);var u=e.concat(a);if(0===s.length)return u.error("Expected at least one branch label.");for(var c=0,h=s;c<h.length;c+=1){var d=h[c];if("number"!=typeof d&&"string"!=typeof d)return u.error("Branch labels must be numbers or strings.");if("number"==typeof d&&Math.abs(d)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof d&&Math.floor(d)!==d)return u.error("Numeric branch labels must be integer values.");
if(i){if(u.checkSubtype(i,H(d)))return null}else i=H(d);if("undefined"!=typeof o[String(d)])return u.error("Branch labels must be unique.");o[String(d)]=r.length}var p=e.parse(l,a,n);if(!p)return null;n=n||p.type,r.push(p)}var f=e.parse(t[1],1,Vl);if(!f)return null;var m=e.parse(t[t.length-1],t.length-1,n);return m?(Ds(i&&n),"value"!==f.type.kind&&e.concat(1).checkSubtype(i,f.type)?null:new _u(i,n,f,o,r,m)):null},_u.prototype.evaluate=function(t){var e=this.input.evaluate(t),i=H(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise;return i.evaluate(t)},_u.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},_u.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()})).concat(this.otherwise.possibleOutputs());var t},_u.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],i=Object.keys(this.cases).sort(),n=[],o={},r=0,a=i;r<a.length;r+=1){var s=a[r],l=o[t.cases[s]];void 0===l?(o[t.cases[s]]=n.length,n.push([t.cases[s],[s]])):n[l][1].push(s)}for(var u=function(e){return"number"===t.inputType.kind?Number(e):e},c=0,h=n;c<h.length;c+=1){var d=h[c],p=d[0],f=d[1];1===f.length?e.push(u(f[0])):e.push(f.map(u)),e.push(t.outputs[p].serialize())}return e.push(this.otherwise.serialize()),e};var bu=function(t,e,i){this.type=t,this.branches=e,this.otherwise=i};bu.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!==0)return e.error("Expected an odd number of arguments.");var i;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var n=[],o=1;o<t.length-1;o+=2){var r=e.parse(t[o],o,Hl);if(!r)return null;var a=e.parse(t[o+1],o+1,i);if(!a)return null;n.push([r,a]),i=i||a.type}var s=e.parse(t[t.length-1],t.length-1,i);return s?(Ds(i),new bu(i,n,s)):null},bu.prototype.evaluate=function(t){for(var e=this,i=0,n=e.branches;i<n.length;i+=1){var o=n[i],r=o[0],a=o[1];if(r.evaluate(t))return a.evaluate(t)}return this.otherwise.evaluate(t)},bu.prototype.eachChild=function(t){for(var e=this,i=0,n=e.branches;i<n.length;i+=1){var o=n[i],r=o[0],a=o[1];t(r),t(a)}t(this.otherwise)},bu.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.branches.map(function(t){var e=(t[0],t[1]);return e.possibleOutputs()})).concat(this.otherwise.possibleOutputs());var t},bu.prototype.serialize=function(){var t=["case"];return this.eachChild(function(e){t.push(e.serialize())}),t};var xu=tt("==",!1),wu=tt("!=",!0),ku=function(t){this.type=Bl,this.input=t};ku.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var i=e.parse(t[1],1);return i?"array"!==i.type.kind&&"string"!==i.type.kind&&"value"!==i.type.kind?e.error("Expected argument of type string or array, but found "+$(i.type)+" instead."):new ku(i):null},ku.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new eu("Expected value to be of type string or array, but found "+$(H(e))+" instead.")},ku.prototype.eachChild=function(t){t(this.input)},ku.prototype.possibleOutputs=function(){return[void 0]},ku.prototype.serialize=function(){var t=["length"];return this.eachChild(function(e){t.push(e.serialize())}),t};var Cu={"==":xu,"!=":wu,array:ru,at:yu,"boolean":nu,"case":bu,coalesce:gu,collator:Ql,interpolate:mu,length:ku,let:vu,literal:tu,match:_u,number:nu,object:nu,step:pu,string:nu,"to-color":su,"to-number":su,"var":hu};cu.register(Cu,{error:[Ul,[jl],function(t,e){var i=e[0];throw new eu(i.evaluate(t))}],"typeof":[jl,[Vl],function(t,e){var i=e[0];return $(H(i.evaluate(t)))}],"to-string":[jl,[Vl],function(t,e){var i=e[0];i=i.evaluate(t);var n=typeof i;return null===i?"":"string"===n||"number"===n||"boolean"===n?String(i):i instanceof Kl?i.toString():JSON.stringify(i)}],"to-boolean":[Hl,[Vl],function(t,e){var i=e[0];return Boolean(i.evaluate(t))}],"to-rgba":[N(Bl,4),[Wl],function(t,e){var i=e[0];return i.evaluate(t).toArray()}],rgb:[Wl,[Bl,Bl,Bl],et],rgba:[Wl,[Bl,Bl,Bl,Bl],et],has:{type:Hl,overloads:[[[jl],function(t,e){var i=e[0];return it(i.evaluate(t),t.properties())}],[[jl,ql],function(t,e){var i=e[0],n=e[1];return it(i.evaluate(t),n.evaluate(t))}]]},get:{type:Vl,overloads:[[[jl],function(t,e){var i=e[0];return nt(i.evaluate(t),t.properties())}],[[jl,ql],function(t,e){var i=e[0],n=e[1];return nt(i.evaluate(t),n.evaluate(t))}]]},"feature-state":[Vl,[jl],function(t,e){var i=e[0];return nt(i.evaluate(t),t.featureState||{})}],properties:[ql,[],function(t){return t.properties()}],"geometry-type":[jl,[],function(t){return t.geometryType()}],id:[Vl,[],function(t){return t.id()}],zoom:[Bl,[],function(t){return t.globals.zoom}],"heatmap-density":[Bl,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Bl,[],function(t){return t.globals.lineProgress||0}],"+":[Bl,pt(Bl),function(t,e){for(var i=0,n=0,o=e;n<o.length;n+=1){var r=o[n];i+=r.evaluate(t)}return i}],"*":[Bl,pt(Bl),function(t,e){for(var i=1,n=0,o=e;n<o.length;n+=1){var r=o[n];i*=r.evaluate(t)}return i}],"-":{type:Bl,overloads:[[[Bl,Bl],function(t,e){var i=e[0],n=e[1];return i.evaluate(t)-n.evaluate(t)}],[[Bl],function(t,e){var i=e[0];return-i.evaluate(t)}]]},"/":[Bl,[Bl,Bl],function(t,e){var i=e[0],n=e[1];return i.evaluate(t)/n.evaluate(t)}],"%":[Bl,[Bl,Bl],function(t,e){var i=e[0],n=e[1];return i.evaluate(t)%n.evaluate(t)}],ln2:[Bl,[],function(){return Math.LN2}],pi:[Bl,[],function(){return Math.PI}],e:[Bl,[],function(){return Math.E}],"^":[Bl,[Bl,Bl],function(t,e){var i=e[0],n=e[1];return Math.pow(i.evaluate(t),n.evaluate(t))}],sqrt:[Bl,[Bl],function(t,e){var i=e[0];return Math.sqrt(i.evaluate(t))}],log10:[Bl,[Bl],function(t,e){var i=e[0];return Math.log10(i.evaluate(t))}],ln:[Bl,[Bl],function(t,e){var i=e[0];return Math.log(i.evaluate(t))}],log2:[Bl,[Bl],function(t,e){var i=e[0];return Math.log2(i.evaluate(t))}],sin:[Bl,[Bl],function(t,e){var i=e[0];return Math.sin(i.evaluate(t))}],cos:[Bl,[Bl],function(t,e){var i=e[0];return Math.cos(i.evaluate(t))}],tan:[Bl,[Bl],function(t,e){var i=e[0];return Math.tan(i.evaluate(t))}],asin:[Bl,[Bl],function(t,e){var i=e[0];return Math.asin(i.evaluate(t))}],acos:[Bl,[Bl],function(t,e){var i=e[0];return Math.acos(i.evaluate(t))}],atan:[Bl,[Bl],function(t,e){var i=e[0];return Math.atan(i.evaluate(t))}],min:[Bl,pt(Bl),function(t,e){return Math.min.apply(Math,e.map(function(e){return e.evaluate(t)}))}],max:[Bl,pt(Bl),function(t,e){return Math.max.apply(Math,e.map(function(e){return e.evaluate(t)}))}],abs:[Bl,[Bl],function(t,e){var i=e[0];return Math.abs(i.evaluate(t))}],round:[Bl,[Bl],function(t,e){var i=e[0],n=i.evaluate(t);return 0>n?-Math.round(-n):Math.round(n)}],floor:[Bl,[Bl],function(t,e){var i=e[0];return Math.floor(i.evaluate(t))}],ceil:[Bl,[Bl],function(t,e){var i=e[0];return Math.ceil(i.evaluate(t))}],"filter-==":[Hl,[jl,Vl],function(t,e){var i=e[0],n=e[1];return t.properties()[i.value]===n.value}],"filter-id-==":[Hl,[Vl],function(t,e){var i=e[0];return t.id()===i.value}],"filter-type-==":[Hl,[jl],function(t,e){var i=e[0];return t.geometryType()===i.value}],"filter-<":[Hl,[jl,Vl],function(t,e){var i=e[0],n=e[1],o=t.properties()[i.value],r=n.value;return typeof o==typeof r&&r>o}],"filter-id-<":[Hl,[Vl],function(t,e){var i=e[0],n=t.id(),o=i.value;return typeof n==typeof o&&o>n}],"filter->":[Hl,[jl,Vl],function(t,e){var i=e[0],n=e[1],o=t.properties()[i.value],r=n.value;return typeof o==typeof r&&o>r}],"filter-id->":[Hl,[Vl],function(t,e){var i=e[0],n=t.id(),o=i.value;return typeof n==typeof o&&n>o}],"filter-<=":[Hl,[jl,Vl],function(t,e){var i=e[0],n=e[1],o=t.properties()[i.value],r=n.value;return typeof o==typeof r&&r>=o}],"filter-id-<=":[Hl,[Vl],function(t,e){var i=e[0],n=t.id(),o=i.value;return typeof n==typeof o&&o>=n}],"filter->=":[Hl,[jl,Vl],function(t,e){var i=e[0],n=e[1],o=t.properties()[i.value],r=n.value;return typeof o==typeof r&&o>=r}],"filter-id->=":[Hl,[Vl],function(t,e){var i=e[0],n=t.id(),o=i.value;return typeof n==typeof o&&n>=o}],"filter-has":[Hl,[Vl],function(t,e){var i=e[0];return i.value in t.properties()}],"filter-has-id":[Hl,[],function(t){return null!==t.id()}],"filter-type-in":[Hl,[N(jl)],function(t,e){var i=e[0];return i.value.indexOf(t.geometryType())>=0}],"filter-id-in":[Hl,[N(Vl)],function(t,e){var i=e[0];return i.value.indexOf(t.id())>=0}],"filter-in-small":[Hl,[jl,N(Vl)],function(t,e){var i=e[0],n=e[1];return n.value.indexOf(t.properties()[i.value])>=0}],"filter-in-large":[Hl,[jl,N(Vl)],function(t,e){var i=e[0],n=e[1];return dt(t.properties()[i.value],n.value,0,n.value.length-1)}],">":{type:Hl,overloads:[[[Bl,Bl],rt],[[jl,jl],rt],[[jl,jl,Yl],ut]]},"<":{type:Hl,overloads:[[[Bl,Bl],ot],[[jl,jl],ot],[[jl,jl,Yl],lt]]},">=":{type:Hl,overloads:[[[Bl,Bl],st],[[jl,jl],st],[[jl,jl,Yl],ht]]},"<=":{type:Hl,overloads:[[[Bl,Bl],at],[[jl,jl],at],[[jl,jl,Yl],ct]]},all:{type:Hl,overloads:[[[Hl,Hl],function(t,e){var i=e[0],n=e[1];return i.evaluate(t)&&n.evaluate(t)}],[pt(Hl),function(t,e){for(var i=0,n=e;i<n.length;i+=1){var o=n[i];if(!o.evaluate(t))return!1}return!0}]]},any:{type:Hl,overloads:[[[Hl,Hl],function(t,e){var i=e[0],n=e[1];return i.evaluate(t)||n.evaluate(t)}],[pt(Hl),function(t,e){for(var i=0,n=e;i<n.length;i+=1){var o=n[i];if(o.evaluate(t))return!0}return!1}]]},"!":[Hl,[Hl],function(t,e){var i=e[0];return!i.evaluate(t)}],"is-supported-script":[Hl,[jl],function(t,e){var i=e[0],n=t.globals&&t.globals.isSupportedScript;return n?n(i.evaluate(t)):!0}],upcase:[jl,[jl],function(t,e){var i=e[0];return i.evaluate(t).toUpperCase()}],downcase:[jl,[jl],function(t,e){var i=e[0];return i.evaluate(t).toLowerCase()}],concat:[jl,pt(jl),function(t,e){return e.map(function(e){return e.evaluate(t)}).join("")}],"resolved-locale":[jl,[Yl],function(t,e){var i=e[0];return i.evaluate(t).resolvedLocale()}]});var Su=.95047,Tu=1,Au=1.08883,Eu=4/29,Mu=6/29,Du=3*Mu*Mu,Iu=Mu*Mu*Mu,Pu=Math.PI/180,Lu=180/Math.PI,Ou={forward:kt,reverse:Ct,interpolate:St},zu={forward:Tt,reverse:At,interpolate:Mt},Ru=Object.freeze({lab:Ou,hcl:zu}),Nu=function(t,e){this.expression=t,this._warningHistory={},this._defaultValue=Yt(e),"enum"===e.type&&(this._enumValues=e.values)};Nu.prototype.evaluateWithoutErrorHandling=function(t,e,i){return this._evaluator||(this._evaluator=new uu),this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=i,this.expression.evaluate(this._evaluator)},Nu.prototype.evaluate=function(t,e,i){this._evaluator||(this._evaluator=new uu),this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=i;try{var n=this.expression.evaluate(this._evaluator);if(null===n||void 0===n)return this._defaultValue;if(this._enumValues&&!(n in this._enumValues))throw new eu("Expected value to be one of "+Object.keys(this._enumValues).map(function(t){return JSON.stringify(t)}).join(", ")+", but found "+JSON.stringify(n)+" instead.");return n}catch(o){return this._warningHistory[o.message]||(this._warningHistory[o.message]=!0,"undefined"!=typeof console&&console.warn(o.message)),this._defaultValue}};var $u=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!V(e.expression)};$u.prototype.evaluateWithoutErrorHandling=function(t,e,i){return this._styleExpression.evaluateWithoutErrorHandling(t,e,i)},$u.prototype.evaluate=function(t,e,i){return this._styleExpression.evaluate(t,e,i)};var Fu=function(t,e,i){this.kind=t,this.zoomStops=i.labels,this._styleExpression=e,this.isStateDependent="camera"!==t&&!V(e.expression),i instanceof mu&&(this._interpolationType=i.interpolation)};Fu.prototype.evaluateWithoutErrorHandling=function(t,e,i){return this._styleExpression.evaluateWithoutErrorHandling(t,e,i)},Fu.prototype.evaluate=function(t,e,i){return this._styleExpression.evaluate(t,e,i)},Fu.prototype.interpolationFactor=function(t,e,i){return this._interpolationType?mu.interpolationFactor(this._interpolationType,t,e,i):0};var Bu=function(t,e){this._parameters=t,this._specification=e,O(this,Lt(this._parameters,this._specification))};Bu.deserialize=function(t){return new Bu(t._parameters,t._specification)},Bu.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var ju={type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},Hu={"*":function(){return[]},array:Xt,"boolean":Qt,number:Zt,color:te,constants:L,"enum":ee,filter:he,"function":Kt,layer:ge,object:Gt,source:ve,light:ye,string:_e};we.source=Ce(ve),we.light=Ce(ye),we.layer=Ce(ge),we.filter=Ce(he),we.paintProperty=Ce(fe),we.layoutProperty=Ce(me);var Wu=we,qu=(we.source,we.light),Vu=(we.filter,we.paintProperty),Uu=we.layoutProperty,Yu=Te,Gu=3;Te.prototype.insert=function(t,e,i,n,o){this._forEachCell(e,i,n,o,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(o)},Te.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Te.prototype._insertCell=function(t,e,i,n,o,r){this.cells[o].push(r)},Te.prototype.query=function(t,e,i,n){var o=this.min,r=this.max;if(o>=t&&o>=e&&i>=r&&n>=r)return Array.prototype.slice.call(this.keys);var a=[],s={};return this._forEachCell(t,e,i,n,this._queryCell,a,s),a},Te.prototype._queryCell=function(t,e,i,n,o,r,a){var s=this.cells[o];if(null!==s)for(var l=this.keys,u=this.bboxes,c=0;c<s.length;c++){var h=s[c];if(void 0===a[h]){var d=4*h;t<=u[d+2]&&e<=u[d+3]&&i>=u[d+0]&&n>=u[d+1]?(a[h]=!0,r.push(l[h])):a[h]=!1}}},Te.prototype._forEachCell=function(t,e,i,n,o,r,a){for(var s=this,l=this._convertToCellCoord(t),u=this._convertToCellCoord(e),c=this._convertToCellCoord(i),h=this._convertToCellCoord(n),d=l;c>=d;d++)for(var p=u;h>=p;p++){var f=s.d*p+d;if(o.call(s,t,e,i,n,f,r,a))return}},Te.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},Te.prototype.toArrayBuffer=function(){var t=this;if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,i=Gu+this.cells.length+1+1,n=0,o=0;o<this.cells.length;o++)n+=t.cells[o].length;var r=new Int32Array(i+n+this.keys.length+this.bboxes.length);r[0]=this.extent,r[1]=this.n,r[2]=this.padding;for(var a=i,s=0;s<e.length;s++){var l=e[s];r[Gu+s]=a,r.set(l,a),a+=l.length}return r[Gu+e.length]=a,r.set(this.keys,a),a+=this.keys.length,r[Gu+e.length+1]=a,r.set(this.bboxes,a),a+=this.bboxes.length,r.buffer};var Xu=self.ImageData,Zu={};Ae("Object",Object),Yu.serialize=function(t,e){var i=t.toArrayBuffer();return e&&e.push(i),i},Yu.deserialize=function(t){return new Yu(t)},Ae("Grid",Yu),Ae("Color",Kl),Ae("Error",Error),Ae("StylePropertyFunction",Bu),Ae("StyleExpression",Nu,{omit:["_evaluator"]}),Ae("ZoomDependentExpression",Fu),Ae("ZoomConstantExpression",$u),Ae("CompoundExpression",cu,{omit:["_evaluate"]});for(var Ku in Cu)Cu[Ku]._classRegistryKey||Ae("Expression_"+Ku,Cu[Ku]);var Ju=function(){this.first=!0};Ju.prototype.update=function(t,e){var i=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=i,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=i,!0):(this.lastFloorZoom>i?(this.lastIntegerZoom=i+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<i&&(this.lastIntegerZoom=i,this.lastIntegerZoomTime=e),t!==this.lastZoom?(this.lastZoom=t,this.lastFloorZoom=i,!0):!1)};var Qu,tc={"Latin-1 Supplement":function(t){return t>=128&&255>=t},Arabic:function(t){return t>=1536&&1791>=t},"Arabic Supplement":function(t){return t>=1872&&1919>=t},"Arabic Extended-A":function(t){return t>=2208&&2303>=t},"Hangul Jamo":function(t){return t>=4352&&4607>=t},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&5759>=t},Khmer:function(t){return t>=6016&&6143>=t},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&6399>=t},"General Punctuation":function(t){return t>=8192&&8303>=t},"Letterlike Symbols":function(t){return t>=8448&&8527>=t},"Number Forms":function(t){return t>=8528&&8591>=t},"Miscellaneous Technical":function(t){return t>=8960&&9215>=t},"Control Pictures":function(t){return t>=9216&&9279>=t},"Optical Character Recognition":function(t){return t>=9280&&9311>=t},"Enclosed Alphanumerics":function(t){return t>=9312&&9471>=t},"Geometric Shapes":function(t){return t>=9632&&9727>=t},"Miscellaneous Symbols":function(t){return t>=9728&&9983>=t},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&11263>=t},"CJK Radicals Supplement":function(t){return t>=11904&&12031>=t},"Kangxi Radicals":function(t){return t>=12032&&12255>=t},"Ideographic Description Characters":function(t){return t>=12272&&12287>=t},"CJK Symbols and Punctuation":function(t){return t>=12288&&12351>=t},Hiragana:function(t){return t>=12352&&12447>=t},Katakana:function(t){return t>=12448&&12543>=t},Bopomofo:function(t){return t>=12544&&12591>=t},"Hangul Compatibility Jamo":function(t){return t>=12592&&12687>=t},Kanbun:function(t){return t>=12688&&12703>=t},"Bopomofo Extended":function(t){return t>=12704&&12735>=t},"CJK Strokes":function(t){return t>=12736&&12783>=t},"Katakana Phonetic Extensions":function(t){return t>=12784&&12799>=t},"Enclosed CJK Letters and Months":function(t){return t>=12800&&13055>=t},"CJK Compatibility":function(t){return t>=13056&&13311>=t},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&19903>=t},"Yijing Hexagram Symbols":function(t){return t>=19904&&19967>=t},"CJK Unified Ideographs":function(t){return t>=19968&&40959>=t},"Yi Syllables":function(t){return t>=40960&&42127>=t},"Yi Radicals":function(t){return t>=42128&&42191>=t},"Hangul Jamo Extended-A":function(t){return t>=43360&&43391>=t},"Hangul Syllables":function(t){return t>=44032&&55215>=t},"Hangul Jamo Extended-B":function(t){return t>=55216&&55295>=t},"Private Use Area":function(t){return t>=57344&&63743>=t},"CJK Compatibility Ideographs":function(t){return t>=63744&&64255>=t},"Arabic Presentation Forms-A":function(t){return t>=64336&&65023>=t},"Vertical Forms":function(t){return t>=65040&&65055>=t},"CJK Compatibility Forms":function(t){return t>=65072&&65103>=t},"Small Form Variants":function(t){return t>=65104&&65135>=t},"Arabic Presentation Forms-B":function(t){return t>=65136&&65279>=t},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&65519>=t}},ec=!1,ic=null,nc=!1,oc=new Ks,rc=function(t){return ic?t({pluginURL:ic,completionCallback:Qu}):oc.once("pluginAvailable",t),t},ac=function(){ec=!1,ic=null},sc=function(t,e){if(ec)throw new Error("setRTLTextPlugin cannot be called multiple times.");ec=!0,ic=Os.resolveURL(t),Qu=function(t){t?(ac(),e&&e(t)):nc=!0},oc.fire(new Xs("pluginAvailable",{pluginURL:ic,completionCallback:Qu}))},lc={applyArabicShaping:null,processBidirectionalText:null,isLoaded:function(){return nc||null!=lc.applyArabicShaping}},uc=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ju,this.transition={})};uc.prototype.isSupportedScript=function(t){return $e(t,lc.isLoaded())},uc.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)};var cc=function(t,e){this.property=t,this.value=e,this.expression=qt(void 0===e?t.specification["default"]:e,t.specification)};cc.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},cc.prototype.possiblyEvaluate=function(t){return this.property.possiblyEvaluate(this,t)};var hc=function(t){this.property=t,this.value=new cc(t,void 0)};hc.prototype.transitioned=function(t,e){return new pc(this.property,this.value,e,f({},t.transition,this.transition),t.now)},hc.prototype.untransitioned=function(){return new pc(this.property,this.value,null,{},0)};var dc=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};dc.prototype.getValue=function(t){return w(this._values[t].value.value)},dc.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new hc(this._values[t].property)),this._values[t].value=new cc(this._values[t].property,null===e?void 0:w(e))},dc.prototype.getTransition=function(t){return w(this._values[t].transition)},dc.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new hc(this._values[t].property)),this._values[t].transition=w(e)||void 0},dc.prototype.serialize=function(){for(var t=this,e={},i=0,n=Object.keys(t._values);i<n.length;i+=1){var o=n[i],r=t.getValue(o);void 0!==r&&(e[o]=r);var a=t.getTransition(o);void 0!==a&&(e[o+"-transition"]=a)}return e},dc.prototype.transitioned=function(t,e){for(var i=this,n=new fc(this._properties),o=0,r=Object.keys(i._values);o<r.length;o+=1){var a=r[o];n._values[a]=i._values[a].transitioned(t,e._values[a])}return n},dc.prototype.untransitioned=function(){for(var t=this,e=new fc(this._properties),i=0,n=Object.keys(t._values);i<n.length;i+=1){var o=n[i];e._values[o]=t._values[o].untransitioned()}return e};var pc=function(t,e,i,n,o){this.property=t,this.value=e,this.begin=o+n.delay||0,this.end=this.begin+n.duration||0,t.specification.transition&&(n.delay||n.duration)&&(this.prior=i)};pc.prototype.possiblyEvaluate=function(t){var e=t.now||0,i=this.value.possiblyEvaluate(t),n=this.prior;if(n){if(e>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(e<this.begin)return n.possiblyEvaluate(t);var o=(e-this.begin)/(this.end-this.begin);return this.property.interpolate(n.possiblyEvaluate(t),i,s(o))}return i};var fc=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};fc.prototype.possiblyEvaluate=function(t){for(var e=this,i=new vc(this._properties),n=0,o=Object.keys(e._values);n<o.length;n+=1){var r=o[n];i._values[r]=e._values[r].possiblyEvaluate(t)}return i},fc.prototype.hasTransition=function(){for(var t=this,e=0,i=Object.keys(t._values);e<i.length;e+=1){var n=i[e];if(t._values[n].prior)return!0}return!1};var mc=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};mc.prototype.getValue=function(t){return w(this._values[t].value)},mc.prototype.setValue=function(t,e){this._values[t]=new cc(this._values[t].property,null===e?void 0:w(e))},mc.prototype.serialize=function(){for(var t=this,e={},i=0,n=Object.keys(t._values);i<n.length;i+=1){var o=n[i],r=t.getValue(o);void 0!==r&&(e[o]=r)}return e},mc.prototype.possiblyEvaluate=function(t){for(var e=this,i=new vc(this._properties),n=0,o=Object.keys(e._values);n<o.length;n+=1){var r=o[n];i._values[r]=e._values[r].possiblyEvaluate(t)}return i};var gc=function(t,e,i){this.property=t,this.value=e,this.globals=i};gc.prototype.isConstant=function(){return"constant"===this.value.kind},gc.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},gc.prototype.evaluate=function(t,e){return this.property.evaluate(this.value,this.globals,t,e)};var vc=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};vc.prototype.get=function(t){return this._values[t]};var yc=function(t){this.specification=t};yc.prototype.possiblyEvaluate=function(t,e){return Ds(!t.isDataDriven()),t.expression.evaluate(e)},yc.prototype.interpolate=function(t,e,i){var n=fu[this.specification.type];return n?n(t,e,i):t};var _c=function(t){this.specification=t};_c.prototype.possiblyEvaluate=function(t,e){return"constant"===t.expression.kind||"camera"===t.expression.kind?new gc(this,{kind:"constant",value:t.expression.evaluate(e)},e):new gc(this,t.expression,e)},_c.prototype.interpolate=function(t,e,i){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new gc(this,{kind:"constant",value:void 0},t.globals);var n=fu[this.specification.type];return n?new gc(this,{kind:"constant",value:n(t.value.value,e.value.value,i)},t.globals):t},_c.prototype.evaluate=function(t,e,i,n){return"constant"===t.kind?t.value:t.evaluate(e,i,n)};var bc=function(t){this.specification=t};bc.prototype.possiblyEvaluate=function(t,e){if(void 0!==t.value){if("constant"===t.expression.kind){var i=t.expression.evaluate(e);return this._calculate(i,i,i,e)}return Ds(!t.isDataDriven()),this._calculate(t.expression.evaluate(new uc(Math.floor(e.zoom-1),e)),t.expression.evaluate(new uc(Math.floor(e.zoom),e)),t.expression.evaluate(new uc(Math.floor(e.zoom+1),e)),e)}},bc.prototype._calculate=function(t,e,i,n){var o=n.zoom,r=o-Math.floor(o),a=n.crossFadingFactor();return o>n.zoomHistory.lastIntegerZoom?{from:t,to:e,fromScale:2,toScale:1,t:r+(1-r)*a}:{from:i,to:e,fromScale:.5,toScale:1,t:1-(1-a)*r}},bc.prototype.interpolate=function(t){return t};var xc=function(t){this.specification=t};xc.prototype.possiblyEvaluate=function(t,e){return!!t.expression.evaluate(e)},xc.prototype.interpolate=function(){return!1};var wc=function(t){var e=this;this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={};for(var i in t){var n=t[i],o=e.defaultPropertyValues[i]=new cc(n,void 0),r=e.defaultTransitionablePropertyValues[i]=new hc(n);e.defaultTransitioningPropertyValues[i]=r.untransitioned(),e.defaultPossiblyEvaluatedValues[i]=o.possiblyEvaluate({})}};Ae("DataDrivenProperty",_c),Ae("DataConstantProperty",yc),Ae("CrossFadedProperty",bc),Ae("ColorRampProperty",xc);var kc="-transition",Cc=function(t){function e(e,i){var n=this;t.call(this),this.id=e.id,this.metadata=e.metadata,this.type=e.type,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,this.visibility="visible","background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),this._featureFilter=function(){return!0},i.layout&&(this._unevaluatedLayout=new mc(i.layout)),this._transitionablePaint=new dc(i.paint);for(var o in e.paint)n.setPaintProperty(o,e.paint[o],{validate:!1});for(var r in e.layout)n.setLayoutProperty(r,e.layout[r],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,i){if(null!==e&&void 0!==e){var n="layers."+this.id+".layout."+t;if(this._validate(Uu,n,t,e,i))return}return"visibility"===t?void(this.visibility="none"===e?e:"visible"):void this._unevaluatedLayout.setValue(t,e)},e.prototype.getPaintProperty=function(t){return _(t,kc)?this._transitionablePaint.getTransition(t.slice(0,-kc.length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,i){if(null!==e&&void 0!==e){var n="layers."+this.id+".paint."+t;if(this._validate(Vu,n,t,e,i))return!1}if(_(t,kc))return this._transitionablePaint.setTransition(t.slice(0,-kc.length),e||void 0),!1;var o=this._transitionablePaint._values[t].value.isDataDriven();this._transitionablePaint.setValue(t,e);var r=this._transitionablePaint._values[t].value.isDataDriven();return this._handleSpecialPaintPropertyUpdate(t),r||o},e.prototype._handleSpecialPaintPropertyUpdate=function(){},e.prototype.isHidden=function(t){return this.minzoom&&t<this.minzoom?!0:this.maxzoom&&t>=this.maxzoom?!0:"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t)),this.paint=this._transitioningPaint.possiblyEvaluate(t)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return"none"===this.visibility&&(t.layout=t.layout||{},t.layout.visibility="none"),x(t,function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)})},e.prototype._validate=function(t,e,i,n,o){return o&&o.validate===!1?!1:Se(this,t.call(Wu,{key:e,layerType:this.type,objectKey:i,value:n,styleSpec:zl,style:{glyphs:!0,sprite:!0}}))},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){var t=this;for(var e in t.paint._values){var i=t.paint.get(e);if(i instanceof gc&&gt(i.property.specification)&&("source"===i.value.kind||"composite"===i.value.kind)&&i.value.isStateDependent)return!0}return!1},e}(Ks),Sc={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Tc=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ac=128,Ec=5,Mc=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Mc.serialize=function(t,e){return Ds(!t.isTransferred),t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},Mc.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},Mc.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Mc.prototype.clear=function(){this.length=0},Mc.prototype.resize=function(t){Ds(!this.isTransferred),this.reserve(t),this.length=t},Mc.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(this.capacity*Ec),Ac),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},Mc.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Dc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var i=this.length;this.resize(i+1);var n=2*i;return this.int16[n+0]=t,this.int16[n+1]=e,i},e.prototype.emplace=function(t,e,i){var n=2*t;return this.int16[n+0]=e,this.int16[n+1]=i,t},e}(Mc);Dc.prototype.bytesPerElement=4,Ae("StructArrayLayout2i4",Dc);var Ic=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,n){var o=this.length;this.resize(o+1);var r=4*o;return this.int16[r+0]=t,this.int16[r+1]=e,this.int16[r+2]=i,this.int16[r+3]=n,o},e.prototype.emplace=function(t,e,i,n,o){var r=4*t;return this.int16[r+0]=e,this.int16[r+1]=i,this.int16[r+2]=n,this.int16[r+3]=o,t},e}(Mc);Ic.prototype.bytesPerElement=8,Ae("StructArrayLayout4i8",Ic);var Pc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,n,o,r){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=t,this.int16[s+1]=e,this.int16[s+2]=i,this.int16[s+3]=n,this.int16[s+4]=o,this.int16[s+5]=r,a},e.prototype.emplace=function(t,e,i,n,o,r,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=i,this.int16[s+2]=n,this.int16[s+3]=o,this.int16[s+4]=r,this.int16[s+5]=a,t},e}(Mc);Pc.prototype.bytesPerElement=12,Ae("StructArrayLayout2i4i12",Pc);var Lc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,n,o,r,a,s){var l=this.length;this.resize(l+1);var u=6*l,c=12*l;return this.int16[u+0]=t,this.int16[u+1]=e,this.int16[u+2]=i,this.int16[u+3]=n,this.uint8[c+8]=o,
this.uint8[c+9]=r,this.uint8[c+10]=a,this.uint8[c+11]=s,l},e.prototype.emplace=function(t,e,i,n,o,r,a,s,l){var u=6*t,c=12*t;return this.int16[u+0]=e,this.int16[u+1]=i,this.int16[u+2]=n,this.int16[u+3]=o,this.uint8[c+8]=r,this.uint8[c+9]=a,this.uint8[c+10]=s,this.uint8[c+11]=l,t},e}(Mc);Lc.prototype.bytesPerElement=12,Ae("StructArrayLayout4i4ub12",Lc);var Oc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,n,o,r,a,s){var l=this.length;this.resize(l+1);var u=8*l;return this.int16[u+0]=t,this.int16[u+1]=e,this.int16[u+2]=i,this.int16[u+3]=n,this.uint16[u+4]=o,this.uint16[u+5]=r,this.uint16[u+6]=a,this.uint16[u+7]=s,l},e.prototype.emplace=function(t,e,i,n,o,r,a,s,l){var u=8*t;return this.int16[u+0]=e,this.int16[u+1]=i,this.int16[u+2]=n,this.int16[u+3]=o,this.uint16[u+4]=r,this.uint16[u+5]=a,this.uint16[u+6]=s,this.uint16[u+7]=l,t},e}(Mc);Oc.prototype.bytesPerElement=16,Ae("StructArrayLayout4i4ui16",Oc);var zc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i){var n=this.length;this.resize(n+1);var o=3*n;return this.float32[o+0]=t,this.float32[o+1]=e,this.float32[o+2]=i,n},e.prototype.emplace=function(t,e,i,n){var o=3*t;return this.float32[o+0]=e,this.float32[o+1]=i,this.float32[o+2]=n,t},e}(Mc);zc.prototype.bytesPerElement=12,Ae("StructArrayLayout3f12",zc);var Rc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var i=1*e;return this.uint32[i+0]=t,e},e.prototype.emplace=function(t,e){var i=1*t;return this.uint32[i+0]=e,t},e}(Mc);Rc.prototype.bytesPerElement=4,Ae("StructArrayLayout1ul4",Rc);var Nc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,n,o,r,a,s,l,u,c){var h=this.length;this.resize(h+1);var d=12*h,p=6*h;return this.int16[d+0]=t,this.int16[d+1]=e,this.int16[d+2]=i,this.int16[d+3]=n,this.int16[d+4]=o,this.int16[d+5]=r,this.uint32[p+3]=a,this.uint16[d+8]=s,this.uint16[d+9]=l,this.int16[d+10]=u,this.int16[d+11]=c,h},e.prototype.emplace=function(t,e,i,n,o,r,a,s,l,u,c,h){var d=12*t,p=6*t;return this.int16[d+0]=e,this.int16[d+1]=i,this.int16[d+2]=n,this.int16[d+3]=o,this.int16[d+4]=r,this.int16[d+5]=a,this.uint32[p+3]=s,this.uint16[d+8]=l,this.uint16[d+9]=u,this.int16[d+10]=c,this.int16[d+11]=h,t},e}(Mc);Nc.prototype.bytesPerElement=24,Ae("StructArrayLayout6i1ul2ui2i24",Nc);var $c=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,n,o,r){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=t,this.int16[s+1]=e,this.int16[s+2]=i,this.int16[s+3]=n,this.int16[s+4]=o,this.int16[s+5]=r,a},e.prototype.emplace=function(t,e,i,n,o,r,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=i,this.int16[s+2]=n,this.int16[s+3]=o,this.int16[s+4]=r,this.int16[s+5]=a,t},e}(Mc);$c.prototype.bytesPerElement=12,Ae("StructArrayLayout2i2i2i12",$c);var Fc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var i=this.length;this.resize(i+1);var n=4*i;return this.uint8[n+0]=t,this.uint8[n+1]=e,i},e.prototype.emplace=function(t,e,i){var n=4*t;return this.uint8[n+0]=e,this.uint8[n+1]=i,t},e}(Mc);Fc.prototype.bytesPerElement=4,Ae("StructArrayLayout2ub4",Fc);var Bc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,n,o,r,a,s,l,u,c,h,d,p){var f=this.length;this.resize(f+1);var m=20*f,g=10*f,v=40*f;return this.int16[m+0]=t,this.int16[m+1]=e,this.uint16[m+2]=i,this.uint16[m+3]=n,this.uint32[g+2]=o,this.uint32[g+3]=r,this.uint32[g+4]=a,this.uint16[m+10]=s,this.uint16[m+11]=l,this.uint16[m+12]=u,this.float32[g+7]=c,this.float32[g+8]=h,this.uint8[v+36]=d,this.uint8[v+37]=p,f},e.prototype.emplace=function(t,e,i,n,o,r,a,s,l,u,c,h,d,p,f){var m=20*t,g=10*t,v=40*t;return this.int16[m+0]=e,this.int16[m+1]=i,this.uint16[m+2]=n,this.uint16[m+3]=o,this.uint32[g+2]=r,this.uint32[g+3]=a,this.uint32[g+4]=s,this.uint16[m+10]=l,this.uint16[m+11]=u,this.uint16[m+12]=c,this.float32[g+7]=h,this.float32[g+8]=d,this.uint8[v+36]=p,this.uint8[v+37]=f,t},e}(Mc);Bc.prototype.bytesPerElement=40,Ae("StructArrayLayout2i2ui3ul3ui2f2ub40",Bc);var jc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var i=1*e;return this.float32[i+0]=t,e},e.prototype.emplace=function(t,e){var i=1*t;return this.float32[i+0]=e,t},e}(Mc);jc.prototype.bytesPerElement=4,Ae("StructArrayLayout1f4",jc);var Hc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i){var n=this.length;this.resize(n+1);var o=3*n;return this.int16[o+0]=t,this.int16[o+1]=e,this.int16[o+2]=i,n},e.prototype.emplace=function(t,e,i,n){var o=3*t;return this.int16[o+0]=e,this.int16[o+1]=i,this.int16[o+2]=n,t},e}(Mc);Hc.prototype.bytesPerElement=6,Ae("StructArrayLayout3i6",Hc);var Wc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i){var n=this.length;this.resize(n+1);var o=2*n,r=4*n;return this.uint32[o+0]=t,this.uint16[r+2]=e,this.uint16[r+3]=i,n},e.prototype.emplace=function(t,e,i,n){var o=2*t,r=4*t;return this.uint32[o+0]=e,this.uint16[r+2]=i,this.uint16[r+3]=n,t},e}(Mc);Wc.prototype.bytesPerElement=8,Ae("StructArrayLayout1ul2ui8",Wc);var qc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i){var n=this.length;this.resize(n+1);var o=3*n;return this.uint16[o+0]=t,this.uint16[o+1]=e,this.uint16[o+2]=i,n},e.prototype.emplace=function(t,e,i,n){var o=3*t;return this.uint16[o+0]=e,this.uint16[o+1]=i,this.uint16[o+2]=n,t},e}(Mc);qc.prototype.bytesPerElement=6,Ae("StructArrayLayout3ui6",qc);var Vc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var i=this.length;this.resize(i+1);var n=2*i;return this.uint16[n+0]=t,this.uint16[n+1]=e,i},e.prototype.emplace=function(t,e,i){var n=2*t;return this.uint16[n+0]=e,this.uint16[n+1]=i,t},e}(Mc);Vc.prototype.bytesPerElement=4,Ae("StructArrayLayout2ui4",Vc);var Uc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var i=this.length;this.resize(i+1);var n=2*i;return this.float32[n+0]=t,this.float32[n+1]=e,i},e.prototype.emplace=function(t,e,i){var n=2*t;return this.float32[n+0]=e,this.float32[n+1]=i,t},e}(Mc);Uc.prototype.bytesPerElement=8,Ae("StructArrayLayout2f8",Uc);var Yc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,n){var o=this.length;this.resize(o+1);var r=4*o;return this.float32[r+0]=t,this.float32[r+1]=e,this.float32[r+2]=i,this.float32[r+3]=n,o},e.prototype.emplace=function(t,e,i,n,o){var r=4*t;return this.float32[r+0]=e,this.float32[r+1]=i,this.float32[r+2]=n,this.float32[r+3]=o,t},e}(Mc);Yc.prototype.bytesPerElement=16,Ae("StructArrayLayout4f16",Yc);var Gc=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return i.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},i.anchorPointX.set=function(t){this._structArray.int16[this._pos2+0]=t},i.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},i.anchorPointY.set=function(t){this._structArray.int16[this._pos2+1]=t},i.x1.get=function(){return this._structArray.int16[this._pos2+2]},i.x1.set=function(t){this._structArray.int16[this._pos2+2]=t},i.y1.get=function(){return this._structArray.int16[this._pos2+3]},i.y1.set=function(t){this._structArray.int16[this._pos2+3]=t},i.x2.get=function(){return this._structArray.int16[this._pos2+4]},i.x2.set=function(t){this._structArray.int16[this._pos2+4]=t},i.y2.get=function(){return this._structArray.int16[this._pos2+5]},i.y2.set=function(t){this._structArray.int16[this._pos2+5]=t},i.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},i.featureIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},i.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},i.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},i.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},i.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},i.radius.get=function(){return this._structArray.int16[this._pos2+10]},i.radius.set=function(t){this._structArray.int16[this._pos2+10]=t},i.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},i.signedDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+11]=t},i.anchorPoint.get=function(){return new $s(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,i),e}(Tc);Gc.prototype.size=24;var Xc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return Ds(!this.isTransferred),new Gc(this,t)},e}(Nc);Ae("CollisionBoxArray",Xc);var Zc=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},hidden:{configurable:!0}};return i.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},i.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},i.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},i.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},i.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},i.glyphStartIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},i.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},i.numGlyphs.set=function(t){this._structArray.uint16[this._pos2+3]=t},i.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},i.vertexStartIndex.set=function(t){this._structArray.uint32[this._pos4+2]=t},i.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},i.lineStartIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},i.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},i.lineLength.set=function(t){this._structArray.uint32[this._pos4+4]=t},i.segment.get=function(){return this._structArray.uint16[this._pos2+10]},i.segment.set=function(t){this._structArray.uint16[this._pos2+10]=t},i.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},i.lowerSize.set=function(t){this._structArray.uint16[this._pos2+11]=t},i.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},i.upperSize.set=function(t){this._structArray.uint16[this._pos2+12]=t},i.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},i.lineOffsetX.set=function(t){this._structArray.float32[this._pos4+7]=t},i.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},i.lineOffsetY.set=function(t){this._structArray.float32[this._pos4+8]=t},i.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},i.writingMode.set=function(t){this._structArray.uint8[this._pos1+36]=t},i.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},i.hidden.set=function(t){this._structArray.uint8[this._pos1+37]=t},Object.defineProperties(e.prototype,i),e}(Tc);Zc.prototype.size=40;var Kc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return Ds(!this.isTransferred),new Zc(this,t)},e}(Bc);Ae("PlacedSymbolArray",Kc);var Jc=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={offsetX:{configurable:!0}};return i.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},i.offsetX.set=function(t){this._structArray.float32[this._pos4+0]=t},Object.defineProperties(e.prototype,i),e}(Tc);Jc.prototype.size=4;var Qc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e.prototype.get=function(t){return Ds(!this.isTransferred),new Jc(this,t)},e}(jc);Ae("GlyphOffsetArray",Qc);var th=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return i.x.get=function(){return this._structArray.int16[this._pos2+0]},i.x.set=function(t){this._structArray.int16[this._pos2+0]=t},i.y.get=function(){return this._structArray.int16[this._pos2+1]},i.y.set=function(t){this._structArray.int16[this._pos2+1]=t},i.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},i.tileUnitDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+2]=t},Object.defineProperties(e.prototype,i),e}(Tc);th.prototype.size=6;var eh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e.prototype.get=function(t){return Ds(!this.isTransferred),new th(this,t)},e}(Hc);Ae("SymbolLineVertexArray",eh);var ih=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return i.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},i.featureIndex.set=function(t){this._structArray.uint32[this._pos4+0]=t},i.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},i.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},i.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},i.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+3]=t},Object.defineProperties(e.prototype,i),e}(Tc);ih.prototype.size=8;var nh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return Ds(!this.isTransferred),new ih(this,t)},e}(Wc);Ae("FeatureIndexArray",nh);var oh=Fe([{name:"a_pos",components:2,type:"Int16"}],4),rh=oh.members,ah=(oh.size,oh.alignment,function(t){void 0===t&&(t=[]),this.segments=t});ah.prototype.prepareSegment=function(t,e,i){var n=this.segments[this.segments.length-1];return t>ah.MAX_VERTEX_ARRAY_LENGTH&&C("Max vertices per segment is "+ah.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!n||n.vertexLength+t>ah.MAX_VERTEX_ARRAY_LENGTH)&&(n={vertexOffset:e.length,primitiveOffset:i.length,vertexLength:0,primitiveLength:0},this.segments.push(n)),n},ah.prototype.get=function(){return this.segments},ah.prototype.destroy=function(){for(var t=this,e=0,i=t.segments;e<i.length;e+=1){var n=i[e];for(var o in n.vaos)n.vaos[o].destroy()}},ah.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ae("SegmentVector",ah);var sh=function(t,e){return t=u(Math.floor(t),0,255),e=u(Math.floor(e),0,255),256*t+e},lh=function(t,e,i){this.value=t,this.name=e,this.type=i,this.statistics={max:-(1/0)}};lh.prototype.defines=function(){return["#define HAS_UNIFORM_u_"+this.name]},lh.prototype.populatePaintArray=function(){},lh.prototype.updatePaintArray=function(){},lh.prototype.upload=function(){},lh.prototype.destroy=function(){},lh.prototype.setUniforms=function(t,e,i,n){var o=n.constantOr(this.value),r=t.gl;"color"===this.type?r.uniform4f(e.uniforms["u_"+this.name],o.r,o.g,o.b,o.a):r.uniform1f(e.uniforms["u_"+this.name],o)};var uh=function(t,e,i){this.expression=t,this.name=e,this.type=i,this.statistics={max:-(1/0)};var n="color"===i?Uc:jc;this.paintVertexAttributes=[{name:"a_"+e,type:"Float32",components:"color"===i?2:1,offset:0}],this.paintVertexArray=new n};uh.prototype.defines=function(){return[]},uh.prototype.populatePaintArray=function(t,e){var i=this.paintVertexArray,n=i.length;i.reserve(t);var o=this.expression.evaluate(new uc(0),e,{});if("color"===this.type)for(var r=He(o),a=n;t>a;a++)i.emplaceBack(r[0],r[1]);else{for(var s=n;t>s;s++)i.emplaceBack(o);this.statistics.max=Math.max(this.statistics.max,o)}},uh.prototype.updatePaintArray=function(t,e,i,n){var o=this.paintVertexArray,r=this.expression.evaluate({zoom:0},i,n);if("color"===this.type)for(var a=He(r),s=t;e>s;s++)o.emplace(s,a[0],a[1]);else{for(var l=t;e>l;l++)o.emplace(l,r);this.statistics.max=Math.max(this.statistics.max,r)}},uh.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},uh.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},uh.prototype.setUniforms=function(t,e){t.gl.uniform1f(e.uniforms["a_"+this.name+"_t"],0)};var ch=function(t,e,i,n,o){this.expression=t,this.name=e,this.type=i,this.useIntegerZoom=n,this.zoom=o,this.statistics={max:-(1/0)};var r="color"===i?Yc:Uc;this.paintVertexAttributes=[{name:"a_"+e,type:"Float32",components:"color"===i?4:2,offset:0}],this.paintVertexArray=new r};ch.prototype.defines=function(){return[]},ch.prototype.populatePaintArray=function(t,e){var i=this.paintVertexArray,n=i.length;i.reserve(t);var o=this.expression.evaluate(new uc(this.zoom),e,{}),r=this.expression.evaluate(new uc(this.zoom+1),e,{});if("color"===this.type)for(var a=He(o),s=He(r),l=n;t>l;l++)i.emplaceBack(a[0],a[1],s[0],s[1]);else{for(var u=n;t>u;u++)i.emplaceBack(o,r);this.statistics.max=Math.max(this.statistics.max,o,r)}},ch.prototype.updatePaintArray=function(t,e,i,n){var o=this.paintVertexArray,r=this.expression.evaluate({zoom:this.zoom},i,n),a=this.expression.evaluate({zoom:this.zoom+1},i,n);if("color"===this.type)for(var s=He(r),l=He(a),u=t;e>u;u++)o.emplace(u,s[0],s[1],l[0],l[1]);else{for(var c=t;e>c;c++)o.emplace(c,r,a);this.statistics.max=Math.max(this.statistics.max,r,a)}},ch.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ch.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ch.prototype.interpolationFactor=function(t){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(t),this.zoom,this.zoom+1):this.expression.interpolationFactor(t,this.zoom,this.zoom+1)},ch.prototype.setUniforms=function(t,e,i){t.gl.uniform1f(e.uniforms["a_"+this.name+"_t"],this.interpolationFactor(i.zoom))};var hh=function(){this.binders={},this.cacheKey="",this._buffers=[],this._idMap={},this._bufferOffset=0};hh.createDynamic=function(t,e,i){var n=new hh,o=[];for(var r in t.paint._values)if(i(r)){var a=t.paint.get(r);if(a instanceof gc&&gt(a.property.specification)){var s=We(r,t.type),l=a.property.specification.type,u=a.property.useIntegerZoom;"constant"===a.value.kind?(n.binders[r]=new lh(a.value,s,l),o.push("/u_"+s)):"source"===a.value.kind?(n.binders[r]=new uh(a.value,s,l),o.push("/a_"+s)):(n.binders[r]=new ch(a.value,s,l,u,e),o.push("/z_"+s))}}return n.cacheKey=o.sort().join(""),n},hh.prototype.populatePaintArrays=function(t,e,i){var n=this;for(var o in n.binders)n.binders[o].populatePaintArray(t,e);if(e.id){var r=String(e.id);this._idMap[r]=this._idMap[r]||[],this._idMap[r].push({index:i,start:this._bufferOffset,end:t})}this._bufferOffset=t},hh.prototype.updatePaintArrays=function(t,e,i){var n=this,o=!1;for(var r in t){var a=n._idMap[r];if(a)for(var s=t[r],l=0,u=a;l<u.length;l+=1){var c=u[l],h=e.feature(c.index);for(var d in n.binders){var p=n.binders[d];if(!(p instanceof lh)&&p.expression.isStateDependent===!0){var f=i.paint.get(d);p.expression=f.value,p.updatePaintArray(c.start,c.end,h,s),o=!0}}}}return o},hh.prototype.defines=function(){var t=this,e=[];for(var i in t.binders)e.push.apply(e,t.binders[i].defines());return e},hh.prototype.setUniforms=function(t,e,i,n){var o=this;for(var r in o.binders){var a=o.binders[r];a.setUniforms(t,e,n,i.get(r))}},hh.prototype.getPaintVertexBuffers=function(){return this._buffers},hh.prototype.upload=function(t){var e=this;for(var i in e.binders)e.binders[i].upload(t);var n=[];for(var o in e.binders){var r=e.binders[o];(r instanceof uh||r instanceof ch)&&r.paintVertexBuffer&&n.push(r.paintVertexBuffer)}this._buffers=n},hh.prototype.destroy=function(){var t=this;for(var e in t.binders)t.binders[e].destroy()};var dh=function(t,e,i,n){var o=this;void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var r=0,a=e;r<a.length;r+=1){var s=a[r];o.programConfigurations[s.id]=hh.createDynamic(s,i,n),o.programConfigurations[s.id].layoutAttributes=t}this.needsUpload=!1};dh.prototype.populatePaintArrays=function(t,e,i){var n=this;for(var o in n.programConfigurations)n.programConfigurations[o].populatePaintArrays(t,e,i);this.needsUpload=!0},dh.prototype.updatePaintArrays=function(t,e,i){for(var n=this,o=0,r=i;o<r.length;o+=1){var a=r[o];n.needsUpload=n.programConfigurations[a.id].updatePaintArrays(t,e,a)||n.needsUpload}},dh.prototype.get=function(t){return this.programConfigurations[t]},dh.prototype.upload=function(t){var e=this;if(this.needsUpload){for(var i in e.programConfigurations)e.programConfigurations[i].upload(t);this.needsUpload=!1}},dh.prototype.destroy=function(){var t=this;for(var e in t.programConfigurations)t.programConfigurations[e].destroy()},Ae("ConstantBinder",lh),Ae("SourceExpressionBinder",uh),Ae("CompositeExpressionBinder",ch),Ae("ProgramConfiguration",hh,{omit:["_buffers"]}),Ae("ProgramConfigurationSet",dh);var ph=8192,fh=qe(16),mh=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new Dc,this.indexArray=new qc,this.segments=new ah,this.programConfigurations=new dh(rh,t.layers,t.zoom)};mh.prototype.populate=function(t,e){for(var i=this,n=0,o=t;n<o.length;n+=1){var r=o[n],a=r.feature,s=r.index,l=r.sourceLayerIndex;if(i.layers[0]._featureFilter(new uc(i.zoom),a)){var u=Ve(a);i.addFeature(a,u,s),e.featureIndex.insert(a,u,s,l,i.index)}}},mh.prototype.update=function(t,e){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers)},mh.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},mh.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},mh.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,rh),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},mh.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},mh.prototype.addFeature=function(t,e,i){for(var n=this,o=0,r=e;o<r.length;o+=1)for(var a=r[o],s=0,l=a;s<l.length;s+=1){var u=l[s],c=u.x,h=u.y;if(!(0>c||c>=ph||0>h||h>=ph)){var d=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),p=d.vertexLength;Ue(n.layoutVertexArray,c,h,-1,-1),Ue(n.layoutVertexArray,c,h,1,-1),Ue(n.layoutVertexArray,c,h,1,1),Ue(n.layoutVertexArray,c,h,-1,1),n.indexArray.emplaceBack(p,p+1,p+2),n.indexArray.emplaceBack(p,p+3,p+2),d.vertexLength+=4,d.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i)},Ae("CircleBucket",mh,{omit:["layers"]});var gh=new wc({"circle-radius":new _c(zl.paint_circle["circle-radius"]),"circle-color":new _c(zl.paint_circle["circle-color"]),"circle-blur":new _c(zl.paint_circle["circle-blur"]),"circle-opacity":new _c(zl.paint_circle["circle-opacity"]),"circle-translate":new yc(zl.paint_circle["circle-translate"]),"circle-translate-anchor":new yc(zl.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new yc(zl.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new yc(zl.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new _c(zl.paint_circle["circle-stroke-width"]),"circle-stroke-color":new _c(zl.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new _c(zl.paint_circle["circle-stroke-opacity"])}),vh={paint:gh},yh=1e-6,_h="undefined"!=typeof Float32Array?Float32Array:Array,bh=Math.random,xh=(Math.PI/180,yi),wh=Ai,kh=Wi,Ch=on,Sh=_n,Th=Xn,Ah=so,Eh=lo,Mh=uo,Dh=yo,Ih=_o,Ph=io,Lh=bo,Oh=function(){var t=to();return function(e,i,n,o,r,a){var s,l;for(i||(i=3),n||(n=0),l=o?Math.min(o*i+n,e.length):e.length,s=n;l>s;s+=i)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],r(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),zh=Uo,Rh=Yo,Nh=Go,$h=ir,Fh=nr,Bh=or,jh=rr,Hh=function(){var t=Bo();return function(e,i,n,o,r,a){var s,l;for(i||(i=4),n||(n=0),l=o?Math.min(o*i+n,e.length):e.length,s=n;l>s;s+=i)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],r(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),Wh=lr,qh=(function(){var t=to(),e=no(1,0,0),i=no(0,1,0);return function(n,o,r){var a=Co(o,r);return-.999999>a?(So(t,e,o),Ph(t)<1e-6&&So(t,i,o),ko(t,t),yr(n,t,Math.PI),n):a>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(So(t,o,r),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+a,Wh(n,n))}}(),function(){var t=vr(),e=vr();return function(i,n,o,r,a,s){return _r(t,n,a,s),_r(e,o,r,s),_r(i,t,e,2*s*(1-s)),i}}(),function(){var t=Pi();return function(e,i,n,o){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=o[0],t[4]=o[1],t[7]=o[2],t[2]=-i[0],t[5]=-i[1],t[8]=-i[2],Wh(e,br(e,t))}}(),function(){var t=xr();return function(e,i,n,o,r,a){var s,l;for(i||(i=2),n||(n=0),l=o?Math.min(o*i+n,e.length):e.length,s=n;l>s;s+=i)t[0]=e[s],t[1]=e[s+1],r(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}(),function(t){function e(e){t.call(this,e,vh)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new mh(t)},e.prototype.queryRadius=function(t){var e=t;return ri("circle-radius",this,e)+ri("circle-stroke-width",this,e)+ai(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,i,n,o,r,a,s){for(var l=this,u=si(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),r.angle,a),c=this.paint.get("circle-radius").evaluate(e,i),h=this.paint.get("circle-stroke-width").evaluate(e,i),d=c+h,p="map"===this.paint.get("circle-pitch-alignment"),f=p?u:kr(u,s,r),m=p?d*a:d,g=0,v=n;g<v.length;g+=1)for(var y=v[g],_=0,b=y;_<b.length;_+=1){var x=b[_],w=p?x:wr(x,s,r),k=m,C=dr([],[x.x,x.y,0,1],s);if("viewport"===l.paint.get("circle-pitch-scale")&&"map"===l.paint.get("circle-pitch-alignment")?k*=C[3]/r.cameraToCenterDistance:"map"===l.paint.get("circle-pitch-scale")&&"viewport"===l.paint.get("circle-pitch-alignment")&&(k*=r.cameraToCenterDistance/C[3]),Ge(f,w,k))return!0}return!1},e}(Cc)),Vh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(mh);Ae("HeatmapBucket",Vh,{omit:["layers"]});var Uh=function(t,e){Cr(this,t,1,e)};Uh.prototype.resize=function(t){Sr(this,t,1)},Uh.prototype.clone=function(){return new Uh({width:this.width,height:this.height},new Uint8Array(this.data))},Uh.copy=function(t,e,i,n,o){Tr(t,e,i,n,o,1)};var Yh=function(t,e){Cr(this,t,4,e)};Yh.prototype.resize=function(t){Sr(this,t,4)},Yh.prototype.clone=function(){return new Yh({width:this.width,height:this.height},new Uint8Array(this.data))},Yh.copy=function(t,e,i,n,o){Tr(t,e,i,n,o,4)},Ae("AlphaImage",Uh),Ae("RGBAImage",Yh);var Gh=new wc({"heatmap-radius":new _c(zl.paint_heatmap["heatmap-radius"]),"heatmap-weight":new _c(zl.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new yc(zl.paint_heatmap["heatmap-intensity"]),"heatmap-color":new xc(zl.paint_heatmap["heatmap-color"]),"heatmap-opacity":new yc(zl.paint_heatmap["heatmap-opacity"])}),Xh={paint:Gh},Zh=function(t){function e(e){t.call(this,e,Xh),this._updateColorRamp()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new Vh(t)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp();
},e.prototype._updateColorRamp=function(){var t=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Ar(t,"heatmapDensity"),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(Cc),Kh=new wc({"hillshade-illumination-direction":new yc(zl.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new yc(zl.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new yc(zl.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new yc(zl.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new yc(zl.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new yc(zl.paint_hillshade["hillshade-accent-color"])}),Jh={paint:Kh},Qh=function(t){function e(e){t.call(this,e,Jh)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(Cc),td=Fe([{name:"a_pos",components:2,type:"Int16"}],4),ed=td.members,id=(td.size,td.alignment,Er),nd=Er;Er.deviation=function(t,e,i,n){var o=e&&e.length,r=o?e[0]*i:t.length,a=Math.abs(ia(t,0,r,i));if(o)for(var s=0,l=e.length;l>s;s++){var u=e[s]*i,c=l-1>s?e[s+1]*i:t.length;a-=Math.abs(ia(t,u,c,i))}var h=0;for(s=0;s<n.length;s+=3){var d=n[s]*i,p=n[s+1]*i,f=n[s+2]*i;h+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},Er.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,o=0;o<t.length;o++){for(var r=0;r<t[o].length;r++)for(var a=0;e>a;a++)i.vertices.push(t[o][r][a]);o>0&&(n+=t[o-1].length,i.holes.push(n))}return i},id["default"]=nd;var od=na,rd=na;od["default"]=rd;var ad=500,sd=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new Dc,this.indexArray=new qc,this.indexArray2=new Vc,this.programConfigurations=new dh(ed,t.layers,t.zoom),this.segments=new ah,this.segments2=new ah};sd.prototype.populate=function(t,e){for(var i=this,n=0,o=t;n<o.length;n+=1){var r=o[n],a=r.feature,s=r.index,l=r.sourceLayerIndex;if(i.layers[0]._featureFilter(new uc(i.zoom),a)){var u=Ve(a);i.addFeature(a,u,s),e.featureIndex.insert(a,u,s,l,i.index)}}},sd.prototype.update=function(t,e){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers)},sd.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},sd.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},sd.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ed),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},sd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},sd.prototype.addFeature=function(t,e,i){for(var n=this,o=0,r=sa(e,ad);o<r.length;o+=1){for(var a=r[o],s=0,l=0,u=a;l<u.length;l+=1){var c=u[l];s+=c.length}for(var h=n.segments.prepareSegment(s,n.layoutVertexArray,n.indexArray),d=h.vertexLength,p=[],f=[],m=0,g=a;m<g.length;m+=1){var v=g[m];if(0!==v.length){v!==a[0]&&f.push(p.length/2);var y=n.segments2.prepareSegment(v.length,n.layoutVertexArray,n.indexArray2),_=y.vertexLength;n.layoutVertexArray.emplaceBack(v[0].x,v[0].y),n.indexArray2.emplaceBack(_+v.length-1,_),p.push(v[0].x),p.push(v[0].y);for(var b=1;b<v.length;b++)n.layoutVertexArray.emplaceBack(v[b].x,v[b].y),n.indexArray2.emplaceBack(_+b-1,_+b),p.push(v[b].x),p.push(v[b].y);y.vertexLength+=v.length,y.primitiveLength+=v.length}}var x=id(p,f);Ds(x.length%3===0);for(var w=0;w<x.length;w+=3)n.indexArray.emplaceBack(d+x[w],d+x[w+1],d+x[w+2]);h.vertexLength+=s,h.primitiveLength+=x.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i)},Ae("FillBucket",sd,{omit:["layers"]});var ld=new wc({"fill-antialias":new yc(zl.paint_fill["fill-antialias"]),"fill-opacity":new _c(zl.paint_fill["fill-opacity"]),"fill-color":new _c(zl.paint_fill["fill-color"]),"fill-outline-color":new _c(zl.paint_fill["fill-outline-color"]),"fill-translate":new yc(zl.paint_fill["fill-translate"]),"fill-translate-anchor":new yc(zl.paint_fill["fill-translate-anchor"]),"fill-pattern":new bc(zl.paint_fill["fill-pattern"])}),ud={paint:ld},cd=function(t){function e(e){t.call(this,e,ud)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(t){this.paint=this._transitioningPaint.possiblyEvaluate(t);var e=this.paint._values["fill-outline-color"];"constant"===e.value.kind&&void 0===e.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new sd(t)},e.prototype.queryRadius=function(){return ai(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,i,n,o,r,a){var s=si(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),r.angle,a);return Ze(s,n)},e}(Cc),hd=Fe([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),dd=hd.members,pd=(hd.size,hd.alignment,500),fd=Math.pow(2,13),md=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new Pc,this.indexArray=new qc,this.programConfigurations=new dh(dd,t.layers,t.zoom),this.segments=new ah};md.prototype.populate=function(t,e){for(var i=this,n=0,o=t;n<o.length;n+=1){var r=o[n],a=r.feature,s=r.index,l=r.sourceLayerIndex;if(i.layers[0]._featureFilter(new uc(i.zoom),a)){var u=Ve(a);i.addFeature(a,u,s),e.featureIndex.insert(a,u,s,l,i.index)}}},md.prototype.update=function(t,e){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers)},md.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},md.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},md.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,dd),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},md.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},md.prototype.addFeature=function(t,e,i){for(var n=this,o=0,r=sa(e,pd);o<r.length;o+=1){for(var a=r[o],s=0,l=0,u=a;l<u.length;l+=1){var c=u[l];s+=c.length}for(var h=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),d=0,p=a;d<p.length;d+=1){var f=p[d];if(0!==f.length&&!ha(f))for(var m=0,g=0;g<f.length;g++){var v=f[g];if(g>=1){var y=f[g-1];if(!ca(v,y)){h.vertexLength+4>ah.MAX_VERTEX_ARRAY_LENGTH&&(h=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray));var _=v.sub(y)._perp()._unit(),b=y.dist(v);m+b>32768&&(m=0),ua(n.layoutVertexArray,v.x,v.y,_.x,_.y,0,0,m),ua(n.layoutVertexArray,v.x,v.y,_.x,_.y,0,1,m),m+=b,ua(n.layoutVertexArray,y.x,y.y,_.x,_.y,0,0,m),ua(n.layoutVertexArray,y.x,y.y,_.x,_.y,0,1,m);var x=h.vertexLength;n.indexArray.emplaceBack(x,x+1,x+2),n.indexArray.emplaceBack(x+1,x+2,x+3),h.vertexLength+=4,h.primitiveLength+=2}}}}h.vertexLength+s>ah.MAX_VERTEX_ARRAY_LENGTH&&(h=n.segments.prepareSegment(s,n.layoutVertexArray,n.indexArray));for(var w=[],k=[],C=h.vertexLength,S=0,T=a;S<T.length;S+=1){var A=T[S];if(0!==A.length){A!==a[0]&&k.push(w.length/2);for(var E=0;E<A.length;E++){var M=A[E];ua(n.layoutVertexArray,M.x,M.y,0,0,1,1,0),w.push(M.x),w.push(M.y)}}}var D=id(w,k);Ds(D.length%3===0);for(var I=0;I<D.length;I+=3)n.indexArray.emplaceBack(C+D[I],C+D[I+1],C+D[I+2]);h.primitiveLength+=D.length/3,h.vertexLength+=s}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i)},Ae("FillExtrusionBucket",md,{omit:["layers"]});var gd=new wc({"fill-extrusion-opacity":new yc(zl["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new _c(zl["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new yc(zl["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new yc(zl["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new bc(zl["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new _c(zl["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new _c(zl["paint_fill-extrusion"]["fill-extrusion-base"])}),vd={paint:gd},yd=function(t){function e(e){t.call(this,e,vd)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new md(t)},e.prototype.queryRadius=function(){return ai(this.paint.get("fill-extrusion-translate"))},e.prototype.queryIntersectsFeature=function(t,e,i,n,o,r,a){var s=si(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),r.angle,a);return Ze(s,n)},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("fill-extrusion-opacity")&&"none"!==this.visibility},e.prototype.resize=function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null)},e}(Cc),_d=Fe([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),bd=_d.members,xd=(_d.size,_d.alignment,da);da.types=["Unknown","Point","LineString","Polygon"],da.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,i=t.readVarint()+t.pos,n=1,o=0,r=0,a=0,s=[];t.pos<i;){if(0>=o){var l=t.readVarint();n=7&l,o=l>>3}if(o--,1===n||2===n)r+=t.readSVarint(),a+=t.readSVarint(),1===n&&(e&&s.push(e),e=[]),e.push(new $s(r,a));else{if(7!==n)throw new Error("unknown command "+n);e&&e.push(e[0].clone())}}return e&&s.push(e),s},da.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,i=1,n=0,o=0,r=0,a=1/0,s=-(1/0),l=1/0,u=-(1/0);t.pos<e;){if(0>=n){var c=t.readVarint();i=7&c,n=c>>3}if(n--,1===i||2===i)o+=t.readSVarint(),r+=t.readSVarint(),a>o&&(a=o),o>s&&(s=o),l>r&&(l=r),r>u&&(u=r);else if(7!==i)throw new Error("unknown command "+i)}return[a,l,s,u]},da.prototype.toGeoJSON=function(t,e,i){function n(t){for(var e=0;e<t.length;e++){var i=t[e],n=180-360*(i.y+l)/a;t[e]=[360*(i.x+s)/a-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}var o,r,a=this.extent*Math.pow(2,i),s=this.extent*t,l=this.extent*e,u=this.loadGeometry(),c=da.types[this.type];switch(this.type){case 1:var h=[];for(o=0;o<u.length;o++)h[o]=u[o][0];u=h,n(u);break;case 2:for(o=0;o<u.length;o++)n(u[o]);break;case 3:for(u=ma(u),o=0;o<u.length;o++)for(r=0;r<u[o].length;r++)n(u[o][r])}1===u.length?u=u[0]:c="Multi"+c;var d={type:"Feature",geometry:{type:c,coordinates:u},properties:this.properties};return"id"in this&&(d.id=this.id),d};var wd=va;va.prototype.feature=function(t){if(0>t||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new xd(this._pbf,e,this.extent,this._keys,this._values)};var kd=ba,Cd=kd,Sd=xd,Td=wd,Ad={VectorTile:Cd,VectorTileFeature:Sd,VectorTileLayer:Td},Ed=Ad.VectorTileFeature.types,Md=63,Dd=Math.cos(37.5*(Math.PI/180)),Id=15,Pd=15,Ld=.5,Od=Math.pow(2,Pd-1)/Ld,zd=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new Lc,this.indexArray=new qc,this.programConfigurations=new dh(bd,t.layers,t.zoom),this.segments=new ah};zd.prototype.populate=function(t,e){for(var i=this,n=0,o=t;n<o.length;n+=1){var r=o[n],a=r.feature,s=r.index,l=r.sourceLayerIndex;if(i.layers[0]._featureFilter(new uc(i.zoom),a)){var u=Ve(a);i.addFeature(a,u,s),e.featureIndex.insert(a,u,s,l,i.index)}}},zd.prototype.update=function(t,e){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers)},zd.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},zd.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},zd.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,bd),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},zd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},zd.prototype.addFeature=function(t,e,i){for(var n=this,o=this.layers[0].layout,r=o.get("line-join").evaluate(t,{}),a=o.get("line-cap"),s=o.get("line-miter-limit"),l=o.get("line-round-limit"),u=0,c=e;u<c.length;u+=1){var h=c[u];n.addLine(h,t,r,a,s,l,i)}},zd.prototype.addLine=function(t,e,i,n,o,r,a){var s=this,l=null;e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end")&&(l={start:e.properties.mapbox_clip_start,end:e.properties.mapbox_clip_end,tileTotal:void 0});for(var u="Polygon"===Ed[e.type],c=t.length;c>=2&&t[c-1].equals(t[c-2]);)c--;for(var h=0;c-1>h&&t[h].equals(t[h+1]);)h++;if(!((u?3:2)>c)){l&&(l.tileTotal=Ca(t,h,c)),"bevel"===i&&(o=1.05);var d=Id*(ph/(512*this.overscaling)),p=t[h],f=this.segments.prepareSegment(10*c,this.layoutVertexArray,this.indexArray);this.distance=0;var m,g,v,y=n,_=u?"butt":n,b=!0,x=void 0,w=void 0,k=void 0,C=void 0;this.e1=this.e2=this.e3=-1,u&&(m=t[c-2],C=p.sub(m)._unit()._perp());for(var S=h;c>S;S++)if(w=u&&S===c-1?t[h+1]:t[S+1],!w||!t[S].equals(w)){C&&(k=C),m&&(x=m),m=t[S],C=w?w.sub(m)._unit()._perp():k,k=k||C;var T=k.add(C);0===T.x&&0===T.y||T._unit();var A=T.x*C.x+T.y*C.y,E=0!==A?1/A:1/0,M=Dd>A&&x&&w;if(M&&S>h){var D=m.dist(x);if(D>2*d){var I=m.sub(m.sub(x)._mult(d/D)._round());s.distance+=I.dist(x),s.addCurrentVertex(I,s.distance,k.mult(1),0,0,!1,f,l),x=I}}var P=x&&w,L=P?i:w?y:_;if(P&&"round"===L&&(r>E?L="miter":2>=E&&(L="fakeround")),"miter"===L&&E>o&&(L="bevel"),"bevel"===L&&(E>2&&(L="flipbevel"),o>E&&(L="miter")),x&&(s.distance+=m.dist(x)),"miter"===L)T._mult(E),s.addCurrentVertex(m,s.distance,T,0,0,!1,f,l);else if("flipbevel"===L){if(E>100)T=C.clone().mult(-1);else{var O=k.x*C.y-k.y*C.x>0?-1:1,z=E*k.add(C).mag()/k.sub(C).mag();T._perp()._mult(z*O)}s.addCurrentVertex(m,s.distance,T,0,0,!1,f,l),s.addCurrentVertex(m,s.distance,T.mult(-1),0,0,!1,f,l)}else if("bevel"===L||"fakeround"===L){var R=k.x*C.y-k.y*C.x>0,N=-Math.sqrt(E*E-1);if(R?(v=0,g=N):(g=0,v=N),b||s.addCurrentVertex(m,s.distance,k,g,v,!1,f,l),"fakeround"===L){for(var $=Math.floor(8*(.5-(A-.5))),F=void 0,B=0;$>B;B++)F=C.mult((B+1)/($+1))._add(k)._unit(),s.addPieSliceVertex(m,s.distance,F,R,f,l);s.addPieSliceVertex(m,s.distance,T,R,f,l);for(var j=$-1;j>=0;j--)F=k.mult((j+1)/($+1))._add(C)._unit(),s.addPieSliceVertex(m,s.distance,F,R,f,l)}w&&s.addCurrentVertex(m,s.distance,C,-g,-v,!1,f,l)}else"butt"===L?(b||s.addCurrentVertex(m,s.distance,k,0,0,!1,f,l),w&&s.addCurrentVertex(m,s.distance,C,0,0,!1,f,l)):"square"===L?(b||(s.addCurrentVertex(m,s.distance,k,1,1,!1,f,l),s.e1=s.e2=-1),w&&s.addCurrentVertex(m,s.distance,C,-1,-1,!1,f,l)):"round"===L&&(b||(s.addCurrentVertex(m,s.distance,k,0,0,!1,f,l),s.addCurrentVertex(m,s.distance,k,1,1,!0,f,l),s.e1=s.e2=-1),w&&(s.addCurrentVertex(m,s.distance,C,-1,-1,!0,f,l),s.addCurrentVertex(m,s.distance,C,0,0,!1,f,l)));if(M&&c-1>S){var H=m.dist(w);if(H>2*d){var W=m.add(w.sub(m)._mult(d/H)._round());s.distance+=W.dist(m),s.addCurrentVertex(W,s.distance,C.mult(1),0,0,!1,f,l),m=W}}b=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,a)}},zd.prototype.addCurrentVertex=function(t,e,i,n,o,r,a,s){var l,u=this.layoutVertexArray,c=this.indexArray;s&&(e=ka(e,s)),l=i.clone(),n&&l._sub(i.perp()._mult(n)),wa(u,t,l,r,!1,n,e),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,l=i.mult(-1),o&&l._sub(i.perp()._mult(o)),wa(u,t,l,r,!0,-o,e),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,e>Od/2&&!s&&(this.distance=0,this.addCurrentVertex(t,this.distance,i,n,o,r,a))},zd.prototype.addPieSliceVertex=function(t,e,i,n,o,r){i=i.mult(n?-1:1);var a=this.layoutVertexArray,s=this.indexArray;r&&(e=ka(e,r)),wa(a,t,i,!1,n,0,e),this.e3=o.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),o.primitiveLength++),n?this.e2=this.e3:this.e1=this.e3},Ae("LineBucket",zd,{omit:["layers"]});var Rd=new wc({"line-cap":new yc(zl.layout_line["line-cap"]),"line-join":new _c(zl.layout_line["line-join"]),"line-miter-limit":new yc(zl.layout_line["line-miter-limit"]),"line-round-limit":new yc(zl.layout_line["line-round-limit"])}),Nd=new wc({"line-opacity":new _c(zl.paint_line["line-opacity"]),"line-color":new _c(zl.paint_line["line-color"]),"line-translate":new yc(zl.paint_line["line-translate"]),"line-translate-anchor":new yc(zl.paint_line["line-translate-anchor"]),"line-width":new _c(zl.paint_line["line-width"]),"line-gap-width":new _c(zl.paint_line["line-gap-width"]),"line-offset":new _c(zl.paint_line["line-offset"]),"line-blur":new _c(zl.paint_line["line-blur"]),"line-dasharray":new bc(zl.paint_line["line-dasharray"]),"line-pattern":new bc(zl.paint_line["line-pattern"]),"line-gradient":new xc(zl.paint_line["line-gradient"])}),$d={paint:Nd,layout:Rd},Fd=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.possiblyEvaluate=function(e,i){return i=new uc(Math.floor(i.zoom),{now:i.now,fadeDuration:i.fadeDuration,zoomHistory:i.zoomHistory,transition:i.transition}),t.prototype.possiblyEvaluate.call(this,e,i)},e.prototype.evaluate=function(e,i,n,o){return i=f({},i,{zoom:Math.floor(i.zoom)}),t.prototype.evaluate.call(this,e,i,n,o)},e}(_c),Bd=new Fd($d.paint.properties["line-width"].specification);Bd.useIntegerZoom=!0;var jd=function(t){function e(e){t.call(this,e,$d)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&this._updateGradient()},e.prototype._updateGradient=function(){var t=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=Ar(t,"lineProgress"),this.gradientTexture=null},e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),this.paint._values["line-floorwidth"]=Bd.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new zd(t)},e.prototype.queryRadius=function(t){var e=t,i=Sa(ri("line-width",this,e),ri("line-gap-width",this,e)),n=ri("line-offset",this,e);return i/2+Math.abs(n)+ai(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,i,n,o,r,a){var s=si(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),r.angle,a),l=a/2*Sa(this.paint.get("line-width").evaluate(e,i),this.paint.get("line-gap-width").evaluate(e,i)),u=this.paint.get("line-offset").evaluate(e,i);return u&&(n=Ta(n,u*a)),Ke(s,n,l)},e}(Cc),Hd=Fe([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),Wd=Fe([{name:"a_projected_pos",components:3,type:"Float32"}],4),qd=(Fe([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Fe([{name:"a_placed",components:2,type:"Uint8"}],4)),Vd=(Fe([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),Fe([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Ud=Fe([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Yd=(Fe([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"}]),Fe([{type:"Float32",name:"offsetX"}]),Fe([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),{"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"}),Gd=function(t){function e(e,i,n,o){t.call(this,e,i),this.angle=n,void 0!==o&&(this.segment=o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}($s);Ae("Anchor",Gd);var Xd=Ad.VectorTileFeature.types,Zd=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}],Kd=function(t){this.layoutVertexArray=new Oc,this.indexArray=new qc,this.programConfigurations=t,this.segments=new ah,this.dynamicLayoutVertexArray=new zc,this.opacityVertexArray=new Rc,this.placedSymbolArray=new Kc};Kd.prototype.upload=function(t,e,i,n){i&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Hd.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Wd.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,Zd,!0),this.opacityVertexBuffer.itemSize=1),(i||n)&&this.programConfigurations.upload(t)},Kd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Ae("SymbolBuffers",Kd);var Jd=function(t,e,i){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new i,this.segments=new ah,this.collisionVertexArray=new Fc};Jd.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,qd.members,!0)},Jd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Ae("CollisionBuffers",Jd);var Qd=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex;var e=this.layers[0],i=e._unevaluatedLayout._values;this.textSizeData=Da(this.zoom,i["text-size"]),this.iconSizeData=Da(this.zoom,i["icon-size"]);var n=this.layers[0].layout;this.sortFeaturesByY=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sourceID=t.sourceID};Qd.prototype.createArrays=function(){this.text=new Kd(new dh(Hd.members,this.layers,this.zoom,function(t){return/^text/.test(t)})),this.icon=new Kd(new dh(Hd.members,this.layers,this.zoom,function(t){return/^icon/.test(t)})),this.collisionBox=new Jd($c,Vd.members,Vc),this.collisionCircle=new Jd($c,Ud.members,qc),this.glyphOffsetArray=new Qc,this.lineVertexArray=new eh},Qd.prototype.populate=function(t,e){var i=this,n=this.layers[0],o=n.layout,r=o.get("text-font"),a=o.get("text-field"),s=o.get("icon-image"),l=("constant"!==a.value.kind||a.value.value.length>0)&&("constant"!==r.value.kind||r.value.value.length>0),u="constant"!==s.value.kind||s.value.value&&s.value.value.length>0;if(this.features=[],l||u){for(var c=e.iconDependencies,h=e.glyphDependencies,d=new uc(this.zoom),p=0,f=t;p<f.length;p+=1){var m=f[p],g=m.feature,v=m.index,y=m.sourceLayerIndex;if(n._featureFilter(d,g)){var _=void 0;l&&(_=n.getValueAndResolveTokens("text-field",g),_=Aa(_,n,g));var b=void 0;if(u&&(b=n.getValueAndResolveTokens("icon-image",g)),_||b){var x={text:_,icon:b,index:v,sourceLayerIndex:y,geometry:Ve(g),properties:g.properties,type:Xd[g.type]};if("undefined"!=typeof g.id&&(x.id=g.id),i.features.push(x),b&&(c[b]=!0),_)for(var w=r.evaluate(g,{}).join(","),k=h[w]=h[w]||{},C="map"===o.get("text-rotation-alignment")&&"point"!==o.get("symbol-placement"),S=De(_),T=0;T<_.length;T++)if(k[_.charCodeAt(T)]=!0,C&&S){var A=Yd[_.charAt(T)];A&&(k[A.charCodeAt(0)]=!0)}}}}"line"===o.get("symbol-placement")&&(this.features=Ea(this.features))}},Qd.prototype.update=function(t,e){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers))},Qd.prototype.isEmpty=function(){return 0===this.symbolInstances.length},Qd.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Qd.prototype.upload=function(t){this.uploaded||(this.collisionBox.upload(t),this.collisionCircle.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Qd.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},Qd.prototype.addToLineVertexArray=function(t,e){var i=this,n=this.lineVertexArray.length;if(void 0!==t.segment){for(var o=t.dist(e[t.segment+1]),r=t.dist(e[t.segment]),a={},s=t.segment+1;s<e.length;s++)a[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:o},s<e.length-1&&(o+=e[s+1].dist(e[s]));for(var l=t.segment||0;l>=0;l--)a[l]={x:e[l].x,y:e[l].y,tileUnitDistanceFromAnchor:r},l>0&&(r+=e[l-1].dist(e[l]));for(var u=0;u<e.length;u++){var c=a[u];i.lineVertexArray.emplaceBack(c.x,c.y,c.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},Qd.prototype.addSymbols=function(t,e,i,n,o,r,a,s,l,u){for(var c=this,h=t.indexArray,d=t.layoutVertexArray,p=t.dynamicLayoutVertexArray,f=t.segments.prepareSegment(4*e.length,t.layoutVertexArray,t.indexArray),m=this.glyphOffsetArray.length,g=f.vertexLength,v=0,y=e;v<y.length;v+=1){var _=y[v],b=_.tl,x=_.tr,w=_.bl,k=_.br,C=_.tex,S=f.vertexLength,T=_.glyphOffset[1];La(d,s.x,s.y,b.x,T+b.y,C.x,C.y,i),La(d,s.x,s.y,x.x,T+x.y,C.x+C.w,C.y,i),La(d,s.x,s.y,w.x,T+w.y,C.x,C.y+C.h,i),La(d,s.x,s.y,k.x,T+k.y,C.x+C.w,C.y+C.h,i),Oa(p,s,0),h.emplaceBack(S,S+1,S+2),h.emplaceBack(S+1,S+2,S+3),f.vertexLength+=4,f.primitiveLength+=2,c.glyphOffsetArray.emplaceBack(_.glyphOffset[0])}t.placedSymbolArray.emplaceBack(s.x,s.y,m,this.glyphOffsetArray.length-m,g,l,u,s.segment,i?i[0]:0,i?i[1]:0,n[0],n[1],a,!1),t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,r,r.index)},Qd.prototype._addCollisionDebugVertex=function(t,e,i,n,o){return e.emplaceBack(0,0),t.emplaceBack(i.x,i.y,n.x,n.y,Math.round(o.x),Math.round(o.y))},Qd.prototype.addCollisionDebugVertices=function(t,e,i,n,o,r,a,s){var l=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),u=l.vertexLength,c=o.layoutVertexArray,h=o.collisionVertexArray;if(this._addCollisionDebugVertex(c,h,r,a.anchor,new $s(t,e)),this._addCollisionDebugVertex(c,h,r,a.anchor,new $s(i,e)),this._addCollisionDebugVertex(c,h,r,a.anchor,new $s(i,n)),this._addCollisionDebugVertex(c,h,r,a.anchor,new $s(t,n)),l.vertexLength+=4,s){var d=o.indexArray;d.emplaceBack(u,u+1,u+2),d.emplaceBack(u,u+2,u+3),l.primitiveLength+=2}else{var p=o.indexArray;p.emplaceBack(u,u+1),p.emplaceBack(u+1,u+2),p.emplaceBack(u+2,u+3),p.emplaceBack(u+3,u),l.primitiveLength+=4}},Qd.prototype.generateCollisionDebugBuffers=function(){for(var t=this,e=0,i=t.symbolInstances;e<i.length;e+=1){var n=i[e];n.textCollisionFeature={boxStartIndex:n.textBoxStartIndex,boxEndIndex:n.textBoxEndIndex},n.iconCollisionFeature={boxStartIndex:n.iconBoxStartIndex,boxEndIndex:n.iconBoxEndIndex};for(var o=0;2>o;o++){var r=n[0===o?"textCollisionFeature":"iconCollisionFeature"];if(r)for(var a=r.boxStartIndex;a<r.boxEndIndex;a++){var s=t.collisionBoxArray.get(a),l=s.x1,u=s.y1,c=s.x2,h=s.y2,d=s.radius>0;t.addCollisionDebugVertices(l,u,c,h,d?t.collisionCircle:t.collisionBox,s.anchorPoint,n,d)}}}},Qd.prototype.deserializeCollisionBoxes=function(t,e,i,n,o){for(var r={},a=e;i>a;a++){var s=t.get(a);if(0===s.radius){r.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY},r.textFeatureIndex=s.featureIndex;break}r.textCircles||(r.textCircles=[],r.textFeatureIndex=s.featureIndex);var l=1;r.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,l)}for(var u=n;o>u;u++){var c=t.get(u);if(0===c.radius){r.iconBox={x1:c.x1,y1:c.y1,x2:c.x2,y2:c.y2,anchorPointX:c.anchorPointX,anchorPointY:c.anchorPointY},r.iconFeatureIndex=c.featureIndex;break}}return r},Qd.prototype.hasTextData=function(){return this.text.segments.get().length>0},Qd.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Qd.prototype.hasCollisionBoxData=function(){return this.collisionBox.segments.get().length>0},Qd.prototype.hasCollisionCircleData=function(){return this.collisionCircle.segments.get().length>0},Qd.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&(this.sortedAngle=t,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var i=[],n=0;n<this.symbolInstances.length;n++)i.push(n);var o=Math.sin(t),r=Math.cos(t);i.sort(function(t,i){var n=e.symbolInstances[t],a=e.symbolInstances[i],s=0|Math.round(o*n.anchor.x+r*n.anchor.y),l=0|Math.round(o*a.anchor.x+r*a.anchor.y);return s-l||a.featureIndex-n.featureIndex}),this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var a=0,s=i;a<s.length;a+=1){var l=s[a],u=e.symbolInstances[l];e.featureSortOrder.push(u.featureIndex);for(var c=0,h=u.placedTextSymbolIndices;c<h.length;c+=1)for(var d=h[c],p=e.text.placedSymbolArray.get(d),f=p.vertexStartIndex+4*p.numGlyphs,m=p.vertexStartIndex;f>m;m+=4)e.text.indexArray.emplaceBack(m,m+1,m+2),e.text.indexArray.emplaceBack(m+1,m+2,m+3);var g=e.icon.placedSymbolArray.get(l);if(g.numGlyphs){var v=g.vertexStartIndex;e.icon.indexArray.emplaceBack(v,v+1,v+2),e.icon.indexArray.emplaceBack(v+1,v+2,v+3);
}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Ae("SymbolBucket",Qd,{omit:["layers","collisionBoxArray","features","compareText"],shallow:["symbolInstances"]}),Qd.MAX_GLYPHS=65535,Qd.addDynamicAttributes=Oa;var tp=new wc({"symbol-placement":new yc(zl.layout_symbol["symbol-placement"]),"symbol-spacing":new yc(zl.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new yc(zl.layout_symbol["symbol-avoid-edges"]),"icon-allow-overlap":new yc(zl.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new yc(zl.layout_symbol["icon-ignore-placement"]),"icon-optional":new yc(zl.layout_symbol["icon-optional"]),"icon-rotation-alignment":new yc(zl.layout_symbol["icon-rotation-alignment"]),"icon-size":new _c(zl.layout_symbol["icon-size"]),"icon-text-fit":new yc(zl.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new yc(zl.layout_symbol["icon-text-fit-padding"]),"icon-image":new _c(zl.layout_symbol["icon-image"]),"icon-rotate":new _c(zl.layout_symbol["icon-rotate"]),"icon-padding":new yc(zl.layout_symbol["icon-padding"]),"icon-keep-upright":new yc(zl.layout_symbol["icon-keep-upright"]),"icon-offset":new _c(zl.layout_symbol["icon-offset"]),"icon-anchor":new _c(zl.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new yc(zl.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new yc(zl.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new yc(zl.layout_symbol["text-rotation-alignment"]),"text-field":new _c(zl.layout_symbol["text-field"]),"text-font":new _c(zl.layout_symbol["text-font"]),"text-size":new _c(zl.layout_symbol["text-size"]),"text-max-width":new _c(zl.layout_symbol["text-max-width"]),"text-line-height":new yc(zl.layout_symbol["text-line-height"]),"text-letter-spacing":new _c(zl.layout_symbol["text-letter-spacing"]),"text-justify":new _c(zl.layout_symbol["text-justify"]),"text-anchor":new _c(zl.layout_symbol["text-anchor"]),"text-max-angle":new yc(zl.layout_symbol["text-max-angle"]),"text-rotate":new _c(zl.layout_symbol["text-rotate"]),"text-padding":new yc(zl.layout_symbol["text-padding"]),"text-keep-upright":new yc(zl.layout_symbol["text-keep-upright"]),"text-transform":new _c(zl.layout_symbol["text-transform"]),"text-offset":new _c(zl.layout_symbol["text-offset"]),"text-allow-overlap":new yc(zl.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new yc(zl.layout_symbol["text-ignore-placement"]),"text-optional":new yc(zl.layout_symbol["text-optional"])}),ep=new wc({"icon-opacity":new _c(zl.paint_symbol["icon-opacity"]),"icon-color":new _c(zl.paint_symbol["icon-color"]),"icon-halo-color":new _c(zl.paint_symbol["icon-halo-color"]),"icon-halo-width":new _c(zl.paint_symbol["icon-halo-width"]),"icon-halo-blur":new _c(zl.paint_symbol["icon-halo-blur"]),"icon-translate":new yc(zl.paint_symbol["icon-translate"]),"icon-translate-anchor":new yc(zl.paint_symbol["icon-translate-anchor"]),"text-opacity":new _c(zl.paint_symbol["text-opacity"]),"text-color":new _c(zl.paint_symbol["text-color"]),"text-halo-color":new _c(zl.paint_symbol["text-halo-color"]),"text-halo-width":new _c(zl.paint_symbol["text-halo-width"]),"text-halo-blur":new _c(zl.paint_symbol["text-halo-blur"]),"text-translate":new yc(zl.paint_symbol["text-translate"]),"text-translate-anchor":new yc(zl.paint_symbol["text-translate-anchor"])}),ip={paint:ep,layout:tp},np=function(t){function e(e){t.call(this,e,ip)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},e.prototype.getValueAndResolveTokens=function(t,e){var i=this.layout.get(t).evaluate(e,{}),n=this._unevaluatedLayout._values[t];return n.isDataDriven()||jt(n.value)?i:za(e.properties,i)},e.prototype.createBucket=function(t){return new Qd(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return Ds(!1),!1},e}(Cc),op=new wc({"background-color":new yc(zl.paint_background["background-color"]),"background-pattern":new bc(zl.paint_background["background-pattern"]),"background-opacity":new yc(zl.paint_background["background-opacity"])}),rp={paint:op},ap=function(t){function e(e){t.call(this,e,rp)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Cc),sp=new wc({"raster-opacity":new yc(zl.paint_raster["raster-opacity"]),"raster-hue-rotate":new yc(zl.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new yc(zl.paint_raster["raster-brightness-min"]),"raster-brightness-max":new yc(zl.paint_raster["raster-brightness-max"]),"raster-saturation":new yc(zl.paint_raster["raster-saturation"]),"raster-contrast":new yc(zl.paint_raster["raster-contrast"]),"raster-resampling":new yc(zl.paint_raster["raster-resampling"]),"raster-fade-duration":new yc(zl.paint_raster["raster-fade-duration"])}),lp={paint:sp},up=function(t){function e(e){t.call(this,e,lp)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Cc),cp={circle:qh,heatmap:Zh,hillshade:Qh,fill:cd,"fill-extrusion":yd,line:jd,symbol:np,background:ap,raster:up},hp=n(function(t){!function(e,i){t.exports=i()}(this,function(){function t(t,e,i){i=i||{},this.w=t||64,this.h=e||64,this.autoResize=!!i.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function e(t,e,i){this.x=0,this.y=t,this.w=this.free=e,this.h=i}function i(t,e,i,n,o,r,a){this.id=t,this.x=e,this.y=i,this.w=n,this.h=o,this.maxw=r||n,this.maxh=a||o,this.refcount=0}return t.prototype.pack=function(t,e){var i=this;t=[].concat(t),e=e||{};for(var n,o,r,a,s=[],l=0;l<t.length;l++)if(n=t[l].w||t[l].width,o=t[l].h||t[l].height,r=t[l].id,n&&o){if(a=i.packOne(n,o,r),!a)continue;e.inPlace&&(t[l].x=a.x,t[l].y=a.y,t[l].id=a.id),s.push(a)}return this.shrink(),s},t.prototype.packOne=function(t,i,n){var o,r,a,s,l=this,u={freebin:-1,shelf:-1,waste:1/0},c=0;if("string"==typeof n||"number"==typeof n){if(o=this.getBin(n))return this.ref(o),o;"number"==typeof n&&(this.maxId=Math.max(n,this.maxId))}else n=++this.maxId;for(s=0;s<this.freebins.length;s++){if(o=l.freebins[s],i===o.maxh&&t===o.maxw)return l.allocFreebin(s,t,i,n);i>o.maxh||t>o.maxw||i<=o.maxh&&t<=o.maxw&&(a=o.maxw*o.maxh-t*i,a<u.waste&&(u.waste=a,u.freebin=s))}for(s=0;s<this.shelves.length;s++)if(r=l.shelves[s],c+=r.h,!(t>r.free)){if(i===r.h)return l.allocShelf(s,t,i,n);i>r.h||i<r.h&&(a=(r.h-i)*t,a<u.waste&&(u.freebin=-1,u.waste=a,u.shelf=s))}if(-1!==u.freebin)return this.allocFreebin(u.freebin,t,i,n);if(-1!==u.shelf)return this.allocShelf(u.shelf,t,i,n);if(i<=this.h-c&&t<=this.w)return r=new e(c,this.w,i),this.allocShelf(this.shelves.push(r)-1,t,i,n);if(this.autoResize){var h,d,p,f;return h=d=this.h,p=f=this.w,(h>=p||t>p)&&(f=2*Math.max(t,p)),(p>h||i>h)&&(d=2*Math.max(i,h)),this.resize(f,d),this.packOne(t,i,n)}return null},t.prototype.allocFreebin=function(t,e,i,n){var o=this.freebins.splice(t,1)[0];return o.id=n,o.w=e,o.h=i,o.refcount=0,this.bins[n]=o,this.ref(o),o},t.prototype.allocShelf=function(t,e,i,n){var o=this.shelves[t],r=o.alloc(e,i,n);return this.bins[n]=r,this.ref(r),r},t.prototype.shrink=function(){var t=this;if(this.shelves.length>0){for(var e=0,i=0,n=0;n<this.shelves.length;n++){var o=t.shelves[n];i+=o.h,e=Math.max(o.w-o.free,e)}this.resize(e,i)}},t.prototype.getBin=function(t){return this.bins[t]},t.prototype.ref=function(t){if(1===++t.refcount){var e=t.h;this.stats[e]=(0|this.stats[e])+1}return t.refcount},t.prototype.unref=function(t){return 0===t.refcount?0:(0===--t.refcount&&(this.stats[t.h]--,delete this.bins[t.id],this.freebins.push(t)),t.refcount)},t.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},t.prototype.resize=function(t,e){var i=this;this.w=t,this.h=e;for(var n=0;n<this.shelves.length;n++)i.shelves[n].resize(t);return!0},e.prototype.alloc=function(t,e,n){if(t>this.free||e>this.h)return null;var o=this.x;return this.x+=t,this.free-=t,new i(n,o,this.y,t,e,t,this.h)},e.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t})}),dp=1,pp=function(t,e){var i=e.pixelRatio;this.paddedRect=t,this.pixelRatio=i},fp={tl:{configurable:!0},br:{configurable:!0},displaySize:{configurable:!0}};fp.tl.get=function(){return[this.paddedRect.x+dp,this.paddedRect.y+dp]},fp.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-dp,this.paddedRect.y+this.paddedRect.h-dp]},fp.displaySize.get=function(){return[(this.paddedRect.w-2*dp)/this.pixelRatio,(this.paddedRect.h-2*dp)/this.pixelRatio]},Object.defineProperties(pp.prototype,fp);var mp=function(t){var e=new Yh({width:0,height:0}),i={},n=new hp(0,0,{autoResize:!0});for(var o in t){var r=t[o],a=n.packOne(r.data.width+2*dp,r.data.height+2*dp);e.resize({width:n.w,height:n.h}),Yh.copy(r.data,e,{x:0,y:0},{x:a.x+dp,y:a.y+dp},r.data),i[o]=new pp(a,r)}n.shrink(),e.resize({width:n.w,height:n.h}),this.image=e,this.positions=i};Ae("ImagePosition",pp),Ae("ImageAtlas",mp);var gp=self.HTMLImageElement,vp=self.HTMLCanvasElement,yp=self.HTMLVideoElement,_p=self.ImageData,bp=function(t,e,i,n){this.context=t,this.format=i,this.texture=t.gl.createTexture(),this.update(e,n)};bp.prototype.update=function(t,e){var i=t.width,n=t.height,o=!this.size||this.size[0]!==i||this.size[1]!==n,r=this,a=r.context,s=a.gl;this.useMipmap=Boolean(e&&e.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),o?(this.size=[i,n],a.pixelStoreUnpack.set(1),this.format!==s.RGBA||e&&e.premultiply===!1||a.pixelStoreUnpackPremultiplyAlpha.set(!0),t instanceof gp||t instanceof vp||t instanceof yp||t instanceof _p?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,t):s.texImage2D(s.TEXTURE_2D,0,this.format,i,n,0,this.format,s.UNSIGNED_BYTE,t.data)):t instanceof gp||t instanceof vp||t instanceof yp||t instanceof _p?s.texSubImage2D(s.TEXTURE_2D,0,0,0,s.RGBA,s.UNSIGNED_BYTE,t):s.texSubImage2D(s.TEXTURE_2D,0,0,0,i,n,s.RGBA,s.UNSIGNED_BYTE,t.data),this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},bp.prototype.bind=function(t,e,i){var n=this,o=n.context,r=o.gl;r.bindTexture(r.TEXTURE_2D,this.texture),i!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(i=r.LINEAR),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,i||t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)},bp.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},bp.prototype.destroy=function(){var t=this.context,e=t.gl;e.deleteTexture(this.texture),this.texture=null};var xp=function(t,e,i,n,o){var r,a,s=8*o-n-1,l=(1<<s)-1,u=l>>1,c=-7,h=i?o-1:0,d=i?-1:1,p=t[e+h];for(h+=d,r=p&(1<<-c)-1,p>>=-c,c+=s;c>0;r=256*r+t[e+h],h+=d,c-=8);for(a=r&(1<<-c)-1,r>>=-c,c+=n;c>0;a=256*a+t[e+h],h+=d,c-=8);if(0===r)r=1-u;else{if(r===l)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,n),r-=u}return(p?-1:1)*a*Math.pow(2,r-n)},wp=function(t,e,i,n,o,r){var a,s,l,u=8*r-o-1,c=(1<<u)-1,h=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:r-1,f=n?1:-1,m=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),e+=a+h>=1?d/l:d*Math.pow(2,1-h),e*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*l-1)*Math.pow(2,o),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,o),a=0));o>=8;t[i+p]=255&s,p+=f,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;t[i+p]=255&a,p+=f,a/=256,u-=8);t[i+p-f]|=128*m},kp={read:xp,write:wp},Cp=Na;Na.Varint=0,Na.Fixed64=1,Na.Bytes=2,Na.Fixed32=5;var Sp=4294967296,Tp=1/Sp;Na.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){var n=this;for(i=i||this.length;this.pos<i;){var o=n.readVarint(),r=o>>3,a=n.pos;n.type=7&o,t(r,e,n),n.pos===a&&n.skip(o)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=ts(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=is(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=ts(this.buf,this.pos)+ts(this.buf,this.pos+4)*Sp;return this.pos+=8,t},readSFixed64:function(){var t=ts(this.buf,this.pos)+is(this.buf,this.pos+4)*Sp;return this.pos+=8,t},readFloat:function(){var t=kp.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=kp.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,i,n=this.buf;return i=n[this.pos++],e=127&i,128>i?e:(i=n[this.pos++],e|=(127&i)<<7,128>i?e:(i=n[this.pos++],e|=(127&i)<<14,128>i?e:(i=n[this.pos++],e|=(127&i)<<21,128>i?e:(i=n[this.pos],e|=(15&i)<<28,$a(e,t,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=ns(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var i=this,n=Fa(this);for(t=t||[];this.pos<n;)t.push(i.readVarint(e));return t},readPackedSVarint:function(t){var e=this,i=Fa(this);for(t=t||[];this.pos<i;)t.push(e.readSVarint());return t},readPackedBoolean:function(t){var e=this,i=Fa(this);for(t=t||[];this.pos<i;)t.push(e.readBoolean());return t},readPackedFloat:function(t){var e=this,i=Fa(this);for(t=t||[];this.pos<i;)t.push(e.readFloat());return t},readPackedDouble:function(t){var e=this,i=Fa(this);for(t=t||[];this.pos<i;)t.push(e.readDouble());return t},readPackedFixed32:function(t){var e=this,i=Fa(this);for(t=t||[];this.pos<i;)t.push(e.readFixed32());return t},readPackedSFixed32:function(t){var e=this,i=Fa(this);for(t=t||[];this.pos<i;)t.push(e.readSFixed32());return t},readPackedFixed64:function(t){var e=this,i=Fa(this);for(t=t||[];this.pos<i;)t.push(e.readFixed64());return t},readPackedSFixed64:function(t){var e=this,i=Fa(this);for(t=t||[];this.pos<i;)t.push(e.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Na.Varint)for(;this.buf[this.pos++]>127;);else if(e===Na.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Na.Fixed32)this.pos+=4;else{if(e!==Na.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),es(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),es(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),es(this.buf,-1&t,this.pos),es(this.buf,Math.floor(t*Tp),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),es(this.buf,-1&t,this.pos),es(this.buf,Math.floor(t*Tp),this.pos+4),this.pos+=8},writeVarint:function(t){return t=+t||0,t>268435455||0>t?void ja(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),void(127>=t||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),127>=t||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),127>=t||(this.buf[this.pos++]=t>>>7&127)))))},writeSVarint:function(t){this.writeVarint(0>t?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=os(this.buf,t,this.pos);var i=this.pos-e;i>=128&&qa(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeFloat:function(t){this.realloc(4),kp.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),kp.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=this,i=t.length;this.writeVarint(i),this.realloc(i);for(var n=0;i>n;n++)e.buf[e.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var n=this.pos-i;n>=128&&qa(i,n,this),this.pos=i-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,i){this.writeTag(t,Na.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){this.writeMessage(t,Va,e)},writePackedSVarint:function(t,e){this.writeMessage(t,Ua,e)},writePackedBoolean:function(t,e){this.writeMessage(t,Xa,e)},writePackedFloat:function(t,e){this.writeMessage(t,Ya,e)},writePackedDouble:function(t,e){this.writeMessage(t,Ga,e)},writePackedFixed32:function(t,e){this.writeMessage(t,Za,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,Ka,e)},writePackedFixed64:function(t,e){this.writeMessage(t,Ja,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,Qa,e)},writeBytesField:function(t,e){this.writeTag(t,Na.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Na.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Na.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Na.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Na.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Na.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Na.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Na.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Na.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Na.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var Ap=3,Ep=Ap,Mp=function(t,e,i){this.target=t,this.parent=e,this.mapId=i,this.callbacks={},this.callbackID=0,v(["receive"],this),this.target.addEventListener("message",this.receive,!1)};Mp.prototype.send=function(t,e,i,n){var o=i?this.mapId+":"+this.callbackID++:null;i&&(this.callbacks[o]=i);var r=[];this.target.postMessage({targetMapId:n,sourceMapId:this.mapId,type:t,id:String(o),data:Ee(e,r)},r)},Mp.prototype.receive=function(t){var e,i=this,n=t.data,o=n.id;if(!n.targetMapId||this.mapId===n.targetMapId){var r=function(t,e){var n=[];i.target.postMessage({sourceMapId:i.mapId,type:"<response>",id:String(o),error:t?Ee(t):null,data:Ee(e,n)},n)};if("<response>"===n.type)e=this.callbacks[n.id],delete this.callbacks[n.id],e&&n.error?e(Me(n.error)):e&&e(null,Me(n.data));else if("undefined"!=typeof n.id&&this.parent[n.type])this.parent[n.type](n.sourceMapId,Me(n.data),r);else if("undefined"!=typeof n.id&&this.parent.getWorkerSource){var a=n.type.split("."),s=Me(n.data),l=this.parent.getWorkerSource(n.sourceMapId,a[0],s.source);l[a[1]](s,r)}else this.parent[n.type](Me(n.data))}},Mp.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)};var Dp=n(function(t,e){!function(t,i){i(e)}(this,function(t){function e(t,e,n,o,r,a){a=a||{};var s=t+"?"+["bbox="+i(n,o,r),"format="+(a.format||"image/png"),"service="+(a.service||"WMS"),"version="+(a.version||"1.1.1"),"request="+(a.request||"GetMap"),"srs="+(a.srs||"EPSG:3857"),"width="+(a.width||256),"height="+(a.height||256),"layers="+e].join("&");return s}function i(t,e,i){e=Math.pow(2,i)-e-1;var o=n(256*t,256*e,i),r=n(256*(t+1),256*(e+1),i);return o[0]+","+o[1]+","+r[0]+","+r[1]}function n(t,e,i){var n=2*Math.PI*6378137/256/Math.pow(2,i),o=t*n-2*Math.PI*6378137/2,r=e*n-2*Math.PI*6378137/2;return[o,r]}t.getURL=e,t.getTileBBox=i,t.getMercCoords=n,Object.defineProperty(t,"__esModule",{value:!0})})}),Ip=(i(Dp),Dp.getTileBBox),Pp=function(t,e,i){Ds(t>=0&&25>=t),Ds(e>=0&&e<Math.pow(2,t)),Ds(i>=0&&i<Math.pow(2,t)),this.z=t,this.x=e,this.y=i,this.key=us(0,t,e,i)};Pp.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},Pp.prototype.url=function(t,e){var i=Ip(this.x,this.y,this.z),n=cs(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",n).replace("{bbox-epsg-3857}",i)};var Lp=function(t,e){this.wrap=t,this.canonical=e,this.key=us(t,e.z,e.x,e.y)},Op=function(t,e,i,n,o){Ds(t>=i),this.overscaledZ=t,this.wrap=e,this.canonical=new Pp(i,+n,+o),this.key=us(e,t,n,o)};Op.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Op.prototype.scaledTo=function(t){Ds(t<=this.overscaledZ);var e=this.canonical.z-t;return t>this.canonical.z?new Op(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Op(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},Op.prototype.isChildOf=function(t){var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},Op.prototype.children=function(t){if(this.overscaledZ>=t)return[new Op(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,i=2*this.canonical.x,n=2*this.canonical.y;return[new Op(e,this.wrap,e,i,n),new Op(e,this.wrap,e,i+1,n),new Op(e,this.wrap,e,i,n+1),new Op(e,this.wrap,e,i+1,n+1)]},Op.prototype.isLessThan=function(t){return this.wrap<t.wrap?!0:this.wrap>t.wrap?!1:this.overscaledZ<t.overscaledZ?!0:this.overscaledZ>t.overscaledZ?!1:this.canonical.x<t.canonical.x?!0:this.canonical.x>t.canonical.x?!1:this.canonical.y<t.canonical.y},Op.prototype.wrapped=function(){return new Op(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Op.prototype.unwrapTo=function(t){return new Op(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Op.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Op.prototype.toUnwrapped=function(){return new Lp(this.wrap,this.canonical)},Op.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Op.prototype.toCoordinate=function(){return new Ns(this.canonical.x+Math.pow(2,this.wrap),this.canonical.y,this.canonical.z)},Ae("CanonicalTileID",Pp),Ae("OverscaledTileID",Op,{omit:["posMatrix"]});var zp=function(t,e,i){if(0>=t)throw new RangeError("Level must have positive dimension");this.dim=t,this.border=e,this.stride=this.dim+2*this.border,this.data=i||new Int32Array((this.dim+2*this.border)*(this.dim+2*this.border))};zp.prototype.set=function(t,e,i){this.data[this._idx(t,e)]=i+65536},zp.prototype.get=function(t,e){return this.data[this._idx(t,e)]-65536},zp.prototype._idx=function(t,e){if(t<-this.border||t>=this.dim+this.border||e<-this.border||e>=this.dim+this.border)throw new RangeError("out of range source coordinates for DEM data");return(e+this.border)*this.stride+(t+this.border)},Ae("Level",zp);var Rp=function(t,e,i){this.uid=t,this.scale=e||1,this.level=i||new zp(256,512),this.loaded=!!i};Rp.prototype.loadFromImage=function(t,e){if(t.height!==t.width)throw new RangeError("DEM tiles must be square");if(e&&"mapbox"!==e&&"terrarium"!==e)return C('"'+e+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');var i=this.level=new zp(t.width,t.width/2),n=t.data;this._unpackData(i,n,e||"mapbox");for(var o=0;o<i.dim;o++)i.set(-1,o,i.get(0,o)),i.set(i.dim,o,i.get(i.dim-1,o)),i.set(o,-1,i.get(o,0)),i.set(o,i.dim,i.get(o,i.dim-1));i.set(-1,-1,i.get(0,0)),i.set(i.dim,-1,i.get(i.dim-1,0)),i.set(-1,i.dim,i.get(0,i.dim-1)),i.set(i.dim,i.dim,i.get(i.dim-1,i.dim-1)),this.loaded=!0},Rp.prototype._unpackMapbox=function(t,e,i){return(256*t*256+256*e+i)/10-1e4},Rp.prototype._unpackTerrarium=function(t,e,i){return 256*t+e+i/256-32768},Rp.prototype._unpackData=function(t,e,i){for(var n=this,o={mapbox:this._unpackMapbox,terrarium:this._unpackTerrarium},r=o[i],a=0;a<t.dim;a++)for(var s=0;s<t.dim;s++){var l=a*t.dim+s,u=4*l;t.set(s,a,n.scale*r(e[u],e[u+1],e[u+2]))}},Rp.prototype.getPixels=function(){return new Yh({width:this.level.dim+2*this.level.border,height:this.level.dim+2*this.level.border},new Uint8Array(this.level.data.buffer))},Rp.prototype.backfillBorder=function(t,e,i){var n=this.level,o=t.level;if(n.dim!==o.dim)throw new Error("level mismatch (dem dimension)");var r=e*n.dim,a=e*n.dim+n.dim,s=i*n.dim,l=i*n.dim+n.dim;switch(e){case-1:r=a-1;break;case 1:a=r+1}switch(i){case-1:s=l-1;break;case 1:l=s+1}for(var c=u(r,-n.border,n.dim+n.border),h=u(a,-n.border,n.dim+n.border),d=u(s,-n.border,n.dim+n.border),p=u(l,-n.border,n.dim+n.border),f=-e*n.dim,m=-i*n.dim,g=d;p>g;g++)for(var v=c;h>v;v++)n.set(v,g,o.get(v+f,g+m))},Ae("DEMData",Rp);var Np=Fe([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),$p=function(t){var e=this;this._stringToNumber={},this._numberToString=[];for(var i=0;i<t.length;i++){var n=t[i];e._stringToNumber[n]=i,e._numberToString[i]=n}};$p.prototype.encode=function(t){return Ds(t in this._stringToNumber),this._stringToNumber[t]},$p.prototype.decode=function(t){return Ds(t<this._numberToString.length),this._numberToString[t]};var Fp=function(t,e,i,n){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=i,t._y=n,this.properties=t.properties,null!=t.id&&(this.id=t.id)},Bp={geometry:{configurable:!0}};Bp.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Bp.geometry.set=function(t){this._geometry=t},Fp.prototype.toJSON=function(){var t=this,e={geometry:this.geometry};for(var i in t)"_geometry"!==i&&"_vectorTileFeature"!==i&&(e[i]=t[i]);return e},Object.defineProperties(Fp.prototype,Bp);var jp=function(){this.state={},this.stateChanges={}};jp.prototype.updateState=function(t,e,i){e=String(e),this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][e]=this.stateChanges[t][e]||{},f(this.stateChanges[t][e],i)},jp.prototype.getState=function(t,e){e=String(e);var i=this.state[t]||{},n=this.stateChanges[t]||{};return f({},i[e],n[e])},jp.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},jp.prototype.coalesceChanges=function(t,e){var i=this,n={};for(var o in i.stateChanges){i.state[o]=i.state[o]||{};var r={};for(var a in i.stateChanges[o])i.state[o][a]||(i.state[o][a]={}),f(i.state[o][a],i.stateChanges[o][a]),r[a]=i.state[o][a];n[o]=r}if(this.stateChanges={},0!==Object.keys(n).length)for(var s in t){var l=t[s];l.setFeatureState(n,e)}};var Hp=function(t,e,i){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=e||new Yu(ph,16,0),this.featureIndexArray=i||new nh};Hp.prototype.insert=function(t,e,i,n,o){var r=this,a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(i,n,o);for(var s=0;s<e.length;s++){for(var l=e[s],u=[1/0,1/0,-(1/0),-(1/0)],c=0;c<l.length;c++){var h=l[c];u[0]=Math.min(u[0],h.x),u[1]=Math.min(u[1],h.y),u[2]=Math.max(u[2],h.x),u[3]=Math.max(u[3],h.y)}u[0]<ph&&u[1]<ph&&u[2]>=0&&u[3]>=0&&r.grid.insert(a,u[0],u[1],u[2],u[3])}},Hp.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Ad.VectorTile(new Cp(this.rawTileData)).layers,this.sourceLayerCoder=new $p(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Hp.prototype.query=function(t,e,i){var n=this;this.loadVTLayers();for(var o=t.params||{},r=ph/t.tileSize/t.scale,a=ne(o.filter),s=t.queryGeometry,l=t.queryPadding*r,u=1/0,c=1/0,h=-(1/0),d=-(1/0),p=0;p<s.length;p++)for(var f=s[p],m=0;m<f.length;m++){var g=f[m];u=Math.min(u,g.x),c=Math.min(c,g.y),h=Math.max(h,g.x),d=Math.max(d,g.y)}var v=this.grid.query(u-l,c-l,h+l,d+l);v.sort(ds);for(var y,_={},b=function(l){var u=v[l];if(u!==y){y=u;var c=n.featureIndexArray.get(u),h=null;n.loadMatchingFeature(_,c.bucketIndex,c.sourceLayerIndex,c.featureIndex,a,o.layers,e,function(e,o){h||(h=Ve(e));var a={};return e.id&&(a=i.getState(o.sourceLayer||"_geojsonTileLayer",String(e.id))),o.queryIntersectsFeature(s,e,a,h,n.z,t.transform,r,t.posMatrix)})}},x=0;x<v.length;x++)b(x);return _},Hp.prototype.loadMatchingFeature=function(t,e,i,n,o,r,a,s){var l=this,u=this.bucketLayerIDs[e];if(!r||k(r,u)){var c=this.sourceLayerCoder.decode(i),h=this.vtLayers[c],d=h.feature(n);if(o(new uc(this.tileID.overscaledZ),d))for(var p=0;p<u.length;p++){var f=u[p];if(!(r&&r.indexOf(f)<0)){var m=a[f];if(m&&(!s||s(d,m))){var g=new Fp(d,l.z,l.x,l.y);g.layer=m.serialize();var v=t[f];void 0===v&&(v=t[f]=[]),v.push({featureIndex:n,feature:g})}}}}},Hp.prototype.lookupSymbolFeatures=function(t,e,i,n,o,r){var a=this,s={};this.loadVTLayers();for(var l=ne(n),u=0,c=t;u<c.length;u+=1){var h=c[u];a.loadMatchingFeature(s,e,i,h,l,o,r)}return s},Hp.prototype.hasLayer=function(t){for(var e=this,i=0,n=e.bucketLayerIDs;i<n.length;i+=1)for(var o=n[i],r=0,a=o;r<a.length;r+=1){var s=a[r];if(t===s)return!0}return!1},Ae("FeatureIndex",Hp,{omit:["rawTileData","sourceLayerCoder"]});var Wp=3e4,qp=function(t,e){this.tileID=t,this.uid=g(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.expiredRequestCount=0,this.state="loading"};qp.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<Os.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},qp.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},qp.prototype.loadVectorData=function(t,e,i){var n=this;if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!t)return void(this.collisionBoxArray=new Xc);if(t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=hs(t.buckets,e.style),i)for(var o in n.buckets){var r=n.buckets[o];r instanceof Qd&&(r.justReloaded=!0)}this.queryPadding=0;for(var a in n.buckets){var s=n.buckets[a];n.queryPadding=Math.max(n.queryPadding,e.style.getLayer(s.layerIds[0]).queryRadius(s))}t.iconAtlasImage&&(this.iconAtlasImage=t.iconAtlasImage),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)},qp.prototype.unloadVectorData=function(){var t=this;for(var e in t.buckets)t.buckets[e].destroy();this.buckets={},this.iconAtlasTexture&&this.iconAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},qp.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},qp.prototype.getBucket=function(t){return this.buckets[t.id]},qp.prototype.upload=function(t){var e=this;for(var i in e.buckets){var n=e.buckets[i];n.uploadPending()&&n.upload(t)}var o=t.gl;this.iconAtlasImage&&(this.iconAtlasTexture=new bp(t,this.iconAtlasImage,o.RGBA),this.iconAtlasImage=null),this.glyphAtlasImage&&(this.glyphAtlasTexture=new bp(t,this.glyphAtlasImage,o.ALPHA),this.glyphAtlasImage=null)},qp.prototype.queryRenderedFeatures=function(t,e,i,n,o,r,a,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:i,scale:n,tileSize:this.tileSize,posMatrix:s,transform:r,params:o,queryPadding:this.queryPadding*a},t,e):{}},qp.prototype.querySourceFeatures=function(t,e){var i=this;if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var n=this.latestFeatureIndex.loadVTLayers(),o=e?e.sourceLayer:"",r=n._geojsonTileLayer||n[o];if(r)for(var a=ne(e&&e.filter),s={z:this.tileID.overscaledZ,x:this.tileID.canonical.x,y:this.tileID.canonical.y},l=0;l<r.length;l++){var u=r.feature(l);if(a(new uc(i.tileID.overscaledZ),u)){var c=new Fp(u,s.z,s.x,s.y);c.tile=s,t.push(c)}}}},qp.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},qp.prototype.setMask=function(t,e){
var i=this;if(!a(this.mask,t)&&(this.mask=t,this.clearMask(),!a(t,{0:!0}))){var n=new Ic,o=new qc;this.segments=new ah,this.segments.prepareSegment(0,n,o);for(var r=Object.keys(t),s=0;s<r.length;s++){var l=t[r[s]],u=ph>>l.z,c=new $s(l.x*u,l.y*u),h=new $s(c.x+u,c.y+u),d=i.segments.prepareSegment(4,n,o);n.emplaceBack(c.x,c.y,c.x,c.y),n.emplaceBack(h.x,c.y,h.x,c.y),n.emplaceBack(c.x,h.y,c.x,h.y),n.emplaceBack(h.x,h.y,h.x,h.y);var p=d.vertexLength;o.emplaceBack(p,p+1,p+2),o.emplaceBack(p+1,p+2,p+3),d.vertexLength+=4,d.primitiveLength+=2}this.maskedBoundsBuffer=e.createVertexBuffer(n,Np.members),this.maskedIndexBuffer=e.createIndexBuffer(o)}},qp.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},qp.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var i=E(t.cacheControl);i["max-age"]&&(this.expirationTime=Date.now()+1e3*i["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var n=Date.now(),o=!1;if(this.expirationTime>n)o=!1;else if(e)if(this.expirationTime<e)o=!0;else{var r=this.expirationTime-e;r?this.expirationTime=n+Math.max(r,Wp):o=!0}else o=!0;o?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},qp.prototype.getExpiryTimeout=function(){return this.expirationTime?this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1):void 0},qp.prototype.setFeatureState=function(t,e){var i=this;if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var n=this.latestFeatureIndex.loadVTLayers();for(var o in i.buckets){var r=i.buckets[o],a=r.layers[0].sourceLayer||"_geojsonTileLayer",s=n[a],l=t[a];s&&l&&0!==Object.keys(l).length&&(r.update(l,s),e&&e.style&&(i.queryPadding=Math.max(i.queryPadding,e.style.getLayer(r.layerIds[0]).queryRadius(r))))}}};var Vp=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Up={horizontal:1,vertical:2,horizontalOnly:3},Yp={};Yp[9]=!0,Yp[10]=!0,Yp[11]=!0,Yp[12]=!0,Yp[13]=!0,Yp[32]=!0;var Gp={};Gp[10]=!0,Gp[32]=!0,Gp[38]=!0,Gp[40]=!0,Gp[41]=!0,Gp[43]=!0,Gp[45]=!0,Gp[47]=!0,Gp[173]=!0,Gp[183]=!0,Gp[8203]=!0,Gp[8208]=!0,Gp[8211]=!0,Gp[8231]=!0,t.commonjsGlobal=Ts,t.commonjsRequire=e,t.unwrapExports=i,t.createCommonjsModule=n,t["default"]=$s,t.default$1=self,t.default$2=Ds,t.default$3=Os,t.getJSON=qs,t.getImage=Ys,t.ResourceType=Hs,t.RGBAImage=Yh,t.default$4=hp,t.ImagePosition=pp,t.default$5=bp,t.getArrayBuffer=Vs,t.default$6=ls,t.default$7=tc,t.asyncAll=h,t.AlphaImage=Uh,t.default$8=zl,t.endsWith=_,t.extend=f,t.sphericalToCartesian=A,t.Evented=Ks,t.validateStyle=Wu,t.validateLight=qu,t.emitValidationErrors=Se,t.default$9=Kl,t.number=X,t.Properties=wc,t.Transitionable=dc,t.Transitioning=fc,t.PossiblyEvaluated=vc,t.DataConstantProperty=yc,t.warnOnce=C,t.uniqueId=g,t.default$10=Mp,t.pick=m,t.wrap=c,t.clamp=u,t.Event=Xs,t.ErrorEvent=Zs,t.OverscaledTileID=Op,t.default$11=ph,t.getCoordinatesCenter=y,t.CanonicalTileID=Pp,t.RasterBoundsArray=Ic,t.default$12=Np,t.getVideo=Gs,t.default$13=Rl,t.bindAll=v,t.default$14=a,t.default$15=qp,t.default$16=Ns,t.keysDifference=p,t.default$17=jp,t.default$18=Vp,t.create=un,t.clone=cn,t.copy=hn,t.fromValues=dn,t.set=pn,t.identity=fn,t.transpose=mn,t.invert=gn,t.adjoint=vn,t.determinant=yn,t.multiply=_n,t.translate=bn,t.scale=xn,t.rotate=wn,t.rotateX=kn,t.rotateY=Cn,t.rotateZ=Sn,t.fromTranslation=Tn,t.fromScaling=An,t.fromRotation=En,t.fromXRotation=Mn,t.fromYRotation=Dn,t.fromZRotation=In,t.fromRotationTranslation=Pn,t.fromQuat2=Ln,t.getTranslation=On,t.getScaling=zn,t.getRotation=Rn,t.fromRotationTranslationScale=Nn,t.fromRotationTranslationScaleOrigin=$n,t.fromQuat=Fn,t.frustum=Bn,t.perspective=jn,t.perspectiveFromFieldOfView=Hn,t.ortho=Wn,t.lookAt=qn,t.targetTo=Vn,t.str=Un,t.frob=Yn,t.add=Gn,t.subtract=Xn,t.multiplyScalar=Zn,t.multiplyScalarAndAdd=Kn,t.exactEquals=Jn,t.equals=Qn,t.mul=Sh,t.sub=Th,t.create$1=Bo,t.clone$1=jo,t.fromValues$1=Ho,t.copy$1=Wo,t.set$1=qo,t.add$1=Vo,t.subtract$1=Uo,t.multiply$1=Yo,t.divide=Go,t.ceil=Xo,t.floor=Zo,t.min=Ko,t.max=Jo,t.round=Qo,t.scale$1=tr,t.scaleAndAdd=er,t.distance=ir,t.squaredDistance=nr,t.length=or,t.squaredLength=rr,t.negate=ar,t.inverse=sr,t.normalize=lr,t.dot=ur,t.lerp=cr,t.random=hr,t.transformMat4=dr,t.transformQuat=pr,t.str$1=fr,t.exactEquals$1=mr,t.equals$1=gr,t.sub$1=zh,t.mul$1=Rh,t.div=Nh,t.dist=$h,t.sqrDist=Fh,t.len=Bh,t.sqrLen=jh,t.forEach=Hh,t.getSizeData=Da,t.evaluateSizeForFeature=Ia,t.evaluateSizeForZoom=Pa,t.addDynamicAttributes=Oa,t.default$19=ip,t.WritingMode=Up,t.multiPolygonIntersectsBufferedPoint=Ge,t.multiPolygonIntersectsBufferedMultiPoint=Xe,t.multiPolygonIntersectsMultiPolygon=Ze,t.multiPolygonIntersectsBufferedMultiLine=Ke,t.polygonIntersectsPolygon=Ye,t.distToSegmentSquared=ii,t.default$20=Cc,t.default$21=Ra,t.clone$2=w,t.filterObject=x,t.mapObject=b,t.registerForPluginAvailability=rc,t.evented=oc,t.default$22=Ju,t.createLayout=Fe,t.default$23=hh,t.create$2=Pi,t.fromMat4=Li,t.clone$3=Oi,t.copy$2=zi,t.fromValues$2=Ri,t.set$2=Ni,t.identity$1=$i,t.transpose$1=Fi,t.invert$1=Bi,t.adjoint$1=ji,t.determinant$1=Hi,t.multiply$2=Wi,t.translate$1=qi,t.rotate$1=Vi,t.scale$2=Ui,t.fromTranslation$1=Yi,t.fromRotation$1=Gi,t.fromScaling$1=Xi,t.fromMat2d=Zi,t.fromQuat$1=Ki,t.normalFromMat4=Ji,t.projection=Qi,t.str$2=tn,t.frob$1=en,t.add$2=nn,t.subtract$2=on,t.multiplyScalar$1=rn,t.multiplyScalarAndAdd$1=an,t.exactEquals$2=sn,t.equals$2=ln,t.mul$2=kh,t.sub$2=Ch,t.create$3=to,t.clone$4=eo,t.length$1=io,t.fromValues$3=no,t.copy$3=oo,t.set$3=ro,t.add$3=ao,t.subtract$3=so,t.multiply$3=lo,t.divide$1=uo,t.ceil$1=co,t.floor$1=ho,t.min$1=po,t.max$1=fo,t.round$1=mo,t.scale$3=go,t.scaleAndAdd$1=vo,t.distance$1=yo,t.squaredDistance$1=_o,t.squaredLength$1=bo,t.negate$1=xo,t.inverse$1=wo,t.normalize$1=ko,t.dot$1=Co,t.cross=So,t.lerp$1=To,t.hermite=Ao,t.bezier=Eo,t.random$1=Mo,t.transformMat4$1=Do,t.transformMat3=Io,t.transformQuat$1=Po,t.rotateX$1=Lo,t.rotateY$1=Oo,t.rotateZ$1=zo,t.angle=Ro,t.str$3=No,t.exactEquals$3=$o,t.equals$3=Fo,t.sub$3=Ah,t.mul$3=Eh,t.div$1=Mh,t.dist$1=Dh,t.sqrDist$1=Ih,t.len$1=Ph,t.sqrLen$1=Lh,t.forEach$1=Oh,t.PosArray=Dc,t.UnwrappedTileID=Lp,t.create$4=li,t.clone$5=ui,t.copy$4=ci,t.identity$2=hi,t.fromValues$4=di,t.set$4=pi,t.transpose$2=fi,t.invert$2=mi,t.adjoint$2=gi,t.determinant$2=vi,t.multiply$4=yi,t.rotate$2=_i,t.scale$4=bi,t.fromRotation$2=xi,t.fromScaling$2=wi,t.str$4=ki,t.frob$2=Ci,t.LDU=Si,t.add$4=Ti,t.subtract$4=Ai,t.exactEquals$4=Ei,t.equals$4=Mi,t.multiplyScalar$2=Di,t.multiplyScalarAndAdd$2=Ii,t.mul$4=xh,t.sub$4=wh,t.ease=Fs,t.bezier$1=l,t.default$24=uc,t.setRTLTextPlugin=sc,t.values=d,t.default$25=ne,t.default$26=Gd,t.register=Ae,t.GLYPH_PBF_BORDER=Ep,t.shapeText=fs,t.shapeIcon=Ss,t.allowsVerticalWritingMode=De,t.allowsLetterSpacing=Ie,t.default$27=sa,t.default$28=Qd,t.default$29=Hp,t.CollisionBoxArray=Xc,t.default$30=$p,t.default$31=mp,t.default$32=Ad,t.default$33=Cp,t.default$34=Rp,t.__moduleExports=Ad,t.default$35=$s,t.__moduleExports$1=Cp,t.plugin=lc}),t(["./chunk1.js"],function(t){function e(t){var i=typeof t;if("number"===i||"boolean"===i||"string"===i||void 0===t||null===t)return JSON.stringify(t);if(Array.isArray(t)){for(var n="[",o=0,r=t;o<r.length;o+=1){var a=r[o];n+=e(a)+","}return n+"]"}for(var s=Object.keys(t).sort(),l="{",u=0;u<s.length;u++)l+=JSON.stringify(s[u])+":"+e(t[s[u]])+",";return l+"}"}function i(i){for(var n="",o=0,r=t.default$18;o<r.length;o+=1){var a=r[o];n+="/"+e(i[a])}return n}function n(t){for(var e={},n=0;n<t.length;n++){var o=i(t[n]),r=e[o];r||(r=e[o]=[]),r.push(t[n])}var a=[];for(var s in e)a.push(e[s]);return a}function o(t,e,i,n,o){if(void 0===e.segment)return!0;for(var r=e,a=e.segment+1,s=0;s>-i/2;){if(a--,0>a)return!1;s-=t[a].dist(r),r=t[a]}s+=t[a].dist(t[a+1]),a++;for(var l=[],u=0;i/2>s;){var c=t[a-1],h=t[a],d=t[a+1];if(!d)return!1;var p=c.angleTo(h)-h.angleTo(d);for(p=Math.abs((p+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:p}),u+=p;s-l[0].distance>n;)u-=l.shift().angleDelta;if(u>o)return!1;a++,s+=h.dist(d)}return!0}function r(t){for(var e=0,i=0;i<t.length-1;i++)e+=t[i].dist(t[i+1]);return e}function a(t,e,i){return t?.6*e*i:0}function s(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function l(e,i,n,l,u,c){for(var h=a(n,u,c),d=s(n,l),p=0,f=r(e)/2,m=0;m<e.length-1;m++){var g=e[m],v=e[m+1],y=g.dist(v);if(p+y>f){var _=(f-p)/y,b=t.number(g.x,v.x,_),x=t.number(g.y,v.y,_),w=new t.default$26(b,x,v.angleTo(g),m);if(w._round(),h&&!o(e,w,d,h,i))return;return w}p+=y}}function u(t,e,i,n,o,r,l,u,h){var d=a(n,r,l),p=s(n,o),f=0===t[0].x||t[0].x===h||0===t[0].y||t[0].y===h;e/4>e-p*l&&(e=p*l+e/4);var m=2*r,g=f?e/2*u%e:(p/2+m)*l*u%e;return c(t,g,e,d,i,p*l,f,!1,h)}function c(e,i,n,a,s,l,u,h,d){for(var p=l/2,f=r(e),m=0,g=i-n,v=[],y=0;y<e.length-1;y++){for(var _=e[y],b=e[y+1],x=_.dist(b),w=b.angleTo(_);m+x>g+n;){g+=n;var k=(g-m)/x,C=t.number(_.x,b.x,k),S=t.number(_.y,b.y,k);if(C>=0&&d>C&&S>=0&&d>S&&g-p>=0&&f>=g+p){var T=new t.default$26(C,S,w,y);T._round(),a&&!o(e,T,l,a,s)||v.push(T)}}m+=x}return h||v.length||u||(v=c(e,m/2,n,a,s,l,u,!0,d)),v}function h(e,i,n,o,r){for(var a=[],s=0;s<e.length;s++)for(var l=e[s],u=void 0,c=0;c<l.length-1;c++){var h=l[c],d=l[c+1];h.x<i&&d.x<i||(h.x<i?h=new t["default"](i,h.y+(d.y-h.y)*((i-h.x)/(d.x-h.x)))._round():d.x<i&&(d=new t["default"](i,h.y+(d.y-h.y)*((i-h.x)/(d.x-h.x)))._round()),h.y<n&&d.y<n||(h.y<n?h=new t["default"](h.x+(d.x-h.x)*((n-h.y)/(d.y-h.y)),n)._round():d.y<n&&(d=new t["default"](h.x+(d.x-h.x)*((n-h.y)/(d.y-h.y)),n)._round()),h.x>=o&&d.x>=o||(h.x>=o?h=new t["default"](o,h.y+(d.y-h.y)*((o-h.x)/(d.x-h.x)))._round():d.x>=o&&(d=new t["default"](o,h.y+(d.y-h.y)*((o-h.x)/(d.x-h.x)))._round()),h.y>=r&&d.y>=r||(h.y>=r?h=new t["default"](h.x+(d.x-h.x)*((r-h.y)/(d.y-h.y)),r)._round():d.y>=r&&(d=new t["default"](h.x+(d.x-h.x)*((r-h.y)/(d.y-h.y)),r)._round()),u&&h.equals(u[u.length-1])||(u=[h],a.push(u)),u.push(d)))))}return a}function d(e,i,n,o,r,a){var s,l,u,c,h=i.image,d=n.layout,p=1,f=i.top-p/h.pixelRatio,m=i.left-p/h.pixelRatio,g=i.bottom+p/h.pixelRatio,v=i.right+p/h.pixelRatio;if("none"!==d.get("icon-text-fit")&&r){var y=v-m,_=g-f,b=d.get("text-size").evaluate(a,{})/24,x=r.left*b,w=r.right*b,k=r.top*b,C=r.bottom*b,S=w-x,T=C-k,A=d.get("icon-text-fit-padding")[0],E=d.get("icon-text-fit-padding")[1],M=d.get("icon-text-fit-padding")[2],D=d.get("icon-text-fit-padding")[3],I="width"===d.get("icon-text-fit")?.5*(T-_):0,P="height"===d.get("icon-text-fit")?.5*(S-y):0,L="width"===d.get("icon-text-fit")||"both"===d.get("icon-text-fit")?S:y,O="height"===d.get("icon-text-fit")||"both"===d.get("icon-text-fit")?T:_;s=new t["default"](x+P-D,k+I-A),l=new t["default"](x+P+E+L,k+I-A),u=new t["default"](x+P+E+L,k+I+M+O),c=new t["default"](x+P-D,k+I+M+O)}else s=new t["default"](m,f),l=new t["default"](v,f),u=new t["default"](v,g),c=new t["default"](m,g);var z=n.layout.get("icon-rotate").evaluate(a,{})*Math.PI/180;if(z){var R=Math.sin(z),N=Math.cos(z),$=[N,-R,R,N];s._matMult($),l._matMult($),c._matMult($),u._matMult($)}return[{tl:s,tr:l,bl:c,br:u,tex:h.paddedRect,writingMode:void 0,glyphOffset:[0,0]}]}function p(e,i,n,o,r,a){for(var s=24,l=n.layout.get("text-rotate").evaluate(r,{})*Math.PI/180,u=n.layout.get("text-offset").evaluate(r,{}).map(function(t){return t*s}),c=i.positionedGlyphs,h=[],d=0;d<c.length;d++){var p=c[d],f=a[p.glyph];if(f){var m=f.rect;if(m){var g=1,v=t.GLYPH_PBF_BORDER+g,y=f.metrics.advance/2,_=o?[p.x+y,p.y]:[0,0],b=o?[0,0]:[p.x+y+u[0],p.y+u[1]],x=f.metrics.left-v-y+b[0],w=-f.metrics.top-v+b[1],k=x+m.w,C=w+m.h,S=new t["default"](x,w),T=new t["default"](k,w),A=new t["default"](x,C),E=new t["default"](k,C);if(o&&p.vertical){var M=new t["default"](-y,y),D=-Math.PI/2,I=new t["default"](5,0);S._rotateAround(D,M)._add(I),T._rotateAround(D,M)._add(I),A._rotateAround(D,M)._add(I),E._rotateAround(D,M)._add(I)}if(l){var P=Math.sin(l),L=Math.cos(l),O=[L,-P,P,L];S._matMult(O),T._matMult(O),A._matMult(O),E._matMult(O)}h.push({tl:S,tr:T,bl:A,br:E,tex:m,writingMode:i.writingMode,glyphOffset:_})}}}return h}function f(t,e){var i=this;if(!(this instanceof f))return new f(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||m,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)i._down(n)}function m(t,e){return e>t?-1:t>e?1:0}function g(e,i,n){void 0===i&&(i=1),void 0===n&&(n=!1);for(var o=1/0,r=1/0,a=-(1/0),s=-(1/0),l=e[0],u=0;u<l.length;u++){var c=l[u];(!u||c.x<o)&&(o=c.x),(!u||c.y<r)&&(r=c.y),(!u||c.x>a)&&(a=c.x),(!u||c.y>s)&&(s=c.y)}var h=a-o,d=s-r,p=Math.min(h,d),f=p/2,m=new ne(null,v);if(0===p)return new t["default"](o,r);for(var g=o;a>g;g+=p)for(var _=r;s>_;_+=p)m.push(new y(g+f,_+f,f,e));for(var x=b(e),w=m.length;m.length;){var k=m.pop();(k.d>x.d||!x.d)&&(x=k,n&&console.log("found best %d after %d probes",Math.round(1e4*k.d)/1e4,w)),k.max-x.d<=i||(f=k.h/2,m.push(new y(k.p.x-f,k.p.y-f,f,e)),m.push(new y(k.p.x+f,k.p.y-f,f,e)),m.push(new y(k.p.x-f,k.p.y+f,f,e)),m.push(new y(k.p.x+f,k.p.y+f,f,e)),w+=4)}return n&&(console.log("num probes: "+w),console.log("best distance: "+x.d)),x.p}function v(t,e){return e.max-t.max}function y(e,i,n,o){this.p=new t["default"](e,i),this.h=n,this.d=_(this.p,o),this.max=this.d+this.h*Math.SQRT2}function _(e,i){for(var n=!1,o=1/0,r=0;r<i.length;r++)for(var a=i[r],s=0,l=a.length,u=l-1;l>s;u=s++){var c=a[s],h=a[u];c.y>e.y!=h.y>e.y&&e.x<(h.x-c.x)*(e.y-c.y)/(h.y-c.y)+c.x&&(n=!n),o=Math.min(o,t.distToSegmentSquared(e,c,h))}return(n?1:-1)*Math.sqrt(o)}function b(t){for(var e=0,i=0,n=0,o=t[0],r=0,a=o.length,s=a-1;a>r;s=r++){var l=o[r],u=o[s],c=l.x*u.y-u.x*l.y;i+=(l.x+u.x)*c,n+=(l.y+u.y)*c,e+=3*c}return new y(i/e,n/e,0,t)}function x(e,i,n,o,r,a){e.createArrays(),e.symbolInstances=[];var s=512*e.overscaling;e.tilePixelRatio=t.default$11/s,e.compareText={},e.iconsNeedLinear=!1;var l=e.layers[0].layout,u=e.layers[0]._unevaluatedLayout._values,c={};if("composite"===e.textSizeData.functionType){var h=e.textSizeData.zoomRange,d=h.min,p=h.max;c.compositeTextSizes=[u["text-size"].possiblyEvaluate(new t.default$24(d)),u["text-size"].possiblyEvaluate(new t.default$24(p))]}if("composite"===e.iconSizeData.functionType){var f=e.iconSizeData.zoomRange,m=f.min,g=f.max;c.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new t.default$24(m)),u["icon-size"].possiblyEvaluate(new t.default$24(g))]}c.layoutTextSize=u["text-size"].possiblyEvaluate(new t.default$24(e.zoom+1)),c.layoutIconSize=u["icon-size"].possiblyEvaluate(new t.default$24(e.zoom+1)),c.textMaxSize=u["text-size"].possiblyEvaluate(new t.default$24(18));for(var v=24,y=l.get("text-line-height")*v,_="map"===l.get("text-rotation-alignment")&&"point"!==l.get("symbol-placement"),b=l.get("text-keep-upright"),x=0,k=e.features;x<k.length;x+=1){var C=k[x],S=l.get("text-font").evaluate(C,{}).join(","),T=i[S]||{},A=n[S]||{},E={},M=C.text;if(M){var D=l.get("text-offset").evaluate(C,{}).map(function(t){return t*v}),I=l.get("text-letter-spacing").evaluate(C,{})*v,P=t.allowsLetterSpacing(M)?I:0,L=l.get("text-anchor").evaluate(C,{}),O=l.get("text-justify").evaluate(C,{}),z="point"===l.get("symbol-placement")?l.get("text-max-width").evaluate(C,{})*v:0;E.horizontal=t.shapeText(M,T,z,y,L,O,P,D,v,t.WritingMode.horizontal),t.allowsVerticalWritingMode(M)&&_&&b&&(E.vertical=t.shapeText(M,T,z,y,L,O,P,D,v,t.WritingMode.vertical))}var R=void 0;if(C.icon){var N=o[C.icon];N&&(R=t.shapeIcon(r[C.icon],l.get("icon-offset").evaluate(C,{}),l.get("icon-anchor").evaluate(C,{})),void 0===e.sdfIcons?e.sdfIcons=N.sdf:e.sdfIcons!==N.sdf&&t.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),N.pixelRatio!==e.pixelRatio?e.iconsNeedLinear=!0:0!==l.get("icon-rotate").constantOr(1)&&(e.iconsNeedLinear=!0))}(E.horizontal||R)&&w(e,C,E,R,A,c)}a&&e.generateCollisionDebugBuffers()}function w(e,i,n,o,r,a){var s=a.layoutTextSize.evaluate(i,{}),c=a.layoutIconSize.evaluate(i,{}),d=a.textMaxSize.evaluate(i,{});void 0===d&&(d=s);var p=e.layers[0].layout,f=p.get("text-offset").evaluate(i,{}),m=p.get("icon-offset").evaluate(i,{}),v=24,y=s/v,_=e.tilePixelRatio*y,b=e.tilePixelRatio*d/v,x=e.tilePixelRatio*c,w=e.tilePixelRatio*p.get("symbol-spacing"),k=p.get("text-padding")*e.tilePixelRatio,T=p.get("icon-padding")*e.tilePixelRatio,A=p.get("text-max-angle")/180*Math.PI,E="map"===p.get("text-rotation-alignment")&&"point"!==p.get("symbol-placement"),M="map"===p.get("icon-rotation-alignment")&&"point"!==p.get("symbol-placement"),D=p.get("symbol-placement"),I=w/2,P=function(s,l){l.x<0||l.x>=t.default$11||l.y<0||l.y>=t.default$11||e.symbolInstances.push(C(e,l,s,n,o,e.layers[0],e.collisionBoxArray,i.index,i.sourceLayerIndex,e.index,_,k,E,f,x,T,M,m,i,r,a))};if("line"===D)for(var L=0,O=h(i.geometry,0,0,t.default$11,t.default$11);L<O.length;L+=1)for(var z=O[L],R=u(z,w,A,n.vertical||n.horizontal,o,v,b,e.overscaling,t.default$11),N=0,$=R;N<$.length;N+=1){var F=$[N],B=n.horizontal;B&&S(e,B.text,I,F)||P(z,F)}else if("line-center"===D)for(var j=0,H=i.geometry;j<H.length;j+=1){var W=H[j];if(W.length>1){var q=l(W,A,n.vertical||n.horizontal,o,v,b);q&&P(W,q)}}else if("Polygon"===i.type)for(var V=0,U=t.default$27(i.geometry,0);V<U.length;V+=1){var Y=U[V],G=g(Y,16);P(Y[0],new t.default$26(G.x,G.y,0))}else if("LineString"===i.type)for(var X=0,Z=i.geometry;X<Z.length;X+=1){var K=Z[X];P(K,new t.default$26(K[0].x,K[0].y,0))}else if("Point"===i.type)for(var J=0,Q=i.geometry;J<Q.length;J+=1)for(var tt=Q[J],et=0,it=tt;et<it.length;et+=1){var nt=it[et];P([nt],new t.default$26(nt.x,nt.y,0))}}function k(t,e,i,n,o,r,a,s,l,u,c,h){var d=p(e,i,n,o,r,c),f=t.textSizeData,m=null;return"source"===f.functionType?m=[10*n.layout.get("text-size").evaluate(r,{})]:"composite"===f.functionType&&(m=[10*h.compositeTextSizes[0].evaluate(r,{}),10*h.compositeTextSizes[1].evaluate(r,{})]),t.addSymbols(t.text,d,m,a,o,r,l,e,s.lineStartIndex,s.lineLength),u.push(t.text.placedSymbolArray.length-1),4*d.length}function C(e,i,n,o,r,a,s,l,u,c,h,p,f,m,g,v,y,_,b,x,w){var C,S,T=e.addToLineVertexArray(i,n),A=0,E=0,M=0,D=o.horizontal?o.horizontal.text:"",I=[];if(o.horizontal){var P=a.layout.get("text-rotate").evaluate(b,{});C=new ie(s,n,i,l,u,c,o.horizontal,h,p,f,e.overscaling,P),E+=k(e,i,o.horizontal,a,f,b,m,T,o.vertical?t.WritingMode.horizontal:t.WritingMode.horizontalOnly,I,x,w),o.vertical&&(M+=k(e,i,o.vertical,a,f,b,m,T,t.WritingMode.vertical,I,x,w))}var L=C?C.boxStartIndex:e.collisionBoxArray.length,O=C?C.boxEndIndex:e.collisionBoxArray.length;if(r){var z=d(i,r,a,y,o.horizontal,b),R=a.layout.get("icon-rotate").evaluate(b,{});S=new ie(s,n,i,l,u,c,r,g,v,!1,e.overscaling,R),A=4*z.length;var N=e.iconSizeData,$=null;"source"===N.functionType?$=[10*a.layout.get("icon-size").evaluate(b,{})]:"composite"===N.functionType&&($=[10*w.compositeIconSizes[0].evaluate(b,{}),10*w.compositeIconSizes[1].evaluate(b,{})]),e.addSymbols(e.icon,z,$,_,y,b,!1,i,T.lineStartIndex,T.lineLength)}var F=S?S.boxStartIndex:e.collisionBoxArray.length,B=S?S.boxEndIndex:e.collisionBoxArray.length;e.glyphOffsetArray.length>=t.default$28.MAX_GLYPHS&&t.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907");var j=new ee,H=new ee;return{key:D,textBoxStartIndex:L,textBoxEndIndex:O,iconBoxStartIndex:F,iconBoxEndIndex:B,textOffset:m,iconOffset:_,anchor:i,line:n,featureIndex:l,feature:b,numGlyphVertices:E,numVerticalGlyphVertices:M,numIconVertices:A,textOpacityState:j,iconOpacityState:H,isDuplicate:!1,placedTextSymbolIndices:I,crossTileID:0}}function S(t,e,i,n){var o=t.compareText;if(e in o){for(var r=o[e],a=r.length-1;a>=0;a--)if(n.dist(r[a])<i)return!0}else o[e]=[];return o[e].push(n),!1}function T(e,i){for(var n=new t.default$24(i),o=0,r=e;o<r.length;o+=1){var a=r[o];a.recalculate(n)}}function A(e,i){var n=t.getArrayBuffer(e.request,function(e,n){e?i(e):n&&i(null,{vectorTile:new t.default$32.VectorTile(new t.default$33(n.data)),rawData:n.data,cacheControl:n.cacheControl,expires:n.expires})});return function(){n.cancel(),i()}}function E(t){var e,i=0;switch(t.type){case"Polygon":return M(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)i+=M(t.coordinates[e]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(e=0;e<t.geometries.length;e++)i+=E(t.geometries[e]);return i}}function M(t){var e=0;if(t&&t.length>0){e+=Math.abs(D(t[0]));for(var i=1;i<t.length;i++)e-=Math.abs(D(t[i]))}return e}function D(t){var e,i,n,o,r,a,s,l=0,u=t.length;if(u>2){for(s=0;u>s;s++)s===u-2?(o=u-2,r=u-1,a=0):s===u-1?(o=u-1,r=0,a=1):(o=s,r=s+1,a=s+2),e=t[o],i=t[r],n=t[a],l+=(I(n[0])-I(e[0]))*Math.sin(I(i[1]));l=l*ge.RADIUS*ge.RADIUS/2}return l}function I(t){return t*Math.PI/180}function P(t,e){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(L(P,e)),t;case"Feature":return t.geometry=P(t.geometry,e),t;case"Polygon":case"MultiPolygon":return O(t,e);default:return t}}function L(t,e){return function(i){return t(i,e)}}function O(t,e){return"Polygon"===t.type?t.coordinates=z(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(L(z,e))),t}function z(t,e){e=!!e,t[0]=R(t[0],e);for(var i=1;i<t.length;i++)t[i]=R(t[i],!e);return t}function R(t,e){return N(t)===e?t:t.reverse()}function N(t){return _e.ring(t)>=0}function $(t,e){this.options=e||{},this.features=t,this.length=t.length}function F(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}function B(e){var i=new t.__moduleExports$1;return H(e,i),i.finish()}function j(t,e){e=e||{};var i={};for(var n in t)i[n]=new Se(t[n].features,e),i[n].name=n,i[n].version=e.version,i[n].extent=e.extent;return B({layers:i})}function H(t,e){for(var i in t.layers)e.writeMessage(3,W,t.layers[i])}function W(t,e){e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var i,n={keys:[],values:[],keycache:{},valuecache:{}};for(i=0;i<t.length;i++)n.feature=t.feature(i),e.writeMessage(2,q,n);var o=n.keys;for(i=0;i<o.length;i++)e.writeStringField(3,o[i]);var r=n.values;for(i=0;i<r.length;i++)e.writeMessage(4,X,r[i])}function q(t,e){var i=t.feature;void 0!==i.id&&e.writeVarintField(1,i.id),e.writeMessage(2,V,t),e.writeVarintField(3,i.type),e.writeMessage(4,G,i)}function V(t,e){var i=t.feature,n=t.keys,o=t.values,r=t.keycache,a=t.valuecache;for(var s in i.properties){var l=r[s];"undefined"==typeof l&&(n.push(s),l=n.length-1,r[s]=l),e.writeVarint(l);var u=i.properties[s],c=typeof u;"string"!==c&&"boolean"!==c&&"number"!==c&&(u=JSON.stringify(u));var h=c+":"+u,d=a[h];"undefined"==typeof d&&(o.push(u),d=o.length-1,a[h]=d),e.writeVarint(d)}}function U(t,e){return(e<<3)+(7&t)}function Y(t){return t<<1^t>>31}function G(t,e){for(var i=t.loadGeometry(),n=t.type,o=0,r=0,a=i.length,s=0;a>s;s++){var l=i[s],u=1;1===n&&(u=l.length),e.writeVarint(U(1,u));for(var c=3===n?l.length-1:l.length,h=0;c>h;h++){1===h&&1!==n&&e.writeVarint(U(2,c-1));var d=l[h].x-o,p=l[h].y-r;e.writeVarint(Y(d)),e.writeVarint(Y(p)),o+=d,r+=p}3===n&&e.writeVarint(U(7,0))}}function X(t,e){var i=typeof t;"string"===i?e.writeStringField(1,t):"boolean"===i?e.writeBooleanField(7,t):"number"===i&&(t%1!==0?e.writeDoubleField(3,t):0>t?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function Z(t,e,i,n,o,r){if(!(i>=o-n)){var a=Math.floor((n+o)/2);K(t,e,a,n,o,r%2),Z(t,e,i,n,a-1,r+1),Z(t,e,i,a+1,o,r+1)}}function K(t,e,i,n,o,r){for(;o>n;){if(o-n>600){var a=o-n+1,s=i-n+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(0>s-a/2?-1:1),h=Math.max(n,Math.floor(i-s*u/a+c)),d=Math.min(o,Math.floor(i+(a-s)*u/a+c));K(t,e,i,h,d,r)}var p=e[2*i+r],f=n,m=o;for(J(t,e,n,i),e[2*o+r]>p&&J(t,e,n,o);m>f;){for(J(t,e,f,m),f++,m--;e[2*f+r]<p;)f++;for(;e[2*m+r]>p;)m--}e[2*n+r]===p?J(t,e,n,m):(m++,J(t,e,m,o)),i>=m&&(n=m+1),m>=i&&(o=m-1)}}function J(t,e,i,n){Q(t,i,n),Q(e,2*i,2*n),Q(e,2*i+1,2*n+1)}function Q(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function tt(t,e,i,n,o,r,a){for(var s,l,u=[0,t.length-1,0],c=[];u.length;){var h=u.pop(),d=u.pop(),p=u.pop();if(a>=d-p)for(var f=p;d>=f;f++)s=e[2*f],l=e[2*f+1],s>=i&&o>=s&&l>=n&&r>=l&&c.push(t[f]);else{var m=Math.floor((p+d)/2);s=e[2*m],l=e[2*m+1],s>=i&&o>=s&&l>=n&&r>=l&&c.push(t[m]);var g=(h+1)%2;(0===h?s>=i:l>=n)&&(u.push(p),u.push(m-1),u.push(g)),(0===h?o>=s:r>=l)&&(u.push(m+1),u.push(d),u.push(g))}}return c}function et(t,e,i,n,o,r){for(var a=[0,t.length-1,0],s=[],l=o*o;a.length;){var u=a.pop(),c=a.pop(),h=a.pop();if(r>=c-h)for(var d=h;c>=d;d++)it(e[2*d],e[2*d+1],i,n)<=l&&s.push(t[d]);else{var p=Math.floor((h+c)/2),f=e[2*p],m=e[2*p+1];it(f,m,i,n)<=l&&s.push(t[p]);var g=(u+1)%2;(0===u?f>=i-o:m>=n-o)&&(a.push(h),a.push(p-1),a.push(g)),(0===u?i+o>=f:n+o>=m)&&(a.push(p+1),a.push(c),a.push(g))}}return s}function it(t,e,i,n){var o=t-i,r=e-n;return o*o+r*r}function nt(t,e,i,n,o){return new ot(t,e,i,n,o)}function ot(t,e,i,n,o){var r=this;e=e||rt,i=i||at,o=o||Array,this.nodeSize=n||64,this.points=t,this.ids=new o(t.length),this.coords=new o(2*t.length);for(var a=0;a<t.length;a++)r.ids[a]=a,r.coords[2*a]=e(t[a]),r.coords[2*a+1]=i(t[a]);Z(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function rt(t){return t[0]}function at(t){return t[1]}function st(t){return new lt(t)}function lt(t){this.options=vt(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function ut(t,e,i,n,o){return{x:t,y:e,zoom:1/0,id:i,parentId:-1,numPoints:n,properties:o}}function ct(t,e){var i=t.geometry.coordinates;return{x:pt(i[0]),y:ft(i[1]),zoom:1/0,id:e,parentId:-1}}function ht(t){return{type:"Feature",properties:dt(t),geometry:{type:"Point",coordinates:[mt(t.x),gt(t.y)]}}}function dt(t){var e=t.numPoints,i=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return vt(vt({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:i})}function pt(t){return t/360+.5}function ft(t){var e=Math.sin(t*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return 0>i?0:i>1?1:i}function mt(t){return 360*(t-.5)}function gt(t){var e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function vt(t,e){for(var i in e)t[i]=e[i];return t}function yt(t){return t.x}function _t(t){return t.y}function bt(t,e,i,n){for(var o,r=n,a=i-e>>1,s=i-e,l=t[e],u=t[e+1],c=t[i],h=t[i+1],d=e+3;i>d;d+=3){var p=xt(t[d],t[d+1],l,u,c,h);if(p>r)o=d,r=p;else if(p===r){var f=Math.abs(d-a);s>f&&(o=d,s=f)}}r>n&&(o-e>3&&bt(t,e,o,n),t[o+2]=r,i-o>3&&bt(t,o,i,n))}function xt(t,e,i,n,o,r){var a=o-i,s=r-n;if(0!==a||0!==s){var l=((t-i)*a+(e-n)*s)/(a*a+s*s);l>1?(i=o,n=r):l>0&&(i+=a*l,n+=s*l)}return a=t-i,s=e-n,a*a+s*s}function wt(t,e,i,n){var o={id:"undefined"==typeof t?null:t,type:e,geometry:i,tags:n,minX:1/0,minY:1/0,maxX:-(1/0),maxY:-(1/0)};return kt(o),o}function kt(t){var e=t.geometry,i=t.type;if("Point"===i||"MultiPoint"===i||"LineString"===i)Ct(t,e);else if("Polygon"===i||"MultiLineString"===i)for(var n=0;n<e.length;n++)Ct(t,e[n]);else if("MultiPolygon"===i)for(n=0;n<e.length;n++)for(var o=0;o<e[n].length;o++)Ct(t,e[n][o])}function Ct(t,e){for(var i=0;i<e.length;i+=3)t.minX=Math.min(t.minX,e[i]),t.minY=Math.min(t.minY,e[i+1]),t.maxX=Math.max(t.maxX,e[i]),t.maxY=Math.max(t.maxY,e[i+1])}function St(t,e){var i=[];if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)Tt(i,t.features[n],e);else"Feature"===t.type?Tt(i,t,e):Tt(i,{geometry:t},e);return i}function Tt(t,e,i){if(e.geometry){var n=e.geometry.coordinates,o=e.geometry.type,r=Math.pow(i.tolerance/((1<<i.maxZoom)*i.extent),2),a=[];if("Point"===o)At(n,a);else if("MultiPoint"===o)for(var s=0;s<n.length;s++)At(n[s],a);else if("LineString"===o)Et(n,a,r,!1);else if("MultiLineString"===o){if(i.lineMetrics){for(s=0;s<n.length;s++)a=[],Et(n[s],a,r,!1),t.push(wt(e.id,"LineString",a,e.properties));return}Mt(n,a,r,!1)}else if("Polygon"===o)Mt(n,a,r,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(s=0;s<e.geometry.geometries.length;s++)Tt(t,{id:e.id,geometry:e.geometry.geometries[s],properties:e.properties},i);return}throw new Error("Input data is not a valid GeoJSON object.")}for(s=0;s<n.length;s++){var l=[];Mt(n[s],l,r,!0),a.push(l)}}t.push(wt(e.id,o,a,e.properties))}}function At(t,e){e.push(Dt(t[0])),e.push(It(t[1])),e.push(0)}function Et(t,e,i,n){for(var o,r,a=0,s=0;s<t.length;s++){var l=Dt(t[s][0]),u=It(t[s][1]);e.push(l),e.push(u),e.push(0),s>0&&(a+=n?(o*u-l*r)/2:Math.sqrt(Math.pow(l-o,2)+Math.pow(u-r,2))),o=l,r=u}var c=e.length-3;e[2]=1,bt(e,0,c,i),e[c+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function Mt(t,e,i,n){for(var o=0;o<t.length;o++){var r=[];Et(t[o],r,i,n),e.push(r)}}function Dt(t){return t/360+.5}function It(t){var e=Math.sin(t*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return 0>i?0:i>1?1:i}function Pt(t,e,i,n,o,r,a,s){if(i/=e,n/=e,r>=i&&n>a)return t;if(i>a||r>=n)return null;for(var l=[],u=0;u<t.length;u++){var c=t[u],h=c.geometry,d=c.type,p=0===o?c.minX:c.minY,f=0===o?c.maxX:c.maxY;if(p>=i&&n>f)l.push(c);else if(!(i>f||p>=n)){var m=[];if("Point"===d||"MultiPoint"===d)Lt(h,m,i,n,o);else if("LineString"===d)Ot(h,m,i,n,o,!1,s.lineMetrics);else if("MultiLineString"===d)Rt(h,m,i,n,o,!1);else if("Polygon"===d)Rt(h,m,i,n,o,!0);else if("MultiPolygon"===d)for(var g=0;g<h.length;g++){var v=[];Rt(h[g],v,i,n,o,!0),v.length&&m.push(v)}if(m.length){if(s.lineMetrics&&"LineString"===d){for(g=0;g<m.length;g++)l.push(wt(c.id,d,m[g],c.tags));continue}"LineString"!==d&&"MultiLineString"!==d||(1===m.length?(d="LineString",m=m[0]):d="MultiLineString"),"Point"!==d&&"MultiPoint"!==d||(d=3===m.length?"Point":"MultiPoint"),l.push(wt(c.id,d,m,c.tags))}}}return l.length?l:null}function Lt(t,e,i,n,o){for(var r=0;r<t.length;r+=3){var a=t[r+o];a>=i&&n>=a&&(e.push(t[r]),e.push(t[r+1]),e.push(t[r+2]))}}function Ot(t,e,i,n,o,r,a){for(var s,l,u=zt(t),c=0===o?$t:Ft,h=t.start,d=0;d<t.length-3;d+=3){var p=t[d],f=t[d+1],m=t[d+2],g=t[d+3],v=t[d+4],y=0===o?p:f,_=0===o?g:v,b=!1;a&&(s=Math.sqrt(Math.pow(p-g,2)+Math.pow(f-v,2))),i>y?_>=i&&(l=c(u,p,f,g,v,i),a&&(u.start=h+s*l)):y>=n?n>_&&(l=c(u,p,f,g,v,n),a&&(u.start=h+s*l)):Nt(u,p,f,m),i>_&&y>=i&&(l=c(u,p,f,g,v,i),b=!0),_>n&&n>=y&&(l=c(u,p,f,g,v,n),b=!0),!r&&b&&(a&&(u.end=h+s*l),e.push(u),u=zt(t)),a&&(h+=s)}var x=t.length-3;p=t[x],f=t[x+1],m=t[x+2],y=0===o?p:f,y>=i&&n>=y&&Nt(u,p,f,m),x=u.length-3,r&&x>=3&&(u[x]!==u[0]||u[x+1]!==u[1])&&Nt(u,u[0],u[1],u[2]),u.length&&e.push(u)}function zt(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function Rt(t,e,i,n,o,r){for(var a=0;a<t.length;a++)Ot(t[a],e,i,n,o,r,!1)}function Nt(t,e,i,n){t.push(e),t.push(i),t.push(n)}function $t(t,e,i,n,o,r){var a=(r-e)/(n-e);return t.push(r),t.push(i+(o-i)*a),t.push(1),a}function Ft(t,e,i,n,o,r){var a=(r-i)/(o-i);return t.push(e+(n-e)*a),t.push(r),t.push(1),a}function Bt(t,e){var i=e.buffer/e.extent,n=t,o=Pt(t,1,-1-i,i,0,-1,2,e),r=Pt(t,1,1-i,2+i,0,-1,2,e);return(o||r)&&(n=Pt(t,1,-i,1+i,0,-1,2,e)||[],o&&(n=jt(o,1).concat(n)),r&&(n=n.concat(jt(r,-1)))),n}function jt(t,e){for(var i=[],n=0;n<t.length;n++){var o,r=t[n],a=r.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)o=Ht(r.geometry,e);else if("MultiLineString"===a||"Polygon"===a){o=[];for(var s=0;s<r.geometry.length;s++)o.push(Ht(r.geometry[s],e))}else if("MultiPolygon"===a)for(o=[],s=0;s<r.geometry.length;s++){for(var l=[],u=0;u<r.geometry[s].length;u++)l.push(Ht(r.geometry[s][u],e));o.push(l)}i.push(wt(r.id,a,o,r.tags))}return i}function Ht(t,e){var i=[];i.size=t.size,void 0!==t.start&&(i.start=t.start,i.end=t.end);for(var n=0;n<t.length;n+=3)i.push(t[n]+e,t[n+1],t[n+2]);return i}function Wt(t,e){if(t.transformed)return t;var i,n,o,r=1<<t.z,a=t.x,s=t.y;for(i=0;i<t.features.length;i++){var l=t.features[i],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(n=0;n<u.length;n+=2)l.geometry.push(qt(u[n],u[n+1],e,r,a,s));else for(n=0;n<u.length;n++){var h=[];for(o=0;o<u[n].length;o+=2)h.push(qt(u[n][o],u[n][o+1],e,r,a,s));l.geometry.push(h)}}return t.transformed=!0,t}function qt(t,e,i,n,o,r){return[Math.round(i*(t*n-o)),Math.round(i*(e*n-r))]}function Vt(t,e,i,n,o){for(var r=e===o.maxZoom?0:o.tolerance/((1<<e)*o.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:i,y:n,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,Ut(a,t[s],r,o);var l=t[s].minX,u=t[s].minY,c=t[s].maxX,h=t[s].maxY;l<a.minX&&(a.minX=l),u<a.minY&&(a.minY=u),c>a.maxX&&(a.maxX=c),h>a.maxY&&(a.maxY=h)}return a}function Ut(t,e,i,n){var o=e.geometry,r=e.type,a=[];if("Point"===r||"MultiPoint"===r)for(var s=0;s<o.length;s+=3)a.push(o[s]),a.push(o[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===r)Yt(a,o,t,i,!1,!1);else if("MultiLineString"===r||"Polygon"===r)for(s=0;s<o.length;s++)Yt(a,o[s],t,i,"Polygon"===r,0===s);else if("MultiPolygon"===r)for(var l=0;l<o.length;l++){
var u=o[l];for(s=0;s<u.length;s++)Yt(a,u[s],t,i,!0,0===s)}if(a.length){var c=e.tags||null;if("LineString"===r&&n.lineMetrics){c={};for(var h in e.tags)c[h]=e.tags[h];c.mapbox_clip_start=o.start/o.size,c.mapbox_clip_end=o.end/o.size}var d={geometry:a,type:"Polygon"===r||"MultiPolygon"===r?3:"LineString"===r||"MultiLineString"===r?2:1,tags:c};null!==e.id&&(d.id=e.id),t.features.push(d)}}function Yt(t,e,i,n,o,r){var a=n*n;if(n>0&&e.size<(o?a:n))return void(i.numPoints+=e.length/3);for(var s=[],l=0;l<e.length;l+=3)(0===n||e[l+2]>a)&&(i.numSimplified++,s.push(e[l]),s.push(e[l+1])),i.numPoints++;o&&Gt(s,r),t.push(s)}function Gt(t,e){for(var i=0,n=0,o=t.length,r=o-2;o>n;r=n,n+=2)i+=(t[n]-t[r])*(t[n+1]+t[r+1]);if(i>0===e)for(n=0,o=t.length;o/2>n;n+=2){var a=t[n],s=t[n+1];t[n]=t[o-2-n],t[n+1]=t[o-1-n],t[o-2-n]=a,t[o-1-n]=s}}function Xt(t,e){return new Zt(t,e)}function Zt(t,e){e=this.options=Jt(Object.create(this.options),e);var i=e.debug;if(i&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");var n=St(t,e);this.tiles={},this.tileCoords=[],i&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),n=Bt(n,e),n.length&&this.splitTile(n,0,0,0),i&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Kt(t,e,i){return 32*((1<<t)*i+e)+t}function Jt(t,e){for(var i in e)t[i]=e[i];return t}function Qt(t,e){var i=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var n=this._geoJSONIndex.getTile(i.z,i.x,i.y);if(!n)return e(null,null);var o=new ke(n.features),r=Te(o);0===r.byteOffset&&r.byteLength===r.buffer.byteLength||(r=new Uint8Array(r)),e(null,{vectorTile:o,rawData:r.buffer})}var te=function(t){t&&this.replace(t)};te.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},te.prototype.update=function(e,i){for(var o=this,r=0,a=e;r<a.length;r+=1){var s=a[r];o._layerConfigs[s.id]=s;var l=o._layers[s.id]=t.default$21(s);l._featureFilter=t.default$25(l.filter)}for(var u=0,c=i;u<c.length;u+=1){var h=c[u];delete o._layerConfigs[h],delete o._layers[h]}this.familiesBySource={};for(var d=n(t.values(this._layerConfigs)),p=0,f=d;p<f.length;p+=1){var m=f[p],g=m.map(function(t){return o._layers[t.id]}),v=g[0];if("none"!==v.visibility){var y=v.source||"",_=o.familiesBySource[y];_||(_=o.familiesBySource[y]={});var b=v.sourceLayer||"_geojsonTileLayer",x=_[b];x||(x=_[b]=[]),x.push(g)}}};var ee=function(){this.opacity=0,this.targetOpacity=0,this.time=0};ee.prototype.clone=function Pe(){var Pe=new ee;return Pe.opacity=this.opacity,Pe.targetOpacity=this.targetOpacity,Pe.time=this.time,Pe},t.register("OpacityState",ee);var ie=function(e,i,n,o,r,a,s,l,u,c,h,d){var p=s.top*l-u,f=s.bottom*l+u,m=s.left*l-u,g=s.right*l+u;if(this.boxStartIndex=e.length,c){var v=f-p,y=g-m;v>0&&(v=Math.max(10*l,v),this._addLineCollisionCircles(e,i,n,n.segment,y,v,o,r,a,h))}else{if(d){var _=new t["default"](m,p),b=new t["default"](g,p),x=new t["default"](m,f),w=new t["default"](g,f),k=d*Math.PI/180;_._rotate(k),b._rotate(k),x._rotate(k),w._rotate(k),m=Math.min(_.x,b.x,x.x,w.x),g=Math.max(_.x,b.x,x.x,w.x),p=Math.min(_.y,b.y,x.y,w.y),f=Math.max(_.y,b.y,x.y,w.y)}e.emplaceBack(n.x,n.y,m,p,g,f,o,r,a,0,0)}this.boxEndIndex=e.length};ie.prototype._addLineCollisionCircles=function(t,e,i,n,o,r,a,s,l,u){var c=r/2,h=Math.floor(o/c),d=1+.4*Math.log(u)/Math.LN2,p=Math.floor(h*d/2),f=-r/2,m=i,g=n+1,v=f,y=-o/2,_=y-o/4;do{if(g--,0>g){if(v>y)return;g=0;break}v-=e[g].dist(m),m=e[g]}while(v>_);for(var b=e[g].dist(e[g+1]),x=-p;h+p>x;x++){var w=x*c,k=y+w;if(0>w&&(k+=w),w>o&&(k+=w-o),!(v>k)){for(;k>v+b;){if(v+=b,g++,g+1>=e.length)return;b=e[g].dist(e[g+1])}var C=k-v,S=e[g],T=e[g+1],A=T.sub(S)._unit()._mult(C)._add(S)._round(),E=Math.abs(k-f)<c?0:.8*(k-f);t.emplaceBack(A.x,A.y,-r/2,-r/2,r/2,r/2,a,s,l,r/2,E)}}};var ne=f,oe=f;f.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,i=this.compare,n=e[t];t>0;){var o=t-1>>1,r=e[o];if(i(n,r)>=0)break;e[t]=r,t=o}e[t]=n},_down:function(t){for(var e=this,i=this.data,n=this.compare,o=this.length>>1,r=i[t];o>t;){var a=(t<<1)+1,s=a+1,l=i[a];if(s<e.length&&n(i[s],l)<0&&(a=s,l=i[s]),n(l,r)>=0)break;i[t]=l,t=a}i[t]=r}},ne["default"]=oe;var re=1,ae=function(e){var i=new t.AlphaImage({width:0,height:0}),n={},o=new t.default$4(0,0,{autoResize:!0});for(var r in e){var a=e[r],s=n[r]={};for(var l in a){var u=a[+l];if(u&&0!==u.bitmap.width&&0!==u.bitmap.height){var c=o.packOne(u.bitmap.width+2*re,u.bitmap.height+2*re);i.resize({width:o.w,height:o.h}),t.AlphaImage.copy(u.bitmap,i,{x:0,y:0},{x:c.x+re,y:c.y+re},u.bitmap),s[l]={rect:c,metrics:u.metrics}}}}o.shrink(),i.resize({width:o.w,height:o.h}),this.image=i,this.positions=n};t.register("GlyphAtlas",ae);var se=function(e){this.tileID=new t.OverscaledTileID(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming};se.prototype.parse=function(e,i,n,o){function r(){var e=this;if(C)return o(C);if(S&&A){var i=new ae(S),n=new t.default$31(A);for(var r in u){var a=u[r];a instanceof t.default$28&&(T(a.layers,e.zoom),x(a,S,i.positions,A,n.positions,e.showCollisionBoxes))}this.status="done",o(null,{buckets:t.values(u).filter(function(t){return!t.isEmpty()}),featureIndex:l,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:i.image,iconAtlasImage:n.image})}}var a=this;this.status="parsing",this.data=e,this.collisionBoxArray=new t.CollisionBoxArray;var s=new t.default$30(Object.keys(e.layers).sort()),l=new t.default$29(this.tileID);l.bucketLayerIDs=[];var u={},c={featureIndex:l,iconDependencies:{},glyphDependencies:{}},h=i.familiesBySource[this.source];for(var d in h){var p=e.layers[d];if(p){1===p.version&&t.warnOnce('Vector tile source "'+a.source+'" layer "'+d+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var f=s.encode(d),m=[],g=0;g<p.length;g++){var v=p.feature(g);m.push({feature:v,index:g,sourceLayerIndex:f})}for(var y=0,_=h[d];y<_.length;y+=1){var b=_[y],w=b[0];if(t.default$2(w.source===a.source),!(w.minzoom&&a.zoom<Math.floor(w.minzoom)||w.maxzoom&&a.zoom>=w.maxzoom||"none"===w.visibility)){T(b,a.zoom);var k=u[w.id]=w.createBucket({index:l.bucketLayerIDs.length,layers:b,zoom:a.zoom,pixelRatio:a.pixelRatio,overscaling:a.overscaling,collisionBoxArray:a.collisionBoxArray,sourceLayerIndex:f,sourceID:a.source});k.populate(m,c),l.bucketLayerIDs.push(b.map(function(t){return t.id}))}}}}var C,S,A,E=t.mapObject(c.glyphDependencies,function(t){return Object.keys(t).map(Number)});Object.keys(E).length?n.send("getGlyphs",{uid:this.uid,stacks:E},function(t,e){C||(C=t,S=e,r.call(a))}):S={};var M=Object.keys(c.iconDependencies);M.length?n.send("getImages",{icons:M},function(t,e){C||(C=t,A=e,r.call(a))}):A={},r.call(this)};var le="undefined"!=typeof performance,ue={};ue.getEntriesByName=function(t){return le&&performance&&performance.getEntriesByName?performance.getEntriesByName(t):!1},ue.mark=function(t){return le&&performance&&performance.mark?performance.mark(t):!1},ue.measure=function(t,e,i){return le&&performance&&performance.measure?performance.measure(t,e,i):!1},ue.clearMarks=function(t){return le&&performance&&performance.clearMarks?performance.clearMarks(t):!1},ue.clearMeasures=function(t){return le&&performance&&performance.clearMeasures?performance.clearMeasures(t):!1};var ce=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},ue.mark(this._marks.start)};ce.prototype.finish=function(){ue.mark(this._marks.end);var t=ue.getEntriesByName(this._marks.measure);return 0===t.length&&(ue.measure(this._marks.measure,this._marks.start,this._marks.end),t=ue.getEntriesByName(this._marks.measure),ue.clearMarks(this._marks.start),ue.clearMarks(this._marks.end),ue.clearMeasures(this._marks.measure)),t},ue.Performance=ce;var he=function(t,e,i){this.actor=t,this.layerIndex=e,this.loadVectorData=i||A,this.loading={},this.loaded={}};he.prototype.loadTile=function(e,i){var n=this,o=e.uid;this.loading||(this.loading={});var r=e&&e.request&&e.request.collectResourceTiming?new ue.Performance(e.request):!1,a=this.loading[o]=new se(e);a.abort=this.loadVectorData(e,function(e,s){if(delete n.loading[o],e||!s)return i(e);var l=s.rawData,u={};s.expires&&(u.expires=s.expires),s.cacheControl&&(u.cacheControl=s.cacheControl);var c={};if(r){var h=r.finish();h&&(c.resourceTiming=JSON.parse(JSON.stringify(h)))}a.vectorTile=s.vectorTile,a.parse(s.vectorTile,n.layerIndex,n.actor,function(e,n){return e||!n?i(e):void i(null,t.extend({rawTileData:l.slice(0)},n,u,c))}),n.loaded=n.loaded||{},n.loaded[o]=a})},he.prototype.reloadTile=function(t,e){var i=this.loaded,n=t.uid,o=this;if(i&&i[n]){var r=i[n];r.showCollisionBoxes=t.showCollisionBoxes;var a=function(t,i){var n=r.reloadCallback;n&&(delete r.reloadCallback,r.parse(r.vectorTile,o.layerIndex,o.actor,n)),e(t,i)};"parsing"===r.status?r.reloadCallback=a:"done"===r.status&&r.parse(r.vectorTile,this.layerIndex,this.actor,a)}},he.prototype.abortTile=function(t,e){var i=this.loading,n=t.uid;i&&i[n]&&i[n].abort&&(i[n].abort(),delete i[n]),e()},he.prototype.removeTile=function(t,e){var i=this.loaded,n=t.uid;i&&i[n]&&delete i[n],e()};var de=function(){this.loading={},this.loaded={}};de.prototype.loadTile=function(e,i){var n=e.uid,o=e.encoding,r=new t.default$34(n);this.loading[n]=r,r.loadFromImage(e.rawImageData,o),delete this.loading[n],this.loaded=this.loaded||{},this.loaded[n]=r,i(null,r)},de.prototype.removeTile=function(t){var e=this.loaded,i=t.uid;e&&e[i]&&delete e[i]};var pe=6378137,fe=1/298.257223563,me=6356752.3142,ge={RADIUS:pe,FLATTENING:fe,POLAR_RADIUS:me},ve=E,ye=D,_e={geometry:ve,ring:ye},be=P,xe=t.default$32.VectorTileFeature.prototype.toGeoJSON,we=function(e){this._feature=e,this.extent=t.default$11,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))};we.prototype.loadGeometry=function(){var e=this;if(1===this._feature.type){for(var i=[],n=0,o=e._feature.geometry;n<o.length;n+=1){var r=o[n];i.push([new t["default"](r[0],r[1])])}return i}for(var a=[],s=0,l=e._feature.geometry;s<l.length;s+=1){for(var u=l[s],c=[],h=0,d=u;h<d.length;h+=1){var p=d[h];c.push(new t["default"](p[0],p[1]))}a.push(c)}return a},we.prototype.toGeoJSON=function(t,e,i){return xe.call(this,t,e,i)};var ke=function(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.default$11,this.length=e.length,this._features=e};ke.prototype.feature=function(t){return new we(this._features[t])};var Ce=t.__moduleExports.VectorTileFeature,Se=$;$.prototype.feature=function(t){return new F(this.features[t],this.options.extent)},F.prototype.loadGeometry=function(){var e=this,i=this.rawGeometry;this.geometry=[];for(var n=0;n<i.length;n++){for(var o=i[n],r=[],a=0;a<o.length;a++)r.push(new t.default$35(o[a][0],o[a][1]));e.geometry.push(r)}return this.geometry},F.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,i=-(1/0),n=1/0,o=-(1/0),r=0;r<t.length;r++)for(var a=t[r],s=0;s<a.length;s++){var l=a[s];e=Math.min(e,l.x),i=Math.max(i,l.x),n=Math.min(n,l.y),o=Math.max(o,l.y)}return[e,n,i,o]},F.prototype.toGeoJSON=Ce.prototype.toGeoJSON;var Te=B,Ae=B,Ee=j,Me=Se;Te.fromVectorTileJs=Ae,Te.fromGeojsonVt=Ee,Te.GeoJSONWrapper=Me,ot.prototype={range:function(t,e,i,n){return tt(this.ids,this.coords,t,e,i,n,this.nodeSize)},within:function(t,e,i){return et(this.ids,this.coords,t,e,i,this.nodeSize)}},lt.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(t){return t}},load:function(t){var e=this,i=this.options.log;i&&console.time("total time");var n="prepare "+t.length+" points";i&&console.time(n),this.points=t;for(var o=[],r=0;r<t.length;r++)t[r].geometry&&o.push(ct(t[r],r));this.trees[this.options.maxZoom+1]=nt(o,yt,_t,this.options.nodeSize,Float32Array),i&&console.timeEnd(n);for(var a=this.options.maxZoom;a>=this.options.minZoom;a--){var s=+Date.now();o=e._cluster(o,a),e.trees[a]=nt(o,yt,_t,e.options.nodeSize,Float32Array),i&&console.log("z%d: %d clusters in %dms",a,o.length,+Date.now()-s)}return i&&console.timeEnd("total time"),this},getClusters:function(t,e){var i=this,n=((t[0]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[1])),r=180===t[2]?180:((t[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,r=180;else if(n>r){var s=this.getClusters([n,o,180,a],e),l=this.getClusters([-180,o,r,a],e);return s.concat(l)}for(var u=this.trees[this._limitZoom(e)],c=u.range(pt(n),ft(a),pt(r),ft(o)),h=[],d=0;d<c.length;d++){var p=u.points[c[d]];h.push(p.numPoints?ht(p):i.points[p.id])}return h},getChildren:function(t){var e=this,i=t>>5,n=t%32,o="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(o);var a=r.points[i];if(!a)throw new Error(o);for(var s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),l=r.within(a.x,a.y,s),u=[],c=0;c<l.length;c++){var h=r.points[l[c]];h.parentId===t&&u.push(h.numPoints?ht(h):e.points[h.id])}if(0===u.length)throw new Error(o);return u},getLeaves:function(t,e,i){e=e||10,i=i||0;var n=[];return this._appendLeaves(n,t,e,i,0),n},getTile:function(t,e,i){var n=this.trees[this._limitZoom(t)],o=Math.pow(2,t),r=this.options.extent,a=this.options.radius,s=a/r,l=(i-s)/o,u=(i+1+s)/o,c={features:[]};return this._addTileFeatures(n.range((e-s)/o,l,(e+1+s)/o,u),n.points,e,i,o,c),0===e&&this._addTileFeatures(n.range(1-s/o,l,1,u),n.points,o,i,o,c),e===o-1&&this._addTileFeatures(n.range(0,l,s/o,u),n.points,-1,i,o,c),c.features.length?c:null},getClusterExpansionZoom:function(t){for(var e=this,i=t%32-1;i<this.options.maxZoom;){var n=e.getChildren(t);if(i++,1!==n.length)break;t=n[0].properties.cluster_id}return i},_appendLeaves:function(t,e,i,n,o){for(var r=this,a=this.getChildren(e),s=0;s<a.length;s++){var l=a[s].properties;if(l&&l.cluster?o+l.point_count<=n?o+=l.point_count:o=r._appendLeaves(t,l.cluster_id,i,n,o):n>o?o++:t.push(a[s]),t.length===i)break}return o},_addTileFeatures:function(t,e,i,n,o,r){for(var a=this,s=0;s<t.length;s++){var l=e[t[s]];r.features.push({type:1,geometry:[[Math.round(a.options.extent*(l.x*o-i)),Math.round(a.options.extent*(l.y*o-n))]],tags:l.numPoints?dt(l):a.points[l.id].properties})}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var i=this,n=[],o=this.options.radius/(this.options.extent*Math.pow(2,e)),r=0;r<t.length;r++){var a=t[r];if(!(a.zoom<=e)){a.zoom=e;var s=i.trees[e+1],l=s.within(a.x,a.y,o),u=a.numPoints||1,c=a.x*u,h=a.y*u,d=null;i.options.reduce&&(d=i.options.initial(),i._accumulate(d,a));for(var p=(r<<5)+(e+1),f=0;f<l.length;f++){var m=s.points[l[f]];if(!(m.zoom<=e)){m.zoom=e;var g=m.numPoints||1;c+=m.x*g,h+=m.y*g,u+=g,m.parentId=p,i.options.reduce&&i._accumulate(d,m)}}1===u?n.push(a):(a.parentId=p,n.push(ut(c/u,h/u,p,u,d)))}}return n},_accumulate:function(t,e){var i=e.numPoints?e.properties:this.options.map(this.points[e.id].properties);this.options.reduce(t,i)}},Zt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,debug:0},Zt.prototype.splitTile=function(t,e,i,n,o,r,a){for(var s=this,l=[t,e,i,n],u=this.options,c=u.debug;l.length;){n=l.pop(),i=l.pop(),e=l.pop(),t=l.pop();var h=1<<e,d=Kt(e,i,n),p=s.tiles[d];if(!p&&(c>1&&console.time("creation"),p=s.tiles[d]=Vt(t,e,i,n,u),s.tileCoords.push({z:e,x:i,y:n}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,i,n,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var f="z"+e;s.stats[f]=(s.stats[f]||0)+1,s.total++}if(p.source=t,o){if(e===u.maxZoom||e===o)continue;var m=1<<o-e;if(i!==Math.floor(r/m)||n!==Math.floor(a/m))continue}else if(e===u.indexMaxZoom||p.numPoints<=u.indexMaxPoints)continue;if(p.source=null,0!==t.length){c>1&&console.time("clipping");var g,v,y,_,b,x,w=.5*u.buffer/u.extent,k=.5-w,C=.5+w,S=1+w;g=v=y=_=null,b=Pt(t,h,i-w,i+C,0,p.minX,p.maxX,u),x=Pt(t,h,i+k,i+S,0,p.minX,p.maxX,u),t=null,b&&(g=Pt(b,h,n-w,n+C,1,p.minY,p.maxY,u),v=Pt(b,h,n+k,n+S,1,p.minY,p.maxY,u),b=null),x&&(y=Pt(x,h,n-w,n+C,1,p.minY,p.maxY,u),_=Pt(x,h,n+k,n+S,1,p.minY,p.maxY,u),x=null),c>1&&console.timeEnd("clipping"),l.push(g||[],e+1,2*i,2*n),l.push(v||[],e+1,2*i,2*n+1),l.push(y||[],e+1,2*i+1,2*n),l.push(_||[],e+1,2*i+1,2*n+1)}}},Zt.prototype.getTile=function(t,e,i){var n=this,o=this.options,r=o.extent,a=o.debug;if(0>t||t>24)return null;var s=1<<t;e=(e%s+s)%s;var l=Kt(t,e,i);if(this.tiles[l])return Wt(this.tiles[l],r);a>1&&console.log("drilling down to z%d-%d-%d",t,e,i);for(var u,c=t,h=e,d=i;!u&&c>0;)c--,h=Math.floor(h/2),d=Math.floor(d/2),u=n.tiles[Kt(c,h,d)];return u&&u.source?(a>1&&console.log("found parent tile z%d-%d-%d",c,h,d),a>1&&console.time("drilling down"),this.splitTile(u.source,c,h,d,t,e,i),a>1&&console.timeEnd("drilling down"),this.tiles[l]?Wt(this.tiles[l],r):null):null};var De=function(e){function i(t,i,n){e.call(this,t,i,Qt),n&&(this.loadGeoJSON=n)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},i.prototype._loadData=function(){var e=this;if(!this._pendingCallback||!this._pendingLoadDataParams)return void t.default$2(!1);var i=this._pendingCallback,n=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var o=n&&n.request&&n.request.collectResourceTiming?new ue.Performance(n.request):!1;this.loadGeoJSON(n,function(t,r){if(t||!r)return i(t);if("object"!=typeof r)return i(new Error("Input data is not a valid GeoJSON object."));be(r,!0);try{e._geoJSONIndex=n.cluster?st(n.superclusterOptions).load(r.features):Xt(r,n.geojsonVtOptions)}catch(t){return i(t)}e.loaded={};var a={};if(o){var s=o.finish();s&&(a.resourceTiming={},a.resourceTiming[n.source]=JSON.parse(JSON.stringify(s)))}i(null,a)})},i.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},i.prototype.reloadTile=function(t,i){var n=this.loaded,o=t.uid;return n&&n[o]?e.prototype.reloadTile.call(this,t,i):this.loadTile(t,i)},i.prototype.loadGeoJSON=function(e,i){if(e.request)t.getJSON(e.request,i);else{if("string"!=typeof e.data)return i(new Error("Input data is not a valid GeoJSON object."));try{return i(null,JSON.parse(e.data))}catch(n){return i(new Error("Input data is not a valid GeoJSON object."))}}},i.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},i.prototype.getClusterExpansionZoom=function(t,e){e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))},i.prototype.getClusterChildren=function(t,e){e(null,this._geoJSONIndex.getChildren(t.clusterId))},i.prototype.getClusterLeaves=function(t,e){e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))},i}(he),Ie=function(e){var i=this;this.self=e,this.actor=new t.default$10(e,this),this.layerIndexes={},this.workerSourceTypes={vector:he,geojson:De},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,e){if(i.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');i.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(e){if(t.plugin.isLoaded())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=e.applyArabicShaping,t.plugin.processBidirectionalText=e.processBidirectionalText}};return Ie.prototype.setLayers=function(t,e,i){this.getLayerIndex(t).replace(e),i()},Ie.prototype.updateLayers=function(t,e,i){this.getLayerIndex(t).update(e.layers,e.removedIds),i()},Ie.prototype.loadTile=function(e,i,n){t.default$2(i.type),this.getWorkerSource(e,i.type,i.source).loadTile(i,n)},Ie.prototype.loadDEMTile=function(t,e,i){this.getDEMWorkerSource(t,e.source).loadTile(e,i)},Ie.prototype.reloadTile=function(e,i,n){t.default$2(i.type),this.getWorkerSource(e,i.type,i.source).reloadTile(i,n)},Ie.prototype.abortTile=function(e,i,n){t.default$2(i.type),this.getWorkerSource(e,i.type,i.source).abortTile(i,n)},Ie.prototype.removeTile=function(e,i,n){t.default$2(i.type),this.getWorkerSource(e,i.type,i.source).removeTile(i,n)},Ie.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},Ie.prototype.removeSource=function(e,i,n){if(t.default$2(i.type),t.default$2(i.source),this.workerSources[e]&&this.workerSources[e][i.type]&&this.workerSources[e][i.type][i.source]){var o=this.workerSources[e][i.type][i.source];delete this.workerSources[e][i.type][i.source],void 0!==o.removeSource?o.removeSource(i,n):n()}},Ie.prototype.loadWorkerSource=function(t,e,i){try{this.self.importScripts(e.url),i()}catch(n){i(n.toString())}},Ie.prototype.loadRTLTextPlugin=function(e,i,n){try{t.plugin.isLoaded()||(this.self.importScripts(i),n(t.plugin.isLoaded()?null:new Error("RTL Text Plugin failed to import scripts from "+i)))}catch(o){n(o.toString())}},Ie.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new te),e},Ie.prototype.getWorkerSource=function(t,e,i){var n=this;if(this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),!this.workerSources[t][e][i]){var o={send:function(e,i,o){n.actor.send(e,i,o,t)}};this.workerSources[t][e][i]=new this.workerSourceTypes[e](o,this.getLayerIndex(t))}return this.workerSources[t][e][i]},Ie.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new de),this.demWorkerSources[t][e]},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&new Ie(self),Ie}),t(["./chunk1.js"],function(t){function e(t){if(!ie)return null;for(var e=0;e<t.length;e++)if(t[e]in ie)return t[e];return t[0]}function i(t,e){var i=r(ue.API_URL);if(t.protocol=i.protocol,t.authority=i.authority,"/"!==i.path&&(t.path=""+i.path+t.path),!ue.REQUIRE_ACCESS_TOKEN)return a(t);if(e=e||ue.ACCESS_TOKEN,!e)throw new Error("An API access token is required to use Mapbox GL. "+ce);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ce);return t.params.push("access_token="+e),a(t)}function n(t){return 0===t.indexOf("mapbox:")}function o(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(ue.ACCESS_TOKEN||""))}function r(t){var e=t.match(ve);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function a(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}function s(e,i,n){function o(){if(s)n(s);else if(r&&a){var e=t.default$3.getImageData(a),i={};for(var o in r){var l=r[o],u=l.width,c=l.height,h=l.x,d=l.y,p=l.sdf,f=l.pixelRatio,m=new t.RGBAImage({width:u,height:c});t.RGBAImage.copy(e,m,{x:h,y:d},{x:0,y:0},{width:u,height:c}),i[o]={data:m,pixelRatio:f,sdf:p}}n(null,i)}}var r,a,s,l=t.default$3.devicePixelRatio>1?"@2x":"",u=t.getJSON(i(fe(e,l,".json"),t.ResourceType.SpriteJSON),function(t,e){u=null,s||(s=t,r=e,o())}),c=t.getImage(i(fe(e,l,".png"),t.ResourceType.SpriteImage),function(t,e){c=null,s||(s=t,a=e,o())});return{cancel:function(){u&&(u.cancel(),u=null),c&&(c.cancel(),c=null)}}}function l(e,i,n,o,r){var a=256*i,s=a+255,l=o(de(n).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(l,function(e,i){if(e)r(e);else if(i){for(var n={},o=0,a=t.default$6(i.data);o<a.length;o+=1){var s=a[o];n[s.id]=s}r(null,n)}})}function u(t,e,i,n,o,r){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=n||.25,this.fontFamily=o||"sans-serif",this.fontWeight=r||"normal",this.radius=i||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function c(t,e,i,n,o,r,a){for(var s=0;e>s;s++){for(var l=0;i>l;l++)n[l]=t[l*e+s];for(h(n,o,r,a,i),l=0;i>l;l++)t[l*e+s]=o[l]}for(l=0;i>l;l++){for(s=0;e>s;s++)n[s]=t[l*e+s];for(h(n,o,r,a,e),s=0;e>s;s++)t[l*e+s]=Math.sqrt(o[s])}}function h(t,e,i,n,o){i[0]=0,n[0]=-xe,n[1]=+xe;for(var r=1,a=0;o>r;r++){for(var s=(t[r]+r*r-(t[i[a]]+i[a]*i[a]))/(2*r-2*i[a]);s<=n[a];)a--,s=(t[r]+r*r-(t[i[a]]+i[a]*i[a]))/(2*r-2*i[a]);a++,i[a]=r,n[a]=s,n[a+1]=+xe}for(r=0,a=0;o>r;r++){for(;n[a+1]<r;)a++;e[r]=(r-i[a])*(r-i[a])+t[i[a]]}}function d(e,i,n){var o=function(e,i){if(e)return n(e);if(i){var o=t.pick(i,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);i.vector_layers&&(o.vectorLayers=i.vector_layers,o.vectorLayerIds=o.vectorLayers.map(function(t){return t.id})),n(null,o)}};return e.url?t.getJSON(i(pe(e.url),t.ResourceType.Source),o):t.default$3.frame(function(){return o(null,e)})}function p(t,e,i,n,o){var r=o.maxPitchScaleFactor(),a=t.tilesIn(i,r);a.sort(g);for(var s=[],l=0,u=a;l<u.length;l+=1){var c=u[l];s.push({wrappedTileID:c.tileID.wrapped().key,queryResults:c.tile.queryRenderedFeatures(e,t._state,c.queryGeometry,c.scale,n,o,r,t.transform.calculatePosMatrix(c.tileID.toUnwrapped()))})}var h=v(s);for(var d in h)h[d].forEach(function(e){var i=t.getFeatureState(e.layer["source-layer"],e.id);e.source=e.layer.source,e.layer["source-layer"]&&(e.sourceLayer=e.layer["source-layer"]),e.state=i});return h}function f(e,i,n,o,r,a){for(var s={},l=r.queryRenderedSymbols(n),u=[],c=0,h=Object.keys(l).map(Number);c<h.length;c+=1){var d=h[c];u.push(a[d])}u.sort(g);for(var p=function(){var i=m[f],n=i.featureIndex.lookupSymbolFeatures(l[i.bucketInstanceId],i.bucketIndex,i.sourceLayerIndex,o.filter,o.layers,e);for(var r in n){var a=s[r]=s[r]||[],u=n[r];u.sort(function(e,n){var o=i.featureSortOrder;if(o){var r=o.indexOf(e.featureIndex),a=o.indexOf(n.featureIndex);return t.default$2(r>=0),t.default$2(a>=0),a-r}return n.featureIndex-e.featureIndex});for(var c=0,h=u;c<h.length;c+=1){var d=h[c];a.push(d.feature)}}},f=0,m=u;f<m.length;f+=1)p();var v=function(t){s[t].forEach(function(n){var o=e[t],r=i[o.source],a=r.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=a})};for(var y in s)v(y);return s}function m(t,e){for(var i=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),n=[],o={},r=0;r<i.length;r++){var a=i[r],s=a.tileID.canonical.key;o[s]||(o[s]=!0,a.querySourceFeatures(n,e))}return n}function g(t,e){var i=t.tileID,n=e.tileID;return i.overscaledZ-n.overscaledZ||i.canonical.y-n.canonical.y||i.wrap-n.wrap||i.canonical.x-n.canonical.x}function v(t){for(var e={},i={},n=0,o=t;n<o.length;n+=1){var r=o[n],a=r.queryResults,s=r.wrappedTileID,l=i[s]=i[s]||{};for(var u in a)for(var c=a[u],h=l[u]=l[u]||{},d=e[u]=e[u]||[],p=0,f=c;p<f.length;p+=1){var m=f[p];h[m.featureIndex]||(h[m.featureIndex]=!0,d.push(m.feature))}}return e}function y(e,i){var n=i.zoomTo(e.canonical.z);return new t["default"]((n.column-(e.canonical.x+e.wrap*Math.pow(2,e.canonical.z)))*t.default$11,(n.row-e.canonical.y)*t.default$11)}function _(t){return"raster"===t||"image"===t||"video"===t}function b(){return new t.default$1.Worker(zo.workerUrl)}function x(){return Ri||(Ri=new zi),Ri}function w(e,i){var n={};for(var o in e)"ref"!==o&&(n[o]=e[o]);return t.default$18.forEach(function(t){t in i&&(n[t]=i[t])}),n}function k(t){t=t.slice();for(var e=Object.create(null),i=0;i<t.length;i++)e[t[i].id]=t[i];for(var n=0;n<t.length;n++)"ref"in t[n]&&(t[n]=w(t[n],e[t[n].ref]));return t}function C(t,e,i){i.push({command:Ni.addSource,args:[t,e[t]]})}function S(t,e,i){e.push({command:Ni.removeSource,args:[t]}),i[t]=!0}function T(t,e,i,n){S(t,i,n),C(t,e,i)}function A(e,i,n){var o;for(o in e[n])if(e[n].hasOwnProperty(o)&&"data"!==o&&!t.default$14(e[n][o],i[n][o]))return!1;for(o in i[n])if(i[n].hasOwnProperty(o)&&"data"!==o&&!t.default$14(e[n][o],i[n][o]))return!1;return!0}function E(e,i,n,o){e=e||{},i=i||{};var r;for(r in e)e.hasOwnProperty(r)&&(i.hasOwnProperty(r)||S(r,n,o));for(r in i)i.hasOwnProperty(r)&&(e.hasOwnProperty(r)?t.default$14(e[r],i[r])||("geojson"===e[r].type&&"geojson"===i[r].type&&A(e,i,r)?n.push({command:Ni.setGeoJSONSourceData,args:[r,i[r].data]}):T(r,i,n,o)):C(r,i,n))}function M(e,i,n,o,r,a){e=e||{},i=i||{};var s;for(s in e)e.hasOwnProperty(s)&&(t.default$14(e[s],i[s])||n.push({command:a,args:[o,s,i[s],r]}));for(s in i)i.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.default$14(e[s],i[s])||n.push({command:a,args:[o,s,i[s],r]}))}function D(t){return t.id}function I(t,e){return t[e.id]=e,t}function P(e,i,n){e=e||[],i=i||[];var o,r,a,s,l,u,c,h=e.map(D),d=i.map(D),p=e.reduce(I,{}),f=i.reduce(I,{}),m=h.slice(),g=Object.create(null);for(o=0,r=0;o<h.length;o++)a=h[o],f.hasOwnProperty(a)?r++:(n.push({command:Ni.removeLayer,args:[a]}),m.splice(m.indexOf(a,r),1));for(o=0,r=0;o<d.length;o++)a=d[d.length-1-o],m[m.length-1-o]!==a&&(p.hasOwnProperty(a)?(n.push({command:Ni.removeLayer,args:[a]}),m.splice(m.lastIndexOf(a,m.length-r),1)):r++,u=m[m.length-o],n.push({command:Ni.addLayer,args:[f[a],u]}),m.splice(m.length-o,0,a),g[a]=!0);for(o=0;o<d.length;o++)if(a=d[o],s=p[a],l=f[a],!g[a]&&!t.default$14(s,l))if(t.default$14(s.source,l.source)&&t.default$14(s["source-layer"],l["source-layer"])&&t.default$14(s.type,l.type)){M(s.layout,l.layout,n,a,null,Ni.setLayoutProperty),M(s.paint,l.paint,n,a,null,Ni.setPaintProperty),t.default$14(s.filter,l.filter)||n.push({command:Ni.setFilter,args:[a,l.filter]}),t.default$14(s.minzoom,l.minzoom)&&t.default$14(s.maxzoom,l.maxzoom)||n.push({command:Ni.setLayerZoomRange,args:[a,l.minzoom,l.maxzoom]});for(c in s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?M(s[c],l[c],n,a,c.slice(6),Ni.setPaintProperty):t.default$14(s[c],l[c])||n.push({command:Ni.setLayerProperty,args:[a,c,l[c]]}));for(c in l)l.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?M(s[c],l[c],n,a,c.slice(6),Ni.setPaintProperty):t.default$14(s[c],l[c])||n.push({command:Ni.setLayerProperty,args:[a,c,l[c]]}))}else n.push({command:Ni.removeLayer,args:[a]}),u=m[m.lastIndexOf(a)+1],n.push({command:Ni.addLayer,args:[l,u]})}function L(e,i){if(!e)return[{command:Ni.setStyle,args:[i]}];var n=[];try{if(!t.default$14(e.version,i.version))return[{command:Ni.setStyle,args:[i]}];t.default$14(e.center,i.center)||n.push({command:Ni.setCenter,args:[i.center]}),t.default$14(e.zoom,i.zoom)||n.push({command:Ni.setZoom,args:[i.zoom]}),t.default$14(e.bearing,i.bearing)||n.push({command:Ni.setBearing,args:[i.bearing]}),t.default$14(e.pitch,i.pitch)||n.push({command:Ni.setPitch,args:[i.pitch]}),t.default$14(e.sprite,i.sprite)||n.push({command:Ni.setSprite,args:[i.sprite]}),t.default$14(e.glyphs,i.glyphs)||n.push({command:Ni.setGlyphs,args:[i.glyphs]}),t.default$14(e.transition,i.transition)||n.push({command:Ni.setTransition,args:[i.transition]}),t.default$14(e.light,i.light)||n.push({command:Ni.setLight,args:[i.light]});var o={},r=[];E(e.sources,i.sources,r,o);var a=[];e.layers&&e.layers.forEach(function(t){o[t.source]?n.push({command:Ni.removeLayer,args:[t.id]}):a.push(t)}),n=n.concat(r),P(a,i.layers,n)}catch(s){console.warn("Unable to compute style diff:",s),
n=[{command:Ni.setStyle,args:[i]}]}return n}function O(e,i,n,o,r){var a=t.identity(new Float32Array(16));return i?(t.identity(a),t.scale(a,a,[1/r,1/r,1]),n||t.rotateZ(a,a,o.angle)):(t.scale(a,a,[o.width/2,-o.height/2,1]),t.translate(a,a,[1,-1,0]),t.multiply(a,a,e)),a}function z(e,i,n,o,r){var a=t.identity(new Float32Array(16));return i?(t.multiply(a,a,e),t.scale(a,a,[r,r,1]),n||t.rotateZ(a,a,-o.angle)):(t.scale(a,a,[1,-1,1]),t.translate(a,a,[-1,-1,0]),t.scale(a,a,[2/o.width,2/o.height,1])),a}function R(e,i){var n=[e.x,e.y,0,1];V(n,n,i);var o=n[3];return{point:new t["default"](n[0]/o,n[1]/o),signedDistanceFromCamera:o}}function N(t,e){var i=t[0]/t[3],n=t[1]/t[3],o=i>=-e[0]&&i<=e[0]&&n>=-e[1]&&n<=e[1];return o}function $(e,i,n,o,r,a,s,l){var u=o?e.textSizeData:e.iconSizeData,c=t.evaluateSizeForZoom(u,n.transform.zoom,Fi.properties[o?"text-size":"icon-size"]),h=[256/n.width*2+1,256/n.height*2+1],d=o?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;d.clear();for(var p=e.lineVertexArray,f=o?e.text.placedSymbolArray:e.icon.placedSymbolArray,m=n.transform.width/n.transform.height,g=!1,v=0;v<f.length;v++){var y=f.get(v);if(y.hidden||y.writingMode===t.WritingMode.vertical&&!g)q(y.numGlyphs,d);else{g=!1;var _=[y.anchorX,y.anchorY,0,1];if(t.transformMat4(_,_,i),N(_,h)){var b=_[3],x=.5+.5*(b/n.transform.cameraToCenterDistance),w=t.evaluateSizeForFeature(u,c,y),k=s?w*x:w/x,C=new t["default"](y.anchorX,y.anchorY),S=R(C,r).point,T={},A=j(y,k,!1,l,i,r,a,e.glyphOffsetArray,p,d,S,C,T,m);g=A.useVertical,(A.notEnoughRoom||g||A.needsFlipping&&j(y,k,!0,l,i,r,a,e.glyphOffsetArray,p,d,S,C,T,m).notEnoughRoom)&&q(y.numGlyphs,d)}else q(y.numGlyphs,d)}}o?e.text.dynamicLayoutVertexBuffer.updateData(d):e.icon.dynamicLayoutVertexBuffer.updateData(d)}function F(t,e,i,n,o,r,a,s,l,u,c,h){var d=s.glyphStartIndex+s.numGlyphs,p=s.lineStartIndex,f=s.lineStartIndex+s.lineLength,m=e.getoffsetX(s.glyphStartIndex),g=e.getoffsetX(d-1),v=W(t*m,i,n,o,r,a,s.segment,p,f,l,u,c,h);if(!v)return null;var y=W(t*g,i,n,o,r,a,s.segment,p,f,l,u,c,h);return y?{first:v,last:y}:null}function B(e,i,n,o){if(e===t.WritingMode.horizontal){var r=Math.abs(n.y-i.y),a=Math.abs(n.x-i.x)*o;if(r>a)return{useVertical:!0}}return(e===t.WritingMode.vertical?i.y<n.y:i.x>n.x)?{needsFlipping:!0}:null}function j(e,i,n,o,r,a,s,l,u,c,h,d,p,f){var m,g=i/24,v=e.lineOffsetX*i,y=e.lineOffsetY*i;if(e.numGlyphs>1){var _=e.glyphStartIndex+e.numGlyphs,b=e.lineStartIndex,x=e.lineStartIndex+e.lineLength,w=F(g,l,v,y,n,h,d,e,u,a,p,!1);if(!w)return{notEnoughRoom:!0};var k=R(w.first.point,s).point,C=R(w.last.point,s).point;if(o&&!n){var S=B(e.writingMode,k,C,f);if(S)return S}m=[w.first];for(var T=e.glyphStartIndex+1;_-1>T;T++)m.push(W(g*l.getoffsetX(T),v,y,n,h,d,e.segment,b,x,u,a,p,!1));m.push(w.last)}else{if(o&&!n){var A=R(d,r).point,E=e.lineStartIndex+e.segment+1,M=new t["default"](u.getx(E),u.gety(E)),D=R(M,r),I=D.signedDistanceFromCamera>0?D.point:H(d,M,A,1,r),P=B(e.writingMode,A,I,f);if(P)return P}var L=W(g*l.getoffsetX(e.glyphStartIndex),v,y,n,h,d,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,u,a,p,!1);if(!L)return{notEnoughRoom:!0};m=[L]}for(var O=0,z=m;O<z.length;O+=1){var N=z[O];t.addDynamicAttributes(c,N.point,N.angle)}return{}}function H(t,e,i,n,o){var r=R(t.add(t.sub(e)._unit()),o).point,a=i.sub(r);return i.add(a._mult(n/a.mag()))}function W(e,i,n,o,r,a,s,l,u,c,h,d,p){var f=o?e-i:e+i,m=f>0?1:-1,g=0;o&&(m*=-1,g=Math.PI),0>m&&(g+=Math.PI);for(var v=m>0?l+s:l+s+1,y=v,_=r,b=r,x=0,w=0,k=Math.abs(f);k>=x+w;){if(v+=m,l>v||v>=u)return null;if(b=_,_=d[v],void 0===_){var C=new t["default"](c.getx(v),c.gety(v)),S=R(C,h);if(S.signedDistanceFromCamera>0)_=d[v]=S.point;else{var T=v-m,A=0===x?a:new t["default"](c.getx(T),c.gety(T));_=H(A,C,b,k-x+1,h)}}x+=w,w=b.dist(_)}var E=(k-x)/w,M=_.sub(b),D=M.mult(E)._add(b);D._add(M._unit()._perp()._mult(n*m));var I=g+Math.atan2(_.y-b.y,_.x-b.x);return{point:D,angle:I,tileDistance:p?{prevTileDistance:v-m===y?0:c.gettileUnitDistanceFromAnchor(v-m),lastSegmentViewportDistance:k-x}:null}}function q(t,e){for(var i=0;t>i;i++){var n=e.length;e.resize(n+4),e.float32.set(Bi,3*n)}}function V(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[4]*o+i[12],t[1]=i[1]*n+i[5]*o+i[13],t[3]=i[3]*n+i[7]*o+i[15],t}function U(t,e,i){t[e+4]=i?1:0}function Y(e,i,n){return i*(t.default$11/(e.tileSize*Math.pow(2,n-e.tileID.overscaledZ)))}function G(t,e,i){t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0)}function X(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,i=Math.floor(127*t.opacity);return i*Zi+e*Ki+i*Ji+e*Qi+i*tn+e*en+i*nn+e}function Z(e,i){for(var n=e.sort(function(t,e){return t.tileID.isLessThan(e.tileID)?-1:e.tileID.isLessThan(t.tileID)?1:0}),o=0;o<n.length;o++){var r={},a=n[o],s=n.slice(o+1);K(a.tileID.wrapped(),a.tileID,s,new t.OverscaledTileID(0,a.tileID.wrap+1,0,0,0),r),a.setMask(r,i)}}function K(e,i,n,o,r){for(var a=0;a<n.length;a++){var s=n[a];if(o.isLessThan(s.tileID))break;if(i.key===s.tileID.key)return;if(s.tileID.isChildOf(i)){for(var l=i.children(1/0),u=0;u<l.length;u++){var c=l[u];K(e,c,n.slice(a),o,r)}return}}var h=i.overscaledZ-e.overscaledZ,d=new t.CanonicalTileID(h,i.canonical.x-(e.canonical.x<<h),i.canonical.y-(e.canonical.y<<h));r[d.key]=r[d.key]||d}function J(t,e,i,n,o){var r=t.context,a=r.gl,s=o?t.useProgram("collisionCircle"):t.useProgram("collisionBox");r.setDepthMode(Si.disabled),r.setStencilMode(Ei.disabled),r.setColorMode(t.colorModeForRenderPass());for(var l=0;l<n.length;l++){var u=n[l],c=e.getTile(u),h=c.getBucket(i);if(h){var d=o?h.collisionCircle:h.collisionBox;if(d){a.uniformMatrix4fv(s.uniforms.u_matrix,!1,u.posMatrix),a.uniform1f(s.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance);var p=Y(c,1,t.transform.zoom),f=Math.pow(2,t.transform.zoom-c.tileID.overscaledZ);a.uniform1f(s.uniforms.u_pixels_to_tile_units,p),a.uniform2f(s.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits[0]/(p*f),t.transform.pixelsToGLUnits[1]/(p*f)),a.uniform1f(s.uniforms.u_overscale_factor,c.tileID.overscaleFactor()),s.draw(r,o?a.TRIANGLES:a.LINES,i.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,null,d.collisionVertexBuffer,null)}}}}function Q(t,e,i,n){J(t,e,i,n,!1),J(t,e,i,n,!0)}function tt(t,e,i,n){if("translucent"===t.renderPass){var o=t.context;o.setStencilMode(Ei.disabled),o.setColorMode(t.colorModeForRenderPass()),0!==i.paint.get("icon-opacity").constantOr(1)&&et(t,e,i,n,!1,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),i.layout.get("icon-rotation-alignment"),i.layout.get("icon-pitch-alignment"),i.layout.get("icon-keep-upright")),0!==i.paint.get("text-opacity").constantOr(1)&&et(t,e,i,n,!0,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.layout.get("text-keep-upright")),e.map.showCollisionBoxes&&Q(t,e,i,n)}}function et(t,e,i,n,o,r,a,s,l,u){var c=t.context,h=c.gl,d=t.transform,p="map"===s,f="map"===l,m=p&&"point"!==i.layout.get("symbol-placement"),g=p&&!f&&!m,v=f;c.setDepthMode(v?t.depthModeForSublayer(0,Si.ReadOnly):Si.disabled);for(var y,_=0,b=n;_<b.length;_+=1){var x=b[_],w=e.getTile(x),k=w.getBucket(i);if(k){var C=o?k.text:k.icon;if(C&&C.segments.get().length){var S=C.programConfigurations.get(i.id),T=o||k.sdfIcons,A=o?k.textSizeData:k.iconSizeData;if(y||(y=t.useProgram(T?"symbolSDF":"symbolIcon",S),S.setUniforms(t.context,y,i.paint,{zoom:t.transform.zoom}),it(y,t,i,o,g,f,A)),c.activeTexture.set(h.TEXTURE0),h.uniform1i(y.uniforms.u_texture,0),o)w.glyphAtlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE),h.uniform2fv(y.uniforms.u_texsize,w.glyphAtlasTexture.size);else{var E=1!==i.layout.get("icon-size").constantOr(0)||k.iconsNeedLinear,M=f||0!==d.pitch;w.iconAtlasTexture.bind(T||t.options.rotating||t.options.zooming||E||M?h.LINEAR:h.NEAREST,h.CLAMP_TO_EDGE),h.uniform2fv(y.uniforms.u_texsize,w.iconAtlasTexture.size)}h.uniformMatrix4fv(y.uniforms.u_matrix,!1,t.translatePosMatrix(x.posMatrix,w,r,a));var D=Y(w,1,t.transform.zoom),I=O(x.posMatrix,f,p,t.transform,D),P=z(x.posMatrix,f,p,t.transform,D);h.uniformMatrix4fv(y.uniforms.u_gl_coord_matrix,!1,t.translatePosMatrix(P,w,r,a,!0)),m?(h.uniformMatrix4fv(y.uniforms.u_label_plane_matrix,!1,wn),$(k,x.posMatrix,t,o,I,P,f,u)):h.uniformMatrix4fv(y.uniforms.u_label_plane_matrix,!1,I),h.uniform1f(y.uniforms.u_fade_change,t.options.fadeDuration?t.symbolFadeChange:1),nt(y,S,t,i,w,C,o,T,f)}}}}function it(e,i,n,o,r,a,s){var l=i.context.gl,u=i.transform;l.uniform1i(e.uniforms.u_pitch_with_map,a?1:0),l.uniform1f(e.uniforms.u_is_text,o?1:0),l.uniform1f(e.uniforms.u_pitch,u.pitch/360*2*Math.PI);var c="constant"===s.functionType||"source"===s.functionType,h="constant"===s.functionType||"camera"===s.functionType;l.uniform1i(e.uniforms.u_is_size_zoom_constant,c?1:0),l.uniform1i(e.uniforms.u_is_size_feature_constant,h?1:0),l.uniform1f(e.uniforms.u_camera_to_center_distance,u.cameraToCenterDistance);var d=t.evaluateSizeForZoom(s,u.zoom,kn.properties[o?"text-size":"icon-size"]);void 0!==d.uSizeT&&l.uniform1f(e.uniforms.u_size_t,d.uSizeT),void 0!==d.uSize&&l.uniform1f(e.uniforms.u_size,d.uSize),l.uniform1f(e.uniforms.u_aspect_ratio,u.width/u.height),l.uniform1i(e.uniforms.u_rotate_symbol,r?1:0)}function nt(t,e,i,n,o,r,a,s,l){var u=i.context,c=u.gl,h=i.transform;if(s){var d=0!==n.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),p=l?Math.cos(h._pitch)*h.cameraToCenterDistance:1;c.uniform1f(t.uniforms.u_gamma_scale,p),d&&(c.uniform1f(t.uniforms.u_is_halo,1),ot(r,n,u,t)),c.uniform1f(t.uniforms.u_is_halo,0)}ot(r,n,u,t)}function ot(t,e,i,n){n.draw(i,i.gl.TRIANGLES,e.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,t.programConfigurations.get(e.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function rt(t,e,i,n){if("translucent"===t.renderPass){var o=i.paint.get("circle-opacity"),r=i.paint.get("circle-stroke-width"),a=i.paint.get("circle-stroke-opacity");if(0!==o.constantOr(1)||0!==r.constantOr(1)&&0!==a.constantOr(1)){var s=t.context,l=s.gl;s.setDepthMode(t.depthModeForSublayer(0,Si.ReadOnly)),s.setStencilMode(Ei.disabled),s.setColorMode(t.colorModeForRenderPass());for(var u=!0,c=0;c<n.length;c++){var h=n[c],d=e.getTile(h),p=d.getBucket(i);if(p){var f=t.context.program.get(),m=p.programConfigurations.get(i.id),g=t.useProgram("circle",m);if((u||g.program!==f)&&(m.setUniforms(s,g,i.paint,{zoom:t.transform.zoom}),u=!1),l.uniform1f(g.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance),l.uniform1i(g.uniforms.u_scale_with_map,"map"===i.paint.get("circle-pitch-scale")?1:0),"map"===i.paint.get("circle-pitch-alignment")){l.uniform1i(g.uniforms.u_pitch_with_map,1);var v=Y(d,1,t.transform.zoom);l.uniform2f(g.uniforms.u_extrude_scale,v,v)}else l.uniform1i(g.uniforms.u_pitch_with_map,0),l.uniform2fv(g.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits);l.uniformMatrix4fv(g.uniforms.u_matrix,!1,t.translatePosMatrix(h.posMatrix,d,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor"))),g.draw(s,l.TRIANGLES,i.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,m)}}}}}function at(e,i,n,o){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var r=e.context,a=r.gl;r.setDepthMode(e.depthModeForSublayer(0,Si.ReadOnly)),r.setStencilMode(Ei.disabled),st(r,e,n),r.clear({color:t.default$9.transparent}),r.setColorMode(new Pi([a.ONE,a.ONE],t.default$9.transparent,[!0,!0,!0,!0]));for(var s=!0,l=0;l<o.length;l++){var u=o[l];if(!i.hasRenderableParent(u)){var c=i.getTile(u),h=c.getBucket(n);if(h){var d=e.context.program.get(),p=h.programConfigurations.get(n.id),f=e.useProgram("heatmap",p),m=e.transform,g=m.zoom;(s||f.program!==d)&&(p.setUniforms(e.context,f,n.paint,{zoom:g}),s=!1),a.uniform1f(f.uniforms.u_extrude_scale,Y(c,1,g)),a.uniform1f(f.uniforms.u_intensity,n.paint.get("heatmap-intensity")),a.uniformMatrix4fv(f.uniforms.u_matrix,!1,u.posMatrix),f.draw(r,a.TRIANGLES,n.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,p)}}}r.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),ut(e,n))}function st(t,e,i){var n=t.gl;t.activeTexture.set(n.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var o=i.heatmapFbo;if(o)n.bindTexture(n.TEXTURE_2D,o.colorAttachment.get()),t.bindFramebuffer.set(o.framebuffer);else{var r=n.createTexture();n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),o=i.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),lt(t,e,r,o)}}function lt(t,e,i,n){var o=t.gl;o.texImage2D(o.TEXTURE_2D,0,o.RGBA,e.width/4,e.height/4,0,o.RGBA,t.extTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:o.UNSIGNED_BYTE,null),n.colorAttachment.set(i),t.extTextureHalfFloat&&o.checkFramebufferStatus(o.FRAMEBUFFER)!==o.FRAMEBUFFER_COMPLETE&&(t.extTextureHalfFloat=null,n.colorAttachment.setDirty(),lt(t,e,i,n))}function ut(e,i){var n=e.context,o=n.gl,r=i.heatmapFbo;if(r){n.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,r.colorAttachment.get()),n.activeTexture.set(o.TEXTURE1);var a=i.colorRampTexture;a||(a=i.colorRampTexture=new t.default$5(n,i.colorRamp,o.RGBA)),a.bind(o.LINEAR,o.CLAMP_TO_EDGE),n.setDepthMode(Si.disabled),n.setStencilMode(Ei.disabled);var s=e.useProgram("heatmapTexture"),l=i.paint.get("heatmap-opacity");o.uniform1f(s.uniforms.u_opacity,l),o.uniform1i(s.uniforms.u_image,0),o.uniform1i(s.uniforms.u_color_ramp,1);var u=t.create();t.ortho(u,0,e.width,e.height,0,0,1),o.uniformMatrix4fv(s.uniforms.u_matrix,!1,u),o.uniform2f(s.uniforms.u_world,o.drawingBufferWidth,o.drawingBufferHeight),e.viewportVAO.bind(e.context,s,e.viewportBuffer,[]),o.drawArrays(o.TRIANGLE_STRIP,0,4)}}function ct(t,e,i,n){if("translucent"===t.renderPass){var o=i.paint.get("line-opacity"),r=i.paint.get("line-width");if(0!==o.constantOr(1)&&0!==r.constantOr(1)){var a=t.context;a.setDepthMode(t.depthModeForSublayer(0,Si.ReadOnly)),a.setColorMode(t.colorModeForRenderPass());for(var s,l=i.paint.get("line-dasharray")?"lineSDF":i.paint.get("line-pattern")?"linePattern":i.paint.get("line-gradient")?"lineGradient":"line",u=!0,c=0,h=n;c<h.length;c+=1){var d=h[c],p=e.getTile(d),f=p.getBucket(i);if(f){var m=f.programConfigurations.get(i.id),g=t.context.program.get(),v=t.useProgram(l,m),y=u||v.program!==g,_=s!==p.tileID.overscaledZ;y&&m.setUniforms(t.context,v,i.paint,{zoom:t.transform.zoom}),ht(v,t,p,f,i,d,m,y,_),s=p.tileID.overscaledZ,u=!1}}}}}function ht(e,i,n,o,r,a,s,l,u){var c,h,d,p,f=i.context,m=f.gl,g=r.paint.get("line-dasharray"),v=r.paint.get("line-pattern");if(l||u){var y=1/Y(n,1,i.transform.tileZoom);if(g){c=i.lineAtlas.getDash(g.from,"round"===r.layout.get("line-cap")),h=i.lineAtlas.getDash(g.to,"round"===r.layout.get("line-cap"));var _=c.width*g.fromScale,b=h.width*g.toScale;m.uniform2f(e.uniforms.u_patternscale_a,y/_,-c.height/2),m.uniform2f(e.uniforms.u_patternscale_b,y/b,-h.height/2),m.uniform1f(e.uniforms.u_sdfgamma,i.lineAtlas.width/(256*Math.min(_,b)*t.default$3.devicePixelRatio)/2)}else if(v){if(d=i.imageManager.getPattern(v.from),p=i.imageManager.getPattern(v.to),!d||!p)return;m.uniform2f(e.uniforms.u_pattern_size_a,d.displaySize[0]*v.fromScale/y,d.displaySize[1]),m.uniform2f(e.uniforms.u_pattern_size_b,p.displaySize[0]*v.toScale/y,p.displaySize[1]);var x=i.imageManager.getPixelSize(),w=x.width,k=x.height;m.uniform2fv(e.uniforms.u_texsize,[w,k])}m.uniform2f(e.uniforms.u_gl_units_to_pixels,1/i.transform.pixelsToGLUnits[0],1/i.transform.pixelsToGLUnits[1])}l&&(g?(m.uniform1i(e.uniforms.u_image,0),f.activeTexture.set(m.TEXTURE0),i.lineAtlas.bind(f),m.uniform1f(e.uniforms.u_tex_y_a,c.y),m.uniform1f(e.uniforms.u_tex_y_b,h.y),m.uniform1f(e.uniforms.u_mix,g.t)):v&&(m.uniform1i(e.uniforms.u_image,0),f.activeTexture.set(m.TEXTURE0),i.imageManager.bind(f),m.uniform2fv(e.uniforms.u_pattern_tl_a,d.tl),m.uniform2fv(e.uniforms.u_pattern_br_a,d.br),m.uniform2fv(e.uniforms.u_pattern_tl_b,p.tl),m.uniform2fv(e.uniforms.u_pattern_br_b,p.br),m.uniform1f(e.uniforms.u_fade,v.t))),f.setStencilMode(i.stencilModeForClipping(a));var C=i.translatePosMatrix(a.posMatrix,n,r.paint.get("line-translate"),r.paint.get("line-translate-anchor"));if(m.uniformMatrix4fv(e.uniforms.u_matrix,!1,C),m.uniform1f(e.uniforms.u_ratio,1/Y(n,1,i.transform.zoom)),r.paint.get("line-gradient")){f.activeTexture.set(m.TEXTURE0);var S=r.gradientTexture;if(!r.gradient)return;S||(S=r.gradientTexture=new t.default$5(f,r.gradient,m.RGBA)),S.bind(m.LINEAR,m.CLAMP_TO_EDGE),m.uniform1i(e.uniforms.u_image,0)}e.draw(f,m.TRIANGLES,r.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,s)}function dt(e,i,n,o){var r=n.paint.get("fill-color"),a=n.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.context;s.setColorMode(e.colorModeForRenderPass());var l=n.paint.get("fill-pattern")||1!==r.constantOr(t.default$9.transparent).a||1!==a.constantOr(0)?"translucent":"opaque";e.renderPass===l&&(s.setDepthMode(e.depthModeForSublayer(1,"opaque"===e.renderPass?Si.ReadWrite:Si.ReadOnly)),pt(e,i,n,o,ft)),"translucent"===e.renderPass&&n.paint.get("fill-antialias")&&(s.setDepthMode(e.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,Si.ReadOnly)),pt(e,i,n,o,mt))}}function pt(t,e,i,n,o){if(!Cn(i.paint.get("fill-pattern"),t))for(var r=!0,a=0,s=n;a<s.length;a+=1){var l=s[a],u=e.getTile(l),c=u.getBucket(i);c&&(t.context.setStencilMode(t.stencilModeForClipping(l)),o(t,e,i,u,l,c,r),r=!1)}}function ft(t,e,i,n,o,r,a){var s=t.context.gl,l=r.programConfigurations.get(i.id),u=gt("fill",i.paint.get("fill-pattern"),t,l,i,n,o,a);u.draw(t.context,s.TRIANGLES,i.id,r.layoutVertexBuffer,r.indexBuffer,r.segments,l)}function mt(t,e,i,n,o,r,a){var s=t.context.gl,l=r.programConfigurations.get(i.id),u=i.getPaintProperty("fill-outline-color")?null:i.paint.get("fill-pattern"),c=gt("fillOutline",u,t,l,i,n,o,a);s.uniform2f(c.uniforms.u_world,s.drawingBufferWidth,s.drawingBufferHeight),c.draw(t.context,s.LINES,i.id,r.layoutVertexBuffer,r.indexBuffer2,r.segments2,l)}function gt(t,e,i,n,o,r,a,s){var l,u=i.context.program.get();return e?(l=i.useProgram(t+"Pattern",n),(s||l.program!==u)&&(n.setUniforms(i.context,l,o.paint,{zoom:i.transform.zoom}),Sn(e,i,l)),Tn(r,i,l)):(l=i.useProgram(t,n),(s||l.program!==u)&&n.setUniforms(i.context,l,o.paint,{zoom:i.transform.zoom})),i.context.gl.uniformMatrix4fv(l.uniforms.u_matrix,!1,i.translatePosMatrix(a.posMatrix,r,o.paint.get("fill-translate"),o.paint.get("fill-translate-anchor"))),l}function vt(t,e,i,n){if(0!==i.paint.get("fill-extrusion-opacity"))if("offscreen"===t.renderPass){yt(t,i);for(var o=!0,r=0,a=n;r<a.length;r+=1){var s=a[r],l=e.getTile(s),u=l.getBucket(i);u&&(bt(t,e,i,l,s,u,o),o=!1)}}else"translucent"===t.renderPass&&_t(t,i)}function yt(e,i){var n=e.context,o=n.gl,r=i.viewportFrame;if(e.depthRboNeedsClear&&e.setupOffscreenDepthRenderbuffer(),!r){var a=new t.default$5(n,{width:e.width,height:e.height,data:null},o.RGBA);a.bind(o.LINEAR,o.CLAMP_TO_EDGE),r=i.viewportFrame=n.createFramebuffer(e.width,e.height),r.colorAttachment.set(a.texture)}n.bindFramebuffer.set(r.framebuffer),r.depthAttachment.set(e.depthRbo),e.depthRboNeedsClear&&(n.clear({depth:1}),e.depthRboNeedsClear=!1),n.clear({color:t.default$9.transparent}),n.setStencilMode(Ei.disabled),n.setDepthMode(new Si(o.LEQUAL,Si.ReadWrite,[0,1])),n.setColorMode(e.colorModeForRenderPass())}function _t(e,i){var n=i.viewportFrame;if(n){var o=e.context,r=o.gl,a=e.useProgram("extrusionTexture");o.setStencilMode(Ei.disabled),o.setDepthMode(Si.disabled),o.setColorMode(e.colorModeForRenderPass()),o.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,n.colorAttachment.get()),r.uniform1f(a.uniforms.u_opacity,i.paint.get("fill-extrusion-opacity")),r.uniform1i(a.uniforms.u_image,0);var s=t.create();t.ortho(s,0,e.width,e.height,0,0,1),r.uniformMatrix4fv(a.uniforms.u_matrix,!1,s),r.uniform2f(a.uniforms.u_world,r.drawingBufferWidth,r.drawingBufferHeight),e.viewportVAO.bind(o,a,e.viewportBuffer,[]),r.drawArrays(r.TRIANGLE_STRIP,0,4)}}function bt(t,e,i,n,o,r,a){var s=t.context,l=s.gl,u=i.paint.get("fill-extrusion-pattern"),c=t.context.program.get(),h=r.programConfigurations.get(i.id),d=t.useProgram(u?"fillExtrusionPattern":"fillExtrusion",h);if((a||d.program!==c)&&h.setUniforms(s,d,i.paint,{zoom:t.transform.zoom}),u){if(Cn(u,t))return;Sn(u,t,d),Tn(n,t,d),l.uniform1f(d.uniforms.u_height_factor,-Math.pow(2,o.overscaledZ)/n.tileSize/8)}t.context.gl.uniformMatrix4fv(d.uniforms.u_matrix,!1,t.translatePosMatrix(o.posMatrix,n,i.paint.get("fill-extrusion-translate"),i.paint.get("fill-extrusion-translate-anchor"))),xt(d,t),d.draw(s,l.TRIANGLES,i.id,r.layoutVertexBuffer,r.indexBuffer,r.segments,h)}function xt(e,i){var n=i.context.gl,o=i.style.light,r=o.properties.get("position"),a=[r.x,r.y,r.z],s=t.create$2();"viewport"===o.properties.get("anchor")&&t.fromRotation$1(s,-i.transform.angle),t.transformMat3(a,a,s);var l=o.properties.get("color");n.uniform3fv(e.uniforms.u_lightpos,a),n.uniform1f(e.uniforms.u_lightintensity,o.properties.get("intensity")),n.uniform3f(e.uniforms.u_lightcolor,l.r,l.g,l.b)}function wt(t,e,i,n){if("offscreen"===t.renderPass||"translucent"===t.renderPass){var o=t.context,r=e.getSource().maxzoom;o.setDepthMode(t.depthModeForSublayer(0,Si.ReadOnly)),o.setStencilMode(Ei.disabled),o.setColorMode(t.colorModeForRenderPass());for(var a=0,s=n;a<s.length;a+=1){var l=s[a],u=e.getTile(l);u.needsHillshadePrepare&&"offscreen"===t.renderPass?Tt(t,u,r):"translucent"===t.renderPass&&St(t,u,i)}o.viewport.set([0,0,t.width,t.height])}}function kt(t,e,i){var n=i.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===i.paint.get("hillshade-illumination-anchor")&&(n-=e.transform.angle),e.context.gl.uniform2f(t.uniforms.u_light,i.paint.get("hillshade-exaggeration"),n)}function Ct(e,i){var n=i.toCoordinate(),o=new t.default$16(n.column,n.row+1,n.zoom);return[e.transform.coordinateLocation(n).lat,e.transform.coordinateLocation(o).lat]}function St(t,e,i){var n=t.context,o=n.gl,r=e.fbo;if(r){var a=t.useProgram("hillshade"),s=t.transform.calculatePosMatrix(e.tileID.toUnwrapped(),!0);kt(a,t,i);var l=Ct(t,e.tileID);n.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,r.colorAttachment.get()),o.uniformMatrix4fv(a.uniforms.u_matrix,!1,s),o.uniform2fv(a.uniforms.u_latrange,l),o.uniform1i(a.uniforms.u_image,0);var u=i.paint.get("hillshade-shadow-color");o.uniform4f(a.uniforms.u_shadow,u.r,u.g,u.b,u.a);var c=i.paint.get("hillshade-highlight-color");o.uniform4f(a.uniforms.u_highlight,c.r,c.g,c.b,c.a);var h=i.paint.get("hillshade-accent-color");if(o.uniform4f(a.uniforms.u_accent,h.r,h.g,h.b,h.a),e.maskedBoundsBuffer&&e.maskedIndexBuffer&&e.segments)a.draw(n,o.TRIANGLES,i.id,e.maskedBoundsBuffer,e.maskedIndexBuffer,e.segments);else{var d=t.rasterBoundsBuffer,p=t.rasterBoundsVAO;p.bind(n,a,d,[]),o.drawArrays(o.TRIANGLE_STRIP,0,d.length)}}}function Tt(e,i,n){var o=e.context,r=o.gl;if(i.dem&&i.dem.level){var a=i.dem.level.dim,s=i.dem.getPixels();if(o.activeTexture.set(r.TEXTURE1),o.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||e.getTileTexture(i.tileSize),i.demTexture){var l=i.demTexture;l.update(s,{premultiply:!1}),l.bind(r.NEAREST,r.CLAMP_TO_EDGE)}else i.demTexture=new t.default$5(o,s,r.RGBA,{premultiply:!1}),i.demTexture.bind(r.NEAREST,r.CLAMP_TO_EDGE);o.activeTexture.set(r.TEXTURE0);var u=i.fbo;if(!u){var c=new t.default$5(o,{width:a,height:a,data:null},r.RGBA);c.bind(r.LINEAR,r.CLAMP_TO_EDGE),u=i.fbo=o.createFramebuffer(a,a),u.colorAttachment.set(c.texture)}o.bindFramebuffer.set(u.framebuffer),o.viewport.set([0,0,a,a]);var h=t.create();t.ortho(h,0,t.default$11,-t.default$11,0,0,1),t.translate(h,h,[0,-t.default$11,0]);var d=e.useProgram("hillshadePrepare");r.uniformMatrix4fv(d.uniforms.u_matrix,!1,h),r.uniform1f(d.uniforms.u_zoom,i.tileID.overscaledZ),r.uniform2fv(d.uniforms.u_dimension,[2*a,2*a]),r.uniform1i(d.uniforms.u_image,1),r.uniform1f(d.uniforms.u_maxzoom,n);var p=e.rasterBoundsBuffer,f=e.rasterBoundsVAO;f.bind(o,d,p,[]),r.drawArrays(r.TRIANGLE_STRIP,0,p.length),i.needsHillshadePrepare=!1}}function At(t,e,i,n){if("translucent"===t.renderPass&&0!==i.paint.get("raster-opacity")){var o=t.context,r=o.gl,a=e.getSource(),s=t.useProgram("raster");o.setStencilMode(Ei.disabled),o.setColorMode(t.colorModeForRenderPass()),r.uniform1f(s.uniforms.u_brightness_low,i.paint.get("raster-brightness-min")),r.uniform1f(s.uniforms.u_brightness_high,i.paint.get("raster-brightness-max")),r.uniform1f(s.uniforms.u_saturation_factor,Dt(i.paint.get("raster-saturation"))),r.uniform1f(s.uniforms.u_contrast_factor,Mt(i.paint.get("raster-contrast"))),r.uniform3fv(s.uniforms.u_spin_weights,Et(i.paint.get("raster-hue-rotate"))),r.uniform1f(s.uniforms.u_buffer_scale,1),r.uniform1i(s.uniforms.u_image0,0),r.uniform1i(s.uniforms.u_image1,1);for(var l=n.length&&n[0].overscaledZ,u=0,c=n;u<c.length;u+=1){var h=c[u];o.setDepthMode(t.depthModeForSublayer(h.overscaledZ-l,1===i.paint.get("raster-opacity")?Si.ReadWrite:Si.ReadOnly,r.LESS));var d=e.getTile(h),p=t.transform.calculatePosMatrix(h.toUnwrapped(),!0);d.registerFadeDuration(i.paint.get("raster-fade-duration")),r.uniformMatrix4fv(s.uniforms.u_matrix,!1,p);var f=e.findLoadedParent(h,0,{}),m=It(d,f,e,i,t.transform),g=void 0,v=void 0,y="nearest"===i.paint.get("raster-resampling")?r.NEAREST:r.LINEAR;if(o.activeTexture.set(r.TEXTURE0),d.texture.bind(y,r.CLAMP_TO_EDGE,r.LINEAR_MIPMAP_NEAREST),o.activeTexture.set(r.TEXTURE1),f?(f.texture.bind(y,r.CLAMP_TO_EDGE,r.LINEAR_MIPMAP_NEAREST),g=Math.pow(2,f.tileID.overscaledZ-d.tileID.overscaledZ),v=[d.tileID.canonical.x*g%1,d.tileID.canonical.y*g%1]):d.texture.bind(y,r.CLAMP_TO_EDGE,r.LINEAR_MIPMAP_NEAREST),r.uniform2fv(s.uniforms.u_tl_parent,v||[0,0]),r.uniform1f(s.uniforms.u_scale_parent,g||1),r.uniform1f(s.uniforms.u_fade_t,m.mix),r.uniform1f(s.uniforms.u_opacity,m.opacity*i.paint.get("raster-opacity")),a instanceof Ne){var _=a.boundsBuffer,b=a.boundsVAO;b.bind(o,s,_,[]),r.drawArrays(r.TRIANGLE_STRIP,0,_.length)}else if(d.maskedBoundsBuffer&&d.maskedIndexBuffer&&d.segments)s.draw(o,r.TRIANGLES,i.id,d.maskedBoundsBuffer,d.maskedIndexBuffer,d.segments);else{var x=t.rasterBoundsBuffer,w=t.rasterBoundsVAO;w.bind(o,s,x,[]),r.drawArrays(r.TRIANGLE_STRIP,0,x.length)}}}}function Et(t){t*=Math.PI/180;var e=Math.sin(t),i=Math.cos(t);return[(2*i+1)/3,(-Math.sqrt(3)*e-i+1)/3,(Math.sqrt(3)*e-i+1)/3]}function Mt(t){return t>0?1/(1-t):1+t}function Dt(t){return t>0?1-1/(1.001-t):-t}function It(e,i,n,o,r){var a=o.paint.get("raster-fade-duration");if(a>0){var s=t.default$3.now(),l=(s-e.timeAdded)/a,u=i?(s-i.timeAdded)/a:-1,c=n.getSource(),h=r.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),d=!i||Math.abs(i.tileID.overscaledZ-h)>Math.abs(e.tileID.overscaledZ-h),p=d&&e.refreshedUponExpiration?1:t.clamp(d?l:1-u,0,1);return e.refreshedUponExpiration&&l>=1&&(e.refreshedUponExpiration=!1),i?{opacity:1,mix:1-p}:{opacity:p,mix:0}}return{opacity:1,mix:0}}function Pt(t,e,i){var n=i.paint.get("background-color"),o=i.paint.get("background-opacity");if(0!==o){var r=t.context,a=r.gl,s=t.transform,l=s.tileSize,u=i.paint.get("background-pattern"),c=u||1!==n.a||1!==o?"translucent":"opaque";if(t.renderPass===c){r.setStencilMode(Ei.disabled),r.setDepthMode(t.depthModeForSublayer(0,"opaque"===c?Si.ReadWrite:Si.ReadOnly)),r.setColorMode(t.colorModeForRenderPass());var h;if(u){if(Cn(u,t))return;h=t.useProgram("backgroundPattern"),Sn(u,t,h),t.tileExtentPatternVAO.bind(r,h,t.tileExtentBuffer,[])}else h=t.useProgram("background"),a.uniform4fv(h.uniforms.u_color,[n.r,n.g,n.b,n.a]),t.tileExtentVAO.bind(r,h,t.tileExtentBuffer,[]);a.uniform1f(h.uniforms.u_opacity,o);for(var d=s.coveringTiles({tileSize:l}),p=0,f=d;p<f.length;p+=1){var m=f[p];u&&Tn({tileID:m,tileSize:l},t,h),a.uniformMatrix4fv(h.uniforms.u_matrix,!1,t.transform.calculatePosMatrix(m.toUnwrapped())),a.drawArrays(a.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}}}}function Lt(t,e,i){for(var n=0;n<i.length;n++)Ot(t,e,i[n])}function Ot(e,i,n){var o=e.context,r=o.gl,a=n.posMatrix,s=e.useProgram("debug");o.setDepthMode(Si.disabled),o.setStencilMode(Ei.disabled),o.setColorMode(e.colorModeForRenderPass()),r.uniformMatrix4fv(s.uniforms.u_matrix,!1,a),r.uniform4f(s.uniforms.u_color,1,0,0,1),e.debugVAO.bind(o,s,e.debugBuffer,[]),r.drawArrays(r.LINE_STRIP,0,e.debugBuffer.length);for(var l=zt(n.toString(),50,200,5),u=new t.PosArray,c=0;c<l.length;c+=2)u.emplaceBack(l[c],l[c+1]);var h=o.createVertexBuffer(u,mn.members),d=new Re;d.bind(o,s,h,[]),r.uniform4f(s.uniforms.u_color,1,1,1,1);for(var p=i.getTile(n).tileSize,f=t.default$11/(Math.pow(2,e.transform.zoom-n.overscaledZ)*p),m=[[-1,-1],[-1,1],[1,-1],[1,1]],g=0;g<m.length;g++){var v=m[g];r.uniformMatrix4fv(s.uniforms.u_matrix,!1,t.translate([],a,[f*v[0],f*v[1],0])),r.drawArrays(r.LINES,0,h.length)}r.uniform4f(s.uniforms.u_color,0,0,0,1),r.uniformMatrix4fv(s.uniforms.u_matrix,!1,a),r.drawArrays(r.LINES,0,h.length)}function zt(t,e,i,n){n=n||1;var o,r,a,s,l,u,c,h,d=[];for(o=0,r=t.length;r>o;o++)if(l=An[t[o]]){for(h=null,a=0,s=l[1].length;s>a;a+=2)-1===l[1][a]&&-1===l[1][a+1]?h=null:(u=e+l[1][a]*n,c=i-l[1][a+1]*n,h&&d.push(h.x,h.y,u,c),h={x:u,y:c});e+=l[0]*n}return d}function Rt(e,i,n,o){function r(i,r,l){var u,c,h,d;if(l>=0&&a>=l)for(u=i;r>u;u++)c=Math.floor(u/a),h=(u%a+a)%a,0!==c&&o!==!0||(d=new t.OverscaledTileID(n,c,e,h,l),s[d.key]=d)}void 0===o&&(o=!0);var a=1<<e,s={};return Ft(i[0],i[1],i[2],0,a,r),Ft(i[2],i[3],i[0],0,a,r),Object.keys(s).map(function(t){return s[t]})}function Nt(t,e){if(t.row>e.row){var i=t;t=e,e=i}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function $t(t,e,i,n,o){var r=Math.max(i,Math.floor(e.y0)),a=Math.min(n,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var l=t.dx/t.dy,u=e.dx/e.dy,c=t.dx>0,h=e.dx<0,d=r;a>d;d++){var p=l*Math.max(0,Math.min(t.dy,d+c-t.y0))+t.x0,f=u*Math.max(0,Math.min(e.dy,d+h-e.y0))+e.x0;o(Math.floor(f),Math.ceil(p),d)}}function Ft(t,e,i,n,o,r){var a,s=Nt(t,e),l=Nt(e,i),u=Nt(i,t);s.dy>l.dy&&(a=s,s=l,l=a),s.dy>u.dy&&(a=s,s=u,u=a),l.dy>u.dy&&(a=l,l=u,u=a),s.dy&&$t(u,s,n,o,r),l.dy&&$t(u,l,n,o,r)}function Bt(t,e){var i=!1,n=0,o=function(){n=0,i&&(t(),n=setTimeout(o,e),i=!1)};return function(){return i=!0,n||o(),n}}function jt(t){return t*(2-t)}function Ht(t,e){function i(i){v=!0,y=te.mousePos(m,i);var n=new Ln("mousedown",t,i);t.fire(n),n.defaultPrevented||(e.interactive&&!t.doubleClickZoom.isActive()&&t.stop(),t.boxZoom.onMouseDown(i),t.boxZoom.isActive()||t.dragPan.isActive()||t.dragRotate.onMouseDown(i),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onMouseDown(i))}function n(e){var i=t.dragRotate.isActive();g&&!i&&t.fire(new Ln("contextmenu",t,g)),g=null,v=!1,t.fire(new Ln("mouseup",t,e))}function o(e){if(!t.dragPan.isActive()&&!t.dragRotate.isActive()){for(var i=e.target;i&&i!==m;)i=i.parentNode;i===m&&t.fire(new Ln("mousemove",t,e))}}function r(e){for(var i=e.target;i&&i!==m;)i=i.parentNode;i===m&&t.fire(new Ln("mouseover",t,e))}function a(e){t.fire(new Ln("mouseout",t,e))}function s(i){var n=new On("touchstart",t,i);t.fire(n),n.defaultPrevented||(e.interactive&&t.stop(),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onTouchStart(i),t.touchZoomRotate.onStart(i),t.doubleClickZoom.onTouchStart(n))}function l(e){t.fire(new On("touchmove",t,e))}function u(e){t.fire(new On("touchend",t,e))}function c(e){t.fire(new On("touchcancel",t,e))}function h(i){var n=te.mousePos(m,i);(n.equals(y)||n.dist(y)<e.clickTolerance)&&t.fire(new Ln("click",t,i))}function d(e){var i=new Ln("dblclick",t,e);t.fire(i),i.defaultPrevented||t.doubleClickZoom.onDblClick(i)}function p(e){var i=t.dragRotate.isActive();v||i?v&&(g=e):t.fire(new Ln("contextmenu",t,e)),e.preventDefault()}function f(i){e.interactive&&t.stop();var n=new zn("wheel",t,i);t.fire(n),n.defaultPrevented||t.scrollZoom.onWheel(i)}var m=t.getCanvasContainer(),g=null,v=!1,y=null;for(var _ in co)t[_]=new co[_](t,e),e.interactive&&e[_]&&t[_].enable(e[_]);te.addEventListener(m,"mouseout",a),te.addEventListener(m,"mousedown",i),te.addEventListener(m,"mouseup",n),te.addEventListener(m,"mousemove",o),te.addEventListener(m,"mouseover",r),te.addEventListener(m,"touchstart",s,{passive:!1}),te.addEventListener(m,"touchmove",l,{passive:!1}),te.addEventListener(m,"touchend",u),te.addEventListener(m,"touchcancel",c),te.addEventListener(m,"click",h),te.addEventListener(m,"dblclick",d),te.addEventListener(m,"contextmenu",p),te.addEventListener(m,"wheel",f,{passive:!1})}function Wt(t){t.parentNode&&t.parentNode.removeChild(t)}function qt(t,e,i){if(t=new Me(t.lng,t.lat),
e){var n=new Me(t.lng-360,t.lat),o=new Me(t.lng+360,t.lat),r=i.locationPoint(t).distSqr(e);i.locationPoint(n).distSqr(e)<r?t=n:i.locationPoint(o).distSqr(e)<r&&(t=o)}for(;Math.abs(t.lng-i.center.lng)>180;){var a=i.locationPoint(t);if(a.x>=0&&a.y>=0&&a.x<=i.width&&a.y<=i.height)break;t.lng>i.center.lng?t.lng-=360:t.lng+=360}return t}function Vt(t,e,i){var n=t.classList;for(var o in So)n.remove("mapboxgl-"+i+"-anchor-"+o);n.add("mapboxgl-"+i+"-anchor-"+e)}function Ut(e){void 0!==Co?e(Co):void 0!==t.default$1.navigator.permissions?t.default$1.navigator.permissions.query({name:"geolocation"}).then(function(t){Co="denied"!==t.state,e(Co)}):(Co=!!t.default$1.navigator.geolocation,e(Co))}function Yt(t,e,i){var n=i&&i.maxWidth||100,o=t._container.clientHeight/2,r=Xt(t.unproject([0,o]),t.unproject([n,o]));if(i&&"imperial"===i.unit){var a=3.2808*r;if(a>5280){var s=a/5280;Gt(e,n,s,"mi")}else Gt(e,n,a,"ft")}else if(i&&"nautical"===i.unit){var l=r/1852;Gt(e,n,l,"nm")}else Gt(e,n,r,"m")}function Gt(t,e,i,n){var o=Zt(i),r=o/i;"m"===n&&o>=1e3&&(o/=1e3,n="km"),t.style.width=e*r+"px",t.innerHTML=o+n}function Xt(t,e){var i=6371e3,n=Math.PI/180,o=t.lat*n,r=e.lat*n,a=Math.sin(o)*Math.sin(r)+Math.cos(o)*Math.cos(r)*Math.cos((e.lng-t.lng)*n),s=i*Math.acos(Math.min(a,1));return s}function Zt(t){var e=Math.pow(10,(""+Math.floor(t)).length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}function Kt(e){if(e){if("number"==typeof e){var i=Math.round(Math.sqrt(.5*Math.pow(e,2)));return{center:new t["default"](0,0),top:new t["default"](0,e),"top-left":new t["default"](i,i),"top-right":new t["default"](-i,i),bottom:new t["default"](0,-e),"bottom-left":new t["default"](i,-i),"bottom-right":new t["default"](-i,-i),left:new t["default"](e,0),right:new t["default"](-e,0)}}if(e instanceof t["default"]||Array.isArray(e)){var n=t["default"].convert(e);return{center:n,top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{center:t["default"].convert(e.center||[0,0]),top:t["default"].convert(e.top||[0,0]),"top-left":t["default"].convert(e["top-left"]||[0,0]),"top-right":t["default"].convert(e["top-right"]||[0,0]),bottom:t["default"].convert(e.bottom||[0,0]),"bottom-left":t["default"].convert(e["bottom-left"]||[0,0]),"bottom-right":t["default"].convert(e["bottom-right"]||[0,0]),left:t["default"].convert(e.left||[0,0]),right:t["default"].convert(e.right||[0,0])}}return Kt(new t["default"](0,0))}var Jt=t.createCommonjsModule(function(t){function e(t){return!!(i()&&n()&&o()&&r()&&a()&&s()&&l()&&u()&&c(t&&t.failIfMajorPerformanceCaveat))}function i(){return"undefined"!=typeof window&&"undefined"!=typeof document}function n(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function o(){return Function.prototype&&Function.prototype.bind}function r(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function a(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function s(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,i=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(i);try{e=new Worker(n),t=!0}catch(o){t=!1}return e&&e.terminate(),URL.revokeObjectURL(n),t}function l(){return"Uint8ClampedArray"in window}function u(){return ArrayBuffer.isView}function c(t){return void 0===d[t]&&(d[t]=h(t)),d[t]}function h(t){var i=document.createElement("canvas"),n=Object.create(e.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=t,i.probablySupportsContext?i.probablySupportsContext("webgl",n)||i.probablySupportsContext("experimental-webgl",n):i.supportsContext?i.supportsContext("webgl",n)||i.supportsContext("experimental-webgl",n):i.getContext("webgl",n)||i.getContext("experimental-webgl",n)}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e);var d={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),Qt="0.47.0",te={};te.create=function(e,i,n){var o=t.default$1.document.createElement(e);return i&&(o.className=i),n&&n.appendChild(o),o},te.createNS=function(e,i){var n=t.default$1.document.createElementNS(e,i);return n};var ee,ie=t.default$1.document?t.default$1.document.documentElement.style:null,ne=e(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);te.disableDrag=function(){ie&&ne&&(ee=ie[ne],ie[ne]="none")},te.enableDrag=function(){ie&&ne&&(ie[ne]=ee)};var oe=e(["transform","WebkitTransform"]);te.setTransform=function(t,e){t.style[oe]=e};var re=!1;try{var ae=Object.defineProperty({},"passive",{get:function(){re=!0}});t.default$1.addEventListener("test",ae,ae),t.default$1.removeEventListener("test",ae,ae)}catch(se){re=!1}te.addEventListener=function(t,e,i,n){void 0===n&&(n={}),"passive"in n&&re?t.addEventListener(e,i,n):t.addEventListener(e,i,n.capture)},te.removeEventListener=function(t,e,i,n){void 0===n&&(n={}),"passive"in n&&re?t.removeEventListener(e,i,n):t.removeEventListener(e,i,n.capture)};var le=function(e){e.preventDefault(),e.stopPropagation(),t.default$1.removeEventListener("click",le,!0)};te.suppressClick=function(){t.default$1.addEventListener("click",le,!0),t.default$1.setTimeout(function(){t.default$1.removeEventListener("click",le,!0)},0)},te.mousePos=function(e,i){var n=e.getBoundingClientRect();return i=i.touches?i.touches[0]:i,new t["default"](i.clientX-n.left-e.clientLeft,i.clientY-n.top-e.clientTop)},te.touchPos=function(e,i){for(var n=e.getBoundingClientRect(),o=[],r="touchend"===i.type?i.changedTouches:i.touches,a=0;a<r.length;a++)o.push(new t["default"](r[a].clientX-n.left-e.clientLeft,r[a].clientY-n.top-e.clientTop));return o},te.mouseButton=function(e){return t.default$2("mousedown"===e.type||"mouseup"===e.type),"undefined"!=typeof t.default$1.InstallTrigger&&2===e.button&&e.ctrlKey&&t.default$1.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},te.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var ue={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null},ce="See https://www.mapbox.com/api-documentation/#access-tokens",he=function(t,e){if(!n(t))return t;var o=r(t);return o.path="/styles/v1"+o.path,i(o,e)},de=function(t,e){if(!n(t))return t;var o=r(t);return o.path="/fonts/v1"+o.path,i(o,e)},pe=function(t,e){if(!n(t))return t;var o=r(t);return o.path="/v4/"+o.authority+".json",o.params.push("secure"),i(o,e)},fe=function(t,e,o,s){var l=r(t);return n(t)?(l.path="/styles/v1"+l.path+"/sprite"+e+o,i(l,s)):(l.path+=""+e+o,a(l))},me=/(\.(png|jpg)\d*)(?=$)/,ge=function(e,i,s){if(!i||!n(i))return e;var l=r(e),u=t.default$3.devicePixelRatio>=2||512===s?"@2x":"",c=t.default$3.supportsWebp?".webp":"$1";return l.path=l.path.replace(me,""+u+c),o(l.params),a(l)},ve=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/,ye=1,_e=function(){this.images={},this.loaded=!1,this.requestors=[],this.shelfPack=new t.default$4(64,64,{autoResize:!0}),this.patterns={},this.atlasImage=new t.RGBAImage({width:64,height:64}),this.dirty=!0};_e.prototype.isLoaded=function(){return this.loaded},_e.prototype.setLoaded=function(t){var e=this;if(this.loaded!==t&&(this.loaded=t,t)){for(var i=0,n=e.requestors;i<n.length;i+=1){var o=n[i],r=o.ids,a=o.callback;e._notify(r,a)}this.requestors=[]}},_e.prototype.getImage=function(t){return this.images[t]},_e.prototype.addImage=function(e,i){t.default$2(!this.images[e]),this.images[e]=i},_e.prototype.removeImage=function(e){t.default$2(this.images[e]),delete this.images[e];var i=this.patterns[e];i&&(this.shelfPack.unref(i.bin),delete this.patterns[e])},_e.prototype.listImages=function(){return Object.keys(this.images)},_e.prototype.getImages=function(t,e){var i=this,n=!0;if(!this.isLoaded())for(var o=0,r=t;o<r.length;o+=1){var a=r[o];i.images[a]||(n=!1)}this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})},_e.prototype._notify=function(t,e){for(var i=this,n={},o=0,r=t;o<r.length;o+=1){var a=r[o],s=i.images[a];s&&(n[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf})}e(null,n)},_e.prototype.getPixelSize=function(){return{width:this.shelfPack.w,height:this.shelfPack.h}},_e.prototype.getPattern=function(e){var i=this.patterns[e];if(i)return i.position;var n=this.getImage(e);if(!n)return null;var o=n.data.width+2*ye,r=n.data.height+2*ye,a=this.shelfPack.packOne(o,r);if(!a)return null;this.atlasImage.resize(this.getPixelSize());var s=n.data,l=this.atlasImage,u=a.x+ye,c=a.y+ye,h=s.width,d=s.height;t.RGBAImage.copy(s,l,{x:0,y:0},{x:u,y:c},{width:h,height:d}),t.RGBAImage.copy(s,l,{x:0,y:d-1},{x:u,y:c-1},{width:h,height:1}),t.RGBAImage.copy(s,l,{x:0,y:0},{x:u,y:c+d},{width:h,height:1}),t.RGBAImage.copy(s,l,{x:h-1,y:0},{x:u-1,y:c},{width:1,height:d}),t.RGBAImage.copy(s,l,{x:0,y:0},{x:u+h,y:c},{width:1,height:d}),this.dirty=!0;var p=new t.ImagePosition(a,n);return this.patterns[e]={bin:a,position:p},p},_e.prototype.bind=function(e){var i=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.default$5(e,this.atlasImage,i.RGBA),this.atlasTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)};var be=u,xe=1e20;u.prototype.draw=function(t){var e=this;this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var i=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),o=0;o<this.size*this.size;o++){var r=i.data[4*o+3]/255;e.gridOuter[o]=1===r?0:0===r?xe:Math.pow(Math.max(0,.5-r),2),e.gridInner[o]=1===r?xe:0===r?0:Math.pow(Math.max(0,r-.5),2)}for(c(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),c(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),o=0;o<this.size*this.size;o++){var a=e.gridOuter[o]-e.gridInner[o];n[o]=Math.max(0,Math.min(255,Math.round(255-255*(a/e.radius+e.cutoff))))}return n};var we=function(t,e){this.requestTransform=t,this.localIdeographFontFamily=e,this.entries={}};we.prototype.setURL=function(t){this.url=t},we.prototype.getGlyphs=function(e,i){var n=this,o=[];for(var r in e)for(var a=0,s=e[r];a<s.length;a+=1){var l=s[a];o.push({stack:r,id:l})}t.asyncAll(o,function(t,e){var i=t.stack,o=t.id,r=n.entries[i];r||(r=n.entries[i]={glyphs:{},requests:{}});var a=r.glyphs[o];if(void 0!==a)return void e(null,{stack:i,id:o,glyph:a});if(a=n._tinySDF(r,i,o))return void e(null,{stack:i,id:o,glyph:a});var s=Math.floor(o/256);if(256*s>65535)return void e(new Error("glyphs > 65535 not supported"));var l=r.requests[s];l||(l=r.requests[s]=[],we.loadGlyphRange(i,s,n.url,n.requestTransform,function(t,e){if(e)for(var i in e)r.glyphs[+i]=e[+i];for(var n=0,o=l;n<o.length;n+=1){var a=o[n];a(t,e)}delete r.requests[s]})),l.push(function(t,n){t?e(t):n&&e(null,{stack:i,id:o,glyph:n[o]||null})})},function(t,e){if(t)i(t);else if(e){for(var n={},o=0,r=e;o<r.length;o+=1){var a=r[o],s=a.stack,l=a.id,u=a.glyph;(n[s]||(n[s]={}))[l]=u&&{id:u.id,bitmap:u.bitmap.clone(),metrics:u.metrics}}i(null,n)}})},we.prototype._tinySDF=function(e,i,n){var o=this.localIdeographFontFamily;if(o&&(t.default$7["CJK Unified Ideographs"](n)||t.default$7["Hangul Syllables"](n))){var r=e.tinySDF;if(!r){var a="400";/bold/i.test(i)?a="900":/medium/i.test(i)?a="500":/light/i.test(i)&&(a="200"),r=e.tinySDF=new we.TinySDF(24,3,8,.25,o,a)}return{id:n,bitmap:new t.AlphaImage({width:30,height:30},r.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},we.loadGlyphRange=l,we.TinySDF=be;var ke=function(){this.specification=t.default$8.light.position};ke.prototype.possiblyEvaluate=function(e,i){return t.sphericalToCartesian(e.expression.evaluate(i))},ke.prototype.interpolate=function(e,i,n){return{x:t.number(e.x,i.x,n),y:t.number(e.y,i.y,n),z:t.number(e.z,i.z,n)}};var Ce=new t.Properties({anchor:new t.DataConstantProperty(t.default$8.light.anchor),position:new ke,color:new t.DataConstantProperty(t.default$8.light.color),intensity:new t.DataConstantProperty(t.default$8.light.intensity)}),Se="-transition",Te=function(e){function i(i){e.call(this),this._transitionable=new t.Transitionable(Ce),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getLight=function(){return this._transitionable.serialize()},i.prototype.setLight=function(e){var i=this;if(!this._validate(t.validateLight,e))for(var n in e){var o=e[n];t.endsWith(n,Se)?i._transitionable.setTransition(n.slice(0,-Se.length),o):i._transitionable.setValue(n,o)}},i.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},i.prototype.hasTransition=function(){return this._transitioning.hasTransition()},i.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},i.prototype._validate=function(e,i){return t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:t.default$8})))},i}(t.Evented),Ae=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};Ae.prototype.getDash=function(t,e){var i=t.join(",")+String(e);return this.positions[i]||(this.positions[i]=this.addDash(t,e)),this.positions[i]},Ae.prototype.addDash=function(e,i){var n=this,o=i?7:0,r=2*o+1,a=128;if(this.nextRow+r>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var s=0,l=0;l<e.length;l++)s+=e[l];for(var u=this.width/s,c=u/2,h=e.length%2===1,d=-o;o>=d;d++)for(var p=n.nextRow+o+d,f=n.width*p,m=h?-e[e.length-1]:0,g=e[0],v=1,y=0;y<this.width;y++){for(;y/u>g;)m=g,g+=e[v],h&&v===e.length-1&&(g+=e[0]),v++;var _=Math.abs(y-m*u),b=Math.abs(y-g*u),x=Math.min(_,b),w=v%2===1,k=void 0;if(i){var C=o?d/o*(c+1):0;if(w){var S=c-Math.abs(C);k=Math.sqrt(x*x+S*S)}else k=c-Math.sqrt(x*x+C*C)}else k=(w?1:-1)*x;n.data[3+4*(f+y)]=Math.max(0,Math.min(255,k+a))}var T={y:(this.nextRow+o+.5)/this.height,height:2*o/this.height,width:s};return this.nextRow+=r,this.dirty=!0,T},Ae.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))};var Ee=function Ro(e,i){var n=this;this.workerPool=e,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var o=this.workerPool.acquire(this.id),r=0;r<o.length;r++){var a=o[r],s=new Ro.Actor(a,i,n.id);s.name="Worker "+r,n.actors.push(s)}};Ee.prototype.broadcast=function(e,i,n){n=n||function(){},t.asyncAll(this.actors,function(t,n){t.send(e,i,n)},n)},Ee.prototype.send=function(t,e,i,n){return("number"!=typeof n||isNaN(n))&&(n=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[n].send(t,e,i),n},Ee.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},Ee.Actor=t.default$10;var Me=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Me.prototype.wrap=function(){return new Me(t.wrap(this.lng,-180,180),this.lat)},Me.prototype.toArray=function(){return[this.lng,this.lat]},Me.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Me.prototype.toBounds=function(t){var e=40075017,i=360*t/e,n=i/Math.cos(Math.PI/180*this.lat);return new De(new Me(this.lng-n,this.lat-i),new Me(this.lng+n,this.lat+i))},Me.convert=function(t){if(t instanceof Me)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new Me(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new Me(Number(t.lng),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var De=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};De.prototype.setNorthEast=function(t){return this._ne=t instanceof Me?new Me(t.lng,t.lat):Me.convert(t),this},De.prototype.setSouthWest=function(t){return this._sw=t instanceof Me?new Me(t.lng,t.lat):Me.convert(t),this},De.prototype.extend=function(t){var e,i,n=this._sw,o=this._ne;if(t instanceof Me)e=t,i=t;else{if(!(t instanceof De))return Array.isArray(t)?t.every(Array.isArray)?this.extend(De.convert(t)):this.extend(Me.convert(t)):this;if(e=t._sw,i=t._ne,!e||!i)return this}return n||o?(n.lng=Math.min(e.lng,n.lng),n.lat=Math.min(e.lat,n.lat),o.lng=Math.max(i.lng,o.lng),o.lat=Math.max(i.lat,o.lat)):(this._sw=new Me(e.lng,e.lat),this._ne=new Me(i.lng,i.lat)),this},De.prototype.getCenter=function(){return new Me((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},De.prototype.getSouthWest=function(){return this._sw},De.prototype.getNorthEast=function(){return this._ne},De.prototype.getNorthWest=function(){return new Me(this.getWest(),this.getNorth())},De.prototype.getSouthEast=function(){return new Me(this.getEast(),this.getSouth())},De.prototype.getWest=function(){return this._sw.lng},De.prototype.getSouth=function(){return this._sw.lat},De.prototype.getEast=function(){return this._ne.lng},De.prototype.getNorth=function(){return this._ne.lat},De.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},De.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},De.prototype.isEmpty=function(){return!(this._sw&&this._ne)},De.convert=function(t){return!t||t instanceof De?t:new De(t)};var Ie=function(t,e,i){this.bounds=De.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=i||24};Ie.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},Ie.prototype.contains=function(t){var e={minX:Math.floor(this.lngX(this.bounds.getWest(),t.z)),minY:Math.floor(this.latY(this.bounds.getNorth(),t.z)),maxX:Math.ceil(this.lngX(this.bounds.getEast(),t.z)),maxY:Math.ceil(this.latY(this.bounds.getSouth(),t.z))},i=t.x>=e.minX&&t.x<e.maxX&&t.y>=e.minY&&t.y<e.maxY;return i},Ie.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},Ie.prototype.latY=function(e,i){var n=t.clamp(Math.sin(Math.PI/180*e),-.9999,.9999),o=Math.pow(2,i)/(2*Math.PI);return Math.pow(2,i-1)+.5*Math.log((1+n)/(1-n))*-o};var Pe=function(e){function i(i,n,o,r){if(e.call(this),this.id=i,this.dispatcher=o,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,t.extend(this,t.pick(n,["url","scheme","tileSize"])),this._options=t.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=d(this._options,this.map._transformRequest,function(i,n){e._tileJSONRequest=null,i?e.fire(new t.ErrorEvent(i)):n&&(t.extend(e,n),n.bounds&&(e.tileBounds=new Ie(n.bounds,e.minzoom,e.maxzoom)),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.loadTile=function(e,i){function n(t,n){return e.aborted?i(null):t?i(t):(n&&n.resourceTiming&&(e.resourceTiming=n.resourceTiming),this.map._refreshExpiredTiles&&e.setExpiryData(n),e.loadVectorData(n,this.map.painter),i(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}var o=ge(e.tileID.canonical.url(this.tiles,this.scheme),this.url),r={request:this.map._transformRequest(o,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.default$3.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};r.request.collectResourceTiming=this._collectResourceTiming,void 0===e.workerID||"expired"===e.state?e.workerID=this.dispatcher.send("loadTile",r,n.bind(this)):"loading"===e.state?e.reloadCallback=i:this.dispatcher.send("reloadTile",r,n.bind(this),e.workerID)},i.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},i.prototype.hasTransition=function(){return!1},i}(t.Evented),Le=function(e){function i(i,n,o,r){e.call(this),this.id=i,this.dispatcher=o,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({},n),t.extend(this,t.pick(n,["url","scheme","tileSize"]))}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=d(this._options,this.map._transformRequest,function(i,n){e._tileJSONRequest=null,i?e.fire(new t.ErrorEvent(i)):n&&(t.extend(e,n),n.bounds&&(e.tileBounds=new Ie(n.bounds,e.minzoom,e.maxzoom)),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.loadTile=function(e,i){var n=this,o=ge(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(o,t.ResourceType.Tile),function(o,r){if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(o)e.state="errored",i(o);else if(r){n.map._refreshExpiredTiles&&e.setExpiryData(r),delete r.cacheControl,delete r.expires;var a=n.map.painter.context,s=a.gl;e.texture=n.map.painter.getTileTexture(r.width),e.texture?e.texture.update(r,{useMipmap:!0}):(e.texture=new t.default$5(a,r,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),e.state="loaded",i(null)}})},i.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},i.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},i.prototype.hasTransition=function(){return!1},i}(t.Evented),Oe=function(e){function i(i,n,o,r){e.call(this,i,n,o,r),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({},n),this.encoding=n.encoding||"mapbox"}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},i.prototype.loadTile=function(e,i){function n(n,r){if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(n)e.state="errored",i(n);else if(r){this.map._refreshExpiredTiles&&e.setExpiryData(r),delete r.cacheControl,delete r.expires;var a=t.default$3.getImageData(r),s={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:a,encoding:this.encoding};e.workerID&&"expired"!==e.state||(e.workerID=this.dispatcher.send("loadDEMTile",s,o.bind(this)))}}function o(t,n){t&&(e.state="errored",i(t)),n&&(e.dem=n,e.needsHillshadePrepare=!0,e.state="loaded",i(null))}var r=ge(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(r,t.ResourceType.Tile),n.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},i.prototype._getNeighboringTiles=function(e){var i=e.canonical,n=Math.pow(2,i.z),o=(i.x-1+n)%n,r=0===i.x?e.wrap-1:e.wrap,a=(i.x+1+n)%n,s=i.x+1===n?e.wrap+1:e.wrap,l={};return l[new t.OverscaledTileID(e.overscaledZ,r,i.z,o,i.y).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y).key]={backfilled:!1},i.y>0&&(l[new t.OverscaledTileID(e.overscaledZ,r,i.z,o,i.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y-1).key]={backfilled:!1}),i.y+1<n&&(l[new t.OverscaledTileID(e.overscaledZ,r,i.z,o,i.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y+1).key]={backfilled:!1}),l},i.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:t.uid,source:this.id},void 0,t.workerID)},i}(Le),ze=function(e){function i(i,n,o,r){e.call(this),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this.dispatcher=o,this.setEventedParent(r),this._data=n.data,this._options=t.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution);var a=t.default$11/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:t.default$11,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:t.default$11,radius:(n.clusterRadius||50)*a,log:!1}},n.workerOptions)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(i){if(i)return void e.fire(new t.ErrorEvent(i));var n={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(n.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",n))})},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setData=function(e){var i=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(e){if(e)return void i.fire(new t.ErrorEvent(e));var n={dataType:"source",sourceDataType:"content"};i._collectResourceTiming&&i._resourceTiming&&i._resourceTiming.length>0&&(n.resourceTiming=i._resourceTiming,i._resourceTiming=[]),i.fire(new t.Event("data",n))}),this},i.prototype.getClusterExpansionZoom=function(t,e){return this.dispatcher.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e,this.workerID),this},i.prototype.getClusterChildren=function(t,e){return this.dispatcher.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e,this.workerID),this},i.prototype.getClusterLeaves=function(t,e,i,n){return this.dispatcher.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:i},n,this.workerID),this},i.prototype._updateWorkerData=function(e){var i=this,n=t.extend({},this.workerOptions),o=this._data;"string"==typeof o?(n.request=this.map._transformRequest(t.default$3.resolveURL(o),t.ResourceType.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(o),this.workerID=this.dispatcher.send(this.type+".loadData",n,function(t,o){i._removed||o&&o.abandoned||(i._loaded=!0,o&&o.resourceTiming&&o.resourceTiming[i.id]&&(i._resourceTiming=o.resourceTiming[i.id].slice(0)),i.dispatcher.send(i.type+".coalesce",{source:n.source},null,i.workerID),e(t))},this.workerID)},i.prototype.loadTile=function(e,i){var n=this,o=void 0===e.workerID?"loadTile":"reloadTile",r={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.default$3.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};e.workerID=this.dispatcher.send(o,r,function(t,r){return e.unloadVectorData(),e.aborted?i(null):t?i(t):(e.loadVectorData(r,n.map.painter,"reloadTile"===o),i(null))},this.workerID)},i.prototype.abortTile=function(t){t.aborted=!0},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},i.prototype.onRemove=function(){this._removed=!0,this.dispatcher.send("removeSource",{type:this.type,source:this.id},null,this.workerID)},i.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},i.prototype.hasTransition=function(){return!1},i}(t.Evented),Re=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Re.prototype.bind=function(t,e,i,n,o,r,a,s){var l=this;this.context=t;for(var u=this.boundPaintVertexBuffers.length!==n.length,c=0;!u&&c<n.length;c++)l.boundPaintVertexBuffers[c]!==n[c]&&(u=!0);var h=!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==i||u||this.boundIndexBuffer!==o||this.boundVertexOffset!==r||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!t.extVertexArrayObject||h?this.freshBind(e,i,n,o,r,a,s):(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),o&&o.dynamicDraw&&o.bind(),s&&s.bind())},Re.prototype.freshBind=function(e,i,n,o,r,a,s){var l,u=e.numAttributes,c=this.context,h=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),l=0,this.boundProgram=e,this.boundLayoutVertexBuffer=i,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=o,this.boundVertexOffset=r,this.boundDynamicVertexBuffer=a,this.boundDynamicVertexBuffer2=s;else{l=c.currentNumAttributes||0;for(var d=u;l>d;d++)t.default$2(0!==d),h.disableVertexAttribArray(d)}i.enableAttributes(h,e);for(var p=0,f=n;p<f.length;p+=1){var m=f[p];m.enableAttributes(h,e)}a&&a.enableAttributes(h,e),s&&s.enableAttributes(h,e),i.bind(),i.setVertexAttribPointers(h,e,r);for(var g=0,v=n;g<v.length;g+=1){var y=v[g];y.bind(),y.setVertexAttribPointers(h,e,r)}a&&(a.bind(),a.setVertexAttribPointers(h,e,r)),o&&o.bind(),s&&(s.bind(),s.setVertexAttribPointers(h,e,r)),c.currentNumAttributes=u},Re.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Ne=function(e){function i(t,i,n,o){e.call(this),this.id=t,this.dispatcher=n,this.coordinates=i.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(o),this.options=i}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._transformRequest(this.url,t.ResourceType.Image),function(i,n){
i?e.fire(new t.ErrorEvent(i)):n&&(e.image=t.default$3.getImageData(n),e._finishLoading())})},i.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setCoordinates=function(e){this.coordinates=e;var i=this.map,n=e.map(function(t){return i.transform.locationCoordinate(Me.convert(t)).zoomTo(0)}),o=this.centerCoord=t.getCoordinatesCenter(n);o.column=Math.floor(o.column),o.row=Math.floor(o.row),this.tileID=new t.CanonicalTileID(o.zoom,o.column,o.row),this.minzoom=this.maxzoom=o.zoom;var r=n.map(function(e){var i=e.zoomTo(o.zoom);return new t["default"](Math.round((i.column-o.column)*t.default$11),Math.round((i.row-o.row)*t.default$11))});return this._boundsArray=new t.RasterBoundsArray,this._boundsArray.emplaceBack(r[0].x,r[0].y,0,0),this._boundsArray.emplaceBack(r[1].x,r[1].y,t.default$11,0),this._boundsArray.emplaceBack(r[3].x,r[3].y,0,t.default$11),this._boundsArray.emplaceBack(r[2].x,r[2].y,t.default$11,t.default$11),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},i.prototype.prepare=function(){var e=this;if(0!==Object.keys(this.tiles).length&&this.image){var i=this.map.painter.context,n=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,t.default$12.members)),this.boundsVAO||(this.boundsVAO=new Re),this.texture||(this.texture=new t.default$5(i,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));for(var o in e.tiles){var r=e.tiles[o];"loaded"!==r.state&&(r.state="loaded",r.texture=e.texture)}}},i.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},i.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return!1},i}(t.Evented),$e=function(e){function i(t,i,n,o){e.call(this,t,i,n,o),this.roundZoom=!0,this.type="video",this.options=i}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this,i=this.options;this.urls=[];for(var n=0,o=i.urls;n<o.length;n+=1){var r=o[n];e.urls.push(e.map._transformRequest(r,t.ResourceType.Source).url)}t.getVideo(this.urls,function(i,n){i?e.fire(new t.ErrorEvent(i)):n&&(e.video=n,e.video.loop=!0,e.video.addEventListener("playing",function(){e.map._rerender()}),e.map&&e.video.play(),e._finishLoading())})},i.prototype.getVideo=function(){return this.video},i.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},i.prototype.prepare=function(){var e=this;if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var i=this.map.painter.context,n=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,t.default$12.members)),this.boundsVAO||(this.boundsVAO=new Re),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new t.default$5(i,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));for(var o in e.tiles){var r=e.tiles[o];"loaded"!==r.state&&(r.state="loaded",r.texture=e.texture)}}},i.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this.video&&!this.video.paused},i}(Ne),Fe=function(e){function i(i,n,o,r){e.call(this,i,n,o,r),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some(function(t){return!Array.isArray(t)||2!==t.length||t.some(function(t){return"number"!=typeof t})})||this.fire(new t.ErrorEvent(new t.default$13("sources."+i,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.default$13("sources."+i,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new t.ErrorEvent(new t.default$13("sources."+i,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof t.default$1.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.default$13("sources."+i,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.default$13("sources."+i,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0!==n.animate?n.animate:!0}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){return this.canvas||(this.canvas=this.options.canvas instanceof t.default$1.HTMLCanvasElement?this.options.canvas:t.default$1.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?void this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map._rerender()},this.pause=function(){this._playing=!1},void this._finishLoading())},i.prototype.getCanvas=function(){return this.canvas},i.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},i.prototype.onRemove=function(){this.pause()},i.prototype.prepare=function(){var e=this,i=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,i=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,i=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,o=n.gl;this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,t.default$12.members)),this.boundsVAO||(this.boundsVAO=new Re),this.texture?i?this.texture.update(this.canvas):this._playing&&(this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE),o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,this.canvas)):(this.texture=new t.default$5(n,this.canvas,o.RGBA),this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE));for(var r in e.tiles){var a=e.tiles[r];"loaded"!==a.state&&(a.state="loaded",a.texture=e.texture)}}},i.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this._playing},i.prototype._hasInvalidDimensions=function(){for(var t=this,e=0,i=[t.canvas.width,t.canvas.height];e<i.length;e+=1){var n=i[e];if(isNaN(n)||0>=n)return!0}return!1},i}(Ne),Be={vector:Pe,raster:Le,"raster-dem":Oe,geojson:ze,video:$e,image:Ne,canvas:Fe},je=function(e,i,n,o){var r=new Be[i.type](e,i,n,o);if(r.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+r.id);return t.bindAll(["load","abort","unload","serialize","prepare"],r),r},He=function(t){return Be[t]},We=function(t,e){Be[t]=e},qe=function(t,e){this.max=t,this.onRemove=e,this.reset()};qe.prototype.reset=function(){var t=this;for(var e in t.data)for(var i=0,n=t.data[e];i<n.length;i+=1){var o=n[i];o.timeout&&clearTimeout(o.timeout),t.onRemove(o.value)}return this.data={},this.order=[],this},qe.prototype.add=function(t,e,i){var n=this,o=t.wrapped().key;void 0===this.data[o]&&(this.data[o]=[]);var r={value:e,timeout:void 0};if(void 0!==i&&(r.timeout=setTimeout(function(){n.remove(t,r)},i)),this.data[o].push(r),this.order.push(o),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},qe.prototype.has=function(t){return t.wrapped().key in this.data},qe.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},qe.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},qe.prototype.get=function(t){if(!this.has(t))return null;var e=this.data[t.wrapped().key][0];return e.value},qe.prototype.remove=function(t,e){if(!this.has(t))return this;var i=t.wrapped().key,n=void 0===e?0:this.data[i].indexOf(e),o=this.data[i][n];return this.data[i].splice(n,1),o.timeout&&clearTimeout(o.timeout),0===this.data[i].length&&delete this.data[i],this.onRemove(o.value),this.order.splice(this.order.indexOf(i),1),this},qe.prototype.setMaxSize=function(t){var e=this;for(this.max=t;this.order.length>this.max;){var i=e._getAndRemoveByKey(e.order[0]);i&&e.onRemove(i)}return this};var Ve=function(t,e,i){this.context=t;var n=t.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(i),this.unbindVAO(),t.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};Ve.prototype.unbindVAO=function(){this.context.extVertexArrayObject&&this.context.bindVertexArrayOES.set(null)},Ve.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Ve.prototype.updateData=function(e){var i=this.context.gl;t.default$2(this.dynamicDraw),this.unbindVAO(),this.bind(),i.bufferSubData(i.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},Ve.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var Ue={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Ye=function(t,e,i,n){this.length=e.length,this.attributes=i,this.itemSize=e.bytesPerElement,this.dynamicDraw=n,this.context=t;var o=t.gl;this.buffer=o.createBuffer(),t.bindVertexBuffer.set(this.buffer),o.bufferData(o.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};Ye.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Ye.prototype.updateData=function(e){t.default$2(e.length===this.length);var i=this.context.gl;this.bind(),i.bufferSubData(i.ARRAY_BUFFER,0,e.arrayBuffer)},Ye.prototype.enableAttributes=function(t,e){for(var i=this,n=0;n<this.attributes.length;n++){var o=i.attributes[n],r=e.attributes[o.name];void 0!==r&&t.enableVertexAttribArray(r)}},Ye.prototype.setVertexAttribPointers=function(t,e,i){for(var n=this,o=0;o<this.attributes.length;o++){var r=n.attributes[o],a=e.attributes[r.name];void 0!==a&&t.vertexAttribPointer(a,r.components,t[Ue[r.type]],!1,n.itemSize,r.offset+n.itemSize*(i||0))}},Ye.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var Ge=function(e){this.context=e,this.current=t.default$9.transparent};Ge.prototype.get=function(){return this.current},Ge.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t)};var Xe=function(t){this.context=t,this.current=1};Xe.prototype.get=function(){return this.current},Xe.prototype.set=function(t){this.current!==t&&(this.context.gl.clearDepth(t),this.current=t)};var Ze=function(t){this.context=t,this.current=0};Ze.prototype.get=function(){return this.current},Ze.prototype.set=function(t){this.current!==t&&(this.context.gl.clearStencil(t),this.current=t)};var Ke=function(t){this.context=t,this.current=[!0,!0,!0,!0]};Ke.prototype.get=function(){return this.current},Ke.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t)};var Je=function(t){this.context=t,this.current=!0};Je.prototype.get=function(){return this.current},Je.prototype.set=function(t){this.current!==t&&(this.context.gl.depthMask(t),this.current=t)};var Qe=function(t){this.context=t,this.current=255};Qe.prototype.get=function(){return this.current},Qe.prototype.set=function(t){this.current!==t&&(this.context.gl.stencilMask(t),this.current=t)};var ti=function(t){this.context=t,this.current={func:t.gl.ALWAYS,ref:0,mask:255}};ti.prototype.get=function(){return this.current},ti.prototype.set=function(t){var e=this.current;t.func===e.func&&t.ref===e.ref&&t.mask===e.mask||(this.context.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t)};var ei=function(t){this.context=t;var e=this.context.gl;this.current=[e.KEEP,e.KEEP,e.KEEP]};ei.prototype.get=function(){return this.current},ei.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this.context.gl.stencilOp(t[0],t[1],t[2]),this.current=t)};var ii=function(t){this.context=t,this.current=!1};ii.prototype.get=function(){return this.current},ii.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t}};var ni=function(t){this.context=t,this.current=[0,1]};ni.prototype.get=function(){return this.current},ni.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.depthRange(t[0],t[1]),this.current=t)};var oi=function(t){this.context=t,this.current=!1};oi.prototype.get=function(){return this.current},oi.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t}};var ri=function(t){this.context=t,this.current=t.gl.LESS};ri.prototype.get=function(){return this.current},ri.prototype.set=function(t){this.current!==t&&(this.context.gl.depthFunc(t),this.current=t)};var ai=function(t){this.context=t,this.current=!1};ai.prototype.get=function(){return this.current},ai.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t}};var si=function(t){this.context=t;var e=this.context.gl;this.current=[e.ONE,e.ZERO]};si.prototype.get=function(){return this.current},si.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.blendFunc(t[0],t[1]),this.current=t)};var li=function(e){this.context=e,this.current=t.default$9.transparent};li.prototype.get=function(){return this.current},li.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t)};var ui=function(t){this.context=t,this.current=null};ui.prototype.get=function(){return this.current},ui.prototype.set=function(t){this.current!==t&&(this.context.gl.useProgram(t),this.current=t)};var ci=function(t){this.context=t,this.current=t.gl.TEXTURE0};ci.prototype.get=function(){return this.current},ci.prototype.set=function(t){this.current!==t&&(this.context.gl.activeTexture(t),this.current=t)};var hi=function(t){this.context=t;var e=this.context.gl;this.current=[0,0,e.drawingBufferWidth,e.drawingBufferHeight]};hi.prototype.get=function(){return this.current},hi.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t)};var di=function(t){this.context=t,this.current=null};di.prototype.get=function(){return this.current},di.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t}};var pi=function(t){this.context=t,this.current=null};pi.prototype.get=function(){return this.current},pi.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t}};var fi=function(t){this.context=t,this.current=null};fi.prototype.get=function(){return this.current},fi.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t}};var mi=function(t){this.context=t,this.current=null};mi.prototype.get=function(){return this.current},mi.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t}};var gi=function(t){this.context=t,this.current=null};gi.prototype.get=function(){return this.current},gi.prototype.set=function(t){var e=this.context.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t};var vi=function(t){this.context=t,this.current=null};vi.prototype.get=function(){return this.current},vi.prototype.set=function(t){this.current!==t&&this.context.extVertexArrayObject&&(this.context.extVertexArrayObject.bindVertexArrayOES(t),this.current=t)};var yi=function(t){this.context=t,this.current=4};yi.prototype.get=function(){return this.current},yi.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t}};var _i=function(t){this.context=t,this.current=!1};_i.prototype.get=function(){return this.current},_i.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t}};var bi=function(t,e){this.context=t,this.current=null,this.parent=e};bi.prototype.get=function(){return this.current};var xi=function(t){function e(e,i){t.call(this,e,i),this.dirty=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.dirty||this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e.prototype.setDirty=function(){this.dirty=!0},e}(bi),wi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t}},e}(bi),ki=function(t,e,i){this.context=t,this.width=e,this.height=i;var n=t.gl,o=this.framebuffer=n.createFramebuffer();this.colorAttachment=new xi(t,o),this.depthAttachment=new wi(t,o)};ki.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var i=this.depthAttachment.get();i&&t.deleteRenderbuffer(i),t.deleteFramebuffer(this.framebuffer)};var Ci=519,Si=function(t,e,i){this.func=t,this.mask=e,this.range=i};Si.ReadOnly=!1,Si.ReadWrite=!0,Si.disabled=new Si(Ci,Si.ReadOnly,[0,1]);var Ti=519,Ai=7680,Ei=function(t,e,i,n,o,r){this.test=t,this.ref=e,this.mask=i,this.fail=n,this.depthFail=o,this.pass=r};Ei.disabled=new Ei({func:Ti,mask:0},0,0,Ai,Ai,Ai);var Mi=0,Di=1,Ii=771,Pi=function(t,e,i){this.blendFunction=t,this.blendColor=e,this.mask=i};Pi.Replace=[Di,Mi],Pi.disabled=new Pi(Pi.Replace,t.default$9.transparent,[!1,!1,!1,!1]),Pi.unblended=new Pi(Pi.Replace,t.default$9.transparent,[!0,!0,!0,!0]),Pi.alphaBlended=new Pi([Di,Ii],t.default$9.transparent,[!0,!0,!0,!0]);var Li=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ge(this),this.clearDepth=new Xe(this),this.clearStencil=new Ze(this),this.colorMask=new Ke(this),this.depthMask=new Je(this),this.stencilMask=new Qe(this),this.stencilFunc=new ti(this),this.stencilOp=new ei(this),this.stencilTest=new ii(this),this.depthRange=new ni(this),this.depthTest=new oi(this),this.depthFunc=new ri(this),this.blend=new ai(this),this.blendFunc=new si(this),this.blendColor=new li(this),this.program=new ui(this),this.activeTexture=new ci(this),this.viewport=new hi(this),this.bindFramebuffer=new di(this),this.bindRenderbuffer=new pi(this),this.bindTexture=new fi(this),this.bindVertexBuffer=new mi(this),this.bindElementBuffer=new gi(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new vi(this),this.pixelStoreUnpack=new yi(this),this.pixelStoreUnpackPremultiplyAlpha=new _i(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")};Li.prototype.createIndexBuffer=function(t,e){return new Ve(this,t,e)},Li.prototype.createVertexBuffer=function(t,e,i){return new Ye(this,t,e,i)},Li.prototype.createRenderbuffer=function(t,e,i){var n=this.gl,o=n.createRenderbuffer();return this.bindRenderbuffer.set(o),n.renderbufferStorage(n.RENDERBUFFER,t,e,i),this.bindRenderbuffer.set(null),o},Li.prototype.createFramebuffer=function(t,e){return new ki(this,t,e)},Li.prototype.clear=function(t){var e=t.color,i=t.depth,n=this.gl,o=0;e&&(o|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),"undefined"!=typeof i&&(o|=n.DEPTH_BUFFER_BIT,this.clearDepth.set(i),this.depthMask.set(!0)),n.clear(o)},Li.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},Li.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},Li.prototype.setColorMode=function(e){t.default$14(e.blendFunction,Pi.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)};var Oi=function(e){function i(i,n,o){var r=this;e.call(this),this.id=i,this.dispatcher=o,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(r._sourceLoaded=!0),r._sourceLoaded&&!r._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(r.reload(),r.transform&&r.update(r.transform))}),this.on("error",function(){r._sourceErrored=!0}),this._source=je(i,n,o,this),this._tiles={},this._cache=new qe(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._isIdRenderable=this._isIdRenderable.bind(this),this._coveredTiles={},this._state=new t.default$17}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},i.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},i.prototype.loaded=function(){var t=this;if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var e in t._tiles){var i=t._tiles[e];if("loaded"!==i.state&&"errored"!==i.state)return!1}return!0},i.prototype.getSource=function(){return this._source},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},i.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},i.prototype._unloadTile=function(t){return this._source.unloadTile?this._source.unloadTile(t,function(){}):void 0},i.prototype._abortTile=function(t){return this._source.abortTile?this._source.abortTile(t,function(){}):void 0},i.prototype.serialize=function(){return this._source.serialize()},i.prototype.prepare=function(t){var e=this;this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var i in e._tiles)e._tiles[i].upload(t)},i.prototype.getIds=function(){var e=this,i=function(i,n){var o=e._tiles[i].tileID,r=e._tiles[n].tileID,a=new t["default"](o.canonical.x,o.canonical.y).rotate(e.transform.angle),s=new t["default"](r.canonical.x,r.canonical.y).rotate(e.transform.angle);return o.overscaledZ-r.overscaledZ||s.y-a.y||s.x-a.x};return Object.keys(this._tiles).map(Number).sort(i)},i.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},i.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0,{});return e?this._isIdRenderable(e.tileID.key):!1},i.prototype._isIdRenderable=function(t){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]},i.prototype.reload=function(){var t=this;if(this._paused)return void(this._shouldReloadOnResume=!0);this._cache.reset();for(var e in t._tiles)"errored"!==t._tiles[e].state&&t._reloadTile(e,"reloading")},i.prototype._reloadTile=function(t,e){var i=this._tiles[t];i&&("loading"!==i.state&&(i.state=e),this._loadTile(i,this._tileLoaded.bind(this,i,t,e)))},i.prototype._tileLoaded=function(e,i,n,o){return o?(e.state="errored",void(404!==o.status?this._source.fire(new t.ErrorEvent(o,{tile:e})):this.update(this.transform))):(e.timeAdded=t.default$3.now(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(i,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID})),void(this.map&&(this.map.painter.tileExtentVAO.vao=null)))},i.prototype._backfillDEM=function(t){function e(t,e){t.needsHillshadePrepare=!0;var i=e.tileID.canonical.x-t.tileID.canonical.x,n=e.tileID.canonical.y-t.tileID.canonical.y,o=Math.pow(2,t.tileID.canonical.z),r=e.tileID.key;0===i&&0===n||Math.abs(n)>1||(Math.abs(i)>1&&(1===Math.abs(i+o)?i+=o:1===Math.abs(i-o)&&(i-=o)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,i,n),t.neighboringTiles&&t.neighboringTiles[r]&&(t.neighboringTiles[r].backfilled=!0)))}for(var i=this,n=this.getRenderableIds(),o=0;o<n.length;o++){var r=n[o];if(t.neighboringTiles&&t.neighboringTiles[r]){var a=i.getTileByID(r);e(t,a),e(a,t)}}},i.prototype.getTile=function(t){return this.getTileByID(t.key)},i.prototype.getTileByID=function(t){return this._tiles[t]},i.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},i.prototype._findLoadedChildren=function(t,e,i){var n=this,o=!1;for(var r in n._tiles){var a=n._tiles[r];if(!(i[r]||!a.hasData()||a.tileID.overscaledZ<=t.overscaledZ||a.tileID.overscaledZ>e)){var s=Math.pow(2,a.tileID.canonical.z-t.canonical.z);if(Math.floor(a.tileID.canonical.x/s)===t.canonical.x&&Math.floor(a.tileID.canonical.y/s)===t.canonical.y)for(i[r]=a.tileID,o=!0;a&&a.tileID.overscaledZ-1>t.overscaledZ;){var l=a.tileID.scaledTo(a.tileID.overscaledZ-1);if(!l)break;a=n._tiles[l.key],a&&a.hasData()&&(delete i[r],i[l.key]=l)}}}return o},i.prototype.findLoadedParent=function(t,e,i){for(var n=this,o=t.overscaledZ-1;o>=e;o--){var r=t.scaledTo(o);if(!r)return;var a=String(r.key),s=n._tiles[a];if(s&&s.hasData())return i[a]=r,s;if(n._cache.has(r))return i[a]=r,n._cache.get(r)}},i.prototype.updateCacheSize=function(t){var e=Math.ceil(t.width/this._source.tileSize)+1,i=Math.ceil(t.height/this._source.tileSize)+1,n=e*i,o=5,r=Math.floor(n*o),a="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(a)},i.prototype.handleWrapJump=function(t){var e=this,i=void 0===this._prevLng?t:this._prevLng,n=t-i,o=n/360,r=Math.round(o);if(this._prevLng=t,r){var a={};for(var s in e._tiles){var l=e._tiles[s];l.tileID=l.tileID.unwrapTo(l.tileID.wrap+r),a[l.tileID.key]=l}this._tiles=a;for(var u in e._timers)clearTimeout(e._timers[u]),delete e._timers[u];for(var c in e._tiles){var h=e._tiles[c];e._setTileReloadTimer(c,h)}}},i.prototype.update=function(e){var n=this;if(this.transform=e,this._sourceLoaded&&!this._paused){this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var o;this.used?this._source.tileID?o=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)}):(o=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(o=o.filter(function(t){return n._source.hasTile(t)}))):o=[];var r=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),a=Math.max(r-i.maxOverzooming,this._source.minzoom),s=Math.max(r+i.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(o,r),u={};if(_(this._source.type))for(var c=Object.keys(l),h=0;h<c.length;h++){var d=c[h],p=l[d];t.default$2(p.key===+d);var f=n._tiles[d];if(f&&("undefined"==typeof f.fadeEndTime||f.fadeEndTime>=t.default$3.now())){n._findLoadedChildren(p,s,l)&&(l[d]=p);var m=n.findLoadedParent(p,a,u);m&&n._addTile(m.tileID)}}var g;for(g in u)l[g]||(n._coveredTiles[g]=!0);for(g in u)l[g]=u[g];for(var v=t.keysDifference(this._tiles,l),y=0;y<v.length;y++)n._removeTile(v[y])}},i.prototype._updateRetainedTiles=function(t,e){for(var n=this,o={},r={},a=Math.max(e-i.maxOverzooming,this._source.minzoom),s=Math.max(e+i.maxUnderzooming,this._source.minzoom),l=0;l<t.length;l++){var u=t[l],c=n._addTile(u),h=!1;if(c.hasData())o[u.key]=u;else{h=c.wasRequested(),o[u.key]=u;var d=!0,p=e+1;if(p>n._source.maxzoom){var f=u.children(n._source.maxzoom)[0],m=n.getTile(f);m&&m.hasData()?o[f.key]=f:d=!1}else{n._findLoadedChildren(u,s,o);for(var g=u.children(n._source.maxzoom),v=0;v<g.length;v++)if(!o[g[v].key]){d=!1;break}}if(!d)for(var y=u.overscaledZ-1;y>=a;--y){var _=u.scaledTo(y);if(r[_.key])break;if(r[_.key]=!0,c=n.getTile(_),!c&&h&&(c=n._addTile(_)),c&&(o[_.key]=_,h=c.wasRequested(),c.hasData()))break}}}return o},i.prototype._addTile=function(e){var i=this._tiles[e.key];if(i)return i;i=this._cache.getAndRemove(e),i&&(this._setTileReloadTimer(e.key,i),i.tileID=e,this._state.initializeTileState(i,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,i)));var n=Boolean(i);return n||(i=new t.default$15(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(i,this._tileLoaded.bind(this,i,e.key,i.state))),i?(i.uses++,this._tiles[e.key]=i,n||this._source.fire(new t.Event("dataloading",{tile:i,coord:i.tileID,dataType:"source"})),i):null},i.prototype._setTileReloadTimer=function(t,e){var i=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var n=e.getExpiryTimeout();n&&(this._timers[t]=setTimeout(function(){i._reloadTile(t,"expired"),delete i._timers[t]},n))},i.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},i.prototype.clearTiles=function(){var t=this;this._shouldReloadOnResume=!1,this._paused=!1;for(var e in t._tiles)t._removeTile(e);this._cache.reset()},i.prototype.tilesIn=function(e,i){for(var n=this,o=[],r=this.getIds(),a=1/0,s=1/0,l=-(1/0),u=-(1/0),c=e[0].zoom,h=0;h<e.length;h++){var d=e[h];a=Math.min(a,d.column),s=Math.min(s,d.row),l=Math.max(l,d.column),u=Math.max(u,d.row)}for(var p=0;p<r.length;p++){var f=n._tiles[r[p]],m=f.tileID,g=Math.pow(2,n.transform.zoom-f.tileID.overscaledZ),v=i*f.queryPadding*t.default$11/f.tileSize/g,_=[y(m,new t.default$16(a,s,c)),y(m,new t.default$16(l,u,c))];if(_[0].x-v<t.default$11&&_[0].y-v<t.default$11&&_[1].x+v>=0&&_[1].y+v>=0){for(var b=[],x=0;x<e.length;x++)b.push(y(m,e[x]));o.push({tile:f,tileID:m,queryGeometry:[b],scale:g})}}return o},i.prototype.getVisibleCoordinates=function(){for(var t=this,e=this.getRenderableIds().map(function(e){return t._tiles[e].tileID}),i=0,n=e;i<n.length;i+=1){var o=n[i];o.posMatrix=t.transform.calculatePosMatrix(o.toUnwrapped())}return e},i.prototype.hasTransition=function(){var e=this;if(this._source.hasTransition())return!0;if(_(this._source.type))for(var i in e._tiles){var n=e._tiles[i];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=t.default$3.now())return!0}return!1},i.prototype.setFeatureState=function(t,e,i){t=t||"_geojsonTileLayer",this._state.updateState(t,e,i)},i.prototype.getFeatureState=function(t,e){return t=t||"_geojsonTileLayer",this._state.getState(t,e)},i}(t.Evented);Oi.maxOverzooming=10,Oi.maxUnderzooming=3;var zi=function(){this.active={}};zi.prototype.acquire=function(e){var i=this;if(!this.workers){var n=zo.workerCount;for(t.default$2("number"==typeof n&&1/0>n),this.workers=[];this.workers.length<n;)i.workers.push(new b)}return this.active[e]=!0,this.workers.slice()},zi.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)};var Ri,Ni={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",
setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"},$i=function(t,e,i){var n=this.boxCells=[],o=this.circleCells=[];this.xCellCount=Math.ceil(t/i),this.yCellCount=Math.ceil(e/i);for(var r=0;r<this.xCellCount*this.yCellCount;r++)n.push([]),o.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};$i.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},$i.prototype.insert=function(t,e,i,n,o){this._forEachCell(e,i,n,o,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(o)},$i.prototype.insertCircle=function(t,e,i,n){this._forEachCell(e-n,i-n,e+n,i+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(i),this.circles.push(n)},$i.prototype._insertBoxCell=function(t,e,i,n,o,r){this.boxCells[o].push(r)},$i.prototype._insertCircleCell=function(t,e,i,n,o,r){this.circleCells[o].push(r)},$i.prototype._query=function(t,e,i,n,o,r){var a=this;if(0>i||t>this.width||0>n||e>this.height)return o?!1:[];var s=[];if(0>=t&&0>=e&&this.width<=i&&this.height<=n){if(o)return!0;for(var l=0;l<this.boxKeys.length;l++)s.push({key:a.boxKeys[l],x1:a.bboxes[4*l],y1:a.bboxes[4*l+1],x2:a.bboxes[4*l+2],y2:a.bboxes[4*l+3]});for(var u=0;u<this.circleKeys.length;u++){var c=a.circles[3*u],h=a.circles[3*u+1],d=a.circles[3*u+2];s.push({key:a.circleKeys[u],x1:c-d,y1:h-d,x2:c+d,y2:h+d})}return r?s.filter(r):s}var p={hitTest:o,seenUids:{box:{},circle:{}}};return this._forEachCell(t,e,i,n,this._queryCell,s,p,r),o?s.length>0:s},$i.prototype._queryCircle=function(t,e,i,n,o){var r=t-i,a=t+i,s=e-i,l=e+i;if(0>a||r>this.width||0>l||s>this.height)return n?!1:[];var u=[],c={hitTest:n,circle:{x:t,y:e,radius:i},seenUids:{box:{},circle:{}}};return this._forEachCell(r,s,a,l,this._queryCellCircle,u,c,o),n?u.length>0:u},$i.prototype.query=function(t,e,i,n,o){return this._query(t,e,i,n,!1,o)},$i.prototype.hitTest=function(t,e,i,n,o){return this._query(t,e,i,n,!0,o)},$i.prototype.hitTestCircle=function(t,e,i,n){return this._queryCircle(t,e,i,!0,n)},$i.prototype._queryCell=function(t,e,i,n,o,r,a,s){var l=this,u=a.seenUids,c=this.boxCells[o];if(null!==c)for(var h=this.bboxes,d=0,p=c;d<p.length;d+=1){var f=p[d];if(!u.box[f]){u.box[f]=!0;var m=4*f;if(t<=h[m+2]&&e<=h[m+3]&&i>=h[m+0]&&n>=h[m+1]&&(!s||s(l.boxKeys[f]))){if(a.hitTest)return r.push(!0),!0;r.push({key:l.boxKeys[f],x1:h[m],y1:h[m+1],x2:h[m+2],y2:h[m+3]})}}}var g=this.circleCells[o];if(null!==g)for(var v=this.circles,y=0,_=g;y<_.length;y+=1){var b=_[y];if(!u.circle[b]){u.circle[b]=!0;var x=3*b;if(l._circleAndRectCollide(v[x],v[x+1],v[x+2],t,e,i,n)&&(!s||s(l.circleKeys[b]))){if(a.hitTest)return r.push(!0),!0;var w=v[x],k=v[x+1],C=v[x+2];r.push({key:l.circleKeys[b],x1:w-C,y1:k-C,x2:w+C,y2:k+C})}}}},$i.prototype._queryCellCircle=function(t,e,i,n,o,r,a,s){var l=this,u=a.circle,c=a.seenUids,h=this.boxCells[o];if(null!==h)for(var d=this.bboxes,p=0,f=h;p<f.length;p+=1){var m=f[p];if(!c.box[m]){c.box[m]=!0;var g=4*m;if(l._circleAndRectCollide(u.x,u.y,u.radius,d[g+0],d[g+1],d[g+2],d[g+3])&&(!s||s(l.boxKeys[m])))return r.push(!0),!0}}var v=this.circleCells[o];if(null!==v)for(var y=this.circles,_=0,b=v;_<b.length;_+=1){var x=b[_];if(!c.circle[x]){c.circle[x]=!0;var w=3*x;if(l._circlesCollide(y[w],y[w+1],y[w+2],u.x,u.y,u.radius)&&(!s||s(l.circleKeys[x])))return r.push(!0),!0}}},$i.prototype._forEachCell=function(t,e,i,n,o,r,a,s){for(var l=this,u=this._convertToXCellCoord(t),c=this._convertToYCellCoord(e),h=this._convertToXCellCoord(i),d=this._convertToYCellCoord(n),p=u;h>=p;p++)for(var f=c;d>=f;f++){var m=l.xCellCount*f+p;if(o.call(l,t,e,i,n,m,r,a,s))return}},$i.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},$i.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},$i.prototype._circlesCollide=function(t,e,i,n,o,r){var a=n-t,s=o-e,l=i+r;return l*l>a*a+s*s},$i.prototype._circleAndRectCollide=function(t,e,i,n,o,r,a){var s=(r-n)/2,l=Math.abs(t-(n+s));if(l>s+i)return!1;var u=(a-o)/2,c=Math.abs(e-(o+u));if(c>u+i)return!1;if(s>=l||u>=c)return!0;var h=l-s,d=c-u;return i*i>=h*h+d*d};var Fi=t.default$19.layout,Bi=new Float32Array([-(1/0),-(1/0),0,-(1/0),-(1/0),0,-(1/0),-(1/0),0,-(1/0),-(1/0),0]),ji=100,Hi=function(t,e,i){void 0===e&&(e=new $i(t.width+2*ji,t.height+2*ji,25)),void 0===i&&(i=new $i(t.width+2*ji,t.height+2*ji,25)),this.transform=t,this.grid=e,this.ignoredGrid=i,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+ji,this.screenBottomBoundary=t.height+ji,this.gridRightBoundary=t.width+2*ji,this.gridBottomBoundary=t.height+2*ji};Hi.prototype.placeCollisionBox=function(t,e,i,n,o){var r=this.projectAndGetPerspectiveRatio(n,t.anchorPointX,t.anchorPointY),a=i*r.perspectiveRatio,s=t.x1*a+r.point.x,l=t.y1*a+r.point.y,u=t.x2*a+r.point.x,c=t.y2*a+r.point.y;return!this.isInsideGrid(s,l,u,c)||!e&&this.grid.hitTest(s,l,u,c,o)?{box:[],offscreen:!1}:{box:[s,l,u,c],offscreen:this.isOffscreen(s,l,u,c)}},Hi.prototype.approximateTileDistance=function(t,e,i,n,o){var r=o?1:n/this.pitchfactor,a=t.lastSegmentViewportDistance*i;return t.prevTileDistance+a+(r-1)*a*Math.abs(Math.sin(e))},Hi.prototype.placeCollisionCircles=function(e,i,n,o,r,a,s,l,u,c,h,d,p,f){var m=this,g=[],v=this.projectAnchor(c,a.anchorX,a.anchorY),y={},_=u/24,b=a.lineOffsetX*u,x=a.lineOffsetY*u,w=new t["default"](a.anchorX,a.anchorY),k=R(w,h).point,C=F(_,l,b,x,!1,k,w,a,s,h,y,!0),S=!1,T=!1,A=!0,E=v.perspectiveRatio*o,M=1/(o*n),D=0,I=0;C&&(D=this.approximateTileDistance(C.first.tileDistance,C.first.angle,M,v.cameraDistance,p),I=this.approximateTileDistance(C.last.tileDistance,C.last.angle,M,v.cameraDistance,p));for(var P=0;P<e.length;P+=5){var L=e[P],O=e[P+1],z=e[P+2],N=e[P+3];if(!C||-D>N||N>I)U(e,P,!1);else{var $=m.projectPoint(c,L,O),B=z*E,j=g.length>0;if(j){var H=$.x-g[g.length-4],W=$.y-g[g.length-3],q=B*B*2>H*H+W*W;if(q){var V=P+8<e.length;if(V){var Y=e[P+8];if(Y>-D&&I>Y){U(e,P,!1);continue}}}}var G=P/5;g.push($.x,$.y,B,G),U(e,P,!0);var X=$.x-B,Z=$.y-B,K=$.x+B,J=$.y+B;if(A=A&&m.isOffscreen(X,Z,K,J),T=T||m.isInsideGrid(X,Z,K,J),!i&&m.grid.hitTestCircle($.x,$.y,B,f)){if(!d)return{circles:[],offscreen:!1};S=!0}}}return{circles:S||!T?[]:g,offscreen:A}},Hi.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var i=[],n=1/0,o=1/0,r=-(1/0),a=-(1/0),s=0,l=e;s<l.length;s+=1){var u=l[s],c=new t["default"](u.x+ji,u.y+ji);n=Math.min(n,c.x),o=Math.min(o,c.y),r=Math.max(r,c.x),a=Math.max(a,c.y),i.push(c)}for(var h=this.grid.query(n,o,r,a).concat(this.ignoredGrid.query(n,o,r,a)),d={},p={},f=0,m=h;f<m.length;f+=1){var g=m[f],v=g.key;if(void 0===d[v.bucketInstanceId]&&(d[v.bucketInstanceId]={}),!d[v.bucketInstanceId][v.featureIndex]){var y=[new t["default"](g.x1,g.y1),new t["default"](g.x2,g.y1),new t["default"](g.x2,g.y2),new t["default"](g.x1,g.y2)];t.polygonIntersectsPolygon(i,y)&&(d[v.bucketInstanceId][v.featureIndex]=!0,void 0===p[v.bucketInstanceId]&&(p[v.bucketInstanceId]=[]),p[v.bucketInstanceId].push(v.featureIndex))}}return p},Hi.prototype.insertCollisionBox=function(t,e,i,n,o){var r=e?this.ignoredGrid:this.grid,a={bucketInstanceId:i,featureIndex:n,collisionGroupID:o};r.insert(a,t[0],t[1],t[2],t[3])},Hi.prototype.insertCollisionCircles=function(t,e,i,n,o){for(var r=e?this.ignoredGrid:this.grid,a={bucketInstanceId:i,featureIndex:n,collisionGroupID:o},s=0;s<t.length;s+=4)r.insertCircle(a,t[s],t[s+1],t[s+2])},Hi.prototype.projectAnchor=function(t,e,i){var n=[e,i,0,1];return V(n,n,t),{perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/n[3]),cameraDistance:n[3]}},Hi.prototype.projectPoint=function(e,i,n){var o=[i,n,0,1];return V(o,o,e),new t["default"]((o[0]/o[3]+1)/2*this.transform.width+ji,(-o[1]/o[3]+1)/2*this.transform.height+ji)},Hi.prototype.projectAndGetPerspectiveRatio=function(e,i,n){var o=[i,n,0,1];V(o,o,e);var r=new t["default"]((o[0]/o[3]+1)/2*this.transform.width+ji,(-o[1]/o[3]+1)/2*this.transform.height+ji);return{point:r,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/o[3])}},Hi.prototype.isOffscreen=function(t,e,i,n){return ji>i||t>=this.screenRightBoundary||ji>n||e>this.screenBottomBoundary},Hi.prototype.isInsideGrid=function(t,e,i,n){return i>=0&&t<this.gridRightBoundary&&n>=0&&e<this.gridBottomBoundary};var Wi=t.default$19.layout,qi=function(t,e,i,n){t?this.opacity=Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):this.opacity=n&&i?1:0,this.placed=i};qi.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var Vi=function(t,e,i,n,o){this.text=new qi(t?t.text:null,e,i,o),this.icon=new qi(t?t.icon:null,e,n,o)};Vi.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Ui=function(t,e,i){this.text=t,this.icon=e,this.skipFade=i},Yi=function(t,e,i,n,o){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=i,this.bucketIndex=n,this.tileID=o},Gi=function(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}};Gi.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]};var Xi=function(t,e,i){this.transform=t.clone(),this.collisionIndex=new Hi(this.transform),this.placements={},this.opacities={},this.stale=!1,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new Gi(i)};Xi.prototype.placeLayerTile=function(e,i,n,o){var r=i.getBucket(e),a=i.latestFeatureIndex;if(r&&a&&e.id===r.layerIds[0]){var s=i.collisionBoxArray,l=r.layers[0].layout,u=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),c=i.tileSize/t.default$11,h=this.transform.calculatePosMatrix(i.tileID.toUnwrapped()),d=O(h,"map"===l.get("text-pitch-alignment"),"map"===l.get("text-rotation-alignment"),this.transform,Y(i,1,this.transform.zoom)),p=O(h,"map"===l.get("icon-pitch-alignment"),"map"===l.get("icon-rotation-alignment"),this.transform,Y(i,1,this.transform.zoom));this.retainedQueryData[r.bucketInstanceId]=new Yi(r.bucketInstanceId,a,r.sourceLayerIndex,r.index,i.tileID),this.placeLayerBucket(r,h,d,p,u,c,n,o,s)}},Xi.prototype.placeLayerBucket=function(e,i,n,o,r,a,s,l,u){for(var c=this,h=e.layers[0].layout,d=t.evaluateSizeForZoom(e.textSizeData,this.transform.zoom,Wi.properties["text-size"]),p=!e.hasTextData()||h.get("text-optional"),f=!e.hasIconData()||h.get("icon-optional"),m=this.collisionGroups.get(e.sourceID),g=0,v=e.symbolInstances;g<v.length;g+=1){var y=v[g];if(!l[y.crossTileID]){var _=void 0!==y.feature.text,b=void 0!==y.feature.icon,x=!0,w=null,k=null,C=null,S=0,T=0;y.collisionArrays||(y.collisionArrays=e.deserializeCollisionBoxes(u,y.textBoxStartIndex,y.textBoxEndIndex,y.iconBoxStartIndex,y.iconBoxEndIndex)),y.collisionArrays.textFeatureIndex&&(S=y.collisionArrays.textFeatureIndex),y.collisionArrays.textBox&&(w=c.collisionIndex.placeCollisionBox(y.collisionArrays.textBox,h.get("text-allow-overlap"),a,i,m.predicate),_=w.box.length>0,x=x&&w.offscreen);var A=y.collisionArrays.textCircles;if(A){var E=e.text.placedSymbolArray.get(y.placedTextSymbolIndices[0]),M=t.evaluateSizeForFeature(e.textSizeData,d,E);k=c.collisionIndex.placeCollisionCircles(A,h.get("text-allow-overlap"),r,a,y.key,E,e.lineVertexArray,e.glyphOffsetArray,M,i,n,s,"map"===h.get("text-pitch-alignment"),m.predicate),_=h.get("text-allow-overlap")||k.circles.length>0,x=x&&k.offscreen}y.collisionArrays.iconFeatureIndex&&(T=y.collisionArrays.iconFeatureIndex),y.collisionArrays.iconBox&&(C=c.collisionIndex.placeCollisionBox(y.collisionArrays.iconBox,h.get("icon-allow-overlap"),a,i,m.predicate),b=C.box.length>0,x=x&&C.offscreen),p||f?f?p||(b=b&&_):_=b&&_:b=_=b&&_,_&&w&&c.collisionIndex.insertCollisionBox(w.box,h.get("text-ignore-placement"),e.bucketInstanceId,S,m.ID),b&&C&&c.collisionIndex.insertCollisionBox(C.box,h.get("icon-ignore-placement"),e.bucketInstanceId,T,m.ID),_&&k&&c.collisionIndex.insertCollisionCircles(k.circles,h.get("text-ignore-placement"),e.bucketInstanceId,S,m.ID),t.default$2(0!==y.crossTileID),t.default$2(0!==e.bucketInstanceId),c.placements[y.crossTileID]=new Ui(_,b,x||e.justReloaded),l[y.crossTileID]=!0}}e.justReloaded=!1},Xi.prototype.commit=function(e,i){var n=this;this.commitTime=i;var o=!1,r=e&&0!==this.fadeDuration?(this.commitTime-e.commitTime)/this.fadeDuration:1,a=e?e.opacities:{};for(var s in n.placements){var l=n.placements[s],u=a[s];u?(n.opacities[s]=new Vi(u,r,l.text,l.icon),o=o||l.text!==u.text.placed||l.icon!==u.icon.placed):(n.opacities[s]=new Vi(null,r,l.text,l.icon,l.skipFade),o=o||l.text||l.icon)}for(var c in a){var h=a[c];if(!n.opacities[c]){var d=new Vi(h,r,!1,!1);d.isHidden()||(n.opacities[c]=d,o=o||h.text.placed||h.icon.placed)}}t.default$2(!e||void 0!==e.lastPlacementChangeTime),o?this.lastPlacementChangeTime=i:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:i)},Xi.prototype.updateLayerOpacities=function(t,e){for(var i=this,n={},o=0,r=e;o<r.length;o+=1){var a=r[o],s=a.getBucket(t);s&&a.latestFeatureIndex&&t.id===s.layerIds[0]&&i.updateBucketOpacities(s,n,a.collisionBoxArray)}},Xi.prototype.updateBucketOpacities=function(e,i,n){var o=this;e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasCollisionBoxData()&&e.collisionBox.collisionVertexArray.clear(),e.hasCollisionCircleData()&&e.collisionCircle.collisionVertexArray.clear();for(var r=e.layers[0].layout,a=new Vi(null,0,!1,!1,!0),s=new Vi(null,0,r.get("text-allow-overlap"),r.get("icon-allow-overlap"),!0),l=0;l<e.symbolInstances.length;l++){var u=e.symbolInstances[l],c=i[u.crossTileID],h=o.opacities[u.crossTileID];c?h=a:h||(h=s,o.opacities[u.crossTileID]=h),i[u.crossTileID]=!0;var d=u.numGlyphVertices>0||u.numVerticalGlyphVertices>0,p=u.numIconVertices>0;if(d){for(var f=X(h.text),m=(u.numGlyphVertices+u.numVerticalGlyphVertices)/4,g=0;m>g;g++)e.text.opacityVertexArray.emplaceBack(f);for(var v=0,y=u.placedTextSymbolIndices;v<y.length;v+=1){var _=y[v],b=e.text.placedSymbolArray.get(_);b.hidden=h.text.isHidden()}}if(p){for(var x=X(h.icon),w=0;w<u.numIconVertices/4;w++)e.icon.opacityVertexArray.emplaceBack(x);var k=e.icon.placedSymbolArray.get(l);k.hidden=h.icon.isHidden()}u.collisionArrays||(u.collisionArrays=e.deserializeCollisionBoxes(n,u.textBoxStartIndex,u.textBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex));var C=u.collisionArrays;if(C){C.textBox&&e.hasCollisionBoxData()&&G(e.collisionBox.collisionVertexArray,h.text.placed,!1),C.iconBox&&e.hasCollisionBoxData()&&G(e.collisionBox.collisionVertexArray,h.icon.placed,!1);var S=C.textCircles;if(S&&e.hasCollisionCircleData())for(var T=0;T<S.length;T+=5){var A=c||0===S[T+4];G(e.collisionCircle.collisionVertexArray,h.text.placed,A)}}}e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasCollisionBoxData()&&e.collisionBox.collisionVertexBuffer&&e.collisionBox.collisionVertexBuffer.updateData(e.collisionBox.collisionVertexArray),e.hasCollisionCircleData()&&e.collisionCircle.collisionVertexBuffer&&e.collisionCircle.collisionVertexBuffer.updateData(e.collisionCircle.collisionVertexArray),t.default$2(e.text.opacityVertexArray.length===e.text.layoutVertexArray.length/4),t.default$2(e.icon.opacityVertexArray.length===e.icon.layoutVertexArray.length/4)},Xi.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration},Xi.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},Xi.prototype.stillRecent=function(t){return"undefined"!==this.commitTime&&this.commitTime+this.fadeDuration>t},Xi.prototype.setStale=function(){this.stale=!0};var Zi=Math.pow(2,25),Ki=Math.pow(2,24),Ji=Math.pow(2,17),Qi=Math.pow(2,16),tn=Math.pow(2,9),en=Math.pow(2,8),nn=Math.pow(2,1),on=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};on.prototype.continuePlacement=function(t,e,i,n,o){for(var r=this;this._currentTileIndex<t.length;){var a=t[r._currentTileIndex];if(e.placeLayerTile(n,a,i,r._seenCrossTileIDs),r._currentTileIndex++,o())return!0}};var rn=function(t,e,i,n,o,r){this.placement=new Xi(t,o,r),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=n,this._done=!1};rn.prototype.isDone=function(){return this._done},rn.prototype.continuePlacement=function(e,i,n){for(var o=this,r=t.default$3.now(),a=function(){var e=t.default$3.now()-r;return o._forceFullPlacement?!1:e>2};this._currentPlacementIndex>=0;){var s=e[o._currentPlacementIndex],l=i[s],u=o.placement.collisionIndex.transform.zoom;if("symbol"===l.type&&(!l.minzoom||l.minzoom<=u)&&(!l.maxzoom||l.maxzoom>u)){o._inProgressLayer||(o._inProgressLayer=new on);var c=o._inProgressLayer.continuePlacement(n[l.source],o.placement,o._showCollisionBoxes,l,a);if(c)return;delete o._inProgressLayer}o._currentPlacementIndex--}this._done=!0},rn.prototype.commit=function(t,e){return this.placement.commit(t,e),this.placement};var an=512/t.default$11/2,sn=function(t,e,i){var n=this;this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=i;for(var o=0,r=e;o<r.length;o+=1){var a=r[o],s=a.key;n.indexedSymbolInstances[s]||(n.indexedSymbolInstances[s]=[]),n.indexedSymbolInstances[s].push({crossTileID:a.crossTileID,coord:n.getScaledCoordinates(a,t)})}};sn.prototype.getScaledCoordinates=function(e,i){var n=i.canonical.z-this.tileID.canonical.z,o=an/Math.pow(2,n),r=e.anchor;return{x:Math.floor((i.canonical.x*t.default$11+r.x)*o),y:Math.floor((i.canonical.y*t.default$11+r.y)*o)}},sn.prototype.findMatches=function(t,e,i){for(var n=this,o=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),r=0,a=t;r<a.length;r+=1){var s=a[r];if(!s.crossTileID){var l=n.indexedSymbolInstances[s.key];if(l)for(var u=n.getScaledCoordinates(s,e),c=0,h=l;c<h.length;c+=1){var d=h[c];if(Math.abs(d.coord.x-u.x)<=o&&Math.abs(d.coord.y-u.y)<=o&&!i[d.crossTileID]){i[d.crossTileID]=!0,s.crossTileID=d.crossTileID;break}}}}};var ln=function(){this.maxCrossTileID=0};ln.prototype.generate=function(){return++this.maxCrossTileID};var un=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};un.prototype.handleWrapJump=function(t){var e=this,i=Math.round((t-this.lng)/360);if(0!==i)for(var n in e.indexes){var o=e.indexes[n],r={};for(var a in o){var s=o[a];s.tileID=s.tileID.unwrapTo(s.tileID.wrap+i),r[s.tileID.key]=s}e.indexes[n]=r}this.lng=t},un.prototype.addBucket=function(t,e,i){var n=this;if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var o=0,r=e.symbolInstances;o<r.length;o+=1){var a=r[o];a.crossTileID=0}this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var s=this.usedCrossTileIDs[t.overscaledZ];for(var l in n.indexes){var u=n.indexes[l];if(Number(l)>t.overscaledZ)for(var c in u){var h=u[c];h.tileID.isChildOf(t)&&h.findMatches(e.symbolInstances,t,s)}else{var d=t.scaledTo(Number(l)),p=u[d.key];p&&p.findMatches(e.symbolInstances,t,s)}}for(var f=0,m=e.symbolInstances;f<m.length;f+=1){var g=m[f];g.crossTileID||(g.crossTileID=i.generate(),s[g.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new sn(t,e.symbolInstances,e.bucketInstanceId),!0},un.prototype.removeBucketCrossTileIDs=function(t,e){var i=this;for(var n in e.indexedSymbolInstances)for(var o=0,r=e.indexedSymbolInstances[n];o<r.length;o+=1){var a=r[o];delete i.usedCrossTileIDs[t][a.crossTileID]}},un.prototype.removeStaleBuckets=function(t){var e=this,i=!1;for(var n in e.indexes){var o=e.indexes[n];for(var r in o)t[o[r].bucketInstanceId]||(e.removeBucketCrossTileIDs(n,o[r]),delete o[r],i=!0)}return i};var cn=function(){this.layerIndexes={},this.crossTileIDs=new ln,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};cn.prototype.addLayer=function(t,e,i){var n=this,o=this.layerIndexes[t.id];void 0===o&&(o=this.layerIndexes[t.id]=new un);var r=!1,a={};o.handleWrapJump(i);for(var s=0,l=e;s<l.length;s+=1){var u=l[s],c=u.getBucket(t);c&&t.id===c.layerIds[0]&&(c.bucketInstanceId||(c.bucketInstanceId=++n.maxBucketInstanceId),o.addBucket(u.tileID,c,n.crossTileIDs)&&(r=!0),a[c.bucketInstanceId]=!0)}return o.removeStaleBuckets(a)&&(r=!0),r},cn.prototype.pruneUnusedLayers=function(t){var e=this,i={};t.forEach(function(t){i[t]=!0});for(var n in e.layerIndexes)i[n]||delete e.layerIndexes[n]};var hn=function(e,i){return t.emitValidationErrors(e,i&&i.filter(function(t){return"source.canvas"!==t.identifier}))},dn=t.pick(Ni,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),pn=t.pick(Ni,["setCenter","setZoom","setBearing","setPitch"]),fn=function(e){function i(n,o){var r=this;void 0===o&&(o={}),e.call(this),this.map=n,this.dispatcher=new Ee(x(),this),this.imageManager=new _e,this.glyphManager=new we(n._transformRequest,o.localIdeographFontFamily),this.lineAtlas=new Ae(256,512),this.crossTileSymbolIndex=new cn,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.default$22,this._loaded=!1,this._resetUpdates();var a=this;this._rtlTextPluginCallback=i.registerForPluginAvailability(function(t){a.dispatcher.broadcast("loadRTLTextPlugin",t.pluginURL,t.completionCallback);for(var e in a.sourceCaches)a.sourceCaches[e].reload()}),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=r.sourceCaches[t.sourceId];if(e){var i=e.getSource();if(i&&i.vectorLayerIds)for(var n in r._layers){var o=r._layers[n];o.source===i.id&&r._validateLayer(o)}}}})}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.loadURL=function(e,i){var o=this;void 0===i&&(i={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var r="boolean"==typeof i.validate?i.validate:!n(e);e=he(e,i.accessToken);var a=this.map._transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(a,function(e,i){o._request=null,e?o.fire(new t.ErrorEvent(e)):i&&o._load(i,r)})},i.prototype.loadJSON=function(e,i){var n=this;void 0===i&&(i={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.default$3.frame(function(){n._request=null,n._load(e,i.validate!==!1)})},i.prototype._load=function(e,i){var n=this;if(!i||!hn(this,t.validateStyle(e))){this._loaded=!0,this.stylesheet=e;for(var o in e.sources)n.addSource(o,e.sources[o],{validate:!1});e.sprite?this._spriteRequest=s(e.sprite,this.map._transformRequest,function(e,i){if(n._spriteRequest=null,e)n.fire(new t.ErrorEvent(e));else if(i)for(var o in i)n.imageManager.addImage(o,i[o]);n.imageManager.setLoaded(!0),n.fire(new t.Event("data",{dataType:"style"}))}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var r=k(this.stylesheet.layers);this._order=r.map(function(t){return t.id}),this._layers={};for(var a=0,l=r;a<l.length;a+=1){var u=l[a];u=t.default$21(u),u.setEventedParent(n,{layer:{id:u.id}}),n._layers[u.id]=u}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Te(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},i.prototype._validateLayer=function(e){var i=this.sourceCaches[e.source];if(i){var n=e.sourceLayer;if(n){var o=i.getSource();("geojson"===o.type||o.vectorLayerIds&&-1===o.vectorLayerIds.indexOf(n))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+n+'" does not exist on source "'+o.id+'" as specified by style layer "'+e.id+'"')))}}},i.prototype.loaded=function(){var t=this;if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in t.sourceCaches)if(!t.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(t){var e=this;return t.map(function(t){return e._layers[t].serialize()})},i.prototype.hasTransitions=function(){var t=this;if(this.light&&this.light.hasTransition())return!0;for(var e in t.sourceCaches)if(t.sourceCaches[e].hasTransition())return!0;for(var i in t._layers)if(t._layers[i].hasTransition())return!0;return!1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(e){var i=this;if(this._loaded){if(this._changed){var n=Object.keys(this._updatedLayers),o=Object.keys(this._removedLayers);(n.length||o.length)&&this._updateWorkerLayers(n,o);for(var r in i._updatedSources){var a=i._updatedSources[r];t.default$2("reload"===a||"clear"===a),"reload"===a?i._reloadSource(r):"clear"===a&&i._clearSource(r)}for(var s in i._updatedPaintProps)i._layers[s].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates(),this.fire(new t.Event("data",{dataType:"style"}))}for(var l in i.sourceCaches)i.sourceCaches[l].used=!1;for(var u=0,c=i._order;u<c.length;u+=1){var h=c[u],d=i._layers[h];d.recalculate(e),!d.isHidden(e.zoom)&&d.source&&(i.sourceCaches[d.source].used=!0)}this.light.recalculate(e),this.z=e.zoom}},i.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},i.prototype.setState=function(e){var i=this;if(this._checkLoaded(),hn(this,t.validateStyle(e)))return!1;e=t.clone$2(e),e.layers=k(e.layers);var n=L(this.serialize(),e).filter(function(t){return!(t.command in pn)});if(0===n.length)return!1;var o=n.filter(function(t){return!(t.command in dn)});if(o.length>0)throw new Error("Unimplemented: "+o.map(function(t){return t.command}).join(", ")+".");return n.forEach(function(t){"setTransition"!==t.command&&i[t.command].apply(i,t.args)}),this.stylesheet=e,!0},i.prototype.addImage=function(e,i){return this.getImage(e)?this.fire(new t.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(e,i),void this.fire(new t.Event("data",{dataType:"style"})))},i.prototype.getImage=function(t){return this.imageManager.getImage(t)},i.prototype.removeImage=function(e){return this.getImage(e)?(this.imageManager.removeImage(e),void this.fire(new t.Event("data",{dataType:"style"}))):this.fire(new t.ErrorEvent(new Error("No image with this name exists.")))},i.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},i.prototype.addSource=function(e,i,n){var o=this;if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!i.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(i).join(", ")+".");var r=["vector","raster","geojson","video","image"],a=r.indexOf(i.type)>=0;if(!a||!this._validate(t.validateStyle.source,"sources."+e,i,null,n)){this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);var s=this.sourceCaches[e]=new Oi(e,i,this.dispatcher);s.style=this,s.setEventedParent(this,function(){return{isSourceLoaded:o.loaded(),source:s.serialize(),sourceId:e}}),s.onAdd(this.map),this._changed=!0}},i.prototype.removeSource=function(e){var i=this;if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var n in i._layers)if(i._layers[n].source===e)return i.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+n+'" is using it.')));var o=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],o.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),o.setEventedParent(null),o.clearTiles(),o.onRemove&&o.onRemove(this.map),this._changed=!0},i.prototype.setGeoJSONSourceData=function(e,i){this._checkLoaded(),t.default$2(void 0!==this.sourceCaches[e],"There is no source with this ID");var n=this.sourceCaches[e].getSource();t.default$2("geojson"===n.type),n.setData(i),this._changed=!0},i.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},i.prototype.addLayer=function(e,i,n){this._checkLoaded();var o=e.id;if(this.getLayer(o))return void this.fire(new t.ErrorEvent(new Error('Layer with id "'+o+'" already exists on this map')));if("object"==typeof e.source&&(this.addSource(o,e.source),e=t.clone$2(e),e=t.extend(e,{source:o})),!this._validate(t.validateStyle.layer,"layers."+o,e,{arrayIndex:-1},n)){var r=t.default$21(e);this._validateLayer(r),r.setEventedParent(this,{layer:{id:o}});var a=i?this._order.indexOf(i):this._order.length;if(i&&-1===a)return void this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" does not exist on this map.')));if(this._order.splice(a,0,o),this._layerOrderChanged=!0,this._layers[o]=r,this._removedLayers[o]&&r.source){var s=this._removedLayers[o];delete this._removedLayers[o],s.type!==r.type?this._updatedSources[r.source]="clear":(this._updatedSources[r.source]="reload",this.sourceCaches[r.source].pause())}this._updateLayer(r)}},i.prototype.moveLayer=function(e,i){this._checkLoaded(),this._changed=!0;var n=this._layers[e];if(!n)return void this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")));if(e!==i){var o=this._order.indexOf(e);this._order.splice(o,1);var r=i?this._order.indexOf(i):this._order.length;if(i&&-1===r)return void this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" does not exist on this map.')));this._order.splice(r,0,e),this._layerOrderChanged=!0}},i.prototype.removeLayer=function(e){this._checkLoaded();var i=this._layers[e];if(!i)return void this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")));i.setEventedParent(null);var n=this._order.indexOf(e);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=i,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e]},i.prototype.getLayer=function(t){return this._layers[t]},i.prototype.setLayerZoomRange=function(e,i,n){this._checkLoaded();var o=this.getLayer(e);return o?void(o.minzoom===i&&o.maxzoom===n||(null!=i&&(o.minzoom=i),null!=n&&(o.maxzoom=n),this._updateLayer(o))):void this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},i.prototype.setFilter=function(e,i){this._checkLoaded();var n=this.getLayer(e);if(!n)return void this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")));if(!t.default$14(n.filter,i))return null===i||void 0===i?(n.filter=void 0,void this._updateLayer(n)):void(this._validate(t.validateStyle.filter,"layers."+n.id+".filter",i)||(n.filter=t.clone$2(i),this._updateLayer(n)))},i.prototype.getFilter=function(e){return t.clone$2(this.getLayer(e).filter)},i.prototype.setLayoutProperty=function(e,i,n){this._checkLoaded();var o=this.getLayer(e);return o?void(t.default$14(o.getLayoutProperty(i),n)||(o.setLayoutProperty(i,n),this._updateLayer(o))):void this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},i.prototype.setPaintProperty=function(e,i,n){this._checkLoaded();var o=this.getLayer(e);if(!o)return void this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")));if(!t.default$14(o.getPaintProperty(i),n)){var r=o.setPaintProperty(i,n);r&&this._updateLayer(o),this._changed=!0,
this._updatedPaintProps[e]=!0}},i.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},i.prototype.setFeatureState=function(e,i){this._checkLoaded();var n=e.source,o=e.sourceLayer,r=this.sourceCaches[n];if(void 0===r)return void this.fire(new t.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")));var a=r.getSource().type;return"vector"!==a||o?void r.setFeatureState(o,e.id,i):void this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))},i.prototype.getFeatureState=function(e){this._checkLoaded();var i=e.source,n=e.sourceLayer,o=this.sourceCaches[i];if(void 0===o)return void this.fire(new t.ErrorEvent(new Error("The source '"+i+"' does not exist in the map's style.")));var r=o.getSource().type;return"vector"!==r||n?o.getFeatureState(n,e.id):void this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))},i.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){var e=this;return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._order.map(function(t){return e._layers[t].serialize()})},function(t){return void 0!==t})},i.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},i.prototype._flattenRenderedFeatures=function(t){for(var e=this,i=[],n=this._order.length-1;n>=0;n--)for(var o=e._order[n],r=0,a=t;r<a.length;r+=1){var s=a[r],l=s[o];if(l)for(var u=0,c=l;u<c.length;u+=1){var h=c[u];i.push(h)}}return i},i.prototype.queryRenderedFeatures=function(e,i,n){var o=this;i&&i.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",i.filter);var r={};if(i&&i.layers){if(!Array.isArray(i.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var a=0,s=i.layers;a<s.length;a+=1){var l=s[a],u=o._layers[l];if(!u)return o.fire(new t.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be queried for features."))),[];r[u.source]=!0}}var c=[];for(var h in o.sourceCaches)i.layers&&!r[h]||c.push(p(o.sourceCaches[h],o._layers,e.worldCoordinate,i,n));return this.placement&&c.push(f(this._layers,this.sourceCaches,e.viewport,i,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenRenderedFeatures(c)},i.prototype.querySourceFeatures=function(e,i){i&&i.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",i.filter);var n=this.sourceCaches[e];return n?m(n,i):[]},i.prototype.addSourceType=function(t,e,n){return i.getSourceType(t)?n(new Error('A source type called "'+t+'" already exists.')):(i.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(e){this._checkLoaded();var i=this.light.getLight(),n=!1;for(var o in e)if(!t.default$14(e[o],i[o])){n=!0;break}if(n){var r={now:t.default$3.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e),this.light.updateTransitions(r)}},i.prototype._validate=function(e,i,n,o,r){return r&&r.validate===!1?!1:hn(this,e.call(t.validateStyle,t.extend({key:i,style:this.serialize(),value:n,styleSpec:t.default$8},o)))},i.prototype._remove=function(){var e=this;this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginAvailable",this._rtlTextPluginCallback);for(var i in e.sourceCaches)e.sourceCaches[i].clearTiles();this.dispatcher.remove()},i.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},i.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},i.prototype._updateSources=function(t){var e=this;for(var i in e.sourceCaches)e.sourceCaches[i].update(t)},i.prototype._generateCollisionBoxes=function(){var t=this;for(var e in t.sourceCaches)t._reloadSource(e)},i.prototype._updatePlacement=function(e,i,n,o){for(var r=this,a=!1,s=!1,l={},u=0,c=r._order;u<c.length;u+=1){var h=c[u],d=r._layers[h];if("symbol"===d.type){if(!l[d.source]){var p=r.sourceCaches[d.source];l[d.source]=p.getRenderableIds().map(function(t){return p.getTileByID(t)}).sort(function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)})}var f=r.crossTileSymbolIndex.addLayer(d,l[d.source],e.center.lng);a=a||f}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var m=this._layerOrderChanged;if((m||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.default$3.now()))&&(this.pauseablePlacement=new rn(e,this._order,m,i,n,o),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(this.placement,t.default$3.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(var g=0,v=r._order;g<v.length;g+=1){var y=v[g],_=r._layers[y];"symbol"===_.type&&r.placement.updateLayerOpacities(_,l[_.source])}var b=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.default$3.now());return b},i.prototype.getImages=function(t,e,i){this.imageManager.getImages(e.icons,i)},i.prototype.getGlyphs=function(t,e,i){this.glyphManager.getGlyphs(e.stacks,i)},i}(t.Evented);fn.getSourceType=He,fn.setSourceType=We,fn.registerForPluginAvailability=t.registerForPluginAvailability;var mn=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),gn={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec2 unpack_opacity(const float packedOpacity) {\n    int intOpacity = int(packedOpacity) / 2;\n    return vec2(float(intOpacity) / 127.0, mod(packedOpacity, 2.0));\n}\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},background:{fragmentSource:"uniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main() {\n    gl_FragColor = u_color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},backgroundPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},clippingMask:{fragmentSource:"void main() {\n    gl_FragColor = vec4(1.0);\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},heatmap:{fragmentSource:"#pragma mapbox: define highp float weight\n\nuniform highp float u_intensity;\nvarying vec2 v_extrude;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main() {\n    #pragma mapbox: initialize highp float weight\n\n    // Kernel density estimation with a Gaussian kernel of size 5x5\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\n\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\n\nuniform mat4 u_matrix;\nuniform float u_extrude_scale;\nuniform float u_opacity;\nuniform float u_intensity;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\n// Effective \"0\" in the kernel density texture to adjust the kernel size to;\n// this empirically chosen number minimizes artifacts on overlapping kernels\n// for typical heatmap cases (assuming clustered source)\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main(void) {\n    #pragma mapbox: initialize highp float weight\n    #pragma mapbox: initialize mediump float radius\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // This 'extrude' comes in ranging from [-1, -1], to [1, 1].  We'll use\n    // it to produce the vertices of a square mesh framing the point feature\n    // we're adding to the kernel density texture.  We'll also pass it as\n    // a varying, so that the fragment shader can determine the distance of\n    // each fragment from the point feature.\n    // Before we do so, we need to scale it up sufficiently so that the\n    // kernel falls effectively to zero at the edge of the mesh.\n    // That is, we want to know S such that\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\n    // Which solves to:\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\n\n    // Pass the varying in units of radius\n    v_extrude = S * unscaled_extrude;\n\n    // Scale by radius and the zoom-based scale factor to produce actual\n    // mesh position\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\n\n    gl_Position = u_matrix * pos;\n}\n"},heatmapTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform sampler2D u_color_ramp;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    float t = texture2D(u_image, v_pos).r;\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\n    gl_FragColor = color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},collisionBox:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        gl_FragColor *= .1;\n    }\n}",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field boxes in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n    gl_Position.xy += a_extrude * u_extrude_scale * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n}\n"},collisionCircle:{fragmentSource:"uniform float u_overscale_factor;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    vec4 color = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        color = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        color *= .2;\n    }\n\n    float extrude_scale_length = length(v_extrude_scale);\n    float extrude_length = length(v_extrude) * extrude_scale_length;\n    float stroke_width = 15.0 * extrude_scale_length / u_overscale_factor;\n    float radius = v_radius * extrude_scale_length;\n\n    float distance_to_edge = abs(extrude_length - radius);\n    float opacity_t = smoothstep(-stroke_width, 0.0, -distance_to_edge);\n\n    gl_FragColor = opacity_t * color;\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\n\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field circles in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n\n    highp float padding_factor = 1.2; // Pad the vertices slightly to make room for anti-alias blur\n    gl_Position.xy += a_extrude * u_extrude_scale * padding_factor * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n    v_radius = abs(a_extrude.y); // We don't pitch the circles, so both units of the extrusion vector are equal in magnitude to the radius\n\n    v_extrude = a_extrude * padding_factor;\n    v_extrude_scale = u_extrude_scale * u_camera_to_center_distance * collision_perspective_ratio;\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    vec3 normal = a_normal_ed.xyz;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec3 normal = a_normal_ed.xyz;\n    float edgedistance = a_normal_ed.w;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = normal.x == 1.0 && normal.y == 0.0 && normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"
},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},hillshadePrepare:{fragmentSource:"#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D u_image;\nvarying vec2 v_pos;\nuniform vec2 u_dimension;\nuniform float u_zoom;\nuniform float u_maxzoom;\n\nfloat getElevation(vec2 coord, float bias) {\n    // Convert encoded elevation value to meters\n    vec4 data = texture2D(u_image, coord) * 255.0;\n    return (data.r + data.g * 256.0 + data.b * 256.0 * 256.0) / 4.0;\n}\n\nvoid main() {\n    vec2 epsilon = 1.0 / u_dimension;\n\n    // queried pixels:\n    // +-----------+\n    // |   |   |   |\n    // | a | b | c |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | d | e | f |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | g | h | i |\n    // |   |   |   |\n    // +-----------+\n\n    float a = getElevation(v_pos + vec2(-epsilon.x, -epsilon.y), 0.0);\n    float b = getElevation(v_pos + vec2(0, -epsilon.y), 0.0);\n    float c = getElevation(v_pos + vec2(epsilon.x, -epsilon.y), 0.0);\n    float d = getElevation(v_pos + vec2(-epsilon.x, 0), 0.0);\n    float e = getElevation(v_pos, 0.0);\n    float f = getElevation(v_pos + vec2(epsilon.x, 0), 0.0);\n    float g = getElevation(v_pos + vec2(-epsilon.x, epsilon.y), 0.0);\n    float h = getElevation(v_pos + vec2(0, epsilon.y), 0.0);\n    float i = getElevation(v_pos + vec2(epsilon.x, epsilon.y), 0.0);\n\n    // here we divide the x and y slopes by 8 * pixel size\n    // where pixel size (aka meters/pixel) is:\n    // circumference of the world / (pixels per tile * number of tiles)\n    // which is equivalent to: 8 * 40075016.6855785 / (512 * pow(2, u_zoom))\n    // which can be reduced to: pow(2, 19.25619978527 - u_zoom)\n    // we want to vertically exaggerate the hillshading though, because otherwise\n    // it is barely noticeable at low zooms. to do this, we multiply this by some\n    // scale factor pow(2, (u_zoom - u_maxzoom) * a) where a is an arbitrary value\n    // Here we use a=0.3 which works out to the expression below. see \n    // nickidlugash's awesome breakdown for more info\n    // https://github.com/mapbox/mapbox-gl-js/pull/5286#discussion_r148419556\n    float exaggeration = u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;\n\n    vec2 deriv = vec2(\n        (c + f + f + i) - (a + d + d + g),\n        (g + h + h + i) - (a + b + b + c)\n    ) /  pow(2.0, (u_zoom - u_maxzoom) * exaggeration + 19.2562 - u_zoom);\n\n    gl_FragColor = clamp(vec4(\n        deriv.x / 2.0 + 0.5,\n        deriv.y / 2.0 + 0.5,\n        1.0,\n        1.0), 0.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (a_texture_pos / 8192.0) / 2.0 + 0.25;\n}\n"},hillshade:{fragmentSource:"uniform sampler2D u_image;\nvarying vec2 v_pos;\n\nuniform vec2 u_latrange;\nuniform vec2 u_light;\nuniform vec4 u_shadow;\nuniform vec4 u_highlight;\nuniform vec4 u_accent;\n\n#define PI 3.141592653589793\n\nvoid main() {\n    vec4 pixel = texture2D(u_image, v_pos);\n\n    vec2 deriv = ((pixel.rg * 2.0) - 1.0);\n\n    // We divide the slope by a scale factor based on the cosin of the pixel's approximate latitude\n    // to account for mercator projection distortion. see #4807 for details\n    float scaleFactor = cos(radians((u_latrange[0] - u_latrange[1]) * (1.0 - v_pos.y) + u_latrange[1]));\n    // We also multiply the slope by an arbitrary z-factor of 1.25\n    float slope = atan(1.25 * length(deriv) / scaleFactor);\n    float aspect = deriv.x != 0.0 ? atan(deriv.y, -deriv.x) : PI / 2.0 * (deriv.y > 0.0 ? 1.0 : -1.0);\n\n    float intensity = u_light.x;\n    // We add PI to make this property match the global light object, which adds PI/2 to the light's azimuthal\n    // position property to account for 0deg corresponding to north/the top of the viewport in the style spec\n    // and the original shader was written to accept (-illuminationDirection - 90) as the azimuthal.\n    float azimuth = u_light.y + PI;\n\n    // We scale the slope exponentially based on intensity, using a calculation similar to\n    // the exponential interpolation function in the style spec:\n    // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/expression/definitions/interpolate.js#L217-L228\n    // so that higher intensity values create more opaque hillshading.\n    float base = 1.875 - intensity * 1.75;\n    float maxValue = 0.5 * PI;\n    float scaledSlope = intensity != 0.5 ? ((pow(base, slope) - 1.0) / (pow(base, maxValue) - 1.0)) * maxValue : slope;\n\n    // The accent color is calculated with the cosine of the slope while the shade color is calculated with the sine\n    // so that the accent color's rate of change eases in while the shade color's eases out.\n    float accent = cos(scaledSlope);\n    // We multiply both the accent and shade color by a clamped intensity value\n    // so that intensities >= 0.5 do not additionally affect the color values\n    // while intensity values < 0.5 make the overall color more transparent.\n    vec4 accent_color = (1.0 - accent) * u_accent * clamp(intensity * 2.0, 0.0, 1.0);\n    float shade = abs(mod((aspect + azimuth) / PI + 0.5, 2.0) - 1.0);\n    vec4 shade_color = mix(u_shadow, u_highlight, shade) * sin(scaledSlope) * clamp(intensity * 2.0, 0.0, 1.0);\n    gl_FragColor = accent_color * (1.0 - shade_color.a) + shade_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = a_texture_pos / 8192.0;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\nvarying highp float v_linesofar;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    v_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * 2.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},lineGradient:{fragmentSource:"\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nuniform sampler2D u_image;\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\nvarying highp float v_lineprogress;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    // For gradient lines, v_lineprogress is the ratio along the entire line,\n    // scaled to [0, 2^15), and the gradient ramp is stored in a texture.\n    vec4 color = texture2D(u_image, vec2(v_lineprogress, 0.5));\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n// the attribute conveying progress along a line is scaled to [0, 2^15)\n#define MAX_LINE_DISTANCE 32767.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\nvarying highp float v_lineprogress;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    v_lineprogress = (floor(a_data.z / 4.0) + a_data.w * 64.0) * 2.0 / MAX_LINE_DISTANCE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n\n    // v_normal.y is 0 at the midpoint of the line, -1 at the lower edge, 1 at the upper edge\n    // we clamp the line width outset to be between 0 and half the pattern height plus padding (2.0)\n    // to ensure we don't sample outside the designated symbol on the sprite sheet.\n    // 0.5 is added to shift the component to be bounded between 0 and 1 for interpolation of\n    // the texture coordinate\n    float y_a = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (u_pattern_size_a.y + 2.0) / 2.0) / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (u_pattern_size_b.y + 2.0) / 2.0) / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = opacity * v_fade_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform float u_fade_change;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n            0.5 + 0.5 * distance_ratio,\n            0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n            4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    v_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n    float fade_opacity = v_data1[2];\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n\n    gl_FragColor = color * (alpha * opacity * fade_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",
vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform float u_fade_change;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n        0.5 + 0.5 * distance_ratio,\n        0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n        4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    float interpolated_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n\n    v_data0 = vec2(tex.x, tex.y);\n    v_data1 = vec3(gamma_scale, size, interpolated_fade_opacity);\n}\n"}},vn=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,yn=function(t){var e=gn[t],i={};e.fragmentSource=e.fragmentSource.replace(vn,function(t,e,n,o,r){return i[r]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nvarying "+n+" "+o+" "+r+";\n#else\nuniform "+n+" "+o+" u_"+r+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+r+"\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n"}),e.vertexSource=e.vertexSource.replace(vn,function(t,e,n,o,r){var a="float"===o?"vec2":"vec4";return i[r]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nuniform lowp float a_"+r+"_t;\nattribute "+n+" "+a+" a_"+r+";\nvarying "+n+" "+o+" "+r+";\n#else\nuniform "+n+" "+o+" u_"+r+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+r+" = unpack_mix_"+a+"(a_"+r+", a_"+r+"_t);\n#else\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nuniform lowp float a_"+r+"_t;\nattribute "+n+" "+a+" a_"+r+";\n#else\nuniform "+n+" "+o+" u_"+r+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+n+" "+o+" "+r+" = unpack_mix_"+a+"(a_"+r+", a_"+r+"_t);\n#else\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n"})};for(var _n in gn)yn(_n);var bn=gn,xn=function(e,i,n,o){var r=this,a=e.gl;this.program=a.createProgram();var s=n.defines().concat("#define DEVICE_PIXEL_RATIO "+t.default$3.devicePixelRatio.toFixed(1));o&&s.push("#define OVERDRAW_INSPECTOR;");var l=s.concat(bn.prelude.fragmentSource,i.fragmentSource).join("\n"),u=s.concat(bn.prelude.vertexSource,i.vertexSource).join("\n"),c=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(c,l),a.compileShader(c),t.default$2(a.getShaderParameter(c,a.COMPILE_STATUS),a.getShaderInfoLog(c)),a.attachShader(this.program,c);var h=a.createShader(a.VERTEX_SHADER);a.shaderSource(h,u),a.compileShader(h),t.default$2(a.getShaderParameter(h,a.COMPILE_STATUS),a.getShaderInfoLog(h)),a.attachShader(this.program,h);for(var d=n.layoutAttributes||[],p=0;p<d.length;p++)a.bindAttribLocation(r.program,p,d[p].name);a.linkProgram(this.program),t.default$2(a.getProgramParameter(this.program,a.LINK_STATUS),a.getProgramInfoLog(this.program)),this.numAttributes=a.getProgramParameter(this.program,a.ACTIVE_ATTRIBUTES),this.attributes={},this.uniforms={};for(var f=0;f<this.numAttributes;f++){var m=a.getActiveAttrib(r.program,f);m&&(r.attributes[m.name]=a.getAttribLocation(r.program,m.name))}for(var g=a.getProgramParameter(this.program,a.ACTIVE_UNIFORMS),v=0;g>v;v++){var y=a.getActiveUniform(r.program,v);y&&(r.uniforms[y.name]=a.getUniformLocation(r.program,y.name))}};xn.prototype.draw=function(t,e,i,n,o,r,a,s,l){for(var u,c=this,h=t.gl,d=(u={},u[h.LINES]=2,u[h.TRIANGLES]=3,u)[e],p=0,f=r.get();p<f.length;p+=1){var m=f[p],g=m.vaos||(m.vaos={}),v=g[i]||(g[i]=new Re);v.bind(t,c,n,a?a.getPaintVertexBuffers():[],o,m.vertexOffset,s,l),h.drawElements(e,m.primitiveLength*d,h.UNSIGNED_SHORT,m.primitiveOffset*d*2)}};var wn=t.identity(new Float32Array(16)),kn=t.default$19.layout,Cn=function(t,e){if(!t)return!1;var i=e.imageManager.getPattern(t.from),n=e.imageManager.getPattern(t.to);return!i||!n},Sn=function(e,i,n){var o=i.context,r=o.gl,a=i.imageManager.getPattern(e.from),s=i.imageManager.getPattern(e.to);t.default$2(a&&s),r.uniform1i(n.uniforms.u_image,0),r.uniform2fv(n.uniforms.u_pattern_tl_a,a.tl),r.uniform2fv(n.uniforms.u_pattern_br_a,a.br),r.uniform2fv(n.uniforms.u_pattern_tl_b,s.tl),r.uniform2fv(n.uniforms.u_pattern_br_b,s.br);var l=i.imageManager.getPixelSize(),u=l.width,c=l.height;r.uniform2fv(n.uniforms.u_texsize,[u,c]),r.uniform1f(n.uniforms.u_mix,e.t),r.uniform2fv(n.uniforms.u_pattern_size_a,a.displaySize),r.uniform2fv(n.uniforms.u_pattern_size_b,s.displaySize),r.uniform1f(n.uniforms.u_scale_a,e.fromScale),r.uniform1f(n.uniforms.u_scale_b,e.toScale),o.activeTexture.set(r.TEXTURE0),i.imageManager.bind(i.context)},Tn=function(t,e,i){var n=e.context.gl;n.uniform1f(i.uniforms.u_tile_units_to_pixels,1/Y(t,1,e.transform.tileZoom));var o=Math.pow(2,t.tileID.overscaledZ),r=t.tileSize*Math.pow(2,e.transform.tileZoom)/o,a=r*(t.tileID.canonical.x+t.tileID.wrap*o),s=r*t.tileID.canonical.y;n.uniform2f(i.uniforms.u_pixel_coord_upper,a>>16,s>>16),n.uniform2f(i.uniforms.u_pixel_coord_lower,65535&a,65535&s)},An={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},En={symbol:tt,circle:rt,heatmap:at,line:ct,fill:dt,"fill-extrusion":vt,hillshade:wt,raster:At,background:Pt,debug:Lt},Mn=function(e,i){this.context=new Li(e),this.transform=i,this._tileTextures={},this.setup(),this.numSublayers=Oi.maxUnderzooming+Oi.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new t.default$23,this.crossTileSymbolIndex=new cn};Mn.prototype.resize=function(e,i){var n=this,o=this.context.gl;if(this.width=e*t.default$3.devicePixelRatio,this.height=i*t.default$3.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,a=n.style._order;r<a.length;r+=1){var s=a[r];n.style._layers[s].resize()}this.depthRbo&&(o.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},Mn.prototype.setup=function(){var e=this.context,i=new t.PosArray;i.emplaceBack(0,0),i.emplaceBack(t.default$11,0),i.emplaceBack(0,t.default$11),i.emplaceBack(t.default$11,t.default$11),this.tileExtentBuffer=e.createVertexBuffer(i,mn.members),this.tileExtentVAO=new Re,this.tileExtentPatternVAO=new Re;var n=new t.PosArray;n.emplaceBack(0,0),n.emplaceBack(t.default$11,0),n.emplaceBack(t.default$11,t.default$11),n.emplaceBack(0,t.default$11),n.emplaceBack(0,0),this.debugBuffer=e.createVertexBuffer(n,mn.members),this.debugVAO=new Re;var o=new t.RasterBoundsArray;o.emplaceBack(0,0,0,0),o.emplaceBack(t.default$11,0,t.default$11,0),o.emplaceBack(0,t.default$11,0,t.default$11),o.emplaceBack(t.default$11,t.default$11,t.default$11,t.default$11),this.rasterBoundsBuffer=e.createVertexBuffer(o,t.default$12.members),this.rasterBoundsVAO=new Re;var r=new t.PosArray;r.emplaceBack(0,0),r.emplaceBack(1,0),r.emplaceBack(0,1),r.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(r,mn.members),this.viewportVAO=new Re},Mn.prototype.clearStencil=function(){var e=this.context,i=e.gl;e.setColorMode(Pi.disabled),e.setDepthMode(Si.disabled),e.setStencilMode(new Ei({func:i.ALWAYS,mask:0},0,255,i.ZERO,i.ZERO,i.ZERO));var n=t.create();t.ortho(n,0,this.width,this.height,0,0,1),t.scale(n,n,[i.drawingBufferWidth,i.drawingBufferHeight,0]);var o=this.useProgram("clippingMask");i.uniformMatrix4fv(o.uniforms.u_matrix,!1,n),this.viewportVAO.bind(e,o,this.viewportBuffer,[]),i.drawArrays(i.TRIANGLE_STRIP,0,4)},Mn.prototype._renderTileClippingMasks=function(t){var e=this,i=this.context,n=i.gl;i.setColorMode(Pi.disabled),i.setDepthMode(Si.disabled);var o=1;this._tileClippingMaskIDs={};for(var r=0,a=t;r<a.length;r+=1){var s=a[r],l=e._tileClippingMaskIDs[s.key]=o++;i.setStencilMode(new Ei({func:n.ALWAYS,mask:0},l,255,n.KEEP,n.KEEP,n.REPLACE));var u=e.useProgram("clippingMask");n.uniformMatrix4fv(u.uniforms.u_matrix,!1,s.posMatrix),e.tileExtentVAO.bind(e.context,u,e.tileExtentBuffer,[]),n.drawArrays(n.TRIANGLE_STRIP,0,e.tileExtentBuffer.length)}},Mn.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new Ei({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},Mn.prototype.colorModeForRenderPass=function(){var e=this.context.gl;if(this._showOverdrawInspector){var i=8,n=1/i;return new Pi([e.CONSTANT_COLOR,e.ONE],new t.default$9(n,n,n,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?Pi.unblended:Pi.alphaBlended},Mn.prototype.depthModeForSublayer=function(t,e,i){var n=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,o=n-1+this.depthRange;return new Si(i||this.context.gl.LEQUAL,e,[o,n])},Mn.prototype.render=function(e,i){var n=this;this.style=e,this.options=i,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.default$3.now());for(var o in e.sourceCaches){var r=n.style.sourceCaches[o];r.used&&r.prepare(n.context)}var a=this.style._order,s=t.filterObject(this.style.sourceCaches,function(t){return"raster"===t.getSource().type||"raster-dem"===t.getSource().type}),l=function(t){var e=s[t],i=e.getVisibleCoordinates(),o=i.map(function(t){return e.getTile(t)});Z(o,n.context)};for(var u in s)l(u);this.renderPass="offscreen";var c,h=[];this.depthRboNeedsClear=!0;for(var d=0;d<a.length;d++){var p=n.style._layers[a[d]];p.hasOffscreenPass()&&!p.isHidden(n.transform.zoom)&&(p.source!==(c&&c.id)&&(c=n.style.sourceCaches[p.source],h=[],c&&(h=c.getVisibleCoordinates(),h.reverse())),h.length&&n.renderLayer(n,c,p,h))}this.context.bindFramebuffer.set(null),this.context.clear({color:i.showOverdrawInspector?t.default$9.black:t.default$9.transparent,depth:1}),this._showOverdrawInspector=i.showOverdrawInspector,this.depthRange=(e._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque";var f,m=[];for(this.currentLayer=a.length-1,this.currentLayer;this.currentLayer>=0;this.currentLayer--){var g=n.style._layers[a[n.currentLayer]];g.source!==(f&&f.id)&&(f=n.style.sourceCaches[g.source],m=[],f&&(n.clearStencil(),m=f.getVisibleCoordinates(),f.getSource().isTileClipped&&n._renderTileClippingMasks(m))),n.renderLayer(n,f,g,m)}this.renderPass="translucent";var v,y=[];for(this.currentLayer=0,this.currentLayer;this.currentLayer<a.length;this.currentLayer++){var _=n.style._layers[a[n.currentLayer]];_.source!==(v&&v.id)&&(v=n.style.sourceCaches[_.source],y=[],v&&(n.clearStencil(),y=v.getVisibleCoordinates(),v.getSource().isTileClipped&&n._renderTileClippingMasks(y)),y.reverse()),n.renderLayer(n,v,_,y)}if(this.options.showTileBoundaries){var b=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];b&&En.debug(this,b,b.getVisibleCoordinates())}},Mn.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},Mn.prototype.renderLayer=function(t,e,i,n){i.isHidden(this.transform.zoom)||("background"===i.type||n.length)&&(this.id=i.id,En[i.type](t,e,i,n))},Mn.prototype.translatePosMatrix=function(e,i,n,o,r){if(!n[0]&&!n[1])return e;var a=r?"map"===o?this.transform.angle:0:"viewport"===o?-this.transform.angle:0;if(a){var s=Math.sin(a),l=Math.cos(a);n=[n[0]*l-n[1]*s,n[0]*s+n[1]*l]}var u=[r?n[0]:Y(i,n[0],this.transform.zoom),r?n[1]:Y(i,n[1],this.transform.zoom),0],c=new Float32Array(16);return t.translate(c,e,u),c},Mn.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},Mn.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},Mn.prototype._createProgramCached=function(t,e){this.cache=this.cache||{};var i=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[i]||(this.cache[i]=new xn(this.context,bn[t],e,this._showOverdrawInspector)),this.cache[i]},Mn.prototype.useProgram=function(t,e){var i=this._createProgramCached(t,e||this.emptyProgramConfiguration);return this.context.program.set(i.program),i};var Dn=function(t,e,i){this.tileSize=512,this._renderWorldCopies=void 0===i?!0:i,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new Me(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},In={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},x:{configurable:!0},y:{configurable:!0},point:{configurable:!0}};Dn.prototype.clone=function No(){var No=new Dn(this._minZoom,this._maxZoom,this._renderWorldCopies);return No.tileSize=this.tileSize,No.latRange=this.latRange,No.width=this.width,No.height=this.height,No._center=this._center,No.zoom=this.zoom,No.angle=this.angle,No._fov=this._fov,No._pitch=this._pitch,No._unmodified=this._unmodified,No._calcMatrices(),No},In.minZoom.get=function(){return this._minZoom},In.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},In.maxZoom.get=function(){return this._maxZoom},In.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},In.renderWorldCopies.get=function(){return this._renderWorldCopies},In.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},In.worldSize.get=function(){return this.tileSize*this.scale},In.centerPoint.get=function(){return this.size._div(2)},In.size.get=function(){return new t["default"](this.width,this.height)},In.bearing.get=function(){return-this.angle/Math.PI*180},In.bearing.set=function(e){var i=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=t.create$4(),t.rotate$2(this.rotationMatrix,this.rotationMatrix,this.angle))},In.pitch.get=function(){return this._pitch/Math.PI*180},In.pitch.set=function(e){var i=t.clamp(e,0,60)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices())},In.fov.get=function(){return this._fov/Math.PI*180},In.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},In.zoom.get=function(){return this._zoom},In.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},In.center.get=function(){return this._center},In.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},Dn.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},Dn.prototype.getVisibleUnwrappedCoordinates=function(e){var i=this.pointCoordinate(new t["default"](0,0),0),n=this.pointCoordinate(new t["default"](this.width,0),0),o=Math.floor(i.column),r=Math.floor(n.column),a=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var s=o;r>=s;s++)0!==s&&a.push(new t.UnwrappedTileID(s,e));return a},Dn.prototype.coveringTiles=function(e){var i=this.coveringZoomLevel(e),n=i;if(void 0!==e.minzoom&&i<e.minzoom)return[];void 0!==e.maxzoom&&i>e.maxzoom&&(i=e.maxzoom);var o=this.pointCoordinate(this.centerPoint,i),r=new t["default"](o.column-.5,o.row-.5),a=[this.pointCoordinate(new t["default"](0,0),i),this.pointCoordinate(new t["default"](this.width,0),i),this.pointCoordinate(new t["default"](this.width,this.height),i),this.pointCoordinate(new t["default"](0,this.height),i)];return Rt(i,a,e.reparseOverscaled?n:i,this._renderWorldCopies).sort(function(t,e){return r.dist(t.canonical)-r.dist(e.canonical)})},Dn.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},In.unmodified.get=function(){return this._unmodified},Dn.prototype.zoomScale=function(t){return Math.pow(2,t)},Dn.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},Dn.prototype.project=function(e){return new t["default"](this.lngX(e.lng),this.latY(e.lat))},Dn.prototype.unproject=function(t){return new Me(this.xLng(t.x),this.yLat(t.y))},In.x.get=function(){return this.lngX(this.center.lng)},In.y.get=function(){return this.latY(this.center.lat)},In.point.get=function(){return new t["default"](this.x,this.y)},Dn.prototype.lngX=function(t){return(180+t)*this.worldSize/360},Dn.prototype.latY=function(t){var e=180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360));return(180-e)*this.worldSize/360},Dn.prototype.xLng=function(t){return 360*t/this.worldSize-180},Dn.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},Dn.prototype.setLocationAtPoint=function(t,e){var i=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(i)),this._renderWorldCopies&&(this.center=this.center.wrap())},Dn.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},Dn.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},Dn.prototype.locationCoordinate=function(e){return new t.default$16(this.lngX(e.lng)/this.tileSize,this.latY(e.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},Dn.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new Me(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},Dn.prototype.pointCoordinate=function(e,i){void 0===i&&(i=this.tileZoom);var n=0,o=[e.x,e.y,0,1],r=[e.x,e.y,1,1];t.transformMat4(o,o,this.pixelMatrixInverse),t.transformMat4(r,r,this.pixelMatrixInverse);var a=o[3],s=r[3],l=o[0]/a,u=r[0]/s,c=o[1]/a,h=r[1]/s,d=o[2]/a,p=r[2]/s,f=d===p?0:(n-d)/(p-d);return new t.default$16(t.number(l,u,f)/this.tileSize,t.number(c,h,f)/this.tileSize,this.zoom)._zoomTo(i)},Dn.prototype.coordinatePoint=function(e){var i=e.zoomTo(this.zoom),n=[i.column*this.tileSize,i.row*this.tileSize,0,1];return t.transformMat4(n,n,this.pixelMatrix),new t["default"](n[0]/n[3],n[1]/n[3])},Dn.prototype.calculatePosMatrix=function(e,i){void 0===i&&(i=!1);var n=e.key,o=i?this._alignedPosMatrixCache:this._posMatrixCache;if(o[n])return o[n];var r=e.canonical,a=this.worldSize/this.zoomScale(r.z),s=r.x+Math.pow(2,r.z)*e.wrap,l=t.identity(new Float64Array(16));return t.translate(l,l,[s*a,r.y*a,0]),t.scale(l,l,[a/t.default$11,a/t.default$11,1]),t.multiply(l,i?this.alignedProjMatrix:this.projMatrix,l),o[n]=new Float32Array(l),o[n]},Dn.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,i,n,o,r=-90,a=90,s=-180,l=180,u=this.size,c=this._unmodified;if(this.latRange){var h=this.latRange;r=this.latY(h[1]),a=this.latY(h[0]),e=a-r<u.y?u.y/(a-r):0}if(this.lngRange){var d=this.lngRange;s=this.lngX(d[0]),l=this.lngX(d[1]),i=l-s<u.x?u.x/(l-s):0}var p=Math.max(i||0,e||0);if(p)return this.center=this.unproject(new t["default"](i?(l+s)/2:this.x,e?(a+r)/2:this.y)),this.zoom+=this.scaleZoom(p),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var f=this.y,m=u.y/2;r>f-m&&(o=r+m),f+m>a&&(o=a-m)}if(this.lngRange){var g=this.x,v=u.x/2;s>g-v&&(n=s+v),g+v>l&&(n=l-v)}void 0===n&&void 0===o||(this.center=this.unproject(new t["default"](void 0!==n?n:this.x,void 0!==o?o:this.y))),this._unmodified=c,this._constraining=!1}},Dn.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var e=this._fov/2,i=Math.PI/2+this._pitch,n=Math.sin(e)*this.cameraToCenterDistance/Math.sin(Math.PI-i-e),o=this.x,r=this.y,a=Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance,s=1.01*a,l=new Float64Array(16);t.perspective(l,this._fov,this.width/this.height,1,s),t.scale(l,l,[1,-1,1]),t.translate(l,l,[0,0,-this.cameraToCenterDistance]),t.rotateX(l,l,this._pitch),t.rotateZ(l,l,this.angle),t.translate(l,l,[-o,-r,0]);var u=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));t.scale(l,l,[1,1,u,1]),this.projMatrix=l;var c=this.width%2/2,h=this.height%2/2,d=Math.cos(this.angle),p=Math.sin(this.angle),f=o-Math.round(o)+d*c+p*h,m=r-Math.round(r)+d*h+p*c,g=new Float64Array(l);if(t.translate(g,g,[f>.5?f-1:f,m>.5?m-1:m,0]),this.alignedProjMatrix=g,l=t.create(),t.scale(l,l,[this.width/2,-this.height/2,1]),t.translate(l,l,[1,-1,0]),this.pixelMatrix=t.multiply(new Float64Array(16),l,this.projMatrix),l=t.invert(new Float64Array(16),this.pixelMatrix),!l)throw new Error("failed to invert matrix");this.pixelMatrixInverse=l,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Dn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t["default"](0,0)).zoomTo(this.zoom),i=[e.column*this.tileSize,e.row*this.tileSize,0,1],n=t.transformMat4(i,i,this.pixelMatrix);return n[3]/this.cameraToCenterDistance},Object.defineProperties(Dn.prototype,In);var Pn=function(){t.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=Bt(this._updateHashUnthrottled.bind(this),300)};Pn.prototype.addTo=function(e){return this._map=e,t.default$1.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Pn.prototype.remove=function(){return t.default$1.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Pn.prototype.getHashString=function(t){var e=this._map.getCenter(),i=Math.round(100*this._map.getZoom())/100,n=Math.ceil((i*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,n),r=Math.round(e.lng*o)/o,a=Math.round(e.lat*o)/o,s=this._map.getBearing(),l=this._map.getPitch(),u="";
return u+=t?"#/"+r+"/"+a+"/"+i:"#"+i+"/"+a+"/"+r,(s||l)&&(u+="/"+Math.round(10*s)/10),l&&(u+="/"+Math.round(l)),u},Pn.prototype._onHashChange=function(){var e=t.default$1.location.hash.replace("#","").split("/");return e.length>=3?(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0):!1},Pn.prototype._updateHashUnthrottled=function(){var e=this.getHashString();t.default$1.history.replaceState(t.default$1.history.state,"",e)};var Ln=function(e){function i(i,n,o,r){void 0===r&&(r={});var a=te.mousePos(n.getCanvasContainer(),o),s=n.unproject(a);e.call(this,i,t.extend({point:a,lngLat:s,originalEvent:o},r)),this._defaultPrevented=!1,this.target=n}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var n={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,n),i}(t.Event),On=function(e){function i(i,n,o){var r=te.touchPos(n.getCanvasContainer(),o),a=r.map(function(t){return n.unproject(t)}),s=r.reduce(function(t,e,i,n){return t.add(e.div(n.length))},new t["default"](0,0)),l=n.unproject(s);e.call(this,i,{points:r,point:s,lngLats:a,lngLat:l,originalEvent:o}),this._defaultPrevented=!1}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var n={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,n),i}(t.Event),zn=function(t){function e(e,i,n){t.call(this,e,{originalEvent:n}),this._defaultPrevented=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,i),e}(t.Event),Rn=4.000244140625,Nn=.01,$n=1/450,Fn=2,Bn=function(e){this._map=e,this._el=e.getCanvasContainer(),this._delta=0,t.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};Bn.prototype.isEnabled=function(){return!!this._enabled},Bn.prototype.isActive=function(){return!!this._active},Bn.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},Bn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Bn.prototype.onWheel=function(e){if(this.isEnabled()){var i=e.deltaMode===t.default$1.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,n=t.default$3.now(),o=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==i&&i%Rn===0?this._type="wheel":0!==i&&Math.abs(i)<4?this._type="trackpad":o>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(o*i)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),e.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=e,this._delta-=i,this.isActive()||this._start(e)),e.preventDefault()}},Bn.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},Bn.prototype._start=function(e){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this._map.fire(new t.Event("movestart",{originalEvent:e})),this._map.fire(new t.Event("zoomstart",{originalEvent:e})),this._finishTimeout&&clearTimeout(this._finishTimeout);var i=te.mousePos(this._el,e);this._around=Me.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(i)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},Bn.prototype._onScrollFrame=function(){var e=this;if(this._frameId=null,this.isActive()){var i=this._map.transform;if(0!==this._delta){var n="wheel"===this._type&&Math.abs(this._delta)>Rn?$n:Nn,o=Fn/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==o&&(o=1/o);var r="number"==typeof this._targetZoom?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(r*o))),"wheel"===this._type&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a="number"==typeof this._targetZoom?this._targetZoom:i.zoom,s=this._startZoom,l=this._easing,u=!1;if("wheel"===this._type&&s&&l){t.default$2(l&&"number"==typeof s);var c=Math.min((t.default$3.now()-this._lastWheelEventTime)/200,1),h=l(c);i.zoom=t.number(s,a,h),1>c?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):u=!0}else i.zoom=a,u=!0;i.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new t.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new t.Event("zoom",{originalEvent:this._lastWheelEvent})),u&&(this._active=!1,this._finishTimeout=setTimeout(function(){e._map.fire(new t.Event("zoomend",{originalEvent:e._lastWheelEvent})),e._map.fire(new t.Event("moveend",{originalEvent:e._lastWheelEvent})),delete e._targetZoom},200))}},Bn.prototype._smoothOutEasing=function(e){var i=t.ease;if(this._prevEase){var n=this._prevEase,o=(t.default$3.now()-n.start)/n.duration,r=n.easing(o+.01)-n.easing(o),a=.27/Math.sqrt(r*r+1e-4)*.01,s=Math.sqrt(.0729-a*a);i=t.bezier$1(a,s,.25,1)}return this._prevEase={start:t.default$3.now(),duration:e,easing:i},i};var jn=function(e,i){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=i.clickTolerance||1,t.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};jn.prototype.isEnabled=function(){return!!this._enabled},jn.prototype.isActive=function(){return!!this._active},jn.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},jn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},jn.prototype.onMouseDown=function(e){this.isEnabled()&&e.shiftKey&&0===e.button&&(t.default$1.document.addEventListener("mousemove",this._onMouseMove,!1),t.default$1.document.addEventListener("keydown",this._onKeyDown,!1),t.default$1.document.addEventListener("mouseup",this._onMouseUp,!1),te.disableDrag(),this._startPos=this._lastPos=te.mousePos(this._el,e),this._active=!0)},jn.prototype._onMouseMove=function(t){var e=te.mousePos(this._el,t);if(!(this._lastPos.equals(e)||!this._box&&e.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=e,this._box||(this._box=te.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var n=Math.min(i.x,e.x),o=Math.max(i.x,e.x),r=Math.min(i.y,e.y),a=Math.max(i.y,e.y);te.setTransform(this._box,"translate("+n+"px,"+r+"px)"),this._box.style.width=o-n+"px",this._box.style.height=a-r+"px"}},jn.prototype._onMouseUp=function(e){if(0===e.button){var i=this._startPos,n=te.mousePos(this._el,e),o=(new De).extend(this._map.unproject(i)).extend(this._map.unproject(n));this._finish(),te.suppressClick(),i.x===n.x&&i.y===n.y?this._fireEvent("boxzoomcancel",e):this._map.fitBounds(o,{linear:!0}).fire(new t.Event("boxzoomend",{originalEvent:e,boxZoomBounds:o}))}},jn.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},jn.prototype._finish=function(){this._active=!1,t.default$1.document.removeEventListener("mousemove",this._onMouseMove,!1),t.default$1.document.removeEventListener("keydown",this._onKeyDown,!1),t.default$1.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(te.remove(this._box),this._box=null),te.enableDrag(),delete this._startPos,delete this._lastPos},jn.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,{originalEvent:i}))};var Hn=.25,Wn=t.bezier$1(0,0,Hn,1),qn=180,Vn=720,Un=function(e,i){this._map=e,this._el=i.element||e.getCanvasContainer(),this._state="disabled",this._button=i.button||"right",this._bearingSnap=i.bearingSnap||0,this._pitchWithRotate=i.pitchWithRotate!==!1,t.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};Un.prototype.isEnabled=function(){return"disabled"!==this._state},Un.prototype.isActive=function(){return"active"===this._state},Un.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},Un.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},Un.prototype.onMouseDown=function(e){if("enabled"===this._state){if("right"===this._button){if(this._eventButton=te.mouseButton(e),this._eventButton!==(e.ctrlKey?0:2))return}else{if(e.ctrlKey||0!==te.mouseButton(e))return;this._eventButton=0}te.disableDrag(),t.default$1.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),t.default$1.document.addEventListener("mouseup",this._onMouseUp),t.default$1.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[t.default$3.now(),this._map.getBearing()]],this._startPos=this._lastPos=te.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault()}},Un.prototype._onMouseMove=function(t){var e=te.mousePos(this._el,t);this._lastPos.equals(e)||(this._lastMoveEvent=t,this._lastPos=e,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},Un.prototype._onDragFrame=function(){this._frameId=null;var e=this._lastMoveEvent;if(e){var i=this._map.transform,n=this._startPos,o=this._lastPos,r=.8*(n.x-o.x),a=(n.y-o.y)*-.5,s=i.bearing-r,l=i.pitch-a,u=this._inertia,c=u[u.length-1];this._drainInertiaBuffer(),u.push([t.default$3.now(),this._map._normalizeBearing(s,c[1])]),i.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",e),i.pitch=l),this._fireEvent("rotate",e),this._fireEvent("move",e),delete this._lastMoveEvent,this._startPos=this._lastPos}},Un.prototype._onMouseUp=function(e){if(te.mouseButton(e)===this._eventButton)switch(this._state){case"active":this._state="enabled",te.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(e);break;case"pending":this._state="enabled",this._unbind();break;default:t.default$2(!1)}},Un.prototype._onBlur=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",e),this._pitchWithRotate&&this._fireEvent("pitchend",e),this._fireEvent("moveend",e);break;case"pending":this._state="enabled",this._unbind();break;default:t.default$2(!1)}},Un.prototype._unbind=function(){t.default$1.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),t.default$1.document.removeEventListener("mouseup",this._onMouseUp),t.default$1.removeEventListener("blur",this._onBlur),te.enableDrag()},Un.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._lastPos},Un.prototype._inertialRotate=function(t){var e=this;this._fireEvent("rotateend",t),this._drainInertiaBuffer();var i=this._map,n=i.getBearing(),o=this._inertia,r=function(){Math.abs(n)<e._bearingSnap?i.resetNorth({noMoveStart:!0},{originalEvent:t}):e._fireEvent("moveend",t),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(o.length<2)return void r();var a=o[0],s=o[o.length-1],l=o[o.length-2],u=i._normalizeBearing(n,l[1]),c=s[1]-a[1],h=0>c?-1:1,d=(s[0]-a[0])/1e3;if(0===c||0===d)return void r();var p=Math.abs(c*(Hn/d));p>qn&&(p=qn);var f=p/(Vn*Hn),m=h*p*(f/2);u+=m,Math.abs(i._normalizeBearing(u,0))<this._bearingSnap&&(u=i._normalizeBearing(0,u)),i.rotateTo(u,{duration:1e3*f,easing:Wn,noMoveStart:!0},{originalEvent:t})},Un.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,i?{originalEvent:i}:{}))},Un.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,i=t.default$3.now(),n=160;e.length>0&&i-e[0][0]>n;)e.shift()};var Yn=.3,Gn=t.bezier$1(0,0,Yn,1),Xn=1400,Zn=2500,Kn=function(e,i){this._map=e,this._el=e.getCanvasContainer(),this._state="disabled",this._clickTolerance=i.clickTolerance||1,t.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};Kn.prototype.isEnabled=function(){return"disabled"!==this._state},Kn.prototype.isActive=function(){return"active"===this._state},Kn.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},Kn.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},Kn.prototype.onMouseDown=function(e){"enabled"===this._state&&(e.ctrlKey||0!==te.mouseButton(e)||(te.addEventListener(t.default$1.document,"mousemove",this._onMove,{capture:!0}),te.addEventListener(t.default$1.document,"mouseup",this._onMouseUp),this._start(e)))},Kn.prototype.onTouchStart=function(e){"enabled"===this._state&&(e.touches.length>1||(te.addEventListener(t.default$1.document,"touchmove",this._onMove,{capture:!0,passive:!1}),te.addEventListener(t.default$1.document,"touchend",this._onTouchEnd),this._start(e)))},Kn.prototype._start=function(e){t.default$1.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._lastPos=te.mousePos(this._el,e),this._inertia=[[t.default$3.now(),this._startPos]]},Kn.prototype._onMove=function(e){e.preventDefault();var i=te.mousePos(this._el,e);this._lastPos.equals(i)||"pending"===this._state&&i.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=e,this._lastPos=i,this._drainInertiaBuffer(),this._inertia.push([t.default$3.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",e),this._fireEvent("movestart",e)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},Kn.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform;e.setLocationAtPoint(e.pointLocation(this._startPos),this._lastPos),this._fireEvent("drag",t),this._fireEvent("move",t),this._startPos=this._lastPos,delete this._lastMoveEvent}},Kn.prototype._onMouseUp=function(e){if(0===te.mouseButton(e))switch(this._state){case"active":this._state="enabled",te.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(e);break;case"pending":this._state="enabled",this._unbind();break;default:t.default$2(!1)}},Kn.prototype._onTouchEnd=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(e);break;case"pending":this._state="enabled",this._unbind();break;default:t.default$2(!1)}},Kn.prototype._onBlur=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",e),this._fireEvent("moveend",e);break;case"pending":this._state="enabled",this._unbind();break;default:t.default$2(!1)}},Kn.prototype._unbind=function(){te.removeEventListener(t.default$1.document,"touchmove",this._onMove,{capture:!0,passive:!1}),te.removeEventListener(t.default$1.document,"touchend",this._onTouchEnd),te.removeEventListener(t.default$1.document,"mousemove",this._onMove,{capture:!0}),te.removeEventListener(t.default$1.document,"mouseup",this._onMouseUp),te.removeEventListener(t.default$1,"blur",this._onBlur)},Kn.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._mouseDownPos,delete this._lastPos},Kn.prototype._inertialPan=function(t){this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=this._inertia;if(e.length<2)return void this._fireEvent("moveend",t);var i=e[e.length-1],n=e[0],o=i[1].sub(n[1]),r=(i[0]-n[0])/1e3;if(0===r||i[1].equals(n[1]))return void this._fireEvent("moveend",t);var a=o.mult(Yn/r),s=a.mag();s>Xn&&(s=Xn,a._unit()._mult(s));var l=s/(Zn*Yn),u=a.mult(-l/2);this._map.panBy(u,{duration:1e3*l,easing:Gn,noMoveStart:!0},{originalEvent:t})},Kn.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,i?{originalEvent:i}:{}))},Kn.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,i=t.default$3.now(),n=160;e.length>0&&i-e[0][0]>n;)e.shift()};var Jn=100,Qn=15,to=10,eo=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onKeyDown"],this)};eo.prototype.isEnabled=function(){return!!this._enabled},eo.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},eo.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},eo.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,i=0,n=0,o=0,r=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?i=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?i=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?n=1:(t.preventDefault(),r=-1);break;case 40:t.shiftKey?n=-1:(r=1,t.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),l={duration:300,delayEndEvents:500,easing:jt,zoom:e?Math.round(s)+e*(t.shiftKey?2:1):s,bearing:a.getBearing()+i*Qn,pitch:a.getPitch()+n*to,offset:[-o*Jn,-r*Jn],center:a.getCenter()};a.easeTo(l,{originalEvent:t})}};var io=function(e){this._map=e,t.bindAll(["_onDblClick","_onZoomEnd"],this)};io.prototype.isEnabled=function(){return!!this._enabled},io.prototype.isActive=function(){return!!this._active},io.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},io.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},io.prototype.onTouchStart=function(t){var e=this;this.isEnabled()&&(t.points.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._zoom(t)):this._tapped=setTimeout(function(){e._tapped=null},300)))},io.prototype.onDblClick=function(t){this.isEnabled()&&(t.originalEvent.preventDefault(),this._zoom(t))},io.prototype._zoom=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},io.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var no=.15,oo=t.bezier$1(0,0,no,1),ro=12,ao=2.5,so=.15,lo=10,uo=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};uo.prototype.isEnabled=function(){return!!this._enabled},uo.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around)},uo.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},uo.prototype.disableRotation=function(){this._rotationDisabled=!0},uo.prototype.enableRotation=function(){this._rotationDisabled=!1},uo.prototype.onStart=function(e){if(this.isEnabled()&&2===e.touches.length){var i=te.mousePos(this._el,e.touches[0]),n=te.mousePos(this._el,e.touches[1]);this._startVec=i.sub(n),this._gestureIntent=void 0,this._inertia=[],te.addEventListener(t.default$1.document,"touchmove",this._onMove,{passive:!1}),te.addEventListener(t.default$1.document,"touchend",this._onEnd)}},uo.prototype._getTouchEventData=function(t){var e=te.mousePos(this._el,t.touches[0]),i=te.mousePos(this._el,t.touches[1]),n=e.sub(i);return{vec:n,center:e.add(i).div(2),scale:n.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*n.angleWith(this._startVec)/Math.PI}},uo.prototype._onMove=function(e){if(2===e.touches.length){var i=this._getTouchEventData(e),n=i.vec,o=i.scale,r=i.bearing;if(!this._gestureIntent){var a=Math.abs(1-o)>so,s=Math.abs(r)>lo;s?this._gestureIntent="rotate":a&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new t.Event(this._gestureIntent+"start",{originalEvent:e})),this._map.fire(new t.Event("movestart",{originalEvent:e})),this._startVec=n)}this._lastTouchEvent=e,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),e.preventDefault()}},uo.prototype._onTouchFrame=function(){this._frameId=null;var e=this._gestureIntent;if(e){var i=this._map.transform;this._startScale||(this._startScale=i.scale,this._startBearing=i.bearing);var n=this._getTouchEventData(this._lastTouchEvent),o=n.center,r=n.bearing,a=n.scale,s=i.pointLocation(o),l=i.locationPoint(s);"rotate"===e&&(i.bearing=this._startBearing+r),i.zoom=i.scaleZoom(this._startScale*a),i.setLocationAtPoint(s,l),this._map.fire(new t.Event(e,{originalEvent:this._lastTouchEvent})),this._map.fire(new t.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([t.default$3.now(),a,o])}},uo.prototype._onEnd=function(e){te.removeEventListener(t.default$1.document,"touchmove",this._onMove,{passive:!1}),te.removeEventListener(t.default$1.document,"touchend",this._onEnd);var i=this._gestureIntent,n=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,i){this._map.fire(new t.Event(i+"end",{originalEvent:e})),this._drainInertiaBuffer();var o=this._inertia,r=this._map;if(o.length<2)return void r.snapToNorth({},{originalEvent:e});var a=o[o.length-1],s=o[0],l=r.transform.scaleZoom(n*a[1]),u=r.transform.scaleZoom(n*s[1]),c=l-u,h=(a[0]-s[0])/1e3,d=a[2];if(0===h||l===u)return void r.snapToNorth({},{originalEvent:e});var p=c*no/h;Math.abs(p)>ao&&(p=p>0?ao:-ao);var f=1e3*Math.abs(p/(ro*no)),m=l+p*f/2e3;0>m&&(m=0),r.easeTo({zoom:m,duration:f,easing:oo,around:this._aroundCenter?r.getCenter():r.unproject(d),noMoveStart:!0},{originalEvent:e})}},uo.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,i=t.default$3.now(),n=160;e.length>2&&i-e[0][0]>n;)e.shift()};var co={scrollZoom:Bn,boxZoom:jn,dragRotate:Un,dragPan:Kn,keyboard:eo,doubleClickZoom:io,touchZoomRotate:uo},ho=function(e){function i(i,n){e.call(this),this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=n.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getCenter=function(){return this.transform.center},i.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},i.prototype.panBy=function(e,i,n){return e=t["default"].convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},i),n)},i.prototype.panTo=function(e,i,n){return this.easeTo(t.extend({center:e},i),n)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},i.prototype.zoomTo=function(e,i,n){return this.easeTo(t.extend({zoom:e},i),n)},i.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},i.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},i.prototype.rotateTo=function(e,i,n){return this.easeTo(t.extend({bearing:e},i),n)},i.prototype.resetNorth=function(e,i){return this.rotateTo(0,t.extend({duration:1e3},e),i),this},i.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},i.prototype.cameraForBounds=function(e,i){if(i=t.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},i),"number"==typeof i.padding){var n=i.padding;i.padding={top:n,bottom:n,right:n,left:n}}if(!t.default$14(Object.keys(i.padding).sort(function(t,e){return e>t?-1:t>e?1:0}),["bottom","left","right","top"]))return void t.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'");e=De.convert(e);var o=[(i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2],r=Math.min(i.padding.right,i.padding.left),a=Math.min(i.padding.top,i.padding.bottom);i.offset=[i.offset[0]+o[0],i.offset[1]+o[1]];var s=t["default"].convert(i.offset),l=this.transform,u=l.project(e.getNorthWest()),c=l.project(e.getSouthEast()),h=c.sub(u),d=(l.width-2*r-2*Math.abs(s.x))/h.x,p=(l.height-2*a-2*Math.abs(s.y))/h.y;return 0>p||0>d?void t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset."):(i.center=l.unproject(u.add(c).div(2)),i.zoom=Math.min(l.scaleZoom(l.scale*Math.min(d,p)),i.maxZoom),i.bearing=0,i)},i.prototype.fitBounds=function(e,i,n){var o=this.cameraForBounds(e,i);return o?(i=t.extend(o,i),i.linear?this.easeTo(i,n):this.flyTo(i,n)):this},i.prototype.jumpTo=function(e,i){this.stop();var n=this.transform,o=!1,r=!1,a=!1;return"zoom"in e&&n.zoom!==+e.zoom&&(o=!0,n.zoom=+e.zoom),void 0!==e.center&&(n.center=Me.convert(e.center)),"bearing"in e&&n.bearing!==+e.bearing&&(r=!0,n.bearing=+e.bearing),"pitch"in e&&n.pitch!==+e.pitch&&(a=!0,n.pitch=+e.pitch),this.fire(new t.Event("movestart",i)).fire(new t.Event("move",i)),o&&this.fire(new t.Event("zoomstart",i)).fire(new t.Event("zoom",i)).fire(new t.Event("zoomend",i)),r&&this.fire(new t.Event("rotatestart",i)).fire(new t.Event("rotate",i)).fire(new t.Event("rotateend",i)),a&&this.fire(new t.Event("pitchstart",i)).fire(new t.Event("pitch",i)).fire(new t.Event("pitchend",i)),this.fire(new t.Event("moveend",i))},i.prototype.easeTo=function(e,i){var n=this;this.stop(),e=t.extend({offset:[0,0],duration:500,easing:t.ease},e),e.animate===!1&&(e.duration=0);var o=this.transform,r=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in e?+e.zoom:r,u="bearing"in e?this._normalizeBearing(e.bearing,a):a,c="pitch"in e?+e.pitch:s,h=o.centerPoint.add(t["default"].convert(e.offset)),d=o.pointLocation(h),p=Me.convert(e.center||d);this._normalizeCenter(p);var f,m,g=o.project(d),v=o.project(p).sub(g),y=o.zoomScale(l-r);return e.around&&(f=Me.convert(e.around),m=o.locationPoint(f)),this._zooming=l!==r,this._rotating=a!==u,this._pitching=c!==s,this._prepareEase(i,e.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease(function(e){if(n._zooming&&(o.zoom=t.number(r,l,e)),n._rotating&&(o.bearing=t.number(a,u,e)),n._pitching&&(o.pitch=t.number(s,c,e)),f)o.setLocationAtPoint(f,m);else{var d=o.zoomScale(o.zoom-r),p=l>r?Math.min(2,y):Math.max(.5,y),_=Math.pow(p,1-e),b=o.unproject(g.add(v.mult(e*_)).mult(d));o.setLocationAtPoint(o.renderWorldCopies?b.wrap():b,h)}n._fireMoveEvents(i)},function(){e.delayEndEvents?n._easeEndTimeoutID=setTimeout(function(){return n._afterEase(i)},e.delayEndEvents):n._afterEase(i)},e),this},i.prototype._prepareEase=function(e,i){this._moving=!0,i||this.fire(new t.Event("movestart",e)),this._zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&this.fire(new t.Event("pitchstart",e))},i.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},i.prototype._afterEase=function(e){var i=this._zooming,n=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,i&&this.fire(new t.Event("zoomend",e)),n&&this.fire(new t.Event("rotateend",e)),o&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))},i.prototype.flyTo=function(e,i){function n(t){var e=(k*k-w*w+(t?-1:1)*A*A*C*C)/(2*(t?k:w)*A*C);return Math.log(Math.sqrt(e*e+1)-e)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function r(t){return(Math.exp(t)+Math.exp(-t))/2}function a(t){return o(t)/r(t)}var s=this;this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var l=this.transform,u=this.getZoom(),c=this.getBearing(),h=this.getPitch(),d="zoom"in e?t.clamp(+e.zoom,l.minZoom,l.maxZoom):u,p="bearing"in e?this._normalizeBearing(e.bearing,c):c,f="pitch"in e?+e.pitch:h,m=l.zoomScale(d-u),g=l.centerPoint.add(t["default"].convert(e.offset)),v=l.pointLocation(g),y=Me.convert(e.center||v);this._normalizeCenter(y);var _=l.project(v),b=l.project(y).sub(_),x=e.curve,w=Math.max(l.width,l.height),k=w/m,C=b.mag();if("minZoom"in e){var S=t.clamp(Math.min(e.minZoom,u,d),l.minZoom,l.maxZoom),T=w/l.zoomScale(S-u);x=Math.sqrt(T/C*2)}var A=x*x,E=n(0),M=function(t){return r(E)/r(E+x*t)},D=function(t){return w*((r(E)*a(E+x*t)-o(E))/A)/C},I=(n(1)-E)/x;if(Math.abs(C)<1e-6||!isFinite(I)){if(Math.abs(w-k)<1e-6)return this.easeTo(e,i);var P=w>k?-1:1;I=Math.abs(Math.log(k/w))/x,D=function(){return 0},M=function(t){return Math.exp(P*x*t)}}if("duration"in e)e.duration=+e.duration;else{var L="screenSpeed"in e?+e.screenSpeed/x:+e.speed;e.duration=1e3*I/L}return e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=c!==p,this._pitching=f!==h,this._prepareEase(i,!1),this._ease(function(e){var n=e*I,o=1/M(n);l.zoom=1===e?d:u+l.scaleZoom(o),s._rotating&&(l.bearing=t.number(c,p,e)),s._pitching&&(l.pitch=t.number(h,f,e));var r=l.unproject(_.add(b.mult(D(n))).mult(o));l.setLocationAtPoint(l.renderWorldCopies?r.wrap():r,g),s._fireMoveEvents(i)},function(){return s._afterEase(i)},e),this},i.prototype.isEasing=function(){return!!this._easeFrameId},i.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var t=this._onEaseEnd;delete this._onEaseEnd,t.call(this)}return this},i.prototype._ease=function(e,i,n){n.animate===!1||0===n.duration?(e(1),i()):(this._easeStart=t.default$3.now(),this._easeOptions=n,this._onEaseFrame=e,this._onEaseEnd=i,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},i.prototype._renderFrameCallback=function(){var e=Math.min((t.default$3.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),1>e?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},i.prototype._normalizeBearing=function(e,i){e=t.wrap(e,-180,180);var n=Math.abs(e-i);return Math.abs(e-360-i)<n&&(e-=360),Math.abs(e+360-i)<n&&(e+=360),e},i.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var i=t.lng-e.center.lng;t.lng+=i>180?-360:-180>i?360:0}},i}(t.Evented),po=function(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};po.prototype.getDefaultPosition=function(){return"bottom-right"},po.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=te.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},po.prototype.onRemove=function(){te.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},po.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var e=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:ue.ACCESS_TOKEN}];if(t){var i=e.reduce(function(t,i,n){return i.value&&(t+=i.key+"="+i.value+(n<e.length-1?"&":"")),t},"?");t.href="https://www.mapbox.com/feedback/"+i+(this._map._hash?this._map._hash.getHashString(!0):"")}},po.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},po.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var i=this._map.style.sourceCaches;
for(var n in i){var o=i[n].getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}t.sort(function(t,e){return t.length-e.length}),t=t.filter(function(e,i){for(var n=i+1;n<t.length;n++)if(t[n].indexOf(e)>=0)return!1;return!0}),t.length?(this._container.innerHTML=t.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},po.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var fo=function(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)};fo.prototype.onAdd=function(t){this._map=t,this._container=te.create("div","mapboxgl-ctrl");var e=te.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),e.setAttribute("rel","noopener"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},fo.prototype.onRemove=function(){te.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},fo.prototype.getDefaultPosition=function(){return"bottom-left"},fo.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},fo.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t){var i=t[e].getSource();if(i.mapbox_logo)return!0}return!1}},fo.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}};var mo=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};mo.prototype.add=function(t){var e=++this._id,i=this._queue;return i.push({callback:t,id:e,cancelled:!1}),e},mo.prototype.remove=function(t){for(var e=this._currentlyRunning,i=e?this._queue.concat(e):this._queue,n=0,o=i;n<o.length;n+=1){var r=o[n];if(r.id===t)return void(r.cancelled=!0)}},mo.prototype.run=function(){var e=this;t.default$2(!this._currentlyRunning);var i=this._currentlyRunning=this._queue;this._queue=[];for(var n=0,o=i;n<o.length;n+=1){var r=o[n];if(!r.cancelled&&(r.callback(),e._cleared))break}this._cleared=!1,this._currentlyRunning=!1},mo.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var go=t.default$1.HTMLImageElement,vo=t.default$1.HTMLElement,yo=0,_o=22,bo={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:yo,maxZoom:_o,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},xo=function(e){function i(i){if(i=t.extend({},bo,i),null!=i.minZoom&&null!=i.maxZoom&&i.minZoom>i.maxZoom)throw new Error("maxZoom must be greater than minZoom");var n=new Dn(i.minZoom,i.maxZoom,i.renderWorldCopies);e.call(this,n,i),this._interactive=i.interactive,this._maxTileCacheSize=i.maxTileCacheSize,this._failIfMajorPerformanceCaveat=i.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=i.preserveDrawingBuffer,this._trackResize=i.trackResize,this._bearingSnap=i.bearingSnap,this._refreshExpiredTiles=i.refreshExpiredTiles,this._fadeDuration=i.fadeDuration,this._crossSourceCollisions=i.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=i.collectResourceTiming,this._renderTaskQueue=new mo;var o=i.transformRequest;if(this._transformRequest=o?function(t,e){return o(t,e)||{url:t}}:function(t){return{url:t}},"string"==typeof i.container){var r=t.default$1.document.getElementById(i.container);if(!r)throw new Error("Container '"+i.container+"' not found.");this._container=r}else{if(!(i.container instanceof vo))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=i.container}if(i.maxBounds&&this.setMaxBounds(i.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),"undefined"!=typeof t.default$1&&(t.default$1.addEventListener("online",this._onWindowOnline,!1),t.default$1.addEventListener("resize",this._onWindowResize,!1)),Ht(this,i),this._hash=i.hash&&(new Pn).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:i.center,zoom:i.zoom,bearing:i.bearing,pitch:i.pitch}),this.resize(),i.style&&this.setStyle(i.style,{localIdeographFontFamily:i.localIdeographFontFamily}),i.attributionControl&&this.addControl(new po),this.addControl(new fo,i.logoPosition),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var n={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0}};return i.prototype.addControl=function(t,e){void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e="top-right");var i=t.onAdd(this),n=this._controlPositions[e];return-1!==e.indexOf("bottom")?n.insertBefore(i,n.firstChild):n.appendChild(i),this},i.prototype.removeControl=function(t){return t.onRemove(this),this},i.prototype.resize=function(e){var i=this._containerDimensions(),n=i[0],o=i[1];return this._resizeCanvas(n,o),this.transform.resize(n,o),this.painter.resize(n,o),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)).fire(new t.Event("resize",e)).fire(new t.Event("moveend",e)),this},i.prototype.getBounds=function(){return(new De).extend(this.transform.pointLocation(new t["default"](0,0))).extend(this.transform.pointLocation(new t["default"](this.transform.width,0))).extend(this.transform.pointLocation(new t["default"](this.transform.width,this.transform.height))).extend(this.transform.pointLocation(new t["default"](0,this.transform.height)))},i.prototype.getMaxBounds=function(){return this.transform.latRange&&2===this.transform.latRange.length&&this.transform.lngRange&&2===this.transform.lngRange.length?new De([this.transform.lngRange[0],this.transform.latRange[0]],[this.transform.lngRange[1],this.transform.latRange[1]]):null},i.prototype.setMaxBounds=function(t){if(t){var e=De.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null!==t&&void 0!==t||(this.transform.lngRange=null,this.transform.latRange=null,this._update());return this},i.prototype.setMinZoom=function(t){if(t=null===t||void 0===t?yo:t,t>=yo&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between "+yo+" and the current maxZoom, inclusive")},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(t){if(t=null===t||void 0===t?_o:t,t>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update(),this},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.project=function(t){return this.transform.locationPoint(Me.convert(t))},i.prototype.unproject=function(e){return this.transform.pointLocation(t["default"].convert(e))},i.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},i.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isActive()},i.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},i.prototype.on=function(t,i,n){var o,r=this;if(void 0===n)return e.prototype.on.call(this,t,i);var a=function(){if("mouseenter"===t||"mouseover"===t){var e=!1,a=function(o){var a=r.getLayer(i)?r.queryRenderedFeatures(o.point,{layers:[i]}):[];a.length?e||(e=!0,n.call(r,new Ln(t,r,o.originalEvent,{features:a}))):e=!1},s=function(){e=!1};return{layer:i,listener:n,delegates:{mousemove:a,mouseout:s}}}if("mouseleave"===t||"mouseout"===t){var l=!1,u=function(e){var o=r.getLayer(i)?r.queryRenderedFeatures(e.point,{layers:[i]}):[];o.length?l=!0:l&&(l=!1,n.call(r,new Ln(t,r,e.originalEvent)))},c=function(e){l&&(l=!1,n.call(r,new Ln(t,r,e.originalEvent)))};return{layer:i,listener:n,delegates:{mousemove:u,mouseout:c}}}var h=function(t){var e=r.getLayer(i)?r.queryRenderedFeatures(t.point,{layers:[i]}):[];e.length&&(t.features=e,n.call(r,t),delete t.features)};return{layer:i,listener:n,delegates:(o={},o[t]=h,o)}}();this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(a);for(var s in a.delegates)r.on(s,a.delegates[s]);return this},i.prototype.off=function(t,i,n){var o=this;if(void 0===n)return e.prototype.off.call(this,t,i);if(this._delegatedListeners&&this._delegatedListeners[t])for(var r=this._delegatedListeners[t],a=0;a<r.length;a++){var s=r[a];if(s.layer===i&&s.listener===n){for(var l in s.delegates)o.off(l,s.delegates[l]);return r.splice(a,1),o}}return this},i.prototype.queryRenderedFeatures=function(e,i){function n(e){return e instanceof t["default"]||Array.isArray(e)}return 2===arguments.length?(e=arguments[0],i=arguments[1]):1===arguments.length&&n(arguments[0])?(e=arguments[0],i={}):1===arguments.length?(e=void 0,i=arguments[0]):(e=void 0,i={}),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(e),i,this.transform):[]},i.prototype._makeQueryGeometry=function(e){var i=this;void 0===e&&(e=[t["default"].convert([0,0]),t["default"].convert([this.transform.width,this.transform.height])]);var n;if(e instanceof t["default"]||"number"==typeof e[0]){var o=t["default"].convert(e);n=[o]}else{var r=[t["default"].convert(e[0]),t["default"].convert(e[1])];n=[r[0],new t["default"](r[1].x,r[0].y),r[1],new t["default"](r[0].x,r[1].y),r[0]]}return{viewport:n,worldCoordinate:n.map(function(t){return i.transform.pointCoordinate(t)})}},i.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},i.prototype.setStyle=function(e,i){var n=(!i||i.diff!==!1&&!i.localIdeographFontFamily)&&this.style;if(n&&e&&"object"==typeof e)try{return this.style.setState(e)&&this._update(!0),this}catch(o){t.warnOnce("Unable to perform style diff: "+(o.message||o.error||o)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new fn(this,i||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},i.prototype.getStyle=function(){return this.style?this.style.serialize():void 0},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},i.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0),this},i.prototype.isSourceLoaded=function(e){var i=this.style&&this.style.sourceCaches[e];return void 0===i?void this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'"))):i.loaded()},i.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var i=t[e],n=i._tiles;for(var o in n){var r=n[o];if("loaded"!==r.state&&"errored"!==r.state)return!1}}return!0},i.prototype.addSourceType=function(t,e,i){return this.style.addSourceType(t,e,i)},i.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0),this},i.prototype.getSource=function(t){return this.style.getSource(t)},i.prototype.addImage=function(e,i,n){void 0===n&&(n={});var o=n.pixelRatio;void 0===o&&(o=1);var r=n.sdf;if(void 0===r&&(r=!1),i instanceof go){var a=t.default$3.getImageData(i),s=a.width,l=a.height,u=a.data;this.style.addImage(e,{data:new t.RGBAImage({width:s,height:l},u),pixelRatio:o,sdf:r})}else{if(void 0===i.width||void 0===i.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=i.width,h=i.height,d=i.data;this.style.addImage(e,{data:new t.RGBAImage({width:c,height:h},new Uint8Array(d)),pixelRatio:o,sdf:r})}},i.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},i.prototype.removeImage=function(t){this.style.removeImage(t)},i.prototype.loadImage=function(e,i){t.getImage(this._transformRequest(e,t.ResourceType.Image),i)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0),this},i.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0),this},i.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0),this},i.prototype.getLayer=function(t){return this.style.getLayer(t)},i.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0),this},i.prototype.setLayerZoomRange=function(t,e,i){return this.style.setLayerZoomRange(t,e,i),this._update(!0),this},i.prototype.getFilter=function(t){return this.style.getFilter(t)},i.prototype.setPaintProperty=function(t,e,i){return this.style.setPaintProperty(t,e,i),this._update(!0),this},i.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},i.prototype.setLayoutProperty=function(t,e,i){return this.style.setLayoutProperty(t,e,i),this._update(!0),this},i.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},i.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0),this},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(t,e){this.style.setFeatureState(t,e),this._update()},i.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),[t,e]},i.prototype._detectMissingCSS=function(){var e=t.default$1.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");"rgb(250, 128, 114)"!==e&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},i.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map");var e=this._missingCSSCanary=te.create("div","mapboxgl-canary",t);e.style.visibility="hidden",this._detectMissingCSS();var i=this._canvasContainer=te.create("div","mapboxgl-canvas-container",t);this._interactive&&i.classList.add("mapboxgl-interactive"),this._canvas=te.create("canvas","mapboxgl-canvas",i),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var o=this._controlContainer=te.create("div","mapboxgl-control-container",t),r=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){r[t]=te.create("div","mapboxgl-ctrl-"+t,o)})},i.prototype._resizeCanvas=function(e,i){var n=t.default$1.devicePixelRatio||1;this._canvas.width=n*e,this._canvas.height=n*i,this._canvas.style.width=e+"px",this._canvas.style.height=i+"px"},i.prototype._setupPainter=function(){var e=t.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},Jt.webGLContextAttributes),i=this._canvas.getContext("webgl",e)||this._canvas.getContext("experimental-webgl",e);return i?void(this.painter=new Mn(i,this.transform)):void this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},i.prototype._contextLost=function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},i.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},i.prototype.loaded=function(){return this._styleDirty||this._sourcesDirty?!1:!(!this.style||!this.style.loaded())},i.prototype._update=function(t){this.style&&(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender())},i.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},i.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},i.prototype._render=function(){this._renderTaskQueue.run();var e=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var i=this.transform.zoom,n=t.default$3.now();this.style.zoomHistory.update(i,n);var o=new t.default$24(i,{now:n,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),r=o.crossFadingFactor();1===r&&r===this._crossFadingFactor||(e=!0,this._crossFadingFactor=r),this.style.update(o)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),fadeDuration:this._fadeDuration}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||e)&&(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty)&&this._rerender(),this},i.prototype.remove=function(){this._hash&&this._hash.remove(),this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),"undefined"!=typeof t.default$1&&(t.default$1.removeEventListener("resize",this._onWindowResize,!1),t.default$1.removeEventListener("online",this._onWindowOnline,!1));var e=this.painter.context.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),Wt(this._canvasContainer),Wt(this._controlContainer),Wt(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new t.Event("remove"))},i.prototype._rerender=function(){var e=this;this.style&&!this._frame&&(this._frame=t.default$3.frame(function(){e._frame=null,e._render()}))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(){this._trackResize&&this.resize()._update()},n.showTileBoundaries.get=function(){return!!this._showTileBoundaries},n.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},n.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},n.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},n.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},n.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},n.repaint.get=function(){return!!this._repaint},n.repaint.set=function(t){this._repaint=t,this._update()},n.vertices.get=function(){return!!this._vertices},n.vertices.set=function(t){this._vertices=t,this._update()},i.prototype._onData=function(e){this._update("style"===e.dataType),this.fire(new t.Event(e.dataType+"data",e))},i.prototype._onDataLoading=function(e){this.fire(new t.Event(e.dataType+"dataloading",e))},Object.defineProperties(i.prototype,n),i}(ho),wo={showCompass:!0,showZoom:!0},ko=function(e){var i=this;this.options=t.extend({},wo,e),this._container=te.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this.options.showZoom&&(this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",function(){return i._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",function(){return i._map.zoomOut()})),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",function(){return i._map.resetNorth()}),this._compassArrow=te.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};ko.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},ko.prototype.onAdd=function(t){return this._map=t,this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Un(t,{button:"left",element:this._compass}),te.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.enable()),this._container},ko.prototype.onRemove=function(){te.remove(this._container),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),te.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.disable(),delete this._handler),delete this._map},ko.prototype._createButton=function(t,e,i){var n=te.create("button",t,this._container);return n.type="button",n.setAttribute("aria-label",e),n.addEventListener("click",i),n};var Co,So={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},To=function(e){function i(i){if(e.call(this),(arguments[0]instanceof t.default$1.HTMLElement||2===arguments.length)&&(i=t.extend({element:i},arguments[1])),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick"],this),this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._draggable=i&&i.draggable||!1,this._state="inactive",i&&i.element)this._element=i.element,this._offset=t["default"].convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=te.create("div");var n=te.createNS("http://www.w3.org/2000/svg","svg");n.setAttributeNS(null,"height","41px"),n.setAttributeNS(null,"width","27px"),n.setAttributeNS(null,"viewBox","0 0 27 41");var o=te.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"stroke","none"),o.setAttributeNS(null,"stroke-width","1"),o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"fill-rule","evenodd");var r=te.createNS("http://www.w3.org/2000/svg","g");r.setAttributeNS(null,"fill-rule","nonzero");var a=te.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"transform","translate(3.0, 29.0)"),a.setAttributeNS(null,"fill","#000000");for(var s=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],l=0,u=s;l<u.length;l+=1){var c=u[l],h=te.createNS("http://www.w3.org/2000/svg","ellipse");h.setAttributeNS(null,"opacity","0.04"),h.setAttributeNS(null,"cx","10.5"),h.setAttributeNS(null,"cy","5.80029008"),h.setAttributeNS(null,"rx",c.rx),h.setAttributeNS(null,"ry",c.ry),a.appendChild(h)}var d=te.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"fill",this._color);var p=te.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),d.appendChild(p);var f=te.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"opacity","0.25"),f.setAttributeNS(null,"fill","#000000");var m=te.createNS("http://www.w3.org/2000/svg","path");m.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),f.appendChild(m);var g=te.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(6.0, 7.0)"),g.setAttributeNS(null,"fill","#FFFFFF");var v=te.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"transform","translate(8.0, 8.0)");var y=te.createNS("http://www.w3.org/2000/svg","circle");y.setAttributeNS(null,"fill","#000000"),y.setAttributeNS(null,"opacity","0.25"),y.setAttributeNS(null,"cx","5.5"),y.setAttributeNS(null,"cy","5.5"),y.setAttributeNS(null,"r","5.4999962");var _=te.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#FFFFFF"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962"),v.appendChild(y),v.appendChild(_),r.appendChild(a),r.appendChild(d),r.appendChild(f),r.appendChild(g),r.appendChild(v),n.appendChild(r),this._element.appendChild(n),this._offset=t["default"].convert(i&&i.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._popup=null}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},i.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),delete this._map),te.remove(this._element),this._popup&&this._popup.remove(),this},i.prototype.getLngLat=function(){return this._lngLat},i.prototype.setLngLat=function(t){return this._lngLat=Me.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},i.prototype.getElement=function(){return this._element},i.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null),t){if(!("offset"in t.options)){var e=38.1,i=13.5,n=Math.sqrt(Math.pow(i,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-e],"bottom-left":[n,-1*(e-i+n)],"bottom-right":[-n,-1*(e-i+n)],left:[i,-1*(e-i)],right:[-i,-1*(e-i)]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},i.prototype._onMapClick=function(t){var e=t.originalEvent.target,i=this._element;this._popup&&(e===i||i.contains(e))&&this.togglePopup()},i.prototype.getPopup=function(){return this._popup},i.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},i.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=qt(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),te.setTransform(this._element,So[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"),Vt(this._element,this._anchor,"marker"))},i.prototype.getOffset=function(){return this._offset},i.prototype.setOffset=function(e){return this._offset=t["default"].convert(e),this._update(),this},i.prototype._onMove=function(e){this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag"))},i.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"},i.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},i.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},i.prototype.isDraggable=function(){return this._draggable},i}(t.Evented),Ao={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},Eo="mapboxgl-ctrl",Mo=function(e){function i(i){e.call(this),this.options=t.extend({},Ao,i),t.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(t){return this._map=t,this._container=te.create("div",Eo+" "+Eo+"-group"),Ut(this._setupUI),this._container},i.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.default$1.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker.remove(),te.remove(this._container),this._map=void 0},i.prototype._onSuccess=function(e){if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;default:t.default$2(!1,"Unexpected watchState "+this._watchState)}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()},i.prototype._updateCamera=function(t){var e=new Me(t.coords.longitude,t.coords.latitude),i=t.coords.accuracy;this._map.fitBounds(e.toBounds(i),this.options.fitBoundsOptions,{geolocateSource:!0
})},i.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},i.prototype._onError=function(e){if(this.options.trackUserLocation)if(1===e.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:t.default$2(!1,"Unexpected watchState "+this._watchState)}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()},i.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},i.prototype._setupUI=function(e){var i=this;return e===!1?void t.warnOnce("Geolocation support is not available, the GeolocateControl will not be visible."):(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=te.create("button",Eo+"-icon "+Eo+"-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=te.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new To(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,void(this.options.trackUserLocation&&this._map.on("movestart",function(e){e.geolocateSource||"ACTIVE_LOCK"!==i._watchState||(i._watchState="BACKGROUND",i._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),i._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),i.fire(new t.Event("trackuserlocationend")))})))},i.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"));break;default:t.default$2(!1,"Unexpected watchState "+this._watchState)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break;case"OFF":break;default:t.default$2(!1,"Unexpected watchState "+this._watchState)}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=t.default$1.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else t.default$1.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},i.prototype._clearWatch=function(){t.default$1.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},i}(t.Evented),Do={maxWidth:100,unit:"metric"},Io=function(e){this.options=t.extend({},Do,e),t.bindAll(["_onMove","setUnit"],this)};Io.prototype.getDefaultPosition=function(){return"bottom-left"},Io.prototype._onMove=function(){Yt(this._map,this._container,this.options)},Io.prototype.onAdd=function(t){return this._map=t,this._container=te.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Io.prototype.onRemove=function(){te.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Io.prototype.setUnit=function(t){this.options.unit=t,Yt(this._map,this._container,this.options)};var Po=function(){this._fullscreen=!1,t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.default$1.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.default$1.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.default$1.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.default$1.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};Po.prototype.onAdd=function(e){return this._map=e,this._mapContainer=this._map.getContainer(),this._container=te.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._container},Po.prototype.onRemove=function(){te.remove(this._container),this._map=null,t.default$1.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Po.prototype._checkFullscreenSupport=function(){return!!(t.default$1.document.fullscreenEnabled||t.default$1.document.mozFullScreenEnabled||t.default$1.document.msFullscreenEnabled||t.default$1.document.webkitFullscreenEnabled)},Po.prototype._setupUI=function(){var e=this._fullscreenButton=te.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);e.setAttribute("aria-label","Toggle fullscreen"),e.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.default$1.document.addEventListener(this._fullscreenchange,this._changeIcon)},Po.prototype._isFullscreen=function(){return this._fullscreen},Po.prototype._changeIcon=function(){var e=t.default$1.document.fullscreenElement||t.default$1.document.mozFullScreenElement||t.default$1.document.webkitFullscreenElement||t.default$1.document.msFullscreenElement;e===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},Po.prototype._onClickFullscreen=function(){this._isFullscreen()?t.default$1.document.exitFullscreen?t.default$1.document.exitFullscreen():t.default$1.document.mozCancelFullScreen?t.default$1.document.mozCancelFullScreen():t.default$1.document.msExitFullscreen?t.default$1.document.msExitFullscreen():t.default$1.document.webkitCancelFullScreen&&t.default$1.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()};var Lo={closeButton:!0,closeOnClick:!0,className:""},Oo=function(e){function i(i){e.call(this),this.options=t.extend(Object.create(Lo),i),t.bindAll(["_update","_onClickClose"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.addTo=function(e){return this._map=e,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this.fire(new t.Event("open")),this},i.prototype.isOpen=function(){return!!this._map},i.prototype.remove=function(){return this._content&&te.remove(this._content),this._container&&(te.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire(new t.Event("close")),this},i.prototype.getLngLat=function(){return this._lngLat},i.prototype.setLngLat=function(t){return this._lngLat=Me.convert(t),this._pos=null,this._update(),this},i.prototype.setText=function(e){return this.setDOMContent(t.default$1.document.createTextNode(e))},i.prototype.setHTML=function(e){var i,n=t.default$1.document.createDocumentFragment(),o=t.default$1.document.createElement("body");for(o.innerHTML=e;;){if(i=o.firstChild,!i)break;n.appendChild(i)}return this.setDOMContent(n)},i.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},i.prototype._createContent=function(){this._content&&te.remove(this._content),this._content=te.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=te.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},i.prototype._update=function(){var t=this;if(this._map&&this._lngLat&&this._content){this._container||(this._container=te.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=te.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(e){return t._container.classList.add(e)})),this._map.transform.renderWorldCopies&&(this._lngLat=qt(this._lngLat,this._pos,this._map.transform));var e=this._pos=this._map.project(this._lngLat),i=this.options.anchor,n=Kt(this.options.offset);if(!i){var o,r=this._container.offsetWidth,a=this._container.offsetHeight;o=e.y+n.bottom.y<a?["top"]:e.y>this._map.transform.height-a?["bottom"]:[],e.x<r/2?o.push("left"):e.x>this._map.transform.width-r/2&&o.push("right"),i=0===o.length?"bottom":o.join("-")}var s=e.add(n[i]).round();te.setTransform(this._container,So[i]+" translate("+s.x+"px,"+s.y+"px)"),Vt(this._container,i,"popup")}},i.prototype._onClickClose=function(){this.remove()},i}(t.Evented),zo={version:Qt,supported:Jt,workerCount:Math.max(Math.floor(t.default$3.hardwareConcurrency/2),1),setRTLTextPlugin:t.setRTLTextPlugin,Map:xo,NavigationControl:ko,GeolocateControl:Mo,AttributionControl:po,ScaleControl:Io,FullscreenControl:Po,Popup:Oo,Marker:To,Style:fn,LngLat:Me,LngLatBounds:De,Point:t["default"],Evented:t.Evented,config:ue,get accessToken(){return ue.ACCESS_TOKEN},set accessToken(t){ue.ACCESS_TOKEN=t},workerUrl:""};return t.default$2(!0,"canary assert"),zo}),n});